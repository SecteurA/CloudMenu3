var SC=Object.defineProperty;var EC=(e,t,r)=>t in e?SC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Sf=(e,t,r)=>EC(e,typeof t!="symbol"?t+"":t,r);function CC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var c1={exports:{}},pd={},u1={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),OC=Symbol.for("react.portal"),AC=Symbol.for("react.fragment"),TC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),$C=Symbol.for("react.forward_ref"),LC=Symbol.for("react.suspense"),RC=Symbol.for("react.memo"),zC=Symbol.for("react.lazy"),Yv=Symbol.iterator;function UC(e){return e===null||typeof e!="object"?null:(e=Yv&&e[Yv]||e["@@iterator"],typeof e=="function"?e:null)}var d1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1=Object.assign,h1={};function Rs(e,t,r){this.props=e,this.context=t,this.refs=h1,this.updater=r||d1}Rs.prototype.isReactComponent={};Rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function m1(){}m1.prototype=Rs.prototype;function Yp(e,t,r){this.props=e,this.context=t,this.refs=h1,this.updater=r||d1}var Qp=Yp.prototype=new m1;Qp.constructor=Yp;f1(Qp,Rs.prototype);Qp.isPureReactComponent=!0;var Qv=Array.isArray,p1=Object.prototype.hasOwnProperty,Xp={current:null},g1={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)p1.call(t,n)&&!g1.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:El,type:e,key:i,ref:s,props:a,_owner:Xp.current}}function BC(e,t){return{$$typeof:El,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jp(e){return typeof e=="object"&&e!==null&&e.$$typeof===El}function FC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xv=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?FC(""+e.key):t.toString(36)}function Bc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case El:case OC:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Ef(s,0):n,Qv(a)?(r="",e!=null&&(r=e.replace(Xv,"$&/")+"/"),Bc(a,t,r,"",function(u){return u})):a!=null&&(Jp(a)&&(a=BC(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Xv,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Qv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ef(i,l);s+=Bc(i,t,r,c,a)}else if(c=UC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ef(i,l++),s+=Bc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function rc(e,t,r){if(e==null)return e;var n=[],a=0;return Bc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function qC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Fc={transition:null},WC={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Fc,ReactCurrentOwner:Xp};function y1(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:rc,forEach:function(e,t,r){rc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rc(e,function(){t++}),t},toArray:function(e){return rc(e,function(t){return t})||[]},only:function(e){if(!Jp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=Rs;ye.Fragment=AC;ye.Profiler=MC;ye.PureComponent=Yp;ye.StrictMode=TC;ye.Suspense=LC;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;ye.act=y1;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f1({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Xp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)p1.call(t,c)&&!g1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:El,type:e.type,key:a,ref:i,props:n,_owner:s}};ye.createContext=function(e){return e={$$typeof:DC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IC,_context:e},e.Consumer=e};ye.createElement=v1;ye.createFactory=function(e){var t=v1.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:$C,render:e}};ye.isValidElement=Jp;ye.lazy=function(e){return{$$typeof:zC,_payload:{_status:-1,_result:e},_init:qC}};ye.memo=function(e,t){return{$$typeof:RC,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Fc.transition;Fc.transition={};try{e()}finally{Fc.transition=t}};ye.unstable_act=y1;ye.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ye.useContext=function(e){return Rt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ye.useId=function(){return Rt.current.useId()};ye.useImperativeHandle=function(e,t,r){return Rt.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Rt.current.useReducer(e,t,r)};ye.useRef=function(e){return Rt.current.useRef(e)};ye.useState=function(e){return Rt.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Rt.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Rt.current.useTransition()};ye.version="18.3.1";u1.exports=ye;var y=u1.exports;const x1=Ta(y),VC=CC({__proto__:null,default:x1},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=y,KC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),YC=Object.prototype.hasOwnProperty,QC=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XC={key:!0,ref:!0,__self:!0,__source:!0};function b1(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)YC.call(t,n)&&!XC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:KC,type:e,key:i,ref:s,props:a,_owner:QC.current}}pd.Fragment=GC;pd.jsx=b1;pd.jsxs=b1;c1.exports=pd;var o=c1.exports,w1={exports:{}},ur={},j1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,O){var z=F.length;F.push(O);e:for(;0<z;){var U=z-1>>>1,q=F[U];if(0<a(q,O))F[U]=O,F[z]=q,z=U;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var O=F[0],z=F.pop();if(z!==O){F[0]=z;e:for(var U=0,q=F.length,fe=q>>>1;U<fe;){var pe=2*(U+1)-1,ge=F[pe],Ue=pe+1,oe=F[Ue];if(0>a(ge,z))Ue<q&&0>a(oe,ge)?(F[U]=oe,F[Ue]=z,U=Ue):(F[U]=ge,F[pe]=z,U=pe);else if(Ue<q&&0>a(oe,z))F[U]=oe,F[Ue]=z,U=Ue;else break e}}return O}function a(F,O){var z=F.sortIndex-O.sortIndex;return z!==0?z:F.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(F){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=F)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function j(F){if(x=!1,g(F),!b)if(r(c)!==null)b=!0,G(_);else{var O=r(u);O!==null&&H(j,O.startTime-F)}}function _(F,O){b=!1,x&&(x=!1,v(E),E=-1),m=!0;var z=h;try{for(g(O),f=r(c);f!==null&&(!(f.expirationTime>O)||F&&!P());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var q=U(f.expirationTime<=O);O=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),g(O)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var pe=r(u);pe!==null&&H(j,pe.startTime-O),fe=!1}return fe}finally{f=null,h=z,m=!1}}var N=!1,k=null,E=-1,S=5,C=-1;function P(){return!(e.unstable_now()-C<S)}function T(){if(k!==null){var F=e.unstable_now();C=F;var O=!0;try{O=k(!0,F)}finally{O?L():(N=!1,k=null)}}else N=!1}var L;if(typeof p=="function")L=function(){p(T)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,R=M.port2;M.port1.onmessage=T,L=function(){R.postMessage(null)}}else L=function(){w(T,0)};function G(F){k=F,N||(N=!0,L())}function H(F,O){E=w(function(){F(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,G(_))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var z=h;h=O;try{return F()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,O){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=h;h=F;try{return O()}finally{h=z}},e.unstable_scheduleCallback=function(F,O,z){var U=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,F={id:d++,callback:O,priorityLevel:F,startTime:z,expirationTime:q,sortIndex:-1},z>U?(F.sortIndex=z,t(u,F),r(c)===null&&F===r(u)&&(x?(v(E),E=-1):x=!0,H(j,z-U))):(F.sortIndex=q,t(c,F),b||m||(b=!0,G(_))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var O=h;return function(){var z=h;h=O;try{return F.apply(this,arguments)}finally{h=z}}}})(_1);j1.exports=_1;var JC=j1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=y,lr=JC;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k1=new Set,Wo={};function Ni(e,t){ps(e,t),ps(e+"Capture",t)}function ps(e,t){for(Wo[e]=t,e=0;e<t.length;e++)k1.add(t[e])}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=Object.prototype.hasOwnProperty,eP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jv={},Zv={};function tP(e){return Uh.call(Zv,e)?!0:Uh.call(Jv,e)?!1:eP.test(e)?Zv[e]=!0:(Jv[e]=!0,!1)}function rP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function nP(e,t,r,n){if(t===null||typeof t>"u"||rP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function eg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zp,eg);_t[t]=new zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zp,eg);_t[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zp,eg);_t[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tg(e,t,r,n){var a=_t.hasOwnProperty(t)?_t[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(nP(t,r,a,n)&&(r=null),n||a===null?tP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nc=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Vi=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),N1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),ng=Symbol.for("react.forward_ref"),Fh=Symbol.for("react.suspense"),qh=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),E1=Symbol.for("react.offscreen"),ey=Symbol.iterator;function ro(e){return e===null||typeof e!="object"?null:(e=ey&&e[ey]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Object.assign,Cf;function wo(e){if(Cf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cf=t&&t[1]||""}return`
`+Cf+e}var Pf=!1;function Of(e,t){if(!e||Pf)return"";Pf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Pf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wo(e):""}function aP(e){switch(e.tag){case 5:return wo(e.type);case 16:return wo("Lazy");case 13:return wo("Suspense");case 19:return wo("SuspenseList");case 0:case 2:case 15:return e=Of(e.type,!1),e;case 11:return e=Of(e.type.render,!1),e;case 1:return e=Of(e.type,!0),e;default:return""}}function Wh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vi:return"Fragment";case Wi:return"Portal";case Bh:return"Profiler";case rg:return"StrictMode";case Fh:return"Suspense";case qh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S1:return(e.displayName||"Context")+".Consumer";case N1:return(e._context.displayName||"Context")+".Provider";case ng:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ag:return t=e.displayName||null,t!==null?t:Wh(e.type)||"Memo";case ia:t=e._payload,e=e._init;try{return Wh(e(t))}catch{}}return null}function iP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wh(t);case 8:return t===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sP(e){var t=C1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ac(e){e._valueTracker||(e._valueTracker=sP(e))}function P1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=C1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vh(e,t){var r=t.checked;return Ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ty(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ea(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function O1(e,t){t=t.checked,t!=null&&tg(e,"checked",t,!1)}function Hh(e,t){O1(e,t);var r=Ea(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kh(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ry(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kh(e,t,r){(t!=="number"||au(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jo=Array.isArray;function ns(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ea(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Gh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ny(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(jo(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ea(r)}}function A1(e,t){var r=Ea(t.value),n=Ea(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ay(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function T1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?T1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ic,M1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ic.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oP=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(e){oP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Po[t]=Po[e]})});function I1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Po.hasOwnProperty(e)&&Po[e]?(""+t).trim():t+"px"}function D1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=I1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var lP=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qh(e,t){if(t){if(lP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function Xh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=null;function ig(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zh=null,as=null,is=null;function iy(e){if(e=Ol(e)){if(typeof Zh!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=bd(t),Zh(e.stateNode,e.type,t))}}function $1(e){as?is?is.push(e):is=[e]:as=e}function L1(){if(as){var e=as,t=is;if(is=as=null,iy(e),t)for(e=0;e<t.length;e++)iy(t[e])}}function R1(e,t){return e(t)}function z1(){}var Af=!1;function U1(e,t,r){if(Af)return e(t,r);Af=!0;try{return R1(e,t,r)}finally{Af=!1,(as!==null||is!==null)&&(z1(),L1())}}function Ho(e,t){var r=e.stateNode;if(r===null)return null;var n=bd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var em=!1;if(Ln)try{var no={};Object.defineProperty(no,"passive",{get:function(){em=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{em=!1}function cP(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Oo=!1,iu=null,su=!1,tm=null,uP={onError:function(e){Oo=!0,iu=e}};function dP(e,t,r,n,a,i,s,l,c){Oo=!1,iu=null,cP.apply(uP,arguments)}function fP(e,t,r,n,a,i,s,l,c){if(dP.apply(this,arguments),Oo){if(Oo){var u=iu;Oo=!1,iu=null}else throw Error(Y(198));su||(su=!0,tm=u)}}function Si(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sy(e){if(Si(e)!==e)throw Error(Y(188))}function hP(e){var t=e.alternate;if(!t){if(t=Si(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return sy(a),e;if(i===n)return sy(a),t;i=i.sibling}throw Error(Y(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function F1(e){return e=hP(e),e!==null?q1(e):null}function q1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=q1(e);if(t!==null)return t;e=e.sibling}return null}var W1=lr.unstable_scheduleCallback,oy=lr.unstable_cancelCallback,mP=lr.unstable_shouldYield,pP=lr.unstable_requestPaint,Qe=lr.unstable_now,gP=lr.unstable_getCurrentPriorityLevel,sg=lr.unstable_ImmediatePriority,V1=lr.unstable_UserBlockingPriority,ou=lr.unstable_NormalPriority,vP=lr.unstable_LowPriority,H1=lr.unstable_IdlePriority,gd=null,fn=null;function yP(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(gd,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:wP,xP=Math.log,bP=Math.LN2;function wP(e){return e>>>=0,e===0?32:31-(xP(e)/bP|0)|0}var sc=64,oc=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=_o(l):(i&=s,i!==0&&(n=_o(i)))}else s=r&~a,s!==0?n=_o(s):i!==0&&(n=_o(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gr(t),a=1<<r,n|=e[r],t&=~a;return n}function jP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _P(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Gr(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=jP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function K1(){var e=sc;return sc<<=1,!(sc&4194240)&&(sc=64),e}function Tf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=r}function kP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Gr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function og(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ne=0;function G1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y1,lg,Q1,X1,J1,nm=!1,lc=[],ya=null,xa=null,ba=null,Ko=new Map,Go=new Map,ua=[],NP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ly(e,t){switch(e){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function ao(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ol(t),t!==null&&lg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SP(e,t,r,n,a){switch(t){case"focusin":return ya=ao(ya,e,t,r,n,a),!0;case"dragenter":return xa=ao(xa,e,t,r,n,a),!0;case"mouseover":return ba=ao(ba,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ko.set(i,ao(Ko.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Go.set(i,ao(Go.get(i)||null,e,t,r,n,a)),!0}return!1}function Z1(e){var t=Za(e.target);if(t!==null){var r=Si(t);if(r!==null){if(t=r.tag,t===13){if(t=B1(r),t!==null){e.blockedOn=t,J1(e.priority,function(){Q1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=am(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jh=n,r.target.dispatchEvent(n),Jh=null}else return t=Ol(r),t!==null&&lg(t),e.blockedOn=r,!1;t.shift()}return!0}function cy(e,t,r){qc(e)&&r.delete(t)}function EP(){nm=!1,ya!==null&&qc(ya)&&(ya=null),xa!==null&&qc(xa)&&(xa=null),ba!==null&&qc(ba)&&(ba=null),Ko.forEach(cy),Go.forEach(cy)}function io(e,t){e.blockedOn===t&&(e.blockedOn=null,nm||(nm=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,EP)))}function Yo(e){function t(a){return io(a,e)}if(0<lc.length){io(lc[0],e);for(var r=1;r<lc.length;r++){var n=lc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ya!==null&&io(ya,e),xa!==null&&io(xa,e),ba!==null&&io(ba,e),Ko.forEach(t),Go.forEach(t),r=0;r<ua.length;r++)n=ua[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ua.length&&(r=ua[0],r.blockedOn===null);)Z1(r),r.blockedOn===null&&ua.shift()}var ss=Kn.ReactCurrentBatchConfig,cu=!0;function CP(e,t,r,n){var a=Ne,i=ss.transition;ss.transition=null;try{Ne=1,cg(e,t,r,n)}finally{Ne=a,ss.transition=i}}function PP(e,t,r,n){var a=Ne,i=ss.transition;ss.transition=null;try{Ne=4,cg(e,t,r,n)}finally{Ne=a,ss.transition=i}}function cg(e,t,r,n){if(cu){var a=am(e,t,r,n);if(a===null)Ff(e,t,n,uu,r),ly(e,n);else if(SP(a,e,t,r,n))n.stopPropagation();else if(ly(e,n),t&4&&-1<NP.indexOf(e)){for(;a!==null;){var i=Ol(a);if(i!==null&&Y1(i),i=am(e,t,r,n),i===null&&Ff(e,t,n,uu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Ff(e,t,n,null,r)}}var uu=null;function am(e,t,r,n){if(uu=null,e=ig(n),e=Za(e),e!==null)if(t=Si(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uu=e,null}function ej(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gP()){case sg:return 1;case V1:return 4;case ou:case vP:return 16;case H1:return 536870912;default:return 16}default:return 16}}var ma=null,ug=null,Wc=null;function tj(){if(Wc)return Wc;var e,t=ug,r=t.length,n,a="value"in ma?ma.value:ma.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Wc=a.slice(e,1<n?1-n:void 0)}function Vc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cc(){return!0}function uy(){return!1}function dr(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cc:uy,this.isPropagationStopped=uy,this}return Ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),t}var zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dg=dr(zs),Pl=Ve({},zs,{view:0,detail:0}),OP=dr(Pl),Mf,If,so,vd=Ve({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(Mf=e.screenX-so.screenX,If=e.screenY-so.screenY):If=Mf=0,so=e),Mf)},movementY:function(e){return"movementY"in e?e.movementY:If}}),dy=dr(vd),AP=Ve({},vd,{dataTransfer:0}),TP=dr(AP),MP=Ve({},Pl,{relatedTarget:0}),Df=dr(MP),IP=Ve({},zs,{animationName:0,elapsedTime:0,pseudoElement:0}),DP=dr(IP),$P=Ve({},zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),LP=dr($P),RP=Ve({},zs,{data:0}),fy=dr(RP),zP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BP[e])?!!t[e]:!1}function fg(){return FP}var qP=Ve({},Pl,{key:function(e){if(e.key){var t=zP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?UP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fg,charCode:function(e){return e.type==="keypress"?Vc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WP=dr(qP),VP=Ve({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hy=dr(VP),HP=Ve({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fg}),KP=dr(HP),GP=Ve({},zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),YP=dr(GP),QP=Ve({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=dr(QP),JP=[9,13,27,32],hg=Ln&&"CompositionEvent"in window,Ao=null;Ln&&"documentMode"in document&&(Ao=document.documentMode);var ZP=Ln&&"TextEvent"in window&&!Ao,rj=Ln&&(!hg||Ao&&8<Ao&&11>=Ao),my=" ",py=!1;function nj(e,t){switch(e){case"keyup":return JP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function eO(e,t){switch(e){case"compositionend":return aj(t);case"keypress":return t.which!==32?null:(py=!0,my);case"textInput":return e=t.data,e===my&&py?null:e;default:return null}}function tO(e,t){if(Hi)return e==="compositionend"||!hg&&nj(e,t)?(e=tj(),Wc=ug=ma=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rj&&t.locale!=="ko"?null:t.data;default:return null}}var rO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rO[e.type]:t==="textarea"}function ij(e,t,r,n){$1(n),t=du(t,"onChange"),0<t.length&&(r=new dg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var To=null,Qo=null;function nO(e){gj(e,0)}function yd(e){var t=Yi(e);if(P1(t))return e}function aO(e,t){if(e==="change")return t}var sj=!1;if(Ln){var $f;if(Ln){var Lf="oninput"in document;if(!Lf){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Lf=typeof vy.oninput=="function"}$f=Lf}else $f=!1;sj=$f&&(!document.documentMode||9<document.documentMode)}function yy(){To&&(To.detachEvent("onpropertychange",oj),Qo=To=null)}function oj(e){if(e.propertyName==="value"&&yd(Qo)){var t=[];ij(t,Qo,e,ig(e)),U1(nO,t)}}function iO(e,t,r){e==="focusin"?(yy(),To=t,Qo=r,To.attachEvent("onpropertychange",oj)):e==="focusout"&&yy()}function sO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(Qo)}function oO(e,t){if(e==="click")return yd(t)}function lO(e,t){if(e==="input"||e==="change")return yd(t)}function cO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qr=typeof Object.is=="function"?Object.is:cO;function Xo(e,t){if(Qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Uh.call(t,a)||!Qr(e[a],t[a]))return!1}return!0}function xy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function by(e,t){var r=xy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xy(r)}}function lj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cj(){for(var e=window,t=au();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=au(e.document)}return t}function mg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uO(e){var t=cj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&lj(r.ownerDocument.documentElement,r)){if(n!==null&&mg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=by(r,i);var s=by(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dO=Ln&&"documentMode"in document&&11>=document.documentMode,Ki=null,im=null,Mo=null,sm=!1;function wy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sm||Ki==null||Ki!==au(n)||(n=Ki,"selectionStart"in n&&mg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mo&&Xo(Mo,n)||(Mo=n,n=du(im,"onSelect"),0<n.length&&(t=new dg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ki)))}function uc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gi={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Rf={},uj={};Ln&&(uj=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function xd(e){if(Rf[e])return Rf[e];if(!Gi[e])return e;var t=Gi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uj)return Rf[e]=t[r];return e}var dj=xd("animationend"),fj=xd("animationiteration"),hj=xd("animationstart"),mj=xd("transitionend"),pj=new Map,jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(e,t){pj.set(e,t),Ni(t,[e])}for(var zf=0;zf<jy.length;zf++){var Uf=jy[zf],fO=Uf.toLowerCase(),hO=Uf[0].toUpperCase()+Uf.slice(1);Ma(fO,"on"+hO)}Ma(dj,"onAnimationEnd");Ma(fj,"onAnimationIteration");Ma(hj,"onAnimationStart");Ma("dblclick","onDoubleClick");Ma("focusin","onFocus");Ma("focusout","onBlur");Ma(mj,"onTransitionEnd");ps("onMouseEnter",["mouseout","mouseover"]);ps("onMouseLeave",["mouseout","mouseover"]);ps("onPointerEnter",["pointerout","pointerover"]);ps("onPointerLeave",["pointerout","pointerover"]);Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function _y(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,fP(n,t,void 0,e),e.currentTarget=null}function gj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;_y(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;_y(a,l,u),i=c}}}if(su)throw e=tm,su=!1,tm=null,e}function Ie(e,t){var r=t[dm];r===void 0&&(r=t[dm]=new Set);var n=e+"__bubble";r.has(n)||(vj(t,e,2,!1),r.add(n))}function Bf(e,t,r){var n=0;t&&(n|=4),vj(r,e,n,t)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Jo(e){if(!e[dc]){e[dc]=!0,k1.forEach(function(r){r!=="selectionchange"&&(mO.has(r)||Bf(r,!1,e),Bf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[dc]||(t[dc]=!0,Bf("selectionchange",!1,t))}}function vj(e,t,r,n){switch(ej(t)){case 1:var a=CP;break;case 4:a=PP;break;default:a=cg}r=a.bind(null,t,r,e),a=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ff(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Za(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}U1(function(){var u=i,d=ig(r),f=[];e:{var h=pj.get(e);if(h!==void 0){var m=dg,b=e;switch(e){case"keypress":if(Vc(r)===0)break e;case"keydown":case"keyup":m=WP;break;case"focusin":b="focus",m=Df;break;case"focusout":b="blur",m=Df;break;case"beforeblur":case"afterblur":m=Df;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=TP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=KP;break;case dj:case fj:case hj:m=DP;break;case mj:m=YP;break;case"scroll":m=OP;break;case"wheel":m=XP;break;case"copy":case"cut":case"paste":m=LP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=hy}var x=(t&4)!==0,w=!x&&e==="scroll",v=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,g;p!==null;){g=p;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,v!==null&&(j=Ho(p,v),j!=null&&x.push(Zo(p,j,g)))),w)break;p=p.return}0<x.length&&(h=new m(h,b,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Jh&&(b=r.relatedTarget||r.fromElement)&&(Za(b)||b[Rn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(b=r.relatedTarget||r.toElement,m=u,b=b?Za(b):null,b!==null&&(w=Si(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(x=dy,j="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=hy,j="onPointerLeave",v="onPointerEnter",p="pointer"),w=m==null?h:Yi(m),g=b==null?h:Yi(b),h=new x(j,p+"leave",m,r,d),h.target=w,h.relatedTarget=g,j=null,Za(d)===u&&(x=new x(v,p+"enter",b,r,d),x.target=g,x.relatedTarget=w,j=x),w=j,m&&b)t:{for(x=m,v=b,p=0,g=x;g;g=Ii(g))p++;for(g=0,j=v;j;j=Ii(j))g++;for(;0<p-g;)x=Ii(x),p--;for(;0<g-p;)v=Ii(v),g--;for(;p--;){if(x===v||v!==null&&x===v.alternate)break t;x=Ii(x),v=Ii(v)}x=null}else x=null;m!==null&&ky(f,h,m,x,!1),b!==null&&w!==null&&ky(f,w,b,x,!0)}}e:{if(h=u?Yi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=aO;else if(gy(h))if(sj)_=lO;else{_=sO;var N=iO}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=oO);if(_&&(_=_(e,u))){ij(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Kh(h,"number",h.value)}switch(N=u?Yi(u):window,e){case"focusin":(gy(N)||N.contentEditable==="true")&&(Ki=N,im=u,Mo=null);break;case"focusout":Mo=im=Ki=null;break;case"mousedown":sm=!0;break;case"contextmenu":case"mouseup":case"dragend":sm=!1,wy(f,r,d);break;case"selectionchange":if(dO)break;case"keydown":case"keyup":wy(f,r,d)}var k;if(hg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hi?nj(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(rj&&r.locale!=="ko"&&(Hi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hi&&(k=tj()):(ma=d,ug="value"in ma?ma.value:ma.textContent,Hi=!0)),N=du(u,E),0<N.length&&(E=new fy(E,e,null,r,d),f.push({event:E,listeners:N}),k?E.data=k:(k=aj(r),k!==null&&(E.data=k)))),(k=ZP?eO(e,r):tO(e,r))&&(u=du(u,"onBeforeInput"),0<u.length&&(d=new fy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}gj(f,t)})}function Zo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function du(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ho(e,r),i!=null&&n.unshift(Zo(e,i,a)),i=Ho(e,t),i!=null&&n.push(Zo(e,i,a))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ky(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ho(r,i),c!=null&&s.unshift(Zo(r,c,l))):a||(c=Ho(r,i),c!=null&&s.push(Zo(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var pO=/\r\n?/g,gO=/\u0000|\uFFFD/g;function Ny(e){return(typeof e=="string"?e:""+e).replace(pO,`
`).replace(gO,"")}function fc(e,t,r){if(t=Ny(t),Ny(e)!==t&&r)throw Error(Y(425))}function fu(){}var om=null,lm=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,vO=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,yO=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(e){return Sy.resolve(null).then(e).catch(xO)}:um;function xO(e){setTimeout(function(){throw e})}function qf(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Yo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Yo(t)}function wa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ey(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Us=Math.random().toString(36).slice(2),un="__reactFiber$"+Us,el="__reactProps$"+Us,Rn="__reactContainer$"+Us,dm="__reactEvents$"+Us,bO="__reactListeners$"+Us,wO="__reactHandles$"+Us;function Za(e){var t=e[un];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rn]||r[un]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ey(e);e!==null;){if(r=e[un])return r;e=Ey(e)}return t}e=r,r=e.parentNode}return null}function Ol(e){return e=e[un]||e[Rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function bd(e){return e[el]||null}var fm=[],Qi=-1;function Ia(e){return{current:e}}function $e(e){0>Qi||(e.current=fm[Qi],fm[Qi]=null,Qi--)}function Te(e,t){Qi++,fm[Qi]=e.current,e.current=t}var Ca={},At=Ia(Ca),Ht=Ia(!1),hi=Ca;function gs(e,t){var r=e.type.contextTypes;if(!r)return Ca;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function hu(){$e(Ht),$e(At)}function Cy(e,t,r){if(At.current!==Ca)throw Error(Y(168));Te(At,t),Te(Ht,r)}function yj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Y(108,iP(e)||"Unknown",a));return Ve({},r,n)}function mu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,hi=At.current,Te(At,e),Te(Ht,Ht.current),!0}function Py(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=yj(e,t,hi),n.__reactInternalMemoizedMergedChildContext=e,$e(Ht),$e(At),Te(At,e)):$e(Ht),Te(Ht,r)}var Nn=null,wd=!1,Wf=!1;function xj(e){Nn===null?Nn=[e]:Nn.push(e)}function jO(e){wd=!0,xj(e)}function Da(){if(!Wf&&Nn!==null){Wf=!0;var e=0,t=Ne;try{var r=Nn;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,wd=!1}catch(a){throw Nn!==null&&(Nn=Nn.slice(e+1)),W1(sg,Da),a}finally{Ne=t,Wf=!1}}return null}var Xi=[],Ji=0,pu=null,gu=0,br=[],wr=0,mi=null,Pn=1,On="";function Ha(e,t){Xi[Ji++]=gu,Xi[Ji++]=pu,pu=e,gu=t}function bj(e,t,r){br[wr++]=Pn,br[wr++]=On,br[wr++]=mi,mi=e;var n=Pn;e=On;var a=32-Gr(n)-1;n&=~(1<<a),r+=1;var i=32-Gr(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Pn=1<<32-Gr(t)+a|r<<a|n,On=i+e}else Pn=1<<i|r<<a|n,On=e}function pg(e){e.return!==null&&(Ha(e,1),bj(e,1,0))}function gg(e){for(;e===pu;)pu=Xi[--Ji],Xi[Ji]=null,gu=Xi[--Ji],Xi[Ji]=null;for(;e===mi;)mi=br[--wr],br[wr]=null,On=br[--wr],br[wr]=null,Pn=br[--wr],br[wr]=null}var sr=null,ir=null,Re=!1,Vr=null;function wj(e,t){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Oy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,sr=e,ir=wa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,sr=e,ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=mi!==null?{id:Pn,overflow:On}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,sr=e,ir=null,!0):!1;default:return!1}}function hm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mm(e){if(Re){var t=ir;if(t){var r=t;if(!Oy(e,t)){if(hm(e))throw Error(Y(418));t=wa(r.nextSibling);var n=sr;t&&Oy(e,t)?wj(n,r):(e.flags=e.flags&-4097|2,Re=!1,sr=e)}}else{if(hm(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Re=!1,sr=e}}}function Ay(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;sr=e}function hc(e){if(e!==sr)return!1;if(!Re)return Ay(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=ir)){if(hm(e))throw jj(),Error(Y(418));for(;t;)wj(e,t),t=wa(t.nextSibling)}if(Ay(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ir=wa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ir=null}}else ir=sr?wa(e.stateNode.nextSibling):null;return!0}function jj(){for(var e=ir;e;)e=wa(e.nextSibling)}function vs(){ir=sr=null,Re=!1}function vg(e){Vr===null?Vr=[e]:Vr.push(e)}var _O=Kn.ReactCurrentBatchConfig;function oo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function mc(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ty(e){var t=e._init;return t(e._payload)}function _j(e){function t(v,p){if(e){var g=v.deletions;g===null?(v.deletions=[p],v.flags|=16):g.push(p)}}function r(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function n(v,p){for(v=new Map;p!==null;)p.key!==null?v.set(p.key,p):v.set(p.index,p),p=p.sibling;return v}function a(v,p){return v=Na(v,p),v.index=0,v.sibling=null,v}function i(v,p,g){return v.index=g,e?(g=v.alternate,g!==null?(g=g.index,g<p?(v.flags|=2,p):g):(v.flags|=2,p)):(v.flags|=1048576,p)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,p,g,j){return p===null||p.tag!==6?(p=Xf(g,v.mode,j),p.return=v,p):(p=a(p,g),p.return=v,p)}function c(v,p,g,j){var _=g.type;return _===Vi?d(v,p,g.props.children,j,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ia&&Ty(_)===p.type)?(j=a(p,g.props),j.ref=oo(v,p,g),j.return=v,j):(j=Jc(g.type,g.key,g.props,null,v.mode,j),j.ref=oo(v,p,g),j.return=v,j)}function u(v,p,g,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Jf(g,v.mode,j),p.return=v,p):(p=a(p,g.children||[]),p.return=v,p)}function d(v,p,g,j,_){return p===null||p.tag!==7?(p=oi(g,v.mode,j,_),p.return=v,p):(p=a(p,g),p.return=v,p)}function f(v,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Xf(""+p,v.mode,g),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case nc:return g=Jc(p.type,p.key,p.props,null,v.mode,g),g.ref=oo(v,null,p),g.return=v,g;case Wi:return p=Jf(p,v.mode,g),p.return=v,p;case ia:var j=p._init;return f(v,j(p._payload),g)}if(jo(p)||ro(p))return p=oi(p,v.mode,g,null),p.return=v,p;mc(v,p)}return null}function h(v,p,g,j){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(v,p,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case nc:return g.key===_?c(v,p,g,j):null;case Wi:return g.key===_?u(v,p,g,j):null;case ia:return _=g._init,h(v,p,_(g._payload),j)}if(jo(g)||ro(g))return _!==null?null:d(v,p,g,j,null);mc(v,g)}return null}function m(v,p,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(g)||null,l(p,v,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case nc:return v=v.get(j.key===null?g:j.key)||null,c(p,v,j,_);case Wi:return v=v.get(j.key===null?g:j.key)||null,u(p,v,j,_);case ia:var N=j._init;return m(v,p,g,N(j._payload),_)}if(jo(j)||ro(j))return v=v.get(g)||null,d(p,v,j,_,null);mc(p,j)}return null}function b(v,p,g,j){for(var _=null,N=null,k=p,E=p=0,S=null;k!==null&&E<g.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var C=h(v,k,g[E],j);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(v,k),p=i(C,p,E),N===null?_=C:N.sibling=C,N=C,k=S}if(E===g.length)return r(v,k),Re&&Ha(v,E),_;if(k===null){for(;E<g.length;E++)k=f(v,g[E],j),k!==null&&(p=i(k,p,E),N===null?_=k:N.sibling=k,N=k);return Re&&Ha(v,E),_}for(k=n(v,k);E<g.length;E++)S=m(k,v,E,g[E],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),p=i(S,p,E),N===null?_=S:N.sibling=S,N=S);return e&&k.forEach(function(P){return t(v,P)}),Re&&Ha(v,E),_}function x(v,p,g,j){var _=ro(g);if(typeof _!="function")throw Error(Y(150));if(g=_.call(g),g==null)throw Error(Y(151));for(var N=_=null,k=p,E=p=0,S=null,C=g.next();k!==null&&!C.done;E++,C=g.next()){k.index>E?(S=k,k=null):S=k.sibling;var P=h(v,k,C.value,j);if(P===null){k===null&&(k=S);break}e&&k&&P.alternate===null&&t(v,k),p=i(P,p,E),N===null?_=P:N.sibling=P,N=P,k=S}if(C.done)return r(v,k),Re&&Ha(v,E),_;if(k===null){for(;!C.done;E++,C=g.next())C=f(v,C.value,j),C!==null&&(p=i(C,p,E),N===null?_=C:N.sibling=C,N=C);return Re&&Ha(v,E),_}for(k=n(v,k);!C.done;E++,C=g.next())C=m(k,v,E,C.value,j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),p=i(C,p,E),N===null?_=C:N.sibling=C,N=C);return e&&k.forEach(function(T){return t(v,T)}),Re&&Ha(v,E),_}function w(v,p,g,j){if(typeof g=="object"&&g!==null&&g.type===Vi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case nc:e:{for(var _=g.key,N=p;N!==null;){if(N.key===_){if(_=g.type,_===Vi){if(N.tag===7){r(v,N.sibling),p=a(N,g.props.children),p.return=v,v=p;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ia&&Ty(_)===N.type){r(v,N.sibling),p=a(N,g.props),p.ref=oo(v,N,g),p.return=v,v=p;break e}r(v,N);break}else t(v,N);N=N.sibling}g.type===Vi?(p=oi(g.props.children,v.mode,j,g.key),p.return=v,v=p):(j=Jc(g.type,g.key,g.props,null,v.mode,j),j.ref=oo(v,p,g),j.return=v,v=j)}return s(v);case Wi:e:{for(N=g.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(v,p.sibling),p=a(p,g.children||[]),p.return=v,v=p;break e}else{r(v,p);break}else t(v,p);p=p.sibling}p=Jf(g,v.mode,j),p.return=v,v=p}return s(v);case ia:return N=g._init,w(v,p,N(g._payload),j)}if(jo(g))return b(v,p,g,j);if(ro(g))return x(v,p,g,j);mc(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(v,p.sibling),p=a(p,g),p.return=v,v=p):(r(v,p),p=Xf(g,v.mode,j),p.return=v,v=p),s(v)):r(v,p)}return w}var ys=_j(!0),kj=_j(!1),vu=Ia(null),yu=null,Zi=null,yg=null;function xg(){yg=Zi=yu=null}function bg(e){var t=vu.current;$e(vu),e._currentValue=t}function pm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function os(e,t){yu=e,yg=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function Pr(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if(yu===null)throw Error(Y(308));Zi=e,yu.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var ei=null;function wg(e){ei===null?ei=[e]:ei.push(e)}function Nj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,wg(t)):(r.next=a.next,a.next=r),t.interleaved=r,zn(e,n)}function zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sa=!1;function jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,be&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,zn(e,r)}return a=n.interleaved,a===null?(t.next=t,wg(n)):(t.next=a.next,a.next=t),n.interleaved=t,zn(e,r)}function Hc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,og(e,r)}}function My(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xu(e,t,r,n){var a=e.updateQueue;sa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(h=t,m=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(m,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(m,f,h):b,h==null)break e;f=Ve({},f,h);break e;case 2:sa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);gi|=s,e.lanes=s,e.memoizedState=f}}function Iy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Y(191,a));a.call(n)}}}var Al={},hn=Ia(Al),tl=Ia(Al),rl=Ia(Al);function ti(e){if(e===Al)throw Error(Y(174));return e}function _g(e,t){switch(Te(rl,t),Te(tl,e),Te(hn,Al),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yh(t,e)}$e(hn),Te(hn,t)}function xs(){$e(hn),$e(tl),$e(rl)}function Ej(e){ti(rl.current);var t=ti(hn.current),r=Yh(t,e.type);t!==r&&(Te(tl,e),Te(hn,r))}function kg(e){tl.current===e&&($e(hn),$e(tl))}var Be=Ia(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vf=[];function Ng(){for(var e=0;e<Vf.length;e++)Vf[e]._workInProgressVersionPrimary=null;Vf.length=0}var Kc=Kn.ReactCurrentDispatcher,Hf=Kn.ReactCurrentBatchConfig,pi=0,qe=null,it=null,dt=null,wu=!1,Io=!1,nl=0,kO=0;function St(){throw Error(Y(321))}function Sg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qr(e[r],t[r]))return!1;return!0}function Eg(e,t,r,n,a,i){if(pi=i,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kc.current=e===null||e.memoizedState===null?CO:PO,e=r(n,a),Io){i=0;do{if(Io=!1,nl=0,25<=i)throw Error(Y(301));i+=1,dt=it=null,t.updateQueue=null,Kc.current=OO,e=r(n,a)}while(Io)}if(Kc.current=ju,t=it!==null&&it.next!==null,pi=0,dt=it=qe=null,wu=!1,t)throw Error(Y(300));return e}function Cg(){var e=nl!==0;return nl=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=e:dt=dt.next=e,dt}function Or(){if(it===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=dt===null?qe.memoizedState:dt.next;if(t!==null)dt=t,it=e;else{if(e===null)throw Error(Y(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},dt===null?qe.memoizedState=dt=e:dt=dt.next=e}return dt}function al(e,t){return typeof t=="function"?t(e):t}function Kf(e){var t=Or(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=it,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((pi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,qe.lanes|=d,gi|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Qr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,qe.lanes|=i,gi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gf(e){var t=Or(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Qr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Cj(){}function Pj(e,t){var r=qe,n=Or(),a=t(),i=!Qr(n.memoizedState,a);if(i&&(n.memoizedState=a,Wt=!0),n=n.queue,Pg(Tj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,il(9,Aj.bind(null,r,n,a,t),void 0,null),ft===null)throw Error(Y(349));pi&30||Oj(r,t,a)}return a}function Oj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Aj(e,t,r,n){t.value=r,t.getSnapshot=n,Mj(t)&&Ij(e)}function Tj(e,t,r){return r(function(){Mj(t)&&Ij(e)})}function Mj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qr(e,r)}catch{return!0}}function Ij(e){var t=zn(e,1);t!==null&&Yr(t,e,1,-1)}function Dy(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:e},t.queue=e,e=e.dispatch=EO.bind(null,qe,e),[t.memoizedState,e]}function il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dj(){return Or().memoizedState}function Gc(e,t,r,n){var a=ln();qe.flags|=e,a.memoizedState=il(1|t,r,void 0,n===void 0?null:n)}function jd(e,t,r,n){var a=Or();n=n===void 0?null:n;var i=void 0;if(it!==null){var s=it.memoizedState;if(i=s.destroy,n!==null&&Sg(n,s.deps)){a.memoizedState=il(t,r,i,n);return}}qe.flags|=e,a.memoizedState=il(1|t,r,i,n)}function $y(e,t){return Gc(8390656,8,e,t)}function Pg(e,t){return jd(2048,8,e,t)}function $j(e,t){return jd(4,2,e,t)}function Lj(e,t){return jd(4,4,e,t)}function Rj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zj(e,t,r){return r=r!=null?r.concat([e]):null,jd(4,4,Rj.bind(null,t,e),r)}function Og(){}function Uj(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bj(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fj(e,t,r){return pi&21?(Qr(r,t)||(r=K1(),qe.lanes|=r,gi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function NO(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=Hf.transition;Hf.transition={};try{e(!1),t()}finally{Ne=r,Hf.transition=n}}function qj(){return Or().memoizedState}function SO(e,t,r){var n=ka(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wj(e))Vj(t,r);else if(r=Nj(e,t,r,n),r!==null){var a=$t();Yr(r,e,n,a),Hj(r,t,n)}}function EO(e,t,r){var n=ka(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wj(e))Vj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Qr(l,s)){var c=t.interleaved;c===null?(a.next=a,wg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Nj(e,t,a,n),r!==null&&(a=$t(),Yr(r,e,n,a),Hj(r,t,n))}}function Wj(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Vj(e,t){Io=wu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Hj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,og(e,r)}}var ju={readContext:Pr,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},CO={readContext:Pr,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:Pr,useEffect:$y,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gc(4194308,4,Rj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gc(4,2,e,t)},useMemo:function(e,t){var r=ln();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ln();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SO.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:Dy,useDebugValue:Og,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=Dy(!1),t=e[0];return e=NO.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,a=ln();if(Re){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),ft===null)throw Error(Y(349));pi&30||Oj(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,$y(Tj.bind(null,n,i,e),[e]),n.flags|=2048,il(9,Aj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ln(),t=ft.identifierPrefix;if(Re){var r=On,n=Pn;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=nl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},PO={readContext:Pr,useCallback:Uj,useContext:Pr,useEffect:Pg,useImperativeHandle:zj,useInsertionEffect:$j,useLayoutEffect:Lj,useMemo:Bj,useReducer:Kf,useRef:Dj,useState:function(){return Kf(al)},useDebugValue:Og,useDeferredValue:function(e){var t=Or();return Fj(t,it.memoizedState,e)},useTransition:function(){var e=Kf(al)[0],t=Or().memoizedState;return[e,t]},useMutableSource:Cj,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1},OO={readContext:Pr,useCallback:Uj,useContext:Pr,useEffect:Pg,useImperativeHandle:zj,useInsertionEffect:$j,useLayoutEffect:Lj,useMemo:Bj,useReducer:Gf,useRef:Dj,useState:function(){return Gf(al)},useDebugValue:Og,useDeferredValue:function(e){var t=Or();return it===null?t.memoizedState=e:Fj(t,it.memoizedState,e)},useTransition:function(){var e=Gf(al)[0],t=Or().memoizedState;return[e,t]},useMutableSource:Cj,useSyncExternalStore:Pj,useId:qj,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _d={isMounted:function(e){return(e=e._reactInternals)?Si(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),a=ka(e),i=Mn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,a),t!==null&&(Yr(t,e,a,n),Hc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),a=ka(e),i=Mn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ja(e,i,a),t!==null&&(Yr(t,e,a,n),Hc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=ka(e),a=Mn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ja(e,a,n),t!==null&&(Yr(t,e,n,r),Hc(t,e,n))}};function Ly(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Xo(r,n)||!Xo(a,i):!0}function Kj(e,t,r){var n=!1,a=Ca,i=t.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(a=Kt(t)?hi:At.current,n=t.contextTypes,i=(n=n!=null)?gs(e,a):Ca),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_d,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ry(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function vm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},jg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Pr(i):(i=Kt(t)?hi:At.current,a.context=gs(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_d.enqueueReplaceState(a,a.state,null),xu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function bs(e,t){try{var r="",n=t;do r+=aP(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Yf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ym(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AO=typeof WeakMap=="function"?WeakMap:Map;function Gj(e,t,r){r=Mn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ku||(ku=!0,Cm=n),ym(e,t)},r}function Yj(e,t,r){r=Mn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ym(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ym(e,t),typeof n!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function zy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AO;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VO.bind(null,e,t,r),t.then(e,e))}function Uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function By(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Mn(-1,1),t.tag=2,ja(r,t,1))),r.lanes|=1),e)}var TO=Kn.ReactCurrentOwner,Wt=!1;function It(e,t,r,n){t.child=e===null?kj(t,null,r,n):ys(t,e.child,r,n)}function Fy(e,t,r,n,a){r=r.render;var i=t.ref;return os(t,a),n=Eg(e,t,r,n,i,a),r=Cg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Un(e,t,a)):(Re&&r&&pg(t),t.flags|=1,It(e,t,n,a),t.child)}function qy(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Rg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Qj(e,t,i,n,a)):(e=Jc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Xo,r(s,n)&&e.ref===t.ref)return Un(e,t,a)}return t.flags|=1,e=Na(i,n),e.ref=t.ref,e.return=t,t.child=e}function Qj(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Xo(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,Un(e,t,a)}return xm(e,t,r,n,a)}function Xj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ts,er),er|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(ts,er),er|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Te(ts,er),er|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Te(ts,er),er|=n;return It(e,t,a,r),t.child}function Jj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xm(e,t,r,n,a){var i=Kt(r)?hi:At.current;return i=gs(t,i),os(t,a),r=Eg(e,t,r,n,i,a),n=Cg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Un(e,t,a)):(Re&&n&&pg(t),t.flags|=1,It(e,t,r,a),t.child)}function Wy(e,t,r,n,a){if(Kt(r)){var i=!0;mu(t)}else i=!1;if(os(t,a),t.stateNode===null)Yc(e,t),Kj(t,r,n),vm(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Pr(u):(u=Kt(r)?hi:At.current,u=gs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Ry(t,s,n,u),sa=!1;var h=t.memoizedState;s.state=h,xu(t,n,s,a),c=t.memoizedState,l!==n||h!==c||Ht.current||sa?(typeof d=="function"&&(gm(t,r,d,n),c=t.memoizedState),(l=sa||Ly(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Sj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fr(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=Kt(r)?hi:At.current,c=gs(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Ry(t,s,n,c),sa=!1,h=t.memoizedState,s.state=h,xu(t,n,s,a);var b=t.memoizedState;l!==f||h!==b||Ht.current||sa?(typeof m=="function"&&(gm(t,r,m,n),b=t.memoizedState),(u=sa||Ly(t,r,u,n,h,b,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,b,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,b,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),s.props=n,s.state=b,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return bm(e,t,r,n,i,a)}function bm(e,t,r,n,a,i){Jj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Py(t,r,!1),Un(e,t,i);n=t.stateNode,TO.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ys(t,e.child,null,i),t.child=ys(t,null,l,i)):It(e,t,l,i),t.memoizedState=n.state,a&&Py(t,r,!0),t.child}function Zj(e){var t=e.stateNode;t.pendingContext?Cy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cy(e,t.context,!1),_g(e,t.containerInfo)}function Vy(e,t,r,n,a){return vs(),vg(a),t.flags|=256,It(e,t,r,n),t.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function jm(e){return{baseLanes:e,cachePool:null,transitions:null}}function e_(e,t,r){var n=t.pendingProps,a=Be.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Te(Be,a&1),e===null)return mm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sd(s,n,0,null),e=oi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jm(r),t.memoizedState=wm,e):Ag(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return MO(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Na(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Na(l,i):(i=oi(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?jm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=wm,n}return i=e.child,e=i.sibling,n=Na(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ag(e,t){return t=Sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pc(e,t,r,n){return n!==null&&vg(n),ys(t,e.child,null,r),e=Ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function MO(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Yf(Error(Y(422))),pc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sd({mode:"visible",children:n.children},a,0,null),i=oi(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ys(t,e.child,null,s),t.child.memoizedState=jm(s),t.memoizedState=wm,i);if(!(t.mode&1))return pc(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Y(419)),n=Yf(i,n,void 0),pc(e,t,s,n)}if(l=(s&e.childLanes)!==0,Wt||l){if(n=ft,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,zn(e,a),Yr(n,e,a,-1))}return Lg(),n=Yf(Error(Y(421))),pc(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=HO.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ir=wa(a.nextSibling),sr=t,Re=!0,Vr=null,e!==null&&(br[wr++]=Pn,br[wr++]=On,br[wr++]=mi,Pn=e.id,On=e.overflow,mi=t),t=Ag(t,n.children),t.flags|=4096,t)}function Hy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pm(e.return,t,r)}function Qf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function t_(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(It(e,t,n.children,r),n=Be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hy(e,r,t);else if(e.tag===19)Hy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Te(Be,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Qf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&bu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Qf(t,!0,r,null,i);break;case"together":Qf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=Na(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Na(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function IO(e,t,r){switch(t.tag){case 3:Zj(t),vs();break;case 5:Ej(t);break;case 1:Kt(t.type)&&mu(t);break;case 4:_g(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Te(vu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Te(Be,Be.current&1),t.flags|=128,null):r&t.child.childLanes?e_(e,t,r):(Te(Be,Be.current&1),e=Un(e,t,r),e!==null?e.sibling:null);Te(Be,Be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return t_(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Be,Be.current),n)break;return null;case 22:case 23:return t.lanes=0,Xj(e,t,r)}return Un(e,t,r)}var r_,_m,n_,a_;r_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_m=function(){};n_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ti(hn.current);var i=null;switch(r){case"input":a=Vh(e,a),n=Vh(e,n),i=[];break;case"select":a=Ve({},a,{value:void 0}),n=Ve({},n,{value:void 0}),i=[];break;case"textarea":a=Gh(e,a),n=Gh(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fu)}Qh(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ie("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};a_=function(e,t,r,n){r!==n&&(t.flags|=4)};function lo(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DO(e,t,r){var n=t.pendingProps;switch(gg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Kt(t.type)&&hu(),Et(t),null;case 3:return n=t.stateNode,xs(),$e(Ht),$e(At),Ng(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vr!==null&&(Am(Vr),Vr=null))),_m(e,t),Et(t),null;case 5:kg(t);var a=ti(rl.current);if(r=t.type,e!==null&&t.stateNode!=null)n_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Et(t),null}if(e=ti(hn.current),hc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[un]=t,n[el]=i,e=(t.mode&1)!==0,r){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(a=0;a<ko.length;a++)Ie(ko[a],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":ty(n,i),Ie("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ie("invalid",n);break;case"textarea":ny(n,i),Ie("invalid",n)}Qh(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fc(n.textContent,l,e),a=["children",""+l]):Wo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ie("scroll",n)}switch(r){case"input":ac(n),ry(n,i,!0);break;case"textarea":ac(n),ay(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=fu)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=T1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[un]=t,e[el]=n,r_(e,t,!1,!1),t.stateNode=e;e:{switch(s=Xh(r,n),r){case"dialog":Ie("cancel",e),Ie("close",e),a=n;break;case"iframe":case"object":case"embed":Ie("load",e),a=n;break;case"video":case"audio":for(a=0;a<ko.length;a++)Ie(ko[a],e);a=n;break;case"source":Ie("error",e),a=n;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),a=n;break;case"details":Ie("toggle",e),a=n;break;case"input":ty(e,n),a=Vh(e,n),Ie("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ve({},n,{value:void 0}),Ie("invalid",e);break;case"textarea":ny(e,n),a=Gh(e,n),Ie("invalid",e);break;default:a=n}Qh(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?D1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vo(e,c):typeof c=="number"&&Vo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ie("scroll",e):c!=null&&tg(e,i,c,s))}switch(r){case"input":ac(e),ry(e,n,!1);break;case"textarea":ac(e),ay(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ea(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ns(e,!!n.multiple,i,!1):n.defaultValue!=null&&ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=fu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)a_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=ti(rl.current),ti(hn.current),hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[un]=t,(i=n.nodeValue!==r)&&(e=sr,e!==null))switch(e.tag){case 3:fc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[un]=t,t.stateNode=n}return Et(t),null;case 13:if($e(Be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&ir!==null&&t.mode&1&&!(t.flags&128))jj(),vs(),t.flags|=98560,i=!1;else if(i=hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[un]=t}else vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),i=!1}else Vr!==null&&(Am(Vr),Vr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?ot===0&&(ot=3):Lg())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return xs(),_m(e,t),e===null&&Jo(t.stateNode.containerInfo),Et(t),null;case 10:return bg(t.type._context),Et(t),null;case 17:return Kt(t.type)&&hu(),Et(t),null;case 19:if($e(Be),i=t.memoizedState,i===null)return Et(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)lo(i,!1);else{if(ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bu(e),s!==null){for(t.flags|=128,lo(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Te(Be,Be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qe()>ws&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304)}else{if(!n)if(e=bu(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),lo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Re)return Et(t),null}else 2*Qe()-i.renderingStartTime>ws&&r!==1073741824&&(t.flags|=128,n=!0,lo(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Be.current,Te(Be,n?r&1|2:r&1),t):(Et(t),null);case 22:case 23:return $g(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?er&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function $O(e,t){switch(gg(t),t.tag){case 1:return Kt(t.type)&&hu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),$e(Ht),$e(At),Ng(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kg(t),null;case 13:if($e(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Be),null;case 4:return xs(),null;case 10:return bg(t.type._context),null;case 22:case 23:return $g(),null;case 24:return null;default:return null}}var gc=!1,Pt=!1,LO=typeof WeakSet=="function"?WeakSet:Set,te=null;function es(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(e,t,n)}else r.current=null}function km(e,t,r){try{r()}catch(n){Ke(e,t,n)}}var Ky=!1;function RO(e,t){if(om=cu,e=cj(),mg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lm={focusedElem:e,selectionRange:r},cu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,v=t.stateNode,p=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:Fr(t.type,x),w);v.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){Ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return b=Ky,Ky=!1,b}function Do(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&km(t,r,i)}a=a.next}while(a!==n)}}function kd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function i_(e){var t=e.alternate;t!==null&&(e.alternate=null,i_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[un],delete t[el],delete t[dm],delete t[bO],delete t[wO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s_(e){return e.tag===5||e.tag===3||e.tag===4}function Gy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fu));else if(n!==4&&(e=e.child,e!==null))for(Sm(e,t,r),e=e.sibling;e!==null;)Sm(e,t,r),e=e.sibling}function Em(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Em(e,t,r),e=e.sibling;e!==null;)Em(e,t,r),e=e.sibling}var xt=null,qr=!1;function ra(e,t,r){for(r=r.child;r!==null;)o_(e,t,r),r=r.sibling}function o_(e,t,r){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(gd,r)}catch{}switch(r.tag){case 5:Pt||es(r,t);case 6:var n=xt,a=qr;xt=null,ra(e,t,r),xt=n,qr=a,xt!==null&&(qr?(e=xt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xt.removeChild(r.stateNode));break;case 18:xt!==null&&(qr?(e=xt,r=r.stateNode,e.nodeType===8?qf(e.parentNode,r):e.nodeType===1&&qf(e,r),Yo(e)):qf(xt,r.stateNode));break;case 4:n=xt,a=qr,xt=r.stateNode.containerInfo,qr=!0,ra(e,t,r),xt=n,qr=a;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&km(r,t,s),a=a.next}while(a!==n)}ra(e,t,r);break;case 1:if(!Pt&&(es(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ke(r,t,l)}ra(e,t,r);break;case 21:ra(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,ra(e,t,r),Pt=n):ra(e,t,r);break;default:ra(e,t,r)}}function Yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new LO),t.forEach(function(n){var a=KO.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function zr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:xt=l.stateNode,qr=!1;break e;case 3:xt=l.stateNode.containerInfo,qr=!0;break e;case 4:xt=l.stateNode.containerInfo,qr=!0;break e}l=l.return}if(xt===null)throw Error(Y(160));o_(i,s,a),xt=null,qr=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ke(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l_(t,e),t=t.sibling}function l_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zr(t,e),an(e),n&4){try{Do(3,e,e.return),kd(3,e)}catch(x){Ke(e,e.return,x)}try{Do(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:zr(t,e),an(e),n&512&&r!==null&&es(r,r.return);break;case 5:if(zr(t,e),an(e),n&512&&r!==null&&es(r,r.return),e.flags&32){var a=e.stateNode;try{Vo(a,"")}catch(x){Ke(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&O1(a,i),Xh(l,s);var u=Xh(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?D1(a,f):d==="dangerouslySetInnerHTML"?M1(a,f):d==="children"?Vo(a,f):tg(a,d,f,u)}switch(l){case"input":Hh(a,i);break;case"textarea":A1(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ns(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ns(a,!!i.multiple,i.defaultValue,!0):ns(a,!!i.multiple,i.multiple?[]:"",!1))}a[el]=i}catch(x){Ke(e,e.return,x)}}break;case 6:if(zr(t,e),an(e),n&4){if(e.stateNode===null)throw Error(Y(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){Ke(e,e.return,x)}}break;case 3:if(zr(t,e),an(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:zr(t,e),an(e);break;case 13:zr(t,e),an(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Ig=Qe())),n&4&&Yy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,zr(t,e),Pt=u):zr(t,e),an(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Do(4,h,h.return);break;case 1:es(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Ke(n,r,x)}}break;case 5:es(h,h.return);break;case 22:if(h.memoizedState!==null){Xy(f);continue}}m!==null?(m.return=h,te=m):Xy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I1("display",s))}catch(x){Ke(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zr(t,e),an(e),n&4&&Yy(e);break;case 21:break;default:zr(t,e),an(e)}}function an(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(s_(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vo(a,""),n.flags&=-33);var i=Gy(e);Em(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Gy(e);Sm(e,l,s);break;default:throw Error(Y(161))}}catch(c){Ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function zO(e,t,r){te=e,c_(e)}function c_(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var a=te,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||gc;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=gc;var u=Pt;if(gc=s,(Pt=c)&&!u)for(te=a;te!==null;)s=te,c=s.child,s.tag===22&&s.memoizedState!==null?Jy(a):c!==null?(c.return=s,te=c):Jy(a);for(;i!==null;)te=i,c_(i),i=i.sibling;te=a,gc=l,Pt=u}Qy(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,te=i):Qy(e)}}function Qy(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||kd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Iy(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Iy(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Pt||t.flags&512&&Nm(t)}catch(h){Ke(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Xy(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function Jy(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kd(4,t)}catch(c){Ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ke(t,a,c)}}var i=t.return;try{Nm(t)}catch(c){Ke(t,i,c)}break;case 5:var s=t.return;try{Nm(t)}catch(c){Ke(t,s,c)}}}catch(c){Ke(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var UO=Math.ceil,_u=Kn.ReactCurrentDispatcher,Tg=Kn.ReactCurrentOwner,Sr=Kn.ReactCurrentBatchConfig,be=0,ft=null,Ze=null,jt=0,er=0,ts=Ia(0),ot=0,sl=null,gi=0,Nd=0,Mg=0,$o=null,Bt=null,Ig=0,ws=1/0,_n=null,ku=!1,Cm=null,_a=null,vc=!1,pa=null,Nu=0,Lo=0,Pm=null,Qc=-1,Xc=0;function $t(){return be&6?Qe():Qc!==-1?Qc:Qc=Qe()}function ka(e){return e.mode&1?be&2&&jt!==0?jt&-jt:_O.transition!==null?(Xc===0&&(Xc=K1()),Xc):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:ej(e.type)),e):1}function Yr(e,t,r,n){if(50<Lo)throw Lo=0,Pm=null,Error(Y(185));Cl(e,r,n),(!(be&2)||e!==ft)&&(e===ft&&(!(be&2)&&(Nd|=r),ot===4&&da(e,jt)),Gt(e,n),r===1&&be===0&&!(t.mode&1)&&(ws=Qe()+500,wd&&Da()))}function Gt(e,t){var r=e.callbackNode;_P(e,t);var n=lu(e,e===ft?jt:0);if(n===0)r!==null&&oy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&oy(r),t===1)e.tag===0?jO(Zy.bind(null,e)):xj(Zy.bind(null,e)),yO(function(){!(be&6)&&Da()}),r=null;else{switch(G1(n)){case 1:r=sg;break;case 4:r=V1;break;case 16:r=ou;break;case 536870912:r=H1;break;default:r=ou}r=v_(r,u_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function u_(e,t){if(Qc=-1,Xc=0,be&6)throw Error(Y(327));var r=e.callbackNode;if(ls()&&e.callbackNode!==r)return null;var n=lu(e,e===ft?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Su(e,n);else{t=n;var a=be;be|=2;var i=f_();(ft!==e||jt!==t)&&(_n=null,ws=Qe()+500,si(e,t));do try{qO();break}catch(l){d_(e,l)}while(!0);xg(),_u.current=i,be=a,Ze!==null?t=0:(ft=null,jt=0,t=ot)}if(t!==0){if(t===2&&(a=rm(e),a!==0&&(n=a,t=Om(e,a))),t===1)throw r=sl,si(e,0),da(e,n),Gt(e,Qe()),r;if(t===6)da(e,n);else{if(a=e.current.alternate,!(n&30)&&!BO(a)&&(t=Su(e,n),t===2&&(i=rm(e),i!==0&&(n=i,t=Om(e,i))),t===1))throw r=sl,si(e,0),da(e,n),Gt(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Ka(e,Bt,_n);break;case 3:if(da(e,n),(n&130023424)===n&&(t=Ig+500-Qe(),10<t)){if(lu(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=um(Ka.bind(null,e,Bt,_n),t);break}Ka(e,Bt,_n);break;case 4:if(da(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Gr(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Qe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UO(n/1960))-n,10<n){e.timeoutHandle=um(Ka.bind(null,e,Bt,_n),n);break}Ka(e,Bt,_n);break;case 5:Ka(e,Bt,_n);break;default:throw Error(Y(329))}}}return Gt(e,Qe()),e.callbackNode===r?u_.bind(null,e):null}function Om(e,t){var r=$o;return e.current.memoizedState.isDehydrated&&(si(e,t).flags|=256),e=Su(e,t),e!==2&&(t=Bt,Bt=r,t!==null&&Am(t)),e}function Am(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function BO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Qr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function da(e,t){for(t&=~Mg,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gr(t),n=1<<r;e[r]=-1,t&=~n}}function Zy(e){if(be&6)throw Error(Y(327));ls();var t=lu(e,0);if(!(t&1))return Gt(e,Qe()),null;var r=Su(e,t);if(e.tag!==0&&r===2){var n=rm(e);n!==0&&(t=n,r=Om(e,n))}if(r===1)throw r=sl,si(e,0),da(e,t),Gt(e,Qe()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ka(e,Bt,_n),Gt(e,Qe()),null}function Dg(e,t){var r=be;be|=1;try{return e(t)}finally{be=r,be===0&&(ws=Qe()+500,wd&&Da())}}function vi(e){pa!==null&&pa.tag===0&&!(be&6)&&ls();var t=be;be|=1;var r=Sr.transition,n=Ne;try{if(Sr.transition=null,Ne=1,e)return e()}finally{Ne=n,Sr.transition=r,be=t,!(be&6)&&Da()}}function $g(){er=ts.current,$e(ts)}function si(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,vO(r)),Ze!==null)for(r=Ze.return;r!==null;){var n=r;switch(gg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hu();break;case 3:xs(),$e(Ht),$e(At),Ng();break;case 5:kg(n);break;case 4:xs();break;case 13:$e(Be);break;case 19:$e(Be);break;case 10:bg(n.type._context);break;case 22:case 23:$g()}r=r.return}if(ft=e,Ze=e=Na(e.current,null),jt=er=t,ot=0,sl=null,Mg=Nd=gi=0,Bt=$o=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}ei=null}return e}function d_(e,t){do{var r=Ze;try{if(xg(),Kc.current=ju,wu){for(var n=qe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wu=!1}if(pi=0,dt=it=qe=null,Io=!1,nl=0,Tg.current=null,r===null||r.return===null){ot=1,sl=t,Ze=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=jt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Uy(s);if(m!==null){m.flags&=-257,By(m,s,l,i,t),m.mode&1&&zy(i,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){zy(i,u,t),Lg();break e}c=Error(Y(426))}}else if(Re&&l.mode&1){var w=Uy(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),By(w,s,l,i,t),vg(bs(c,l));break e}}i=c=bs(c,l),ot!==4&&(ot=2),$o===null?$o=[i]:$o.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=Gj(i,c,t);My(i,v);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_a===null||!_a.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Yj(i,l,t);My(i,j);break e}}i=i.return}while(i!==null)}m_(r)}catch(_){t=_,Ze===r&&r!==null&&(Ze=r=r.return);continue}break}while(!0)}function f_(){var e=_u.current;return _u.current=ju,e===null?ju:e}function Lg(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||!(gi&268435455)&&!(Nd&268435455)||da(ft,jt)}function Su(e,t){var r=be;be|=2;var n=f_();(ft!==e||jt!==t)&&(_n=null,si(e,t));do try{FO();break}catch(a){d_(e,a)}while(!0);if(xg(),be=r,_u.current=n,Ze!==null)throw Error(Y(261));return ft=null,jt=0,ot}function FO(){for(;Ze!==null;)h_(Ze)}function qO(){for(;Ze!==null&&!mP();)h_(Ze)}function h_(e){var t=g_(e.alternate,e,er);e.memoizedProps=e.pendingProps,t===null?m_(e):Ze=t,Tg.current=null}function m_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=$O(r,t),r!==null){r.flags&=32767,Ze=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ot=6,Ze=null;return}}else if(r=DO(r,t,er),r!==null){Ze=r;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);ot===0&&(ot=5)}function Ka(e,t,r){var n=Ne,a=Sr.transition;try{Sr.transition=null,Ne=1,WO(e,t,r,n)}finally{Sr.transition=a,Ne=n}return null}function WO(e,t,r,n){do ls();while(pa!==null);if(be&6)throw Error(Y(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(kP(e,i),e===ft&&(Ze=ft=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vc||(vc=!0,v_(ou,function(){return ls(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var s=Ne;Ne=1;var l=be;be|=4,Tg.current=null,RO(e,r),l_(r,e),uO(lm),cu=!!om,lm=om=null,e.current=r,zO(r),pP(),be=l,Ne=s,Sr.transition=i}else e.current=r;if(vc&&(vc=!1,pa=e,Nu=a),i=e.pendingLanes,i===0&&(_a=null),yP(r.stateNode),Gt(e,Qe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ku)throw ku=!1,e=Cm,Cm=null,e;return Nu&1&&e.tag!==0&&ls(),i=e.pendingLanes,i&1?e===Pm?Lo++:(Lo=0,Pm=e):Lo=0,Da(),null}function ls(){if(pa!==null){var e=G1(Nu),t=Sr.transition,r=Ne;try{if(Sr.transition=null,Ne=16>e?16:e,pa===null)var n=!1;else{if(e=pa,pa=null,Nu=0,be&6)throw Error(Y(331));var a=be;for(be|=4,te=e.current;te!==null;){var i=te,s=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Do(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(i_(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var b=i.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}te=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,te=s;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Do(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,te=v;break e}te=i.return}}var p=e.current;for(te=p;te!==null;){s=te;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,te=g;else e:for(s=p;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kd(9,l)}}catch(_){Ke(l,l.return,_)}if(l===s){te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,te=j;break e}te=l.return}}if(be=a,Da(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(gd,e)}catch{}n=!0}return n}finally{Ne=r,Sr.transition=t}}return!1}function ex(e,t,r){t=bs(r,t),t=Gj(e,t,1),e=ja(e,t,1),t=$t(),e!==null&&(Cl(e,1,t),Gt(e,t))}function Ke(e,t,r){if(e.tag===3)ex(e,e,r);else for(;t!==null;){if(t.tag===3){ex(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_a===null||!_a.has(n))){e=bs(r,e),e=Yj(t,e,1),t=ja(t,e,1),e=$t(),t!==null&&(Cl(t,1,e),Gt(t,e));break}}t=t.return}}function VO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,ft===e&&(jt&r)===r&&(ot===4||ot===3&&(jt&130023424)===jt&&500>Qe()-Ig?si(e,0):Mg|=r),Gt(e,t)}function p_(e,t){t===0&&(e.mode&1?(t=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):t=1);var r=$t();e=zn(e,t),e!==null&&(Cl(e,t,r),Gt(e,r))}function HO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),p_(e,r)}function KO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),p_(e,r)}var g_;g_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,IO(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,Re&&t.flags&1048576&&bj(t,gu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Yc(e,t),e=t.pendingProps;var a=gs(t,At.current);os(t,r),a=Eg(null,t,n,e,a,r);var i=Cg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,mu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jg(t),a.updater=_d,t.stateNode=a,a._reactInternals=t,vm(t,n,e,r),t=bm(null,t,n,!0,i,r)):(t.tag=0,Re&&i&&pg(t),It(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Yc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=YO(n),e=Fr(n,e),a){case 0:t=xm(null,t,n,e,r);break e;case 1:t=Wy(null,t,n,e,r);break e;case 11:t=Fy(null,t,n,e,r);break e;case 14:t=qy(null,t,n,Fr(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fr(n,a),xm(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fr(n,a),Wy(e,t,n,a,r);case 3:e:{if(Zj(t),e===null)throw Error(Y(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Sj(e,t),xu(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=bs(Error(Y(423)),t),t=Vy(e,t,n,r,a);break e}else if(n!==a){a=bs(Error(Y(424)),t),t=Vy(e,t,n,r,a);break e}else for(ir=wa(t.stateNode.containerInfo.firstChild),sr=t,Re=!0,Vr=null,r=kj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),n===a){t=Un(e,t,r);break e}It(e,t,n,r)}t=t.child}return t;case 5:return Ej(t),e===null&&mm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,cm(n,a)?s=null:i!==null&&cm(n,i)&&(t.flags|=32),Jj(e,t),It(e,t,s,r),t.child;case 6:return e===null&&mm(t),null;case 13:return e_(e,t,r);case 4:return _g(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ys(t,null,n,r):It(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fr(n,a),Fy(e,t,n,a,r);case 7:return It(e,t,t.pendingProps,r),t.child;case 8:return It(e,t,t.pendingProps.children,r),t.child;case 12:return It(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Te(vu,n._currentValue),n._currentValue=s,i!==null)if(Qr(i.value,s)){if(i.children===a.children&&!Ht.current){t=Un(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Mn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),pm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Y(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),pm(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}It(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,os(t,r),a=Pr(a),n=n(a),t.flags|=1,It(e,t,n,r),t.child;case 14:return n=t.type,a=Fr(n,t.pendingProps),a=Fr(n.type,a),qy(e,t,n,a,r);case 15:return Qj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Fr(n,a),Yc(e,t),t.tag=1,Kt(n)?(e=!0,mu(t)):e=!1,os(t,r),Kj(t,n,a),vm(t,n,a,r),bm(null,t,n,!0,e,r);case 19:return t_(e,t,r);case 22:return Xj(e,t,r)}throw Error(Y(156,t.tag))};function v_(e,t){return W1(e,t)}function GO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,t,r,n){return new GO(e,t,r,n)}function Rg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YO(e){if(typeof e=="function")return Rg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ng)return 11;if(e===ag)return 14}return 2}function Na(e,t){var r=e.alternate;return r===null?(r=_r(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jc(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")Rg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vi:return oi(r.children,a,i,t);case rg:s=8,a|=8;break;case Bh:return e=_r(12,r,t,a|2),e.elementType=Bh,e.lanes=i,e;case Fh:return e=_r(13,r,t,a),e.elementType=Fh,e.lanes=i,e;case qh:return e=_r(19,r,t,a),e.elementType=qh,e.lanes=i,e;case E1:return Sd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case N1:s=10;break e;case S1:s=9;break e;case ng:s=11;break e;case ag:s=14;break e;case ia:s=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=_r(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function oi(e,t,r,n){return e=_r(7,e,n,t),e.lanes=r,e}function Sd(e,t,r,n){return e=_r(22,e,n,t),e.elementType=E1,e.lanes=r,e.stateNode={isHidden:!1},e}function Xf(e,t,r){return e=_r(6,e,null,t),e.lanes=r,e}function Jf(e,t,r){return t=_r(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function QO(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tf(0),this.expirationTimes=Tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zg(e,t,r,n,a,i,s,l,c){return e=new QO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=_r(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(i),e}function XO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function y_(e){if(!e)return Ca;e=e._reactInternals;e:{if(Si(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Kt(r))return yj(e,r,t)}return t}function x_(e,t,r,n,a,i,s,l,c){return e=zg(r,n,!0,e,a,i,s,l,c),e.context=y_(null),r=e.current,n=$t(),a=ka(r),i=Mn(n,a),i.callback=t??null,ja(r,i,a),e.current.lanes=a,Cl(e,a,n),Gt(e,n),e}function Ed(e,t,r,n){var a=t.current,i=$t(),s=ka(a);return r=y_(r),t.context===null?t.context=r:t.pendingContext=r,t=Mn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ja(a,t,s),e!==null&&(Yr(e,a,s,i),Hc(e,a,s)),s}function Eu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ug(e,t){tx(e,t),(e=e.alternate)&&tx(e,t)}function JO(){return null}var b_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bg(e){this._internalRoot=e}Cd.prototype.render=Bg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Ed(e,t,null,null)};Cd.prototype.unmount=Bg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vi(function(){Ed(null,e,null,null)}),t[Rn]=null}};function Cd(e){this._internalRoot=e}Cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=X1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ua.length&&t!==0&&t<ua[r].priority;r++);ua.splice(r,0,e),r===0&&Z1(e)}};function Fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rx(){}function ZO(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Eu(s);i.call(u)}}var s=x_(t,n,e,0,null,!1,!1,"",rx);return e._reactRootContainer=s,e[Rn]=s.current,Jo(e.nodeType===8?e.parentNode:e),vi(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Eu(c);l.call(u)}}var c=zg(e,0,!1,null,null,!1,!1,"",rx);return e._reactRootContainer=c,e[Rn]=c.current,Jo(e.nodeType===8?e.parentNode:e),vi(function(){Ed(t,c,r,n)}),c}function Od(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Eu(s);l.call(c)}}Ed(t,s,e,a)}else s=ZO(r,t,e,a,n);return Eu(s)}Y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_o(t.pendingLanes);r!==0&&(og(t,r|1),Gt(t,Qe()),!(be&6)&&(ws=Qe()+500,Da()))}break;case 13:vi(function(){var n=zn(e,1);if(n!==null){var a=$t();Yr(n,e,1,a)}}),Ug(e,1)}};lg=function(e){if(e.tag===13){var t=zn(e,134217728);if(t!==null){var r=$t();Yr(t,e,134217728,r)}Ug(e,134217728)}};Q1=function(e){if(e.tag===13){var t=ka(e),r=zn(e,t);if(r!==null){var n=$t();Yr(r,e,t,n)}Ug(e,t)}};X1=function(){return Ne};J1=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};Zh=function(e,t,r){switch(t){case"input":if(Hh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=bd(n);if(!a)throw Error(Y(90));P1(n),Hh(n,a)}}}break;case"textarea":A1(e,r);break;case"select":t=r.value,t!=null&&ns(e,!!r.multiple,t,!1)}};R1=Dg;z1=vi;var eA={usingClientEntryPoint:!1,Events:[Ol,Yi,bd,$1,L1,Dg]},co={findFiberByHostInstance:Za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tA={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=F1(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||JO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{gd=yc.inject(tA),fn=yc}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eA;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(t))throw Error(Y(200));return XO(e,t,null,r)};ur.createRoot=function(e,t){if(!Fg(e))throw Error(Y(299));var r=!1,n="",a=b_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zg(e,1,!1,null,null,r,!1,n,a),e[Rn]=t.current,Jo(e.nodeType===8?e.parentNode:e),new Bg(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=F1(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return vi(e)};ur.hydrate=function(e,t,r){if(!Pd(t))throw Error(Y(200));return Od(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!Fg(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=b_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=x_(t,null,e,1,r??null,a,!1,i,s),e[Rn]=t.current,Jo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cd(t)};ur.render=function(e,t,r){if(!Pd(t))throw Error(Y(200));return Od(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!Pd(e))throw Error(Y(40));return e._reactRootContainer?(vi(function(){Od(null,null,e,!1,function(){e._reactRootContainer=null,e[Rn]=null})}),!0):!1};ur.unstable_batchedUpdates=Dg;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pd(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Od(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function w_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w_)}catch(e){console.error(e)}}w_(),w1.exports=ur;var qg=w1.exports,j_,nx=qg;j_=nx.createRoot,nx.hydrateRoot;const rA="modulepreload",nA=function(e){return"/"+e},ax={},Tl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=nA(c),c in ax)return;ax[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":rA,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},aA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class iA extends Wg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ix extends Wg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sx extends Wg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tm||(Tm={}));var sA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class oA{constructor(t,{headers:r={},customFetch:n,region:a=Tm.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=aA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return sA(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(x=>{throw new iA(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new ix(f);if(!f.ok)throw new sx(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return m==="application/json"?b=yield f.json():m==="application/octet-stream"?b=yield f.blob():m==="text/event-stream"?b=f:m==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof sx||a instanceof ix?a.context:void 0}}})}}var Ft={},Vg={},Ad={},Ml={},Td={},Md={},lA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},js=lA();const cA=js.fetch,__=js.fetch.bind(js),k_=js.Headers,uA=js.Request,dA=js.Response,Bs=Object.freeze(Object.defineProperty({__proto__:null,Headers:k_,Request:uA,Response:dA,default:__,fetch:cA},Symbol.toStringTag,{value:"Module"})),fA=PC(Bs);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});let hA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Id.default=hA;var N_=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Md,"__esModule",{value:!0});const mA=N_(fA),pA=N_(Id);let gA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=mA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,l,c,u;let d=null,f=null,h=null,m=i.status,b=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,b="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,b="OK")}catch{i.status===404&&w===""?(m=204,b="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,b="OK"),d&&this.shouldThrowOnError)throw new pA.default(d)}return{error:d,data:f,count:h,status:m,statusText:b}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,l,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Md.default=gA;var vA=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});const yA=vA(Md);let xA=class extends yA.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Td.default=xA;var bA=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ml,"__esModule",{value:!0});const wA=bA(Td);let jA=class extends wA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ml.default=jA;var _A=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});const uo=_A(Ml);let kA=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new uo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new uo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new uo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new uo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new uo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ad.default=kA;var S_=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vg,"__esModule",{value:!0});const NA=S_(Ad),SA=S_(Ml);let EA=class E_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new NA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new SA.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Vg.default=EA;var Fs=Cr&&Cr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const C_=Fs(Vg);Ft.PostgrestClient=C_.default;const P_=Fs(Ad);Ft.PostgrestQueryBuilder=P_.default;const O_=Fs(Ml);Ft.PostgrestFilterBuilder=O_.default;const A_=Fs(Td);Ft.PostgrestTransformBuilder=A_.default;const T_=Fs(Md);Ft.PostgrestBuilder=T_.default;const M_=Fs(Id);Ft.PostgrestError=M_.default;var CA=Ft.default={PostgrestClient:C_.default,PostgrestQueryBuilder:P_.default,PostgrestFilterBuilder:O_.default,PostgrestTransformBuilder:A_.default,PostgrestBuilder:T_.default,PostgrestError:M_.default};const{PostgrestClient:PA,PostgrestQueryBuilder:GW,PostgrestFilterBuilder:YW,PostgrestTransformBuilder:QW,PostgrestBuilder:XW,PostgrestError:JW}=CA;class OA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const AA="2.15.5",TA=`realtime-js/${AA}`,MA="1.0.0",Mm=1e4,IA=1e3,DA=100;var Ro;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ro||(Ro={}));var nt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(nt||(nt={}));var Wr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wr||(Wr={}));var Im;(function(e){e.websocket="websocket"})(Im||(Im={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class $A{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class I_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const ox=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=LA(s,e,t,a),i),{})},LA=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?D_(i,s):Dm(s)},D_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return BA(t,r)}switch(e){case Oe.bool:return RA(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return zA(t);case Oe.json:case Oe.jsonb:return UA(t);case Oe.timestamp:return FA(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Dm(t);default:return Dm(t)}},Dm=e=>e,RA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},BA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>D_(t,l))}return e},FA=e=>typeof e=="string"?e.replace(" ","T"):e,$_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Zf{constructor(t,r,n={},a=Mm){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lx;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lx||(lx={}));class zo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zo.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=zo.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=zo.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),b=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(cx||(cx={}));var Uo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Uo||(Uo={}));var kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class Hg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zf(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new I_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=nt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new zo(this),this.broadcastEndpointURL=$_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==nt.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Uo.PRESENCE]&&this.bindings[Uo.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(kn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket.setAuth(),m===void 0){t==null||t(kn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,v=[];for(let p=0;p<w;p++){const g=x[p],{filter:{event:j,schema:_,table:N,filter:k}}=g,E=m&&m[p];if(E&&E.event===j&&E.schema===_&&E.table===N&&E.filter===k)v.push(Object.assign(Object.assign({},g),{id:E.id}));else{this.unsubscribe(),this.state=nt.errored,t==null||t(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(kn.SUBSCRIBED);return}}).receive("error",m=>{this.state=nt.errored,t==null||t(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===nt.joined&&t===Uo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=nt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Zf(this,Wr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=nt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Zf(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>DA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wr;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var b,x,w;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var b,x,w,v,p,g;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(b=m.filter)===null||b===void 0?void 0:b.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(p=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:x,table:w,commit_timestamp:v,type:p,errors:g}=b;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:v,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(b))}m.callback(h,n)})}_isClosed(){return this.state===nt.closed}_isJoined(){return this.state===nt.joined}_isJoining(){return this.state===nt.joining}_isLeaving(){return this.state===nt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hg.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wr.close,{},t)}_onError(t){this._on(Wr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=nt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ox(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ox(t.columns,t.old_record)),r}}const eh=()=>{},xc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qA=[1e3,2e3,5e3,1e4],WA=1e4,VA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mm,this.transport=null,this.heartbeatIntervalMs=xc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eh,this.ref=0,this.reconnectTimer=null,this.logger=eh,this.conn=null,this.sendBuffer=[],this.serializer=new $A,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Tl(async()=>{const{default:l}=await Promise.resolve().then(()=>Bs);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Im.websocket}`,this.httpEndpoint=$_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=OA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ro.connecting:return Ja.Connecting;case Ro.open:return Ja.Open;case Ro.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Hg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(IA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},xc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([VA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:TA};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Wr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new I_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},xc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Mm,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:xc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:eh,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>qA[f-1]||WA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Kg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class KA extends Kg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $m extends Kg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var GA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const L_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},YA=()=>GA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tl(()=>Promise.resolve().then(()=>Bs),void 0)).Response:Response}),Lm=e=>{if(Array.isArray(e))return e.map(r=>Lm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Lm(n)}),t},QA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ei=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XA=(e,t,r)=>Ei(void 0,void 0,void 0,function*(){const n=yield YA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new KA(th(a),i,s))}).catch(a=>{t(new $m(th(a),a))}):t(new $m(th(e),e))}),JA=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(QA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Il(e,t,r,n,a,i){return Ei(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,JA(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>XA(c,l,n))})})}function Cu(e,t,r,n){return Ei(this,void 0,void 0,function*(){return Il(e,"GET",t,r,n)})}function cn(e,t,r,n,a){return Ei(this,void 0,void 0,function*(){return Il(e,"POST",t,n,a,r)})}function Rm(e,t,r,n,a){return Ei(this,void 0,void 0,function*(){return Il(e,"PUT",t,n,a,r)})}function ZA(e,t,r,n){return Ei(this,void 0,void 0,function*(){return Il(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function R_(e,t,r,n,a){return Ei(this,void 0,void 0,function*(){return Il(e,"DELETE",t,n,a,r)})}var Mt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ux={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tT{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=L_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Mt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},ux),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Rm:cn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(at(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Mt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ux.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Rm(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(at(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Mt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield cn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new Kg("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}update(t,r,n){return Mt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Mt(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Mt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield cn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Mt(this,void 0,void 0,function*(){try{const a=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}download(t,r){return Mt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Cu(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(at(l))return{data:null,error:l};throw l}})}info(t){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Cu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}exists(t){return Mt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ZA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n)&&n instanceof $m){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Mt(this,void 0,void 0,function*(){try{return{data:yield R_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}list(t,r,n){return Mt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},eT),r),{prefix:t||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(at(a))return{data:null,error:a};throw a}})}listV2(t,r){return Mt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield cn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rT="2.12.1",nT={"X-Client-Info":`storage-js/${rT}`};var Di=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class aT{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},nT),r),this.fetch=L_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Di(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(at(t))return{data:null,error:t};throw t}})}getBucket(t){return Di(this,void 0,void 0,function*(){try{return{data:yield Cu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Di(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Di(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Di(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Di(this,void 0,void 0,function*(){try{return{data:yield R_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}class iT extends aT{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new tT(this.url,this.headers,t,this.fetch)}}const sT="2.57.4";let No="";typeof Deno<"u"?No="deno":typeof document<"u"?No="web":typeof navigator<"u"&&navigator.product==="ReactNative"?No="react-native":No="node";const oT={"X-Client-Info":`supabase-js-${No}/${sT}`},lT={headers:oT},cT={schema:"public"},uT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dT={};var fT=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hT=e=>{let t;return e?t=e:typeof fetch>"u"?t=__:t=fetch,(...r)=>t(...r)},mT=()=>typeof Headers>"u"?k_:Headers,pT=(e,t,r)=>{const n=hT(r),a=mT();return(i,s)=>fT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var gT=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function vT(e){return e.endsWith("/")?e:e+"/"}function yT(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>gT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const z_="2.71.1",Fi=30*1e3,zm=3,rh=zm*Fi,bT="http://localhost:9999",wT="supabase.auth.token",jT={"X-Client-Info":`gotrue-js/${z_}`},Um="X-Supabase-Api-Version",U_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_T=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kT=10*60*1e3;class Gg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class NT extends Gg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ST(e){return me(e)&&e.name==="AuthApiError"}class B_ extends Gg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class $a extends Gg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class aa extends $a{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ET(e){return me(e)&&e.name==="AuthSessionMissingError"}class bc extends $a{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wc extends $a{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jc extends $a{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CT(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class dx extends $a{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bm extends $a{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function nh(e){return me(e)&&e.name==="AuthRetryableFetchError"}class fx extends $a{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Fm extends $a{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hx=` 	
\r=`.split(""),PT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hx.length;t+=1)e[hx[t].charCodeAt(0)]=-2;for(let t=0;t<Pu.length;t+=1)e[Pu[t].charCodeAt(0)]=t;return e})();function mx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Pu[n]),t.queuedBits-=6}}function F_(e,t,r){const n=PT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function px(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{TT(s,n,r)};for(let s=0;s<e.length;s+=1)F_(e.charCodeAt(s),a,i);return t.join("")}function OT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function AT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}OT(n,t)}}function TT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function MT(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)F_(e.charCodeAt(a),r,n);return new Uint8Array(t)}function IT(e){const t=[];return AT(e,r=>t.push(r)),new Uint8Array(t)}function DT(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>mx(a,r,n)),mx(null,r,n),t.join("")}function $T(e){return Math.round(Date.now()/1e3)+e}function LT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ur=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},q_=()=>{if(!Ur())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function RT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const W_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Tl(async()=>{const{default:n}=await Promise.resolve().then(()=>Bs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",qi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wa=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},na=async(e,t)=>{await e.removeItem(t)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dd.promiseConstructor=Promise;function ah(e){const t=e.split(".");if(t.length!==3)throw new Fm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_T.test(t[n]))throw new Fm("JWT not in base64url format");return{header:JSON.parse(px(t[0])),payload:JSON.parse(px(t[1])),signature:MT(t[2]),raw:{header:t[0],payload:t[1]}}}async function UT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BT(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function FT(e){return("0"+e.toString(16)).substr(-2)}function qT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,FT).join("")}async function WT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function VT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await WT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $i(e,t,r=!1){const n=qT();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await qi(e,`${t}-code-verifier`,a);const i=await VT(n);return[i,n===i?"plain":"s256"]}const HT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KT(e){const t=e.headers.get(Um);if(!t||!t.match(HT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function YT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Li(e){if(!QT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ih(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gx(e){return JSON.parse(JSON.stringify(e))}var XT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ga=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JT=[502,503,504];async function vx(e){var t;if(!zT(e))throw new Bm(Ga(e),0);if(JT.includes(e.status))throw new Bm(Ga(e),e.status);let r;try{r=await e.json()}catch(i){throw new B_(Ga(i),i)}let n;const a=KT(e);if(a&&a.getTime()>=U_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fx(Ga(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new aa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new fx(Ga(r),e.status,r.weak_password.reasons);throw new NT(Ga(r),e.status||500,n)}const ZT=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ve(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Um]||(i[Um]=U_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await e3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function e3(e,t,r,n,a,i){const s=ZT(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Bm(Ga(c),0)}if(l.ok||await vx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await vx(c)}}function jn(e){var t;let r=null;a3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$T(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yx(e){const t=jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function fa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function t3(e){return{data:e,error:null}}function r3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=XT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function n3(e){return e}function a3(e){return e.access_token&&e.refresh_token&&e.expires_in}const sh=["global","local","others"];var i3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class s3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=W_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=sh[0]){if(sh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sh.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fa})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=i3(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:r3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:fa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:n3});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Li(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:fa})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Li(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:fa})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Li(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:fa})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Li(t.userId);try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Li(t.userId),Li(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}function xx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function o3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ri={debug:!!(globalThis&&q_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l3 extends V_{}async function c3(e,t,r){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ri.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}o3();const u3={url:bT,storageKey:wT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bx(e,t,r){return await r()}const zi={};class ol{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ol.nextInstanceID,ol.nextInstanceID+=1,this.instanceID>0&&Ur()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},u3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new s3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=W_(a.fetch),this.lock=a.lock||bx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ur()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=c3:this.lock=bx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:q_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=xx(this.memoryStorage)),Ur()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=zi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zi[this.storageKey]=Object.assign(Object.assign({},zi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${z_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=RT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ur()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),CT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new B_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:jn}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await $i(this.storage,this.storageKey)),i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:b},xform:jn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:jn})}else throw new wc("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yx})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yx})}else throw new wc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,m;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:w,wallet:v,statement:p,options:g}=t;let j;if(Ur())if(typeof v=="object")j=v;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)b=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:v}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:DT(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:jn});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new bc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(me(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jn});if(await na(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new bc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new bc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $i(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new wc("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:jn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await $i(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:t3})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new aa;const{error:a}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new wc("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Wa(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=ih()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:fa}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new aa}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:fa})})}catch(r){if(me(r))return ET(r)&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new aa;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await $i(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:fa});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new aa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=ah(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new aa;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ur())throw new jc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dx("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new jc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Fi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(ST(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await na(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await $i(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ur()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BT(async a=>(a>0&&await UT(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&nh(i)&&Date.now()+s-n<Fi})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ur()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Wa(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await qi(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:ih()}else if(a&&!a.user&&!a.user){const s=await Wa(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await na(this.storage,this.storageKey+"-user"),await qi(this.storage,this.storageKey,a)):a.user=ih()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rh;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${rh}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),nh(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new aa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Dd;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new aa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),me(i)){const s={session:null,error:i};return nh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=gx(a);await qi(this.storage,this.storageKey,i)}else{const a=gx(r);await qi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await na(this.storage,this.storageKey),await na(this.storage,this.storageKey+"-code-verifier"),await na(this.storage,this.storageKey+"-user"),this.userStorage&&await na(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ur()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Fi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Fi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Fi}ms, refresh threshold is ${zm} ticks`),a<=zm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof V_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ur()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await $i(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ah(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+kT>a)return n;const{data:i,error:s}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:b}=await this.getSession();if(b||!m.session)return{data:null,error:b};n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=ah(n);r!=null&&r.allowExpired||GT(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const d=YT(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,IT(`${l}.${c}`)))throw new Fm("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}ol.nextInstanceID=0;const d3=ol;class f3 extends d3{constructor(t){super(t)}}var h3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class m3{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const l=xT(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:cT,realtime:dT,auth:Object.assign(Object.assign({},uT),{storageKey:c}),global:lT},d=yT(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=pT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PA(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new iT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new oA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return h3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new HA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const p3=(e,t,r)=>new m3(e,t,r);function g3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}g3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v3="https://ylayzeaacnjpzliquegv.supabase.co",y3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsYXl6ZWFhY25qcHpsaXF1ZWd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2NjgxMjYsImV4cCI6MjA3NTI0NDEyNn0._7HKfqrLVd6gMN0XEEOHxJcYX7pQvS9E_5VyXefZmIg",B=p3(v3,y3,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),ga=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),_s=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:a,error:i}=await B.storage.from("cloudmenu").upload(n,e);if(i)return{url:"",error:i.message};const{data:s}=B.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},cs=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await B.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},H_=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await B.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},K_=y.createContext(void 0);function fr(){const e=y.useContext(K_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function x3({children:e}){const[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,s]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState(!1);y.useEffect(()=>{const x=new URLSearchParams(window.location.search),w=x.has("code")||x.has("access_token")||x.has("token_type");d(w)},[]),y.useEffect(()=>{const x=()=>{const w=!document.hidden,v=i;if(v!==w&&s(w),w&&!v&&t&&!u){const p=Date.now(),g=sessionStorage.getItem("lastSessionCheck");p-(g?parseInt(g):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",p.toString()),B.auth.getSession().then(({data:{session:_}})=>{!_&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(_=>{console.error("Error checking session on tab visibility change:",_)}))}};return document.addEventListener("visibilitychange",x),()=>document.removeEventListener("visibilitychange",x)},[t,u]),y.useEffect(()=>{let x=!0,w=null;const v=u?15e3:8e3,p=setTimeout(()=>{x&&n&&(console.warn(`Auth initialization timeout after ${v}ms - forcing completion`),a(!1),B.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&x&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},v);return c(p),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),_=sessionStorage.getItem("lastAuthInit");if(j-(_?parseInt(_):0)<60*60*1e3&&t&&!u){a(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:k}}=await B.auth.getSession();p&&clearTimeout(p),x&&r((k==null?void 0:k.user)??null)}catch(k){console.error("Error initializing auth:",k),p&&clearTimeout(p),x&&r(null)}finally{x&&(a(!1),p&&clearTimeout(p))}})(),w=B.auth.onAuthStateChange(async(j,_)=>{var N;if(x&&!(!i&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((N=_==null?void 0:_.user)==null?void 0:N.id)===t.id))try{r((_==null?void 0:_.user)??null)}catch(k){console.error("Error in auth state change:",k)}finally{x&&a(!1)}}),()=>{x=!1,l&&clearTimeout(l),w&&w.data.subscription.unsubscribe()}},[i,u]);const f=async(x,w)=>{const{error:v}=await B.auth.signInWithPassword({email:x,password:w});return{error:v??void 0}},h=async(x,w)=>{const{error:v}=await B.auth.signUp({email:x,password:w});return{error:v??void 0}},m=async()=>{try{const{error:x}=await B.auth.signOut();x?console.error("Erreur lors de la déconnexion:",x):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},b={user:t,loading:n,signIn:f,signUp:h,signOut:m};return o.jsx(K_.Provider,{value:b,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...b3,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${w3(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ne("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ne("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class z3 extends y.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(j3,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontré une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner à l'accueil."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx($3,{className:"w-4 h-4"}),o.jsx("span",{children:"Recharger"})]}),o.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 Si le problème persiste:"}),o.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[o.jsx("li",{children:"• Vérifiez votre connexion internet"}),o.jsx("li",{children:"• Effacez le cache de votre navigateur"}),o.jsx("li",{children:"• Contactez le support si nécessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nx="popstate";function U3(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return Xm("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ml(a)}return F3(t,r,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function B3(){return Math.random().toString(36).substring(2,10)}function Sx(e,t){return{usr:e.state,key:e.key,idx:t}}function Xm(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qs(t):t,state:r,key:t&&t.key||n||B3()}}function ml({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function F3(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:v})}function h(w,v){l="PUSH";let p=Xm(x.location,w,v);u=d()+1;let g=Sx(p,u),j=x.createHref(p);try{s.pushState(g,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function m(w,v){l="REPLACE";let p=Xm(x.location,w,v);u=d();let g=Sx(p,u),j=x.createHref(p);s.replaceState(g,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function b(w){return q3(w)}let x={get action(){return l},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Nx,f),c=w,()=>{a.removeEventListener(Nx,f),c=null}},createHref(w){return t(a,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(w){return s.go(w)}};return x}function q3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),We(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ml(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function X_(e,t,r="/"){return W3(e,t,r,!1)}function W3(e,t,r,n){let a=typeof t=="string"?qs(t):t,i=Fn(a.pathname||"/",r);if(i==null)return null;let s=J_(e);V3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=r4(i);l=e4(s[c],u,n)}return l}function J_(e,t=[],r=[],n="",a=!1){let i=(s,l,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;We(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=In([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(We(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),J_(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:J3(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let u of Z_(s.path))i(s,l,!0,u)}),t}function Z_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Z_(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function V3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Z3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var H3=/^:[\w-]+$/,K3=3,G3=2,Y3=1,Q3=10,X3=-2,Ex=e=>e==="*";function J3(e,t){let r=e.split("/"),n=r.length;return r.some(Ex)&&(n+=X3),t&&(n+=G3),r.filter(a=>!Ex(a)).reduce((a,i)=>a+(H3.test(i)?K3:i===""?Y3:Q3),n)}function Z3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function e4(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:In([i,f.pathname]),pathnameBase:s4(In([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=In([i,f.pathnameBase]))}return s}function Ou(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=t4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let b=l[h]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function t4(e,t=!1,r=!0){Xr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function r4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function n4(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?qs(e):e;return{pathname:r?r.startsWith("/")?r:a4(r,t):t,search:o4(n),hash:l4(a)}}function a4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ch(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function e2(e){let t=i4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function t2(e,t,r,n=!1){let a;typeof e=="string"?a=qs(e):(a={...e},We(!a.pathname||!a.pathname.includes("?"),ch("?","pathname","search",a)),We(!a.pathname||!a.pathname.includes("#"),ch("#","pathname","hash",a)),We(!a.search||!a.search.includes("#"),ch("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=n4(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var In=e=>e.join("/").replace(/\/\/+/g,"/"),s4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,l4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function c4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var r2=["POST","PUT","PATCH","DELETE"];new Set(r2);var u4=["GET",...r2];new Set(u4);var Ws=y.createContext(null);Ws.displayName="DataRouter";var Ld=y.createContext(null);Ld.displayName="DataRouterState";y.createContext(!1);var n2=y.createContext({isTransitioning:!1});n2.displayName="ViewTransition";var d4=y.createContext(new Map);d4.displayName="Fetchers";var f4=y.createContext(null);f4.displayName="Await";var yn=y.createContext(null);yn.displayName="Navigation";var Ll=y.createContext(null);Ll.displayName="Location";var xn=y.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Jg=y.createContext(null);Jg.displayName="RouteError";function h4(e,{relative:t}={}){We(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(yn),{hash:a,pathname:i,search:s}=zl(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:In([r,i])),n.createHref({pathname:l,search:s,hash:a})}function Rl(){return y.useContext(Ll)!=null}function Gn(){return We(Rl(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Ll).location}var a2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i2(e){y.useContext(yn).static||y.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=y.useContext(xn);return e?S4():m4()}function m4(){We(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Ws),{basename:t,navigator:r}=y.useContext(yn),{matches:n}=y.useContext(xn),{pathname:a}=Gn(),i=JSON.stringify(e2(n)),s=y.useRef(!1);return i2(()=>{s.current=!0}),y.useCallback((c,u={})=>{if(Xr(s.current,a2),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=t2(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:In([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}y.createContext(null);function Ci(){let{matches:e}=y.useContext(xn),t=e[e.length-1];return t?t.params:{}}function zl(e,{relative:t}={}){let{matches:r}=y.useContext(xn),{pathname:n}=Gn(),a=JSON.stringify(e2(r));return y.useMemo(()=>t2(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function p4(e,t){return s2(e,t)}function s2(e,t,r,n,a){var p;We(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(yn),{matches:s}=y.useContext(xn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";o2(u,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Gn(),m;if(t){let g=typeof t=="string"?qs(t):t;We(d==="/"||((p=g.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=h;let b=m.pathname||"/",x=b;if(d!=="/"){let g=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=X_(e,{pathname:x});Xr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Xr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=b4(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:In([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:In([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n,a);return t&&v?y.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function g4(){let e=N4(),t=c4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,s)}var v4=y.createElement(g4,null),y4=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(xn.Provider,{value:this.props.routeContext},y.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function x4({routeContext:e,match:t,children:r}){let n=y.useContext(Ws);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(xn.Provider,{value:e},r)}function b4(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);We(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let h,m=!1,b=null,x=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||v4,l&&(c<0&&f===0?(o2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,f+1)),v=()=>{let p;return h?p=b:m?p=x:d.route.Component?p=y.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,y.createElement(x4,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(y4,{location:r.location,revalidation:r.revalidation,component:b,error:h,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):v()},null)}function Zg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w4(e){let t=y.useContext(Ws);return We(t,Zg(e)),t}function j4(e){let t=y.useContext(Ld);return We(t,Zg(e)),t}function _4(e){let t=y.useContext(xn);return We(t,Zg(e)),t}function e0(e){let t=_4(e),r=t.matches[t.matches.length-1];return We(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function k4(){return e0("useRouteId")}function N4(){var n;let e=y.useContext(Jg),t=j4("useRouteError"),r=e0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function S4(){let{router:e}=w4("useNavigate"),t=e0("useNavigate"),r=y.useRef(!1);return i2(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{Xr(r.current,a2),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Cx={};function o2(e,t,r){!t&&!Cx[e]&&(Cx[e]=!0,Xr(!1,r))}y.memo(E4);function E4({routes:e,future:t,state:r,unstable_onError:n}){return s2(e,void 0,r,n,t)}function vt(e){We(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function C4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){We(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=qs(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=y.useMemo(()=>{let b=Fn(c,s);return b==null?null:{location:{pathname:b,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Xr(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(yn.Provider,{value:l},y.createElement(Ll.Provider,{children:t,value:m}))}function P4({children:e,location:t}){return p4(Jm(e),t)}function Jm(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,Jm(n.props.children,i));return}We(n.type===vt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),We(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Jm(n.props.children,i)),r.push(s)}),r}var eu="get",tu="application/x-www-form-urlencoded";function Rd(e){return e!=null&&typeof e.tagName=="string"}function O4(e){return Rd(e)&&e.tagName.toLowerCase()==="button"}function A4(e){return Rd(e)&&e.tagName.toLowerCase()==="form"}function T4(e){return Rd(e)&&e.tagName.toLowerCase()==="input"}function M4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I4(e,t){return e.button===0&&(!t||t==="_self")&&!M4(e)}function Zm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function D4(e,t){let r=Zm(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var _c=null;function $4(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var L4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uh(e){return e!=null&&!L4.has(e)?(Xr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tu}"`),null):e}function R4(e,t){let r,n,a,i,s;if(A4(e)){let l=e.getAttribute("action");n=l?Fn(l,t):null,r=e.getAttribute("method")||eu,a=uh(e.getAttribute("enctype"))||tu,i=new FormData(e)}else if(O4(e)||T4(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Fn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||eu,a=uh(e.getAttribute("formenctype"))||uh(l.getAttribute("enctype"))||tu,i=new FormData(l,e),!$4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Rd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eu,n=null,a=tu,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function z4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Fn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function U4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function F4(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await U4(i,r);return s.links?s.links():[]}return[]}));return H4(n.flat(1).filter(B4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Px(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function q4(e,t,{includeHydrateFallback:r}={}){return W4(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function W4(e){return[...new Set(e)]}function V4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function H4(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(V4(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function l2(){let e=y.useContext(Ws);return t0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function K4(){let e=y.useContext(Ld);return t0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var r0=y.createContext(void 0);r0.displayName="FrameworkContext";function c2(){let e=y.useContext(r0);return t0(e,"You must render this element inside a <HydratedRouter> element"),e}function G4(e,t){let r=y.useContext(r0),[n,a]=y.useState(!1),[i,s]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=v=>{v.forEach(p=>{s(p.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),y.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:fo(l,m),onBlur:fo(c,b),onMouseEnter:fo(u,m),onMouseLeave:fo(d,b),onTouchStart:fo(f,m)}]:[!1,h,{}]}function fo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Y4({page:e,...t}){let{router:r}=l2(),n=y.useMemo(()=>X_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(X4,{page:e,matches:n,...t}):null}function Q4(e){let{manifest:t,routeModules:r}=c2(),[n,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return F4(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function X4({page:e,matches:t,...r}){let n=Gn(),{manifest:a,routeModules:i}=c2(),{basename:s}=l2(),{loaderData:l,matches:c}=K4(),u=y.useMemo(()=>Px(e,t,c,a,n,"data"),[e,t,c,a,n]),d=y.useMemo(()=>Px(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(v=>{var g;let p=a.routes[v.route.id];!p||!p.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in l&&((g=i[v.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?x=!0:b.add(v.route.id))}),b.size===0)return[];let w=z4(e,s,"data");return x&&b.size>0&&w.searchParams.set("_routes",t.filter(v=>b.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[s,l,n,a,u,t,e,i]),h=y.useMemo(()=>q4(d,a),[d,a]),m=Q4(d);return y.createElement(y.Fragment,null,f.map(b=>y.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),h.map(b=>y.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),m.map(({key:b,link:x})=>y.createElement("link",{key:b,nonce:r.nonce,...x})))}function J4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u2&&(window.__reactRouterVersion="7.9.1")}catch{}function Z4({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=U3({window:r,v5Compat:!0}));let a=n.current,[i,s]=y.useState({action:a.action,location:a.location}),l=y.useCallback(c=>{y.startTransition(()=>s(c))},[s]);return y.useLayoutEffect(()=>a.listen(l),[a,l]),y.createElement(C4,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var d2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:b}=y.useContext(yn),x=typeof u=="string"&&d2.test(u),w,v=!1;if(typeof u=="string"&&x&&(w=u,u2))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),P=Fn(C.pathname,b);C.origin===S.origin&&P!=null?u=P+C.search+C.hash:v=!0}catch{Xr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=h4(u,{relative:a}),[g,j,_]=G4(n,h),N=nM(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function k(S){t&&t(S),S.defaultPrevented||N(S)}let E=y.createElement("a",{...h,..._,href:w||p,onClick:v||i?t:k,ref:J4(m,j),target:c,"data-discover":!x&&r==="render"?"true":void 0});return g&&!x?y.createElement(y.Fragment,null,E,y.createElement(Y4,{page:p})):E});Je.displayName="Link";var eM=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:c,...u},d){let f=zl(s,{relative:u.relative}),h=Gn(),m=y.useContext(Ld),{navigator:b,basename:x}=y.useContext(yn),w=m!=null&&cM(f)&&l===!0,v=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,p=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(p=p.toLowerCase(),g=g?g.toLowerCase():null,v=v.toLowerCase()),g&&x&&(g=Fn(g,x)||g);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=p===v||!a&&p.startsWith(v)&&p.charAt(j)==="/",N=g!=null&&(g===v||!a&&g.startsWith(v)&&g.charAt(v.length)==="/"),k={isActive:_,isPending:N,isTransitioning:w},E=_?t:void 0,S;typeof n=="function"?S=n(k):S=[n,_?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(k):i;return y.createElement(Je,{...u,"aria-current":E,className:S,ref:d,style:C,to:s,viewTransition:l},typeof c=="function"?c(k):c)});eM.displayName="NavLink";var tM=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=eu,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let b=oM(),x=lM(l,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",v=typeof l=="string"&&d2.test(l),p=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||s;b(j||g.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return y.createElement("form",{ref:m,method:w,action:x,onSubmit:n?c:p,...h,"data-discover":!v&&e==="render"?"true":void 0})});tM.displayName="Form";function rM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f2(e){let t=y.useContext(Ws);return We(t,rM(e)),t}function nM(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let l=Zr(),c=Gn(),u=zl(e,{relative:i});return y.useCallback(d=>{if(I4(d,t)){d.preventDefault();let f=r!==void 0?r:ml(c)===ml(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[c,l,u,r,n,t,e,a,i,s])}function aM(e){Xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Zm(e)),r=y.useRef(!1),n=Gn(),a=y.useMemo(()=>D4(n.search,r.current?null:t.current),[n.search]),i=Zr(),s=y.useCallback((l,c)=>{const u=Zm(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var iM=0,sM=()=>`__${String(++iM)}__`;function oM(){let{router:e}=f2("useSubmit"),{basename:t}=y.useContext(yn),r=k4();return y.useCallback(async(n,a={})=>{let{action:i,method:s,encType:l,formData:c,body:u}=R4(n,t);if(a.navigate===!1){let d=a.fetcherKey||sM();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function lM(e,{relative:t}={}){let{basename:r}=y.useContext(yn),n=y.useContext(xn);We(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...zl(e||".",{relative:t})},s=Gn();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:In([r,i.pathname])),ml(i)}function cM(e,{relative:t}={}){let r=y.useContext(n2);We(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=f2("useViewTransitionState"),a=zl(e,{relative:t});if(!r.isTransitioning)return!1;let i=Fn(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Fn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ou(a.pathname,s)!=null||Ou(a.pathname,i)!=null}const uM=()=>{const[e,t]=y.useState("classic"),[r,n]=y.useState(""),[a,i]=y.useState(""),[s,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(null),[b,x]=y.useState(""),[w,v]=y.useState(!1),[p,g]=y.useState(!1),[j,_]=y.useState(""),[N,k]=y.useState(!1),{signIn:E,signUp:S}=fr(),C=async G=>{if(G.preventDefault(),!r.trim()||!a.trim()){P("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:H}=await E(r,a);H&&P("error",H.message==="Invalid login credentials"?"Email ou mot de passe incorrect":H.message)}catch{P("error","Une erreur est survenue")}finally{u(!1)}},P=(G,H)=>{m({type:G,text:H}),setTimeout(()=>m(null),5e3)},T=async G=>{if(G.preventDefault(),!j.trim()){P("error","Veuillez entrer votre adresse email");return}k(!0);try{const{error:H}=await B.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});H?P("error",H.message):(P("success","Un email de réinitialisation a été envoyé à votre adresse email."),g(!1),_(""))}catch{P("error","Une erreur est survenue")}finally{k(!1)}},L=async G=>{if(G.preventDefault(),!b.trim()){P("error","Veuillez entrer votre adresse email");return}v(!0);try{const{error:H}=await B.auth.signInWithOtp({email:b,options:{emailRedirectTo:`${window.location.origin}/`}});H?P("error",H.message):(P("success","Un lien de connexion a été envoyé à votre adresse email ! Cliquez sur le lien pour vous connecter."),x(""))}catch{P("error","Une erreur est survenue")}finally{v(!1)}},M=async()=>{try{const{error:G}=await B.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});G&&P("error",G.message)}catch{P("error","Erreur lors de la connexion avec Google")}},R=async()=>{if(!r.trim()||!a.trim()){P("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:G}=await S(r,a);G?P("error",G.message):(P("success","Compte créé avec succès ! Vous pouvez maintenant vous connecter."),i(""))}catch{P("error","Une erreur est survenue")}finally{f(!1)}};return p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oublié"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de réinitialisation"})]}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(qm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Bn,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Km,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:G=>_(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:N,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:N?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Envoyer le lien de réinitialisation"}),o.jsx(oh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{g(!1),_(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour à la connexion"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(qm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Bn,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"flex bg-gray-50",children:[o.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(us,{className:"w-4 h-4"}),o.jsx("span",{children:"Email & Mot de passe"})]})}),o.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(lh,{className:"w-4 h-4"}),o.jsx("span",{children:"Connexion magique"})]})})]}),o.jsxs("div",{className:"p-8",children:[e==="classic"&&o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(hl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:G=>n(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:G=>i(G.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>l(!s),children:s?o.jsx(li,{size:20}):o.jsx(mn,{size:20})})]})]}),o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oublié ?"})}),o.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[o.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Se connecter"}),o.jsx(oh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("button",{type:"button",onClick:R,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsx("span",{children:"Créer un compte"})})]})]}),e==="magic"&&o.jsxs("form",{onSubmit:L,className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lh,{className:"w-8 h-8 text-orange-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanément."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Km,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:b,onChange:G=>x(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(lh,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Envoyer le lien magique"}),o.jsx(oh,{className:"ml-2 w-4 h-4"})]})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),o.jsxs("button",{type:"button",onClick:M,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(hl,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de démonstration"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function sn({children:e}){const{user:t,loading:r}=fr(),n=Zr(),[a,i]=y.useState(!1),[s,l]=y.useState(null),[c,u]=y.useState(!0),[d,f]=y.useState(!document.hidden),[h,m]=y.useState(null),[b,x]=y.useState(!1);y.useEffect(()=>{const p=new URLSearchParams(window.location.search),g=p.has("code")||p.has("access_token")||p.has("token_type");x(g)},[]),y.useEffect(()=>{if(b)return;const p=setTimeout(()=>{(a||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),i(!1))},1e4);return m(p),()=>{clearTimeout(p),m(null)}},[a,r,c,b]),y.useEffect(()=>{const p=()=>{const g=!document.hidden;g!==d&&f(g)};return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[d]),y.useEffect(()=>{let p=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){p&&l(!1);return}const j=Date.now(),_=sessionStorage.getItem("lastMenuCheck");if(j-(_?parseInt(_):0)<5*60*1e3&&s!==null)return;const k=s===null&&window.location.pathname!=="/onboarding";k&&i(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:E,error:S}=await B.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!p)return;if(S&&S.code!=="PGRST116"){console.error("Error checking restaurant profile:",S),l(!1),n("/onboarding",{replace:!0});return}const C=!!E;l(C),!C&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(E){if(!p)return;console.error("Exception during profile check:",E),l(!1),n("/onboarding",{replace:!0})}finally{p&&k&&i(!1)}})(),()=>{p=!1})},[t,r,n,s,d,b]),y.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),v=a&&s===null;if(w||v){const p=b?"Finalisation de la connexion...":w?"Chargement...":v?"Vérification du compte...":"Initialisation...";return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:p})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vérification du compte..."})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(uM,{})}const dM=()=>{const{user:e,loading:t}=fr(),r=Zr(),[n,a]=y.useState(1),[i,s]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=y.useState(!1),[m,b]=y.useState(null),[x,w]=y.useState(!1),v=3;y.useEffect(()=>{e&&p()},[e]),y.useEffect(()=>{const P=setTimeout(()=>{if(u.restaurant_name.trim()){const T=ga(u.restaurant_name);d(L=>({...L,slug:T})),b(!0)}else d(T=>({...T,slug:""})),b(null)},500);return()=>clearTimeout(P)},[u.restaurant_name]);const p=async()=>{try{const{data:C,error:P}=await B.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(P&&P.code!=="PGRST116"){console.error("Erreur lors de la vérification du profil:",P);return}C&&r("/",{replace:!0})}catch(C){console.error("Erreur lors de la vérification du profil:",C)}},g=(C,P)=>{c({type:C,text:P}),setTimeout(()=>c(null),5e3)},j=(C,P)=>{d(T=>({...T,[C]:P}))},_=async(C,P)=>{if(!C||!e)return;const T=5*1024*1024;if(C.size>T){g("error","Le fichier est trop volumineux (max 5MB)");return}if(!C.type.startsWith("image/")){g("error","Veuillez sélectionner une image valide");return}w(!0);try{const L=P==="banner"?"banners":"logos",M=await _s(C,e.id,L);j(P==="banner"?"banner_url":"logo_url",M),g("success",`${P==="banner"?"Bannière":"Logo"} uploadé avec succès`)}catch{g("error","Erreur lors de l'upload")}finally{w(!1)}},N=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},k=()=>{N()&&n<v&&a(n+1)},E=()=>{n>1&&a(n-1)},S=async()=>{if(e){s(!0);try{const C={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:P}=await B.from("restaurant_profiles").insert([C]);if(P)throw P;g("success","Restaurant créé avec succès ! Bienvenue sur CloudMenu ! 🎉"),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(C){console.error("Erreur lors de la création du restaurant:",C),g("error","Erreur lors de la création du restaurant")}finally{s(!1)}}};return t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 relative",children:[o.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette étape"}),o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),o.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques étapes simples"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(v)].map((C,P)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${P+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:P+1}),P<v-1&&o.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${P+1<n?"bg-orange-600":"bg-gray-200"}`})]},P))}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Informations de base"}),o.jsx("span",{children:"Images"}),o.jsx("span",{children:"Contact"})]})]}),l&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[l.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ee,{className:"w-5 h-5"}),o.jsx("span",{children:l.text})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre établissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Commençons par les informations essentielles de votre restaurant."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),o.jsx("input",{type:"text",value:u.restaurant_name,onChange:C=>j("restaurant_name",C.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?o.jsx(we,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?o.jsx(Fe,{className:"w-5 h-5 text-green-600"}):m===!1?o.jsx(Bn,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom différent."}),m===!0&&o.jsx("p",{className:"mt-2 text-sm text-green-600",children:"✅ Cette URL est disponible et sera réservée pour votre établissement."}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"💡 Cette URL sera définitive et servira à générer votre QR code."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),o.jsx("textarea",{value:u.description,onChange:C=>j("description",C.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre établissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannière pour personnaliser votre menu (optionnel)."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannière du restaurant"}),o.jsxs("div",{className:"space-y-3",children:[u.banner_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:u.banner_url,alt:"Bannière",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),o.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ee,{size:12})})]}),o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var T;const P=(T=C.target.files)==null?void 0:T[0];P&&_(P,"banner")},className:"hidden",disabled:x}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:x?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(we,{className:"w-6 h-6 animate-spin text-orange-600"}),o.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ks,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannière"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 5MB"})]})})]})]})]})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Er,{className:"inline w-4 h-4 mr-1"}),"Téléphone"]}),o.jsx("input",{type:"tel",value:u.telephone,onChange:C=>j("telephone",C.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(yi,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),o.jsx("input",{type:"tel",value:u.whatsapp,onChange:C=>j("whatsapp",C.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Réseaux sociaux"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Oa,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:u.instagram,onChange:C=>j("instagram",C.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Pa,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:u.facebook,onChange:C=>j("facebook",C.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),o.jsx("input",{type:"url",value:u.tiktok,onChange:C=>j("tiktok",C.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),o.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[o.jsxs("button",{onClick:E,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(G_,{size:20}),o.jsx("span",{children:"Précédent"})]}),n<v?o.jsxs("button",{onClick:k,disabled:!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx("span",{children:"Suivant"}),o.jsx($d,{size:20})]}):o.jsxs("button",{onClick:S,disabled:i||!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsx(Fe,{size:20}),o.jsx("span",{children:i?"Création...":"Créer mon restaurant"})]})]})]}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En créant votre menu, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},fM=()=>{var g;const{user:e}=fr();y.useState(!1);const[t,r]=y.useState(null),[n,a]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,s]=y.useState({current:!1,new:!1,confirm:!1}),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(""),[m,b]=y.useState(!1),x=(j,_)=>{r({type:j,text:_}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){x("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){x("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){x("error","Le nouveau mot de passe doit contenir au moins 6 caractères");return}c(!0);try{const{error:_}=await B.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(_){x("error","Mot de passe actuel incorrect");return}const{error:N}=await B.auth.updateUser({password:n.newPassword});if(N){x("error","Erreur lors de la mise à jour du mot de passe");return}a({currentPassword:"",newPassword:"",confirmPassword:""}),x("success","Mot de passe mis à jour avec succès")}catch(_){console.error("Erreur lors du changement de mot de passe:",_),x("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},v=async()=>{if(f!=="SUPPRIMER"){x("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}b(!0);try{const{data:j,error:_}=await B.from("menus").select("id").eq("user_id",e.id);_&&console.error("Erreur lors de la récupération des menus:",_);const{error:N}=await B.auth.admin.deleteUser(e.id);if(N){x("error","Erreur lors de la suppression du compte");return}x("success","Compte supprimé avec succès")}catch(j){console.error("Erreur lors de la suppression du compte:",j),x("error","Erreur lors de la suppression du compte")}finally{b(!1),d(!1),h("")}};if(!e)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const p=((g=e.email)==null?void 0:g.split("@")[0])||"Utilisateur";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?o.jsx(Fe,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Ee,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:t.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramètres du compte"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez vos informations personnelles et paramètres de sécurité"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(hl,{size:20}),o.jsx("span",{children:"Informations du profil"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(hl,{size:20,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:p}),o.jsx("div",{className:"text-sm text-gray-500",children:"Généré automatiquement depuis votre email"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas être modifié pour des raisons de sécurité"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte créé le"}),o.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(us,{size:20}),o.jsx("span",{children:"Changer le mot de passe"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.current?"text":"password",value:n.currentPassword,onChange:j=>a(_=>({..._,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.current?o.jsx(li,{size:16}):o.jsx(mn,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.new?"text":"password",value:n.newPassword,onChange:j=>a(_=>({..._,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.new?o.jsx(li,{size:16}):o.jsx(mn,{size:16})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.confirm?"text":"password",value:n.confirmPassword,onChange:j=>a(_=>({..._,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.confirm?o.jsx(li,{size:16}):o.jsx(mn,{size:16})})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:l,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[l?o.jsx(we,{className:"w-4 h-4 animate-spin"}):o.jsx($l,{size:16}),o.jsx("span",{children:l?"Mise à jour...":"Mettre à jour le mot de passe"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[o.jsx(Bn,{size:20}),o.jsx("span",{children:"Zone de danger"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer définitivement le compte"}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irréversible. Tous vos menus, catégories, plats et données analytiques seront supprimés définitivement."}),u?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",o.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),o.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:v,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?o.jsx(we,{className:"w-4 h-4 animate-spin"}):o.jsx(xi,{size:16}),o.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),o.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(xi,{size:16}),o.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},hM=()=>{aM();const e=Zr(),[t,r]=y.useState(""),[n,a]=y.useState(""),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,b]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:{session:p},error:g}=await B.auth.getSession();if(g){console.error("Session error:",g),b(!1);return}p&&p.user?b(!0):b(!1)}catch(p){console.error("Error checking session:",p),b(!1)}})()},[]);const x=(v,p)=>{h({type:v,text:p}),setTimeout(()=>h(null),5e3)},w=async v=>{if(v.preventDefault(),!t.trim()||!n.trim()){x("error","Veuillez remplir tous les champs");return}if(t!==n){x("error","Les mots de passe ne correspondent pas");return}if(t.length<6){x("error","Le mot de passe doit contenir au moins 6 caractères");return}d(!0);try{const{error:p}=await B.auth.updateUser({password:t});p?x("error",p.message):(x("success","Mot de passe mis à jour avec succès ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{x("error","Une erreur est survenue")}finally{d(!1)}};return m===null?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vérification du lien..."})]})}):m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe sécurisé pour votre compte"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(us,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"🔐 Réinitialisation de mot de passe"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Vous êtes dans le processus de réinitialisation de votre mot de passe. Une fois votre nouveau mot de passe défini, vous serez automatiquement connecté à votre tableau de bord."})]})]})}),f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(qm,{className:"w-5 h-5"}):o.jsx(Bn,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:f.text})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:v=>r(v.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!i),children:i?o.jsx(li,{size:20}):o.jsx(mn,{size:20})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:v=>a(v.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!l),children:l?o.jsx(li,{size:20}):o.jsx(mn,{size:20})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?o.jsx(we,{className:"w-5 h-5 animate-spin"}):"Mettre à jour le mot de passe"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour à la connexion"})})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"🔒 Sécurité"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et sécurisé. Une fois modifié, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full space-y-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx(Bn,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expiré"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de réinitialisation de mot de passe n'est plus valide ou a expiré."}),o.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour à la connexion"})]})})})},h2=y.memo(({onMenuToggle:e})=>{var c;const[t,r]=y.useState(!1),{user:n,signOut:a}=fr(),i=async()=>{r(!1);try{await a()}catch(u){console.error("Erreur lors de la déconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",l=(n==null?void 0:n.email)||"";return o.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ds,{size:20})}),o.jsx("div",{className:"flex items-center",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(_3,{size:18,className:"sm:w-5 sm:h-5"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(hl,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),o.jsxs("div",{className:"text-left hidden sm:block",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:l})]}),o.jsx(ll,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-sm text-gray-500",children:l}),o.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configuré"})]}),o.jsxs("div",{className:"py-1",children:[o.jsxs(Je,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(fl,{size:16}),o.jsx("span",{children:"Paramètres du compte"})]}),o.jsxs("button",{onClick:i,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(D3,{size:16}),o.jsx("span",{children:"Se déconnecter"})]})]})]})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});h2.displayName="Header";const m2=y.memo(({isOpen:e,onClose:t})=>{const r=Gn(),n=[{section:"Tableau de bord",items:[{icon:A3,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:Xg,label:"Identité Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:M3,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:fs,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:nr,label:"Réservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:fl,label:"Paramètres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return o.jsx(o.Fragment,{children:o.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[o.jsx("div",{className:"lg:hidden flex justify-end p-4",children:o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:o.jsx(Ee,{size:20})})}),o.jsx("div",{className:"p-4 lg:pt-4",children:n.map((a,i)=>o.jsxs("div",{className:"mb-6 lg:mb-8",children:[o.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:a.section}),o.jsx("nav",{className:"space-y-1",children:a.items.map((s,l)=>s.path?o.jsxs(Je,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l):o.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l))})]},i))})]})})});m2.displayName="Sidebar";const mM=({children:e})=>o.jsx("div",{className:"animate-fadeIn",children:e}),Br=y.memo(({children:e,currentPage:t})=>{const[r,n]=y.useState(!1),a=y.useCallback(()=>n(l=>!l),[]),i=y.useCallback(()=>n(!1),[]),s=y.useCallback(()=>{r&&i()},[r,i]);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(h2,{onMenuToggle:a}),o.jsx(m2,{currentPage:t,isOpen:r,onClose:i}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),o.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:o.jsx(mM,{children:e})})})]})});Br.displayName="MainLayout";const Pi=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?o.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},Ox=[{code:"en",name:"English",flag:"🇬🇧"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"it",name:"Italiano",flag:"🇮🇹"},{code:"pt",name:"Português",flag:"🇵🇹"},{code:"ar",name:"العربية",flag:"🇸🇦"},{code:"zh",name:"中文",flag:"🇨🇳"},{code:"ja",name:"日本語",flag:"🇯🇵"},{code:"ru",name:"Русский",flag:"🇷🇺"},{code:"nl",name:"Nederlands",flag:"🇳🇱"}],pM=({menuId:e,defaultLanguage:t,menuName:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!0),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(!1),[m,b]=y.useState(null),[x,w]=y.useState("");y.useEffect(()=>{v()},[e]);const v=async()=>{try{const{data:S,error:C}=await B.from("menu_languages").select("*").eq("menu_id",e).order("created_at",{ascending:!0});if(C)throw C;a(S||[])}catch(S){console.error("Error loading languages:",S)}finally{s(!1)}},p=(S,C)=>{d({type:S,text:C}),setTimeout(()=>d(null),3e3)},g=async(S,C)=>{c(S);try{const{data:{session:P}}=await B.auth.getSession();if(!P)throw new Error("Not authenticated");const T=await fetch("https://ylayzeaacnjpzliquegv.supabase.co/functions/v1/translate-menu",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({menuId:e,targetLanguage:S,languageName:C})});if(!T.ok){const M=await T.json();throw new Error(M.error||"Translation failed")}try{const M=await fetch("https://ylayzeaacnjpzliquegv.supabase.co/functions/v1/translate-interface",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({languageCode:S,languageName:C})});M.ok||console.warn("Interface translation warning:",await M.text())}catch(M){console.warn("Interface translation failed:",M)}const L=await T.json();p("success",`Traduction en ${C} réussie`),await v(),h(!1)}catch(P){console.error("Translation error:",P),p("error",P.message||"Erreur lors de la traduction")}finally{c(null)}},j=(S,C)=>{b(S),w(C)},_=()=>{b(null),w("")},N=async S=>{if(!x.trim()){p("error","Le titre ne peut pas être vide");return}try{const{error:C}=await B.from("menu_languages").update({menu_title:x.trim()}).eq("id",S);if(C)throw C;p("success","Titre mis à jour"),await v(),b(null),w("")}catch(C){console.error("Error updating menu title:",C),p("error","Erreur lors de la mise à jour")}},k=async(S,C)=>{if(confirm("Voulez-vous vraiment supprimer cette traduction ?"))try{const{data:P}=await B.from("categories").select("id").eq("menu_id",e);if(P){const L=P.map(R=>R.id);await B.from("category_translations").delete().in("category_id",L).eq("language_code",C);const{data:M}=await B.from("menu_items").select("id").in("category_id",L);M&&await B.from("menu_item_translations").delete().in("menu_item_id",M.map(R=>R.id)).eq("language_code",C)}const{error:T}=await B.from("menu_languages").delete().eq("id",S);if(T)throw T;p("success","Traduction supprimée"),await v()}catch(P){console.error("Error deleting language:",P),p("error","Erreur lors de la suppression")}},E=Ox.filter(S=>!n.some(C=>C.language_code===S.code)&&S.code!==t);return i?o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(we,{className:"w-6 h-6 animate-spin text-gray-400"})})}):o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(Qg,{size:20}),o.jsx("span",{children:"Traductions"})]}),!f&&E.length>0&&o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:[o.jsx(dl,{size:16}),o.jsx("span",{children:"Ajouter une langue"})]})]}),u&&o.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[u.type==="success"?o.jsx(Fe,{size:16}):o.jsx(Ee,{size:16}),o.jsx("span",{className:"text-sm",children:u.text})]}),f&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Sélectionner une langue"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ee,{size:18})})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(S=>o.jsxs("button",{onClick:()=>g(S.code,S.name),disabled:l!==null,className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-white hover:border-orange-300 transition-colors disabled:opacity-50",children:[o.jsx("span",{className:"text-2xl",children:S.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.name}),l===S.code&&o.jsx(we,{className:"w-4 h-4 animate-spin text-orange-600"})]},S.code))})]}),o.jsx("div",{className:"space-y-3",children:n.length===0?o.jsx("p",{className:"text-sm text-gray-600 py-4 text-center",children:"Aucune traduction ajoutée. Ajoutez des langues pour traduire automatiquement votre menu."}):n.map(S=>{const C=Ox.find(T=>T.code===S.language_code),P=m===S.id;return o.jsx("div",{className:"p-3 sm:p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:(C==null?void 0:C.flag)||"🌐"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-gray-900 mb-1",children:(C==null?void 0:C.name)||S.language_code}),P?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:x,onChange:T=>w(T.target.value),placeholder:"Titre du menu",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",autoFocus:!0}),o.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Sauvegarder",children:o.jsx($l,{size:16})}),o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Annuler",children:o.jsx(Ee,{size:16})})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("span",{className:"truncate",children:S.menu_title||r}),o.jsx("button",{onClick:()=>j(S.id,S.menu_title||r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",title:"Modifier le titre",children:o.jsx(Gm,{size:14})})]})]})]}),!P&&o.jsx("button",{onClick:()=>k(S.id,S.language_code),className:"text-red-600 hover:text-red-700 p-2 rounded hover:bg-red-50 flex-shrink-0",title:"Supprimer cette traduction",children:o.jsx(xi,{size:16})})]})},S.id)})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[o.jsx("strong",{children:"Note :"})," Les traductions sont générées automatiquement par IA. Vous pouvez ensuite les modifier directement dans la page de gestion des articles."]})})]})},Ax=()=>{const{menuId:e}=Ci(),t=Zr(),r=e===void 0,[n,a]=y.useState(!1),[i,s]=y.useState(!0),[l,c]=y.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0,currency_symbol:"€"}),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,b]=y.useState(null),[x,w]=y.useState(null);y.useEffect(()=>{(async()=>{const{data:{user:E}}=await B.auth.getUser();if(E){const{data:S}=await B.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",E.id).maybeSingle();a(!!S),S&&r&&c(C=>({...C,nom:S.restaurant_name,slug:S.slug}))}s(!1)})()},[r]),y.useEffect(()=>{!r&&e?v(e):d(!1)},[e,r]);const v=async k=>{d(!0);try{const{data:{user:E}}=await B.auth.getUser();if(!E)return;const{data:S,error:C}=await B.from("menus").select("*").eq("id",k).eq("user_id",E.id).maybeSingle();if(C){console.error("Erreur lors du chargement du menu:",C),j("error","Erreur lors du chargement du menu");return}if(!S){j("error","Menu non trouvé"),t("/mes-menus");return}w(S),c({nom:S.nom,menu_name:S.menu_name||"",description:S.description,slug:S.slug,banniere_url:S.banniere_url,language:S.language||"fr",status:S.status||"published",couleur_primaire:S.couleur_primaire,couleur_secondaire:S.couleur_secondaire,couleur_texte:S.couleur_texte,couleur_fond:S.couleur_fond,afficher_powered_by:S.afficher_powered_by,lien_cloudmenu:S.lien_cloudmenu,currency_symbol:S.currency_symbol||"€"})}catch(E){console.error("Erreur lors du chargement du menu:",E),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},p=(k,E)=>{c(S=>{const C={...S,[k]:E};return k==="nom"&&typeof E=="string"&&r&&!n&&(C.slug=ga(E)),C})},g=async(k,E)=>{if(!k)return;const S=5*1024*1024;if(k.size>S){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!k.type.startsWith("image/")){j("error","Veuillez sélectionner une image valide");return}d(!0);try{const C=l.banniere_url;C&&await cs(C);const T=await _s(k,"bannieres");if(T.error){j("error",T.error);return}p("banniere_url",T.url),j("success","Bannière uploadée avec succès")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(k,E)=>{b({type:k,text:E}),setTimeout(()=>b(null),5e3)},_=async()=>{if(!n&&!l.nom.trim()){j("error","Le nom de l'établissement est obligatoire");return}h(!0);try{const{data:{user:k}}=await B.auth.getUser();if(!k){j("error","Vous devez être connecté");return}if(x){let E=l.slug;if(l.status==="published"&&!x.slug){const{data:P}=await B.from("restaurant_profiles").select("slug").eq("user_id",k.id).maybeSingle(),T=(P==null?void 0:P.slug)||ga(l.nom),L=ga(l.menu_name||l.nom);E=`${T}/${L}`}const S={nom:l.nom,menu_name:l.menu_name,description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{error:C}=await B.from("menus").update(S).eq("id",x.id);if(C)throw C;j("success","Menu mis à jour avec succès"),setTimeout(()=>{t(`/categories/${x.id}`)},1500)}else{let E=l.slug;if(l.status==="published"){const T=l.slug,L=ga(l.menu_name||"menu");E=`${T}/${L}`}else l.status==="draft"&&(E="");const S={user_id:k.id,nom:l.nom,menu_name:l.menu_name||"Menu principal",description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{data:C,error:P}=await B.from("menus").insert([S]).select().single();if(P)throw P;w(C),j("success","Menu créé avec succès"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(k){console.error("Erreur lors de la sauvegarde:",k),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},N=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!x||i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pi,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ee,{className:"w-5 h-5"}),o.jsx("span",{children:m.text})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("button",{onClick:()=>t(r?"/mes-menus":`/categories/${e}`),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Dl,{size:20}),o.jsx("span",{children:r?"Retour à mes menus":"Retour aux articles"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Créer un nouveau menu":"Modifier le menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identité visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le résultat en temps réel"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(T3,{size:20}),o.jsx("span",{children:"Informations générales"})]}),o.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'établissement"}),o.jsx("input",{type:"text",value:l.nom,onChange:k=>p("nom",k.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'établissement est partagé entre tous vos menus"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),o.jsx("input",{type:"text",value:l.menu_name,onChange:k=>p("menu_name",k.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom à ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos différents menus (boissons, plats, desserts...)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:l.description,onChange:k=>p("description",k.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Symbole de devise"}),o.jsx("input",{type:"text",value:l.currency_symbol,onChange:k=>p("currency_symbol",k.target.value),placeholder:"€",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Symbole qui s'affichera à côté des prix (ex: €, $, £, CHF, DH)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),o.jsxs("div",{className:"space-y-3",children:[l.banniere_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l.banniere_url,alt:"Bannière",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),o.jsx("button",{onClick:()=>p("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:o.jsx(Ee,{size:10,className:"sm:w-3 sm:h-3"})})]}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var S;const E=(S=k.target.files)==null?void 0:S[0];E&&g(E)},className:"hidden"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[o.jsx(ks,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),o.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu'à 5MB"})]})]})]})]})]})]}),!r&&x&&o.jsx(pM,{menuId:x.id,defaultLanguage:x.default_language||"fr",menuName:x.nom}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Xg,{size:20}),o.jsx("span",{children:"Design"})]}),o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:N.map((k,E)=>o.jsxs("button",{onClick:()=>{p("couleur_primaire",k.primary),p("couleur_secondaire",k.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.primary}}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.secondary}})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:k.name})]},E))}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_primaire,onChange:k=>p("couleur_primaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_primaire,onChange:k=>p("couleur_primaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_secondaire,onChange:k=>p("couleur_secondaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_secondaire,onChange:k=>p("couleur_secondaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),o.jsxs("button",{onClick:_,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?o.jsx(we,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):o.jsx($l,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),o.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},Ui={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},pt:{name:"Português",flag:"🇵🇹"},ar:{name:"العربية",flag:"🇸🇦"},zh:{name:"中文",flag:"🇨🇳"},ja:{name:"日本語",flag:"🇯🇵"},ru:{name:"Русский",flag:"🇷🇺"},nl:{name:"Nederlands",flag:"🇳🇱"}};function gM(){var rn,nn,Ge;const{user:e}=fr(),{menuId:t}=Ci(),r=Zr(),[n,a]=y.useState(null),[i,s]=y.useState([]),[l,c]=y.useState({}),[u,d]=y.useState(!0),[f,h]=y.useState(null),[m,b]=y.useState(null),[x,w]=y.useState(null),[v,p]=y.useState(null),[g,j]=y.useState(""),[_,N]=y.useState([]),[k,E]=y.useState({}),[S,C]=y.useState({}),[P,T]=y.useState(""),[L,M]=y.useState({}),[R,G]=y.useState(""),[H,F]=y.useState(""),[O,z]=y.useState({nom:"",description:""}),[U,q]=y.useState({});y.useEffect(()=>{e&&t&&fe()},[e,t]),y.useEffect(()=>{n&&(ge(),pe())},[n]),y.useEffect(()=>{n&&g&&g!==n.default_language&&Ue()},[g,n]);const fe=async()=>{if(!t){oe("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:A,error:ae}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(ae){console.error("Erreur lors du chargement du menu:",ae),oe("error","Erreur lors du chargement du menu");return}if(!A){oe("error","Menu non trouvé"),r("/mes-menus");return}a(A)}catch(A){console.error("Erreur lors du chargement du menu:",A),oe("error","Erreur lors du chargement du menu")}finally{d(!1)}},pe=async()=>{d(!0);try{const{data:A,error:ae}=await B.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(ae)throw ae;if(s(A||[]),A&&A.length>0){const{data:X,error:K}=await B.from("menu_items").select("*").in("category_id",A.map(le=>le.id)).order("ordre",{ascending:!0});if(K)throw K;const Q={};A.forEach(le=>{Q[le.id]=(X==null?void 0:X.filter(_e=>_e.category_id===le.id))||[]}),c(Q)}}catch(A){console.error("Erreur lors du chargement:",A),oe("error","Erreur lors du chargement des données")}finally{d(!1)}},ge=async()=>{if(n)try{const{data:A,error:ae}=await B.from("menu_languages").select("*").eq("menu_id",n.id).order("created_at",{ascending:!0});if(ae)throw ae;N(A||[]),!g&&n.default_language&&j(n.default_language)}catch(A){console.error("Error loading languages:",A)}},Ue=async()=>{if(!n||!g||g===n.default_language){E({}),C({}),T((n==null?void 0:n.menu_name)||"");return}try{const A=_.find(le=>le.language_code===g);A!=null&&A.menu_title?T(A.menu_title):T(n.menu_name||"Menu");const ae=i.map(le=>le.id),{data:X}=await B.from("category_translations").select("*").in("category_id",ae).eq("language_code",g),K={};X==null||X.forEach(le=>{K[le.category_id]=le}),E(K);const Q=[];if(Object.values(l).forEach(le=>{le.forEach(_e=>Q.push(_e.id))}),Q.length>0){const{data:le}=await B.from("menu_item_translations").select("*").in("menu_item_id",Q).eq("language_code",g),_e={};le==null||le.forEach(Xt=>{_e[Xt.menu_item_id]=Xt}),C(_e)}}catch(A){console.error("Error loading translations:",A)}},oe=(A,ae)=>{p({type:A,text:ae}),setTimeout(()=>p(null),5e3)},Qt=async()=>{if(R.trim())try{const A={menu_id:n.id,nom:R,description:H||"",ordre:i.length},{data:ae,error:X}=await B.from("categories").insert([A]).select().single();if(X)throw X;s([...i,ae]),c({...l,[ae.id]:[]}),G(""),F(""),oe("success","Catégorie ajoutée avec succès")}catch(A){console.error("Erreur lors de l'ajout de la catégorie:",A),oe("error","Erreur lors de l'ajout de la catégorie")}},Z=async A=>{if(O.nom.trim())try{if(g!==n.default_language){const X=k[A];if(X){const{error:K}=await B.from("category_translations").update({nom:O.nom,description:O.description||""}).eq("id",X.id);if(K)throw K}else{const{error:K}=await B.from("category_translations").insert({category_id:A,language_code:g,nom:O.nom,description:O.description||""});if(K)throw K}E({...k,[A]:{id:(X==null?void 0:X.id)||crypto.randomUUID(),category_id:A,language_code:g,nom:O.nom,description:O.description||""}}),oe("success","Traduction de catégorie modifiée avec succès")}else{const{error:X}=await B.from("categories").update({nom:O.nom,description:O.description||""}).eq("id",A);if(X)throw X;s(i.map(K=>K.id===A?{...K,nom:O.nom,description:O.description||""}:K)),oe("success","Catégorie modifiée avec succès")}b(null),z({nom:"",description:""})}catch(ae){console.error("Erreur lors de la modification de la catégorie:",ae),oe("error","Erreur lors de la modification de la catégorie")}},ue=async A=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette catégorie et tous ses éléments ?"))try{const ae=l[A]||[];for(const Q of ae)if(Q.image_url)try{await cs(Q.image_url)}catch(le){console.warn(`Failed to delete image for item ${Q.nom}:`,le)}const{error:X}=await B.from("categories").delete().eq("id",A);if(X)throw X;s(i.filter(Q=>Q.id!==A));const K={...l};delete K[A],c(K),oe("success","Catégorie supprimée avec succès")}catch(ae){console.error("Erreur lors de la suppression:",ae),oe("error","Erreur lors de la suppression")}},he=async(A,ae,X)=>{if(!A)return;if(A.size>5*1024*1024){oe("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){oe("error","Veuillez sélectionner une image valide");return}const K=ae||`new-item-${X}`;h(K);try{const Q=await _s(A,"menu-items");if(Q.error){oe("error",Q.error);return}const{data:le,error:_e}=await B.from("menu_items").update({image_url:Q.url}).eq("id",ae).select().single();if(_e)throw _e;c({...l,[X]:l[X].map(Xt=>Xt.id===ae?le:Xt)}),oe("success","Image mise à jour avec succès")}catch(Q){console.error("Erreur lors de l'upload:",Q),oe("error","Erreur lors de l'upload")}finally{h(null)}},W=async(A,ae,X)=>{try{X&&await cs(X);const{data:K,error:Q}=await B.from("menu_items").update({image_url:""}).eq("id",A).select().single();if(Q)throw Q;c({...l,[ae]:l[ae].map(le=>le.id===A?K:le)}),oe("success","Image supprimée avec succès")}catch(K){console.error("Erreur lors de la suppression:",K),oe("error","Erreur lors de la suppression")}},D=async(A,ae)=>{if(A){if(A.size>5*1024*1024){oe("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){oe("error","Veuillez sélectionner une image valide");return}h(`new-item-${ae}`);try{const X=await _s(A,"menu-items");if(X.error){oe("error",X.error);return}q({...U,[ae]:{...U[ae],image_url:X.url}}),oe("success","Image uploadée avec succès")}catch(X){console.error("Erreur lors de l'upload:",X),oe("error","Erreur lors de l'upload")}finally{h(null)}}},V=A=>U[A]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},ie=(A,ae)=>{q({...U,[A]:{...V(A),...ae}})},xe=async A=>{var X,K;const ae=V(A);if(!((X=ae.nom)!=null&&X.trim())||!ae.prix){oe("error","Le nom et le prix sont obligatoires");return}try{const Q={...ae,category_id:A,ordre:((K=l[A])==null?void 0:K.length)||0},{data:le,error:_e}=await B.from("menu_items").insert([Q]).select().single();if(_e)throw _e;c({...l,[A]:[...l[A]||[],le]});const Xt={...U};delete Xt[A],q(Xt),oe("success","Plat ajouté avec succès")}catch(Q){console.error("Erreur lors de l'ajout du plat:",Q),oe("error","Erreur lors de l'ajout du plat")}},Me=async(A,ae)=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce plat ?"))try{const X=l[ae].find(Q=>Q.id===A);X!=null&&X.image_url&&await cs(X.image_url);const{error:K}=await B.from("menu_items").delete().eq("id",A);if(K)throw K;c({...l,[ae]:l[ae].filter(Q=>Q.id!==A)}),oe("success","Plat supprimé avec succès")}catch(X){console.error("Erreur lors de la suppression:",X),oe("error","Erreur lors de la suppression")}},rt=async(A,ae)=>{try{const{data:X,error:K}=await B.from("menu_items").update({disponible:!A.disponible}).eq("id",A.id).select().single();if(K)throw K;c({...l,[ae]:l[ae].map(Q=>Q.id===A.id?X:Q)})}catch(X){console.error("Erreur lors de la mise à jour:",X),oe("error","Erreur lors de la mise à jour")}},tn=A=>{w(A.id);const X=g!==n.default_language?S[A.id]:null;M({nom:(X==null?void 0:X.nom)||A.nom,description:(X==null?void 0:X.description)||A.description,prix:A.prix,allergenes:A.allergenes,vegetarien:A.vegetarien,vegan:A.vegan,sans_gluten:A.sans_gluten,epice:A.epice})},ta=()=>{w(null),M({})},Lr=async(A,ae)=>{var X;if(!((X=L.nom)!=null&&X.trim())){oe("error","Le nom du plat est obligatoire");return}try{if(g!==n.default_language){const Q=S[A];if(Q){const{error:le}=await B.from("menu_item_translations").update({nom:L.nom,description:L.description||""}).eq("id",Q.id);if(le)throw le}else{const{error:le}=await B.from("menu_item_translations").insert({menu_item_id:A,language_code:g,nom:L.nom,description:L.description||""});if(le)throw le}C({...S,[A]:{id:(Q==null?void 0:Q.id)||crypto.randomUUID(),menu_item_id:A,language_code:g,nom:L.nom,description:L.description||""}}),oe("success","Traduction modifiée avec succès")}else{const{data:Q,error:le}=await B.from("menu_items").update(L).eq("id",A).select().single();if(le)throw le;c({...l,[ae]:l[ae].map(_e=>_e.id===A?Q:_e)}),oe("success","Plat modifié avec succès")}w(null),M({})}catch(K){console.error("Erreur lors de la modification:",K),oe("error","Erreur lors de la modification")}},wn=async(A,ae,X)=>{if(ae!==X)try{const{data:K,error:Q}=await B.from("menu_items").update({category_id:X}).eq("id",A).select().single();if(Q)throw Q;const le=l[ae].filter(Xt=>Xt.id!==A),_e=[...l[X]||[],K];c({...l,[ae]:le,[X]:_e}),oe("success","Plat déplacé avec succès")}catch(K){console.error("Erreur lors du déplacement:",K),oe("error","Erreur lors du déplacement")}};return u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pi,{size:"lg"})}):n?o.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[v&&o.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${v.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:v.text})}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Dl,{size:20}),o.jsx("span",{children:"Retour à mes menus"})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:P||n.menu_name||"Menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catégories et plats"})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx(Je,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white p-2.5 rounded-lg hover:bg-purple-700 transition-colors",title:"Import IA",children:o.jsx(Qm,{size:20})}),o.jsx(Je,{to:`/mon-menu/${t}`,className:"bg-gray-600 text-white p-2.5 rounded-lg hover:bg-gray-700 transition-colors",title:"Paramètres",children:o.jsx(fl,{size:20})}),o.jsx("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white p-2.5 rounded-lg hover:bg-orange-700 transition-colors",title:"Prévisualiser",children:o.jsx(mn,{size:20})})]})]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>j(n.default_language||"fr"),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g===n.default_language?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((rn=Ui[n.default_language||"fr"])==null?void 0:rn.name)||"Français",children:[o.jsx("span",{className:"text-base sm:text-lg",children:((nn=Ui[n.default_language||"fr"])==null?void 0:nn.flag)||"🇫🇷"}),o.jsx("span",{className:"hidden sm:inline",children:((Ge=Ui[n.default_language||"fr"])==null?void 0:Ge.name)||"Français"})]}),_.map(A=>{var ae,X,K;return o.jsxs("button",{onClick:()=>j(A.language_code),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g===A.language_code?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ae=Ui[A.language_code])==null?void 0:ae.name)||A.language_code,children:[o.jsx("span",{className:"text-base sm:text-lg",children:((X=Ui[A.language_code])==null?void 0:X.flag)||"🌐"}),o.jsx("span",{className:"hidden sm:inline",children:((K=Ui[A.language_code])==null?void 0:K.name)||A.language_code})]},A.id)})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catégorie"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("input",{type:"text",value:R,onChange:A=>G(A.target.value),placeholder:"Nom de la catégorie (ex: Entrées, Plats, Desserts...)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:A=>A.key==="Enter"&&!A.shiftKey&&Qt()}),o.jsx("textarea",{value:H,onChange:A=>F(A.target.value),placeholder:"Description de la catégorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base resize-none",rows:2}),o.jsxs("button",{onClick:Qt,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base self-end",children:[o.jsx(dl,{size:18}),o.jsx("span",{children:"Ajouter"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(R3,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),o.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catégorie"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catégorie pour organiser votre menu."})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:i.map(A=>{var ae,X;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m===A.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:O.nom,onChange:K=>z({...O,nom:K.target.value}),placeholder:"Nom de la catégorie",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"}),o.jsx("textarea",{value:O.description,onChange:K=>z({...O,description:K.target.value}),placeholder:"Description de la catégorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 resize-none",rows:2}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>Z(A.id),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[o.jsx($l,{size:16}),o.jsx("span",{children:"Enregistrer"})]}),o.jsxs("button",{onClick:()=>{b(null),z({nom:"",description:""})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2",children:[o.jsx(Ee,{size:16}),o.jsx("span",{children:"Annuler"})]})]})]}):o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx(Vm,{className:"text-gray-400 hidden sm:block mt-1",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:g!==n.default_language&&k[A.id]?k[A.id].nom:A.nom}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((ae=l[A.id])==null?void 0:ae.length)||0," plats"]})]}),A.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g!==n.default_language&&k[A.id]?k[A.id].description:A.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{b(A.id);const Q=g!==n.default_language?k[A.id]:null;z({nom:(Q==null?void 0:Q.nom)||A.nom,description:(Q==null?void 0:Q.description)||A.description||""})},className:"text-orange-600 hover:text-orange-700 p-2 rounded-lg hover:bg-orange-50",children:o.jsx(Gm,{size:18})}),o.jsx("button",{onClick:()=>ue(A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:o.jsx(xi,{size:18})})]})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4",children:[(X=l[A.id])==null?void 0:X.map(K=>o.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${x===K.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[o.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:K.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:K.image_url,alt:K.nom,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var _e;const le=(_e=Q.target.files)==null?void 0:_e[0];le&&he(le,K.id,A.id)},className:"hidden"}),f===K.id?o.jsx(we,{className:"w-4 h-4 text-white animate-spin"}):o.jsx(jx,{className:"w-4 h-4 text-white hover:scale-110"})]}),o.jsx("button",{onClick:()=>W(K.id,A.id,K.image_url),className:"text-white hover:text-red-300",children:o.jsx(Ee,{className:"w-4 h-4"})})]})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var _e;const le=(_e=Q.target.files)==null?void 0:_e[0];le&&he(le,K.id,A.id)},className:"hidden"}),f===K.id?o.jsx(we,{className:"text-gray-400 animate-spin",size:24}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(jx,{className:"text-gray-400",size:20}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),o.jsx("div",{className:"flex-1",children:x===K.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),o.jsx("input",{type:"text",value:L.nom||"",onChange:Q=>M({...L,nom:Q.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Prix (",n.currency_symbol||"€",")"]}),o.jsx("input",{type:"number",value:L.prix||"",onChange:Q=>M({...L,prix:parseFloat(Q.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:L.description||"",onChange:Q=>M({...L,description:Q.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:L.vegetarien||!1,onChange:Q=>M({...L,vegetarien:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Végétarien"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:L.vegan||!1,onChange:Q=>M({...L,vegan:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vegan"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:L.sans_gluten||!1,onChange:Q=>M({...L,sans_gluten:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:L.epice||!1,onChange:Q=>M({...L,epice:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Épicé"})]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:g!==n.default_language&&S[K.id]?S[K.id].nom:K.nom}),K.vegetarien&&o.jsx(oa,{className:"text-green-600",size:16}),K.vegan&&o.jsx(oa,{className:"text-green-700",size:16}),K.epice&&o.jsx(Zc,{className:"text-red-600",size:16})]}),(g!==n.default_language&&S[K.id]?S[K.id].description:K.description)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:g!==n.default_language&&S[K.id]?S[K.id].description:K.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[K.prix.toFixed(2)," ",n.currency_symbol||"€"]}),K.allergenes.length>0&&o.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergènes: ",K.allergenes.join(", ")]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[i.length>1&&x!==K.id&&o.jsx("select",{value:A.id,onChange:Q=>wn(K.id,A.id,Q.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Déplacer vers une autre catégorie",children:i.map(Q=>o.jsx("option",{value:Q.id,children:g!==n.default_language&&k[Q.id]?k[Q.id].nom:Q.nom},Q.id))}),x===K.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Lr(K.id,A.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:o.jsx(Fe,{size:18})}),o.jsx("button",{onClick:ta,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:o.jsx(Ee,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>tn(K),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:o.jsx(Gm,{size:18})}),o.jsx("button",{onClick:()=>rt(K,A.id),className:`p-2 rounded-lg ${K.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:K.disponible?"Disponible":"Non disponible",children:K.disponible?o.jsx(mn,{size:18}):o.jsx(li,{size:18})}),o.jsx("button",{onClick:()=>Me(K.id,A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:o.jsx(xi,{size:18})})]})]})]},K.id)),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const K=V(A.id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),o.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:K.image_url?o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("img",{src:K.image_url,alt:"Aperçu",className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>ie(A.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ee,{size:12})})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var _e;const le=(_e=Q.target.files)==null?void 0:_e[0];le&&D(le,A.id)},className:"hidden"}),f===`new-item-${A.id}`?o.jsx(we,{className:"text-gray-400 animate-spin",size:20}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(ks,{className:"text-gray-400",size:16}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),o.jsx("input",{type:"text",value:K.nom||"",onChange:Q=>ie(A.id,{nom:Q.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:K.description||"",onChange:Q=>ie(A.id,{description:Q.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Prix (",n.currency_symbol||"€",")"]}),o.jsx("input",{type:"number",value:K.prix||"",onChange:Q=>ie(A.id,{prix:parseFloat(Q.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),o.jsxs("button",{onClick:()=>xe(A.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[o.jsx(dl,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},A.id)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouvé"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accès à celui-ci."}),o.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour à mes menus"})]})}const Tx={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},ar:{name:"العربية",flag:"🇸🇦"}};function vM(){const{user:e}=fr(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,s]=y.useState(null),[l,c]=y.useState(null);y.useEffect(()=>{e&&u()},[e]);const u=async()=>{a(!0);try{const{data:v,error:p}=await B.from("menus").select("*").eq("user_id",e.id).order("ordre",{ascending:!0}).order("created_at",{ascending:!1});if(p)throw p;r(v||[])}catch(v){console.error("Erreur lors du chargement des menus:",v),d("error","Erreur lors du chargement des menus")}finally{a(!1)}},d=(v,p)=>{s({type:v,text:p}),setTimeout(()=>s(null),5e3)},f=async v=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce menu ? Toutes les catégories et plats associés seront également supprimés."))try{const{error:p}=await B.from("menus").delete().eq("id",v);if(p)throw p;r(t.filter(g=>g.id!==v)),d("success","Menu supprimé avec succès")}catch(p){console.error("Erreur lors de la suppression:",p),d("error","Erreur lors de la suppression du menu")}},h=async v=>{try{const{id:p,created_at:g,updated_at:j,slug:_,...N}=v,k={...N,menu_name:`${v.menu_name||v.nom} (Copie)`,slug:"",status:"draft"},{data:E,error:S}=await B.from("menus").insert([k]).select().single();if(S)throw S;r([E,...t]),d("success","Menu dupliqué avec succès (brouillon)")}catch(p){console.error("Erreur lors de la duplication:",p),d("error","Erreur lors de la duplication du menu")}},m=async(v,p)=>{try{let g;if(p==="actif")g={actif:!v.actif};else{const _=v.status==="draft";if(g={status:_?"published":"draft"},_&&!v.slug){const{data:N}=await B.from("restaurant_profiles").select("slug").eq("user_id",v.user_id).maybeSingle(),k=(N==null?void 0:N.slug)||ga(v.nom),E=ga(v.menu_name||v.nom);g.slug=`${k}/${E}`}}const{error:j}=await B.from("menus").update(g).eq("id",v.id);if(j)throw j;r(t.map(_=>_.id===v.id?{..._,...g}:_)),d("success","Statut mis à jour avec succès")}catch(g){console.error("Erreur lors de la mise à jour:",g),d("error","Erreur lors de la mise à jour du statut")}},b=v=>{c(v)},x=(v,p)=>{v.preventDefault()},w=async(v,p)=>{if(v.preventDefault(),l===null||l===p){c(null);return}const g=[...t],j=g[l];g.splice(l,1),g.splice(p,0,j),r(g),c(null);try{const _=g.map((N,k)=>({id:N.id,ordre:k}));for(const N of _)await B.from("menus").update({ordre:N.ordre}).eq("id",N.id);d("success","Ordre des menus mis à jour")}catch(_){console.error("Erreur lors de la mise à jour de l'ordre:",_),d("error","Erreur lors de la mise à jour de l'ordre"),u()}};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pi,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[i&&o.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${i.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:i.text})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez tous vos menus de restaurant"})]}),o.jsxs(Je,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[o.jsx(dl,{size:18}),o.jsx("span",{children:"Créer un nouveau menu"})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(C3,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par créer votre premier menu pour votre restaurant."}),o.jsxs(Je,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[o.jsx(dl,{size:18}),o.jsx("span",{children:"Créer mon premier menu"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block lg:hidden space-y-4",children:t.map((v,p)=>{var g,j;return o.jsxs("div",{draggable:!0,onDragStart:()=>b(p),onDragOver:_=>x(_),onDrop:_=>w(_,p),className:`bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden cursor-move ${l===p?"opacity-50":""}`,children:[v.banniere_url?o.jsx("div",{className:"h-32 bg-gray-200",children:o.jsx("img",{src:v.banniere_url,alt:v.menu_name||v.nom,className:"w-full h-full object-cover"})}):o.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-4xl font-bold",children:(v.menu_name||v.nom).charAt(0).toUpperCase()})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[o.jsx(Vm,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:v.menu_name||v.nom}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(g=Tx[v.language||"fr"])==null?void 0:g.flag}),o.jsx("span",{className:"text-xs text-gray-500",children:(j=Tx[v.language||"fr"])==null?void 0:j.name})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("button",{onClick:()=>m(v,"status"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${v.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:v.status==="published"?"Publié":"Brouillon"}),o.jsx("button",{onClick:()=>m(v,"actif"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${v.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:v.actif?"Actif":"Inactif"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Je,{to:`/categories/${v.id}`,className:"w-full flex items-center justify-center gap-2 text-sm bg-orange-600 text-white hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium shadow-sm transition-colors",children:[o.jsx(Hm,{size:18}),o.jsx("span",{children:"Gérer les articles"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(Je,{to:`/mon-menu/${v.id}`,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Paramètres",children:o.jsx(fl,{size:20})}),o.jsx("button",{onClick:()=>h(v),className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Dupliquer",children:o.jsx(Wm,{size:20})}),o.jsx("button",{onClick:()=>f(v.id),className:"flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 p-2.5 rounded-lg border border-red-200 transition-colors",title:"Supprimer",children:o.jsx(xi,{size:20})})]})]})]})]},v.id)})}),o.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"w-8 px-2 py-3"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilité"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map((v,p)=>o.jsxs("tr",{draggable:!0,onDragStart:()=>b(p),onDragOver:g=>x(g),onDrop:g=>w(g,p),className:`hover:bg-gray-50 transition-colors cursor-move ${l===p?"opacity-50":""}`,children:[o.jsx("td",{className:"px-2 py-4",children:o.jsx(Vm,{className:"text-gray-400",size:20})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[v.banniere_url?o.jsx("img",{src:v.banniere_url,alt:v.menu_name||v.nom,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-bold",children:(v.menu_name||v.nom).charAt(0).toUpperCase()})}),o.jsx("div",{children:o.jsx("div",{className:"font-medium text-gray-900",children:v.menu_name||v.nom})})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>m(v,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${v.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:v.status==="published"?"Publié":"Brouillon"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>m(v,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${v.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:v.actif?"Actif":"Inactif"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(Je,{to:`/categories/${v.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Gérer les articles",children:o.jsx(Hm,{size:18})}),o.jsx(Je,{to:`/mon-menu/${v.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramètres du menu",children:o.jsx(fl,{size:18})}),o.jsx("button",{onClick:()=>h(v),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:o.jsx(Wm,{size:18})}),o.jsx("button",{onClick:()=>f(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:o.jsx(xi,{size:18})})]})})]},v.id))})]})})]})]})})}const yM=()=>{const{user:e}=fr(),{menuId:t}=Ci(),r=Zr(),[n,a]=y.useState(null),[i,s]=y.useState(!0),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,b]=y.useState(""),[x,w]=y.useState(!0);y.useEffect(()=>{e&&t&&v()},[e,t]);const v=async()=>{if(!t){p("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:_,error:N}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(N){console.error("Erreur lors du chargement du menu:",N),p("error","Erreur lors du chargement du menu");return}if(!_){p("error","Menu non trouvé"),r("/mes-menus");return}a(_)}catch(_){console.error("Erreur lors du chargement du menu:",_),p("error","Erreur lors du chargement du menu")}finally{s(!1)}},p=(_,N)=>{h({type:_,text:N}),setTimeout(()=>h(null),5e3)},g=async _=>{if(_){if(_.size>10*1024*1024){p("error","Le fichier est trop volumineux (max 10MB)");return}if(!_.type.startsWith("image/")){p("error","Veuillez sélectionner une image valide");return}c(!0);try{p("success","Upload de l'image en cours...");const N=await _s(_,"menu-items");if(N.error){p("error",N.error);return}b("Analyse de l'image avec l'IA..."),p("success","Analyse de l'image avec l'IA...");const k=await fetch("https://ylayzeaacnjpzliquegv.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InlsYXl6ZWFhY25qcHpsaXF1ZWd2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk2NjgxMjYsImV4cCI6MjA3NTI0NDEyNn0._7HKfqrLVd6gMN0XEEOHxJcYX7pQvS9E_5VyXefZmIg"},body:JSON.stringify({imageUrl:N.url,menuId:n.id,importImages:x})});if(b("Traitement de la réponse..."),!k.ok){const S=await k.json();p("error",S.error||"Erreur lors de l'analyse");return}const E=await k.json();if(!E.success){p("error",E.error||"Erreur lors de l'analyse");return}b("Insertion des données en base..."),p("success","Insertion des données et images en base..."),await j(E.data);try{await cs(N.url)}catch(S){console.warn("Failed to cleanup analysis image:",S)}p("success","Menu importé avec succès ! 🎉 Vous pouvez maintenant retourner à la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(N){console.error("Erreur lors du traitement:",N),p("error","Erreur lors du traitement de l'image")}finally{c(!1),b(""),d(null)}}},j=async _=>{try{const{data:N}=await B.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),k=N&&N.length>0?N[0].ordre+1:0;for(const E of _.categories){const{data:S,error:C}=await B.from("categories").insert([{menu_id:n.id,nom:E.name,description:E.description||"",ordre:k+_.categories.indexOf(E)}]).select().single();if(C)throw C;for(const P of E.items){const{error:T}=await B.from("menu_items").insert([{category_id:S.id,nom:P.name,description:P.description||"",prix:P.price||0,image_url:P.image_url||"",allergenes:P.allergenes||[],vegetarien:P.vegetarian||!1,vegan:P.vegan||!1,sans_gluten:P.gluten_free||!1,epice:P.spicy||!1,ordre:E.items.indexOf(P)}]);if(T)throw T}}}catch(N){throw console.error("Erreur lors de l'insertion:",N),N}};return i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pi,{size:"lg"})}):n?o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Je,{to:`/categories/${t}`,className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Dl,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),o.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5"}):o.jsx(Ee,{className:"w-5 h-5 mt-0.5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Qm,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie opérer !"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var k;const N=(k=_.target.files)==null?void 0:k[0];N&&d(N)},className:"hidden",disabled:l}),o.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(E3,{className:"w-6 h-6 text-purple-600"})}),u?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour sélectionner une image de votre menu"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 10MB - Plus la photo est claire, meilleur sera le résultat"})]})]})})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[o.jsx("input",{type:"checkbox",id:"importImages",checked:x,onChange:_=>w(_.target.checked),disabled:l,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),o.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>u&&g(u),disabled:!u||l,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:l?o.jsxs(o.Fragment,{children:[o.jsx(we,{className:"animate-spin",size:24}),o.jsx("span",{children:"Analyse en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Qm,{size:24}),o.jsx("span",{children:"Analyser le menu"})]})})})]}),l&&o.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[o.jsx(we,{className:"animate-spin",size:20}),o.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),o.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),o.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexité de votre menu et le nombre de plats",x&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),o.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur résultat"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-green-600 font-bold",children:"📱"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien éclairée et nette"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"📄"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"✓"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),o.jsx(Je,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})})};var La={},xM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},p2={},hr={};let n0;const bM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];hr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};hr.getSymbolTotalCodewords=function(t){return bM[t]};hr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};hr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');n0=t};hr.isKanjiModeEnabled=function(){return typeof n0<"u"};hr.toSJIS=function(t){return n0(t)};var zd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(zd);function g2(){this.buffer=[],this.length=0}g2.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var wM=g2;function Ul(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ul.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};Ul.prototype.get=function(e,t){return this.data[e*this.size+t]};Ul.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ul.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var jM=Ul,v2={};(function(e){const t=hr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),s=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),s=i.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||a.push([i[l],i[c]]);return a}})(v2);var y2={};const _M=hr.getSymbolSize,Mx=7;y2.getPositions=function(t){const r=_M(t);return[[0,0],[r-Mx,0],[0,r-Mx]]};var x2={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let s=0,l=0,c=0,u=null,d=null;for(let f=0;f<i;f++){l=c=0,u=d=null;for(let h=0;h<i;h++){let m=a.get(f,h);m===u?l++:(l>=5&&(s+=t.N1+(l-5)),u=m,l=1),m=a.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(a){const i=a.size;let s=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(a){const i=a.size;let s=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|a.get(u,d),d>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(a){let i=0;const s=a.data.length;for(let c=0;c<s;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const s=i.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const s=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<s;u++){i(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,l=u)}return l}})(x2);var Ud={};const va=zd,kc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Nc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ud.getBlocksCount=function(t,r){switch(r){case va.L:return kc[(t-1)*4+0];case va.M:return kc[(t-1)*4+1];case va.Q:return kc[(t-1)*4+2];case va.H:return kc[(t-1)*4+3];default:return}};Ud.getTotalCodewordsCount=function(t,r){switch(r){case va.L:return Nc[(t-1)*4+0];case va.M:return Nc[(t-1)*4+1];case va.Q:return Nc[(t-1)*4+2];case va.H:return Nc[(t-1)*4+3];default:return}};var b2={},Bd={};const Bo=new Uint8Array(512),Au=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Bo[r]=t,Au[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Bo[r]=Bo[r-255]})();Bd.log=function(t){if(t<1)throw new Error("log("+t+")");return Au[t]};Bd.exp=function(t){return Bo[t]};Bd.mul=function(t,r){return t===0||r===0?0:Bo[Au[t]+Au[r]]};(function(e){const t=Bd;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<a.length;l++)i[s+l]^=t.mul(n[s],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const s=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],s);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(b2);const w2=b2;function a0(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}a0.prototype.initialize=function(t){this.degree=t,this.genPoly=w2.generateECPolynomial(this.degree)};a0.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=w2.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var kM=a0,j2={},Ra={},i0={};i0.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var bn={};const _2="[0-9]+",NM="[A-Z $%*+\\-./:]+";let pl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";pl=pl.replace(/u/g,"\\u");const SM="(?:(?![A-Z0-9 $%*+\\-./:]|"+pl+`)(?:.|[\r
]))+`;bn.KANJI=new RegExp(pl,"g");bn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");bn.BYTE=new RegExp(SM,"g");bn.NUMERIC=new RegExp(_2,"g");bn.ALPHANUMERIC=new RegExp(NM,"g");const EM=new RegExp("^"+pl+"$"),CM=new RegExp("^"+_2+"$"),PM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");bn.testKanji=function(t){return EM.test(t)};bn.testNumeric=function(t){return CM.test(t)};bn.testAlphanumeric=function(t){return PM.test(t)};(function(e){const t=i0,r=bn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,s){if(e.isValid(i))return i;try{return n(i)}catch{return s}}})(Ra);(function(e){const t=hr,r=Ud,n=zd,a=Ra,i=i0,s=7973,l=t.getBCHDigit(s);function c(h,m,b){for(let x=1;x<=40;x++)if(m<=e.getCapacity(x,b,h))return x}function u(h,m){return a.getCharCountIndicator(h,m)+4}function d(h,m){let b=0;return h.forEach(function(x){const w=u(x.mode,m);b+=w+x.getBitsLength()}),b}function f(h,m){for(let b=1;b<=40;b++)if(d(h,b)<=e.getCapacity(b,m,a.MIXED))return b}e.from=function(m,b){return i.isValid(m)?parseInt(m,10):b},e.getCapacity=function(m,b,x){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=a.BYTE);const w=t.getSymbolTotalCodewords(m),v=r.getTotalCodewordsCount(m,b),p=(w-v)*8;if(x===a.MIXED)return p;const g=p-u(x,m);switch(x){case a.NUMERIC:return Math.floor(g/10*3);case a.ALPHANUMERIC:return Math.floor(g/11*2);case a.KANJI:return Math.floor(g/13);case a.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(m,b){let x;const w=n.from(b,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),w)},e.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let b=m<<12;for(;t.getBCHDigit(b)-l>=0;)b^=s<<t.getBCHDigit(b)-l;return m<<12|b}})(j2);var k2={};const ep=hr,N2=1335,OM=21522,Ix=ep.getBCHDigit(N2);k2.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;ep.getBCHDigit(a)-Ix>=0;)a^=N2<<ep.getBCHDigit(a)-Ix;return(n<<10|a)^OM};var S2={};const AM=Ra;function Ns(e){this.mode=AM.NUMERIC,this.data=e.toString()}Ns.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ns.prototype.getLength=function(){return this.data.length};Ns.prototype.getBitsLength=function(){return Ns.getBitsLength(this.data.length)};Ns.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var TM=Ns;const MM=Ra,dh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ss(e){this.mode=MM.ALPHANUMERIC,this.data=e}Ss.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ss.prototype.getLength=function(){return this.data.length};Ss.prototype.getBitsLength=function(){return Ss.getBitsLength(this.data.length)};Ss.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=dh.indexOf(this.data[r])*45;n+=dh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(dh.indexOf(this.data[r]),6)};var IM=Ss;const DM=Ra;function Es(e){this.mode=DM.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Es.getBitsLength=function(t){return t*8};Es.prototype.getLength=function(){return this.data.length};Es.prototype.getBitsLength=function(){return Es.getBitsLength(this.data.length)};Es.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var $M=Es;const LM=Ra,RM=hr;function Cs(e){this.mode=LM.KANJI,this.data=e}Cs.getBitsLength=function(t){return t*13};Cs.prototype.getLength=function(){return this.data.length};Cs.prototype.getBitsLength=function(){return Cs.getBitsLength(this.data.length)};Cs.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=RM.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var zM=Cs,E2={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},s={};s[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,b,x,w;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],b=f+m,x=s[d],w=typeof s[d]>"u",(w||x>b)&&(s[d]=b,l.push(d,b),i[d]=u))}if(typeof a<"u"&&typeof s[a]>"u"){var v=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(v)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(E2);var UM=E2.exports;(function(e){const t=Ra,r=TM,n=IM,a=$M,i=zM,s=bn,l=hr,c=UM;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,p,g){const j=[];let _;for(;(_=v.exec(g))!==null;)j.push({data:_[0],index:_.index,mode:p,length:_[0].length});return j}function f(v){const p=d(s.NUMERIC,t.NUMERIC,v),g=d(s.ALPHANUMERIC,t.ALPHANUMERIC,v);let j,_;return l.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,v),_=d(s.KANJI,t.KANJI,v)):(j=d(s.BYTE_KANJI,t.BYTE,v),_=[]),p.concat(g,j,_).sort(function(k,E){return k.index-E.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(v,p){switch(p){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return i.getBitsLength(v);case t.BYTE:return a.getBitsLength(v)}}function m(v){return v.reduce(function(p,g){const j=p.length-1>=0?p[p.length-1]:null;return j&&j.mode===g.mode?(p[p.length-1].data+=g.data,p):(p.push(g),p)},[])}function b(v){const p=[];for(let g=0;g<v.length;g++){const j=v[g];switch(j.mode){case t.NUMERIC:p.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:p.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:p.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:p.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return p}function x(v,p){const g={},j={start:{}};let _=["start"];for(let N=0;N<v.length;N++){const k=v[N],E=[];for(let S=0;S<k.length;S++){const C=k[S],P=""+N+S;E.push(P),g[P]={node:C,lastCount:0},j[P]={};for(let T=0;T<_.length;T++){const L=_[T];g[L]&&g[L].node.mode===C.mode?(j[L][P]=h(g[L].lastCount+C.length,C.mode)-h(g[L].lastCount,C.mode),g[L].lastCount+=C.length):(g[L]&&(g[L].lastCount=C.length),j[L][P]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,p))}}_=E}for(let N=0;N<_.length;N++)j[_[N]].end=0;return{map:j,table:g}}function w(v,p){let g;const j=t.getBestModeForData(v);if(g=t.from(p,j),g!==t.BYTE&&g.bit<j.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(j));switch(g===t.KANJI&&!l.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new i(v);case t.BYTE:return new a(v)}}e.fromArray=function(p){return p.reduce(function(g,j){return typeof j=="string"?g.push(w(j,null)):j.data&&g.push(w(j.data,j.mode)),g},[])},e.fromString=function(p,g){const j=f(p,l.isKanjiModeEnabled()),_=b(j),N=x(_,g),k=c.find_path(N.map,"start","end"),E=[];for(let S=1;S<k.length-1;S++)E.push(N.table[k[S]].node);return e.fromArray(m(E))},e.rawSplit=function(p){return e.fromArray(f(p,l.isKanjiModeEnabled()))}})(S2);const Fd=hr,fh=zd,BM=wM,FM=jM,qM=v2,WM=y2,tp=x2,rp=Ud,VM=kM,Tu=j2,HM=k2,KM=Ra,hh=S2;function GM(e,t){const r=e.size,n=WM.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],s=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,s+c,!0,!0):e.set(i+l,s+c,!1,!0))}}function YM(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function QM(e,t){const r=qM.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?e.set(a+s,i+l,!0,!0):e.set(a+s,i+l,!1,!0)}}function XM(e,t){const r=e.size,n=Tu.getEncodedBits(t);let a,i,s;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,s=(n>>l&1)===1,e.set(a,i,s,!0),e.set(i,a,s,!0)}function mh(e,t,r){const n=e.size,a=HM.getEncodedBits(t,r);let i,s;for(i=0;i<15;i++)s=(a>>i&1)===1,i<6?e.set(i,8,s,!0):i<8?e.set(i+1,8,s,!0):e.set(n-15+i,8,s,!0),i<8?e.set(8,n-i-1,s,!0):i<9?e.set(8,15-i-1+1,s,!0):e.set(8,15-i-1,s,!0);e.set(n-8,8,1,!0)}function JM(e,t){const r=e.size;let n=-1,a=r-1,i=7,s=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;s<t.length&&(u=(t[s]>>>i&1)===1),e.set(a,l-c,u),i--,i===-1&&(s++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function ZM(e,t,r){const n=new BM;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),KM.getCharCountIndicator(c.mode,e)),c.write(n)});const a=Fd.getSymbolTotalCodewords(e),i=rp.getTotalCodewordsCount(e,t),s=(a-i)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(s-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return e5(n,e,t)}function e5(e,t,r){const n=Fd.getSymbolTotalCodewords(t),a=rp.getTotalCodewordsCount(t,r),i=n-a,s=rp.getBlocksCount(t,r),l=n%s,c=s-l,u=Math.floor(n/s),d=Math.floor(i/s),f=d+1,h=u-d,m=new VM(h);let b=0;const x=new Array(s),w=new Array(s);let v=0;const p=new Uint8Array(e.buffer);for(let k=0;k<s;k++){const E=k<c?d:f;x[k]=p.slice(b,b+E),w[k]=m.encode(x[k]),b+=E,v=Math.max(v,E)}const g=new Uint8Array(n);let j=0,_,N;for(_=0;_<v;_++)for(N=0;N<s;N++)_<x[N].length&&(g[j++]=x[N][_]);for(_=0;_<h;_++)for(N=0;N<s;N++)g[j++]=w[N][_];return g}function t5(e,t,r,n){let a;if(Array.isArray(e))a=hh.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=hh.rawSplit(e);u=Tu.getBestVersionForData(d,r)}a=hh.fromString(e,u||40)}else throw new Error("Invalid data");const i=Tu.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const s=ZM(t,r,a),l=Fd.getSymbolSize(t),c=new FM(l);return GM(c,t),YM(c),QM(c,t),mh(c,r,0),t>=7&&XM(c,t),JM(c,s),isNaN(n)&&(n=tp.getBestMask(c,mh.bind(null,c,r))),tp.applyMask(n,c),mh(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}p2.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=fh.M,a,i;return typeof r<"u"&&(n=fh.from(r.errorCorrectionLevel,fh.M),a=Tu.from(r.version),i=tp.from(r.maskPattern),r.toSJISFunc&&Fd.setToSJISFunction(r.toSJISFunc)),t5(t,a,n,i)};var C2={},s0={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:i,scale:i?4:s,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const s=a.modules.size,l=a.modules.data,c=e.getScale(s,i),u=Math.floor((s+i.margin*2)*c),d=i.margin*c,f=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let b=(h*u+m)*4,x=i.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),v=Math.floor((m-d)/c);x=f[l[w*s+v]?1:0]}n[b++]=x.r,n[b++]=x.g,n[b++]=x.b,n[b]=x.a}}})(s0);(function(e){const t=s0;function r(a,i,s){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,s,l){let c=l,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,i,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(i,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(i,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(C2);var P2={};const r5=s0;function Dx(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function ph(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function n5(e,t,r){let n="",a=0,i=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=i?ph("M",c+r,.5+u+r):ph("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=ph("h",s),s=0)):a++}return n}P2.render=function(t,r,n){const a=r5.getOptions(r),i=t.modules.size,s=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+Dx(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Dx(a.color.dark,"stroke")+' d="'+n5(s,i,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const a5=xM,np=p2,O2=C2,i5=P2;function o0(e,t,r,n,a){const i=[].slice.call(arguments,1),s=i.length,l=typeof i[s-1]=="function";if(!l&&!a5())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(a=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=np.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=np.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}La.create=np.create;La.toCanvas=o0.bind(null,O2.render);La.toDataURL=o0.bind(null,O2.renderToDataURL);La.toString=o0.bind(null,function(e,t,r){return i5.render(e,r)});const s5=()=>{const{user:e}=fr(),t=Zr(),[r,n]=y.useState(null),[a,i]=y.useState(!0),[s,l]=y.useState(""),[c,u]=y.useState("#000000"),[d,f]=y.useState("#ffffff"),[h,m]=y.useState(!1),[b,x]=y.useState(!1),[w,v]=y.useState(""),[p,g]=y.useState(!1);y.useRef(null);const j=y.useRef(null),_=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert foncé",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];y.useEffect(()=>{e&&N()},[e]),y.useEffect(()=>{r&&k()},[r,c,d,w]);const N=async()=>{if(e){i(!0);try{const{data:M,error:R}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(R&&R.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",R),R;n(M)}catch(M){console.error("Erreur lors du chargement:",M)}finally{i(!1)}}},k=async()=>{if(r){x(!0);try{const M=`${window.location.origin}/m/${r.slug}?ref=qr`,R=document.createElement("canvas");if(await La.toCanvas(R,M,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"H"}),w){const H=R.getContext("2d");if(H){const F=new Image;F.crossOrigin="anonymous",await new Promise((O,z)=>{F.onload=()=>{const U=R.width*.2,q=(R.width-U)/2,fe=(R.height-U)/2;H.fillStyle="white",H.fillRect(q-5,fe-5,U+10,U+10),H.drawImage(F,q,fe,U,U),O(null)},F.onerror=z,F.src=w})}}const G=R.toDataURL("image/png");l(G)}catch(M){console.error("Erreur lors de la génération du QR code:",M)}finally{x(!1)}}},E=()=>{if(!s||!r)return;const M=document.createElement("a");M.download=`qr-code-${r.slug}.png`,M.href=s,M.click()},S=async()=>{if(r)try{await navigator.clipboard.writeText(`${L}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch(M){console.error("Erreur lors de la copie:",M)}},C=M=>{u(M.color),f(M.bg)},P=async M=>{var G;const R=(G=M.target.files)==null?void 0:G[0];if(R){if(!R.type.startsWith("image/")){alert("Veuillez sélectionner un fichier image valide");return}if(R.size>2*1024*1024){alert("Le fichier doit faire moins de 2MB");return}g(!0);try{const H=R.name.split(".").pop(),F=`qr-logos/${e==null?void 0:e.id}-${Date.now()}.${H}`,{data:O,error:z}=await B.storage.from("cloudmenu").upload(F,R,{cacheControl:"3600",upsert:!1});if(z)throw z;const{data:U}=B.storage.from("cloudmenu").getPublicUrl(F);v(U.publicUrl)}catch(H){console.error("Erreur lors du téléchargement du logo:",H),alert("Erreur lors du téléchargement du logo")}finally{g(!1)}}},T=()=>{v(""),j.current&&(j.current.value="")};if(a)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})});if(!r)return o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(fs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configuré"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identité visuelle de votre restaurant pour générer un QR code."}),o.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const L=r?`${window.location.origin}/m/${r.slug}`:"";return o.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Téléchargez votre QR code personnalisé pour afficher dans votre établissement. Il permet d'accéder à tous vos menus."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(I3,{className:"w-5 h-5"}),o.jsx("span",{children:"URL de votre restaurant"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[o.jsx("input",{type:"text",value:`${L}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),o.jsx("button",{onClick:S,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsx("span",{children:"Copié !"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Wm,{className:"w-4 h-4"}),o.jsx("span",{children:"Copier"})]})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["🔗 ",o.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramètre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Xg,{className:"w-5 h-5"}),o.jsx("span",{children:"Personnalisation"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prédéfinies"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_.map((M,R)=>o.jsxs("button",{onClick:()=>C(M),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===M.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:M.color}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:M.bg}})]}),o.jsx("span",{className:"text-xs font-medium text-gray-700",children:M.name})]},R))})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:c,onChange:M=>u(M.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:c,onChange:M=>u(M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrière-plan"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:d,onChange:M=>f(M.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:d,onChange:M=>f(M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Logo au centre du QR code"}),w?o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("img",{src:w,alt:"Logo preview",className:"w-12 h-12 object-contain rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Logo ajouté"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Le logo apparaîtra au centre du QR code"})]}),o.jsx("button",{onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Retirer le logo",children:o.jsx(Ee,{className:"w-4 h-4"})})]})}):o.jsxs("div",{children:[o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:P,className:"hidden",id:"logo-upload"}),o.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${p?"border-gray-300 bg-gray-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"}`,children:p?o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Téléchargement..."})]}):o.jsxs("div",{className:"flex flex-col items-center space-y-2 text-gray-600",children:[o.jsx(ks,{className:"w-8 h-8"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:"Ajouter un logo"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 2MB"})]})]})})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(fs,{className:"w-5 h-5"}),o.jsx("span",{children:"Aperçu du QR Code"})]}),o.jsx("div",{className:"text-center",children:b?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Génération..."})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&o.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:E,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[o.jsx(S3,{className:"w-5 h-5"}),o.jsx("span",{children:"Télécharger le QR Code"})]})})]})})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Comment utiliser votre QR Code"}),o.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("span",{children:"Téléchargez le QR code en cliquant sur le bouton ci-dessus"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("span",{children:"Vos clients scannent le QR code avec leur téléphone"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("span",{children:"Ils accèdent directement à votre menu en ligne !"})]})]})]})]})]})]})},ho={};function A2(e,t){const[r,n]=y.useState(()=>ho[e]||{}),[a,i]=y.useState(!ho[e]),s=y.useRef(e);return y.useEffect(()=>{let l=!0;return(async()=>{if(ho[e]){l&&(n(ho[e]),i(!1),s.current=e);return}l&&s.current!==e&&i(!0);try{const{data:u,error:d}=await B.from("interface_translations").select("translation_key, translated_text").eq("language_code",e).in("translation_key",t);if(d){console.error("Error fetching interface translations:",d),l&&i(!1);return}const f={};u==null||u.forEach(h=>{f[h.translation_key]=h.translated_text}),ho[e]=f,l&&(n(f),s.current=e,i(!1))}catch(u){console.error("Error:",u),l&&i(!1)}})(),()=>{l=!1}},[e,t.join(",")]),{translations:r,loading:a}}function qt(e,t,r=""){return e[t]||r}function o5({googleBusinessUrl:e,selectedLanguage:t,translations:r}){if(!e)return null;const n=l=>l.includes("g.page")?l.endsWith("/")?`${l}review`:`${l}/review`:l.includes("maps")?l.includes("?")?`${l}&reviews=true`:`${l}?reviews=true`:l.endsWith("/")?`${l}review`:`${l}/review`,a=qt(r,"leave_review","Laissez-nous un avis"),i=qt(r,"write_review_google","Écrire un avis sur Google"),s=n(e);return o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-5",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>o.jsx(Ym,{size:20,className:"text-yellow-400 fill-yellow-400"},c))}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Google"})]})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a}),o.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[o.jsx(Ym,{size:18}),o.jsx("span",{children:i}),o.jsx(Yg,{size:16})]})]})}function T2({restaurant:e,selectedLanguage:t,translations:r}){const n=m=>`https://wa.me/${m.replace(/\D/g,"")}`,a=m=>{if(!m)return null;let b=m;if(!m.startsWith("http://")&&!m.startsWith("https://")&&(b="https://"+m),b.includes("/embed"))return b;try{if(b.includes("goo.gl")||b.includes("maps.app.goo.gl"))return null;const x=b.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*),(\d+)z/);if(x){const p=x[1],g=x[2],j=x[3];return`https://maps.google.com/maps?q=${p},${g}&z=${j}&output=embed`}const w=b.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(w)return`https://maps.google.com/maps?q=${w[1]},${w[2]}&output=embed`;const v=b.match(/place\/([^/@?]+)/);if(v){const p=decodeURIComponent(v[1].replace(/\+/g," "));return x?`https://maps.google.com/maps?q=${p}&ll=${x[1]},${x[2]}&z=${x[3]}&output=embed`:`https://maps.google.com/maps?q=${encodeURIComponent(p)}&output=embed`}return null}catch(x){return console.error("Error parsing map URL:",x),null}},i=qt(r,"contact","Contact"),s=qt(r,"follow_us","Suivez-nous"),l=qt(r,"powered_by","Propulsé par"),c=qt(r,"our_location","Notre emplacement"),u=qt(r,"all_rights_reserved","Tous droits réservés."),d=e.location?a(e.location):null,f=e.telephone||e.whatsapp||e.address||e.hours,h=e.instagram||e.facebook||e.tiktok;return o.jsxs("footer",{className:"bg-gray-900 text-white mt-12",children:[o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:i}),o.jsxs("div",{className:"space-y-3",children:[e.telephone&&o.jsxs("a",{href:`tel:${e.telephone}`,className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Er,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.telephone})]}),e.whatsapp&&o.jsxs("a",{href:n(e.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(yi,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.whatsapp})]}),e.address&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(ul,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.address})]}),e.hours&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(cl,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.hours})]})]})]}),h&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:s}),o.jsxs("div",{className:"space-y-3",children:[e.instagram&&o.jsxs("a",{href:e.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Oa,{size:18}),o.jsx("span",{className:"text-sm",children:"Instagram"})]}),e.facebook&&o.jsxs("a",{href:e.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Pa,{size:18}),o.jsx("span",{className:"text-sm",children:"Facebook"})]}),e.tiktok&&o.jsxs("a",{href:e.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Y_,{size:18}),o.jsx("span",{className:"text-sm",children:"TikTok"})]})]})]}),e.location&&o.jsxs("div",{className:`${!h&&f?"md:col-span-2 lg:col-span-1":""}`,children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:c}),d?o.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden",children:o.jsx("iframe",{src:d,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-full"})}):o.jsxs("a",{href:e.location,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full aspect-video bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all font-medium",children:[o.jsx(ul,{size:24}),o.jsx("span",{children:"Voir sur Google Maps"})]})]})]})}),o.jsx("div",{className:"border-t border-gray-800",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," ",e.restaurant_name,". ",u]}),e.show_footer_branding&&o.jsxs("a",{href:"https://cloudmenu.fr",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-400 hover:text-orange-500 transition-colors",children:[l," ",o.jsx("span",{className:"font-semibold text-orange-500",children:"CloudMenu"})]})]})})})]})}function l5(e){return{primary:e.primary_color||"#ea580c",accent:e.accent_color||"#f97316",text:e.text_color||"#1f2937",background:e.background_color||"#ffffff",hero:e.hero_background_color||"#f3f4f6"}}function c5(e,t="custom-restaurant-colors"){const r=document.getElementById(t);r&&r.remove();const n=document.createElement("style");n.id=t,n.textContent=`
    /* Custom color classes */
    .restaurant-primary-bg { background-color: ${e.primary} !important; }
    .restaurant-primary-text { color: ${e.primary} !important; }
    .restaurant-primary-border { border-color: ${e.primary} !important; }

    .restaurant-accent-bg { background-color: ${e.accent} !important; }
    .restaurant-accent-text { color: ${e.accent} !important; }

    .restaurant-text { color: ${e.text} !important; }
    .restaurant-bg { background-color: ${e.background} !important; }
    .restaurant-hero-bg { background-color: ${e.hero} !important; }

    .restaurant-btn {
      background-color: ${e.primary} !important;
      color: white !important;
    }
    .restaurant-btn:hover {
      background-color: ${e.accent} !important;
    }

    .restaurant-link {
      color: ${e.primary} !important;
    }
    .restaurant-link:hover {
      color: ${e.accent} !important;
    }

    /* Override default orange colors for landing page */
    body {
      background-color: ${e.background} !important;
      color: ${e.text} !important;
    }

    .bg-orange-600, .hover\\:bg-orange-700:hover,
    button.bg-orange-600, a.bg-orange-600 {
      background-color: ${e.primary} !important;
    }

    button.bg-orange-600:hover, a.bg-orange-600:hover {
      background-color: ${e.accent} !important;
    }

    .bg-orange-500 {
      background-color: ${e.accent} !important;
    }

    .text-orange-600, .text-orange-700, .text-orange-500 {
      color: ${e.primary} !important;
    }

    .bg-orange-50 {
      background-color: ${e.primary}15 !important;
    }

    .bg-orange-100 {
      background-color: ${e.primary}25 !important;
    }

    .border-orange-500, .hover\\:border-orange-500:hover {
      border-color: ${e.primary} !important;
    }

    .text-orange-500 {
      color: ${e.accent} !important;
    }
  `,document.head.appendChild(n)}const on={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},ar:{name:"العربية",flag:"🇸🇦"},ja:{name:"日本語",flag:"🇯🇵"},zh:{name:"中文",flag:"🇨🇳"},pt:{name:"Português",flag:"🇵🇹"},ru:{name:"Русский",flag:"🇷🇺"},hi:{name:"हिन्दी",flag:"🇮🇳"},ko:{name:"한국어",flag:"🇰🇷"}},u5=()=>{const e=navigator.language.split("-")[0];return Object.keys(on).includes(e)?e:"fr"};function d5(){var ue,he,W;const{slug:e}=Ci(),[t,r]=y.useState(null),[n,a]=y.useState([]),[i,s]=y.useState("fr"),[l,c]=y.useState(!1),[u,d]=y.useState(!0),[f,h]=y.useState(""),[m,b]=y.useState(!1),[x,w]=y.useState(!1),[v,p]=y.useState(!1),[g,j]=y.useState([]),[_,N]=y.useState({}),[k,E]=y.useState({}),[S,C]=y.useState(!1),[P,T]=y.useState(!1),[L,M]=y.useState(null),[R,G]=y.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),{translations:H,loading:F}=A2(i,["our_menus","no_menus_available","reserve","book_table","contact_us_directly","leave_review","write_review_google","contact","follow_us","powered_by","our_location","all_rights_reserved"]);y.useEffect(()=>{const D=()=>{b(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),y.useEffect(()=>{e&&(z(),O())},[e]),y.useEffect(()=>{if(n.length>0&&!S){const V=new URLSearchParams(window.location.search).get("ref");let ie="direct_link";V==="qr"?ie="qr_scan":V==="gmb"&&(ie="gmb"),H_(n[0].id,ie),C(!0)}},[n,S]);const O=async()=>{try{const D=window.location.href,V=await La.toDataURL(D,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(V)}catch(D){console.error("Error generating QR code:",D)}},z=async()=>{d(!0);try{const{data:D,error:V}=await B.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(V||!D){console.error("Erreur lors du chargement du restaurant:",V),d(!1);return}r(D),console.log("Restaurant data loaded:",{name:D.restaurant_name,hero_background_color:D.hero_background_color});const{data:ie,error:xe}=await B.from("menus").select("*").eq("user_id",D.user_id).eq("actif",!0).eq("status","published").order("ordre",{ascending:!0}).order("created_at",{ascending:!0});if(xe)console.error("Erreur lors du chargement des menus:",xe),a([]);else if(a(ie||[]),ie&&ie.length>0){const Me=ie.map(tn=>tn.id),{data:rt}=await B.from("menu_languages").select("language_code, menu_id, menu_title").in("menu_id",Me);if(rt){const tn=Array.from(new Set(rt.map(Ge=>Ge.language_code))),ta=ie.map(Ge=>Ge.default_language||"fr"),Lr=Array.from(new Set([...ta,...tn]));j(Lr);const wn=u5();Lr.includes(wn)?s(wn):Lr.length>0&&s(Lr[0]);const rn={},nn={};rt.forEach(Ge=>{rn[Ge.menu_id]||(rn[Ge.menu_id]={}),nn[Ge.menu_id]||(nn[Ge.menu_id]={}),rn[Ge.menu_id][Ge.language_code]=Ge.menu_title||"",nn[Ge.menu_id][Ge.language_code]=Ge.menu_description||""}),N(rn),E(nn)}}}catch(D){console.error("Erreur:",D)}finally{d(!1)}};y.useEffect(()=>{if(t){const D=l5(t);c5(D)}},[t]),y.useEffect(()=>{const D=V=>{const ie=V.target;l&&!ie.closest(".language-selector-container")&&c(!1),x&&!ie.closest(".hamburger-menu-container")&&w(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[l,x]);const q=n.reduce((D,V)=>{const ie=D.find(xe=>xe.menu_name===V.menu_name);return ie?ie.languages.push(V):D.push({menu_name:V.menu_name||V.nom,description:V.description,languages:[V]}),D},[]);Array.from(new Set(n.map(D=>D.language||"fr")));const fe=D=>D.languages[0],pe=D=>`https://wa.me/${D.replace(/\D/g,"")}`,ge=(D,V)=>{M({type:D,text:V}),setTimeout(()=>M(null),5e3)},Ue=()=>{const D=new Date;return D.setDate(D.getDate()+1),D.toISOString().split("T")[0]},oe=async D=>{if(D.preventDefault(),!R.customer_name.trim()||!R.customer_phone.trim()||!R.reservation_date||!R.reservation_time){ge("error","Veuillez remplir tous les champs obligatoires");return}T(!0);try{const V=n.length>0?n[0]:null;if(!V){ge("error","Aucun menu disponible pour la réservation");return}const{error:ie}=await B.from("reservations").insert([{menu_id:V.id,customer_name:R.customer_name,customer_email:null,customer_phone:R.customer_phone,party_size:R.party_size,reservation_date:R.reservation_date,reservation_time:R.reservation_time,special_requests:R.special_requests||null,status:"pending"}]);if(ie)throw ie;ge("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),G({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{p(!1),M(null)},3e3)}catch(V){console.error("Erreur lors de la réservation:",V),ge("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{T(!1)}},Qt=(D,V,ie)=>{var Me;const xe=n.find(rt=>rt.id===D);return xe&&xe.default_language===V?ie:((Me=_[D])==null?void 0:Me[V])||ie},Z=(D,V)=>{var xe;const ie=n.find(Me=>Me.id===D);return ie&&ie.default_language===V?!0:!!((xe=_[D])!=null&&xe[V])};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(Pi,{size:"lg"})}):t?m?o.jsxs("div",{className:"min-h-screen bg-gray-50",dir:i==="ar"?"rtl":"ltr",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate",style:{color:"#000000"},children:t.restaurant_name}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[g.length>1&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Qg,{size:18}),o.jsx("span",{className:"text-xl",children:((ue=on[i])==null?void 0:ue.flag)||"🌐"}),o.jsx("span",{className:"text-sm font-medium",children:((he=on[i])==null?void 0:he.name)||i}),o.jsx(ll,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(D=>{var V,ie;return o.jsx("button",{onClick:()=>{s(D),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${i===D?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(V=on[D])==null?void 0:V.flag}),o.jsx("span",{className:"text-sm",children:(ie=on[D])==null?void 0:ie.name})]}),i===D&&o.jsx(Fe,{size:16})]})},D)})})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[t.telephone&&o.jsx("a",{href:`tel:${t.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${t.telephone}`,children:o.jsx(Er,{size:20})}),t.whatsapp&&o.jsx("a",{href:pe(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${t.whatsapp}`,children:o.jsx(yi,{size:20})}),t.instagram&&o.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(Oa,{size:20})}),t.facebook&&o.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(Pa,{size:20})}),t.tiktok&&o.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[g.length>1&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((W=on[i])==null?void 0:W.flag)||"🌐"}),o.jsx(ll,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(D=>{var V,ie;return o.jsx("button",{onClick:()=>{s(D),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${D===i?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(V=on[D])==null?void 0:V.flag}),o.jsx("span",{className:"text-sm",children:(ie=on[D])==null?void 0:ie.name})]}),i===D&&o.jsx(Fe,{size:16})]})},D)})})]}),(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"hamburger-menu-container",children:o.jsx("button",{onClick:D=>{D.stopPropagation(),w(!x)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(ds,{size:24,className:"text-black"})})})]}),x&&o.jsx("div",{className:"hamburger-menu-container absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:o.jsxs("div",{className:"py-2",children:[n.map(D=>{var ie,xe,Me;const V=D.slug.split("/").pop();return o.jsxs(Je,{to:`/m/${e}/${V}?lang=${i}`,className:"flex items-center justify-between px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",onClick:()=>w(!1),children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(ds,{size:18,className:"text-orange-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:((ie=_[D.id])==null?void 0:ie[i])||D.menu_name}),(((xe=k[D.id])==null?void 0:xe[i])||D.description)&&o.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:((Me=k[D.id])==null?void 0:Me[i])||D.description})]})]}),o.jsx($d,{size:18,className:"text-gray-400"})]},D.id)}),o.jsx("div",{className:"px-4 py-4 border-b border-gray-50",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsxs("button",{onClick:()=>{p(!0),w(!1)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all flex-1 justify-center",children:[o.jsx(nr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:qt(H,"reserve","Réserver")})]}),t.telephone&&o.jsx("a",{href:`tel:${t.telephone}`,className:"p-2.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:o.jsx(Er,{size:20})}),t.whatsapp&&o.jsx("a",{href:pe(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",children:o.jsx(yi,{size:20})})]})}),(t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"px-4 py-4 bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.instagram&&o.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all",children:o.jsx(Oa,{size:20})}),t.facebook&&o.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all",children:o.jsx(Pa,{size:20})}),t.tiktok&&o.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})})]})})]})}),o.jsxs("div",{className:"pt-16",children:[o.jsx("div",{className:"h-48 flex items-center justify-center overflow-hidden",style:{backgroundColor:t.hero_background_color||"#f3f4f6"},"data-hero-color":t.hero_background_color,children:t.logo_url?o.jsx("div",{className:"flex items-center justify-center h-full px-4",children:o.jsx("img",{src:t.logo_url,alt:t.restaurant_name,className:"h-full w-full object-contain"})}):t.banner_url?o.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"text-center px-4",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name})})}),o.jsxs("div",{className:"px-4 py-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:qt(H,"our_menus","Nos Menus")}),q.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx(ds,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600",children:qt(H,"no_menus_available","Aucun menu disponible pour le moment.")})]}):o.jsx("div",{className:"space-y-3",children:q.map(D=>{var tn,ta,Lr,wn;const V=fe(D),ie=V.slug.split("/").pop(),xe=Qt(V.id,i,D.menu_name),Me=Z(V.id,i),rt=V.default_language||"fr";return o.jsx(Je,{to:`/m/${e}/${ie}?lang=${i}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all overflow-hidden",children:o.jsxs("div",{className:"flex items-stretch",children:[V.banniere_url&&o.jsx("div",{className:"w-40 flex-shrink-0",children:o.jsx("img",{src:V.banniere_url,alt:xe,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 p-5",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:xe}),!Me&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200",children:[((tn=on[rt])==null?void 0:tn.flag)||"🌐"," ",((ta=on[rt])==null?void 0:ta.name)||rt.toUpperCase()]})]}),(((Lr=k[V.id])==null?void 0:Lr[i])||D.description)&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:((wn=k[V.id])==null?void 0:wn[i])||D.description})]})]})},D.menu_name)})})]}),t.google_business_url&&o.jsx("div",{className:"px-4 mb-6",children:o.jsx(o5,{googleBusinessUrl:t.google_business_url,selectedLanguage:i,translations:H})})]}),o.jsx(T2,{restaurant:t,selectedLanguage:i,translations:H}),v&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:qt(H,"book_table","Réserver une table")}),o.jsx("button",{onClick:()=>{p(!1),M(null)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Ee,{size:20})})]})}),L&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${L.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[L.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Ee,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:L.text})]}),o.jsxs("form",{onSubmit:oe,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:R.customer_name,onChange:D=>G(V=>({...V,customer_name:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),o.jsx("input",{type:"tel",value:R.customer_phone,onChange:D=>G(V=>({...V,customer_phone:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:R.reservation_date,onChange:D=>G(V=>({...V,reservation_date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:Ue(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:R.reservation_time,onChange:D=>G(V=>({...V,reservation_time:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:R.party_size,onChange:D=>G(V=>({...V,party_size:parseInt(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(D=>o.jsxs("option",{value:D,children:[D," personne",D>1?"s":""]},D))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),o.jsx("textarea",{value:R.special_requests,onChange:D=>G(V=>({...V,special_requests:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{p(!1),M(null)},className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:P,className:"flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center space-x-2",children:P?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"w-5 h-5"}),o.jsx("span",{children:"Réserver"})]})})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(Q_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&o.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),t.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&o.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ul,{size:16}),o.jsx("span",{children:t.address})]}),t.telephone&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Er,{size:16}),o.jsx("span",{children:t.telephone})]}),t.hours&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(cl,{size:16}),o.jsx("span",{children:t.hours})]})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a été désactivé."})]})})}const pr={fr:{name:"Français",flag:"🇫🇷",rtl:!1},en:{name:"English",flag:"🇬🇧",rtl:!1},es:{name:"Español",flag:"🇪🇸",rtl:!1},de:{name:"Deutsch",flag:"🇩🇪",rtl:!1},it:{name:"Italiano",flag:"🇮🇹",rtl:!1},pt:{name:"Português",flag:"🇵🇹",rtl:!1},ar:{name:"العربية",flag:"🇸🇦",rtl:!0},zh:{name:"中文",flag:"🇨🇳",rtl:!1},ja:{name:"日本語",flag:"🇯🇵",rtl:!1},ru:{name:"Русский",flag:"🇷🇺",rtl:!1},nl:{name:"Nederlands",flag:"🇳🇱",rtl:!1}},f5=()=>{var K,Q,le,_e,Xt,Kv,Gv;const e=Zr(),{slug:t,menuSlug:r}=Ci(),[n,a]=y.useState(null),[i,s]=y.useState([]),[l,c]=y.useState({}),[u,d]=y.useState(!0),[f,h]=y.useState(null),[m,b]=y.useState(""),[x,w]=y.useState(!1),[v,p]=y.useState([]),[g,j]=y.useState(null),[_,N]=y.useState(""),[k,E]=y.useState(!1),[S,C]=y.useState(!1),[P,T]=y.useState(!1),[L,M]=y.useState(!1),[R,G]=y.useState(""),[H,F]=y.useState([]),[O,z]=y.useState({}),[U,q]=y.useState({}),[fe,pe]=y.useState(""),[ge,Ue]=y.useState(!1),[oe,Qt]=y.useState(!1),[Z,ue]=y.useState(null),[he,W]=y.useState(null),[D,V]=y.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),ie=y.useRef({}),xe=y.useRef(null),Me=y.useRef({}),{translations:rt}=A2(R,["reserve","book_table","contact","follow_us","powered_by","our_location","all_rights_reserved","allergens"]);y.useEffect(()=>{const $=()=>{E(window.innerWidth<768)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),y.useEffect(()=>{t&&r&&(ta(),tn())},[t,r]),y.useEffect(()=>{n&&R&&wn(R)},[R,n,i,l]);const tn=async()=>{try{const $=window.location.href,ee=await La.toDataURL($,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});N(ee)}catch($){console.error("Error generating QR code:",$)}};y.useEffect(()=>{if(n&&!x){const ee=new URLSearchParams(window.location.search).get("ref");let de="direct_link";ee==="qr"?de="qr_scan":ee==="gmb"&&(de="gmb"),H_(n.id,de),w(!0)}},[n,x]),y.useEffect(()=>{i.length>0&&!m&&b(i[0].id)},[i]),y.useEffect(()=>{if(m&&Me.current[m]&&xe.current){const $=Me.current[m],ee=xe.current;$.getBoundingClientRect(),ee.getBoundingClientRect();const de=$.offsetLeft,He=$.offsetWidth,J=ee.scrollLeft,Xe=ee.offsetWidth;de<J?ee.scrollTo({left:de-20,behavior:"smooth"}):de+He>J+Xe&&ee.scrollTo({left:de+He-Xe+20,behavior:"smooth"})}},[m]);const ta=async()=>{if(!t||!r){h("Paramètres manquants"),d(!1);return}try{const{data:$,error:ee}=await B.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(ee||!$){h("Restaurant non trouvé"),d(!1);return}j($);const{data:de,error:He}=await B.from("menus").select("*").eq("user_id",$.user_id).eq("actif",!0).eq("status","published").order("ordre",{ascending:!0}).order("created_at",{ascending:!0});if(He){h("Erreur lors du chargement des menus"),d(!1);return}p(de||[]);const J=de==null?void 0:de.find(Xe=>Xe.slug.split("/").pop()===r);if(!J){h("Menu non trouvé"),d(!1);return}a(J),await Lr(J.id,J)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},Lr=async($,ee)=>{try{const{data:de,error:He}=await B.from("categories").select("*").eq("menu_id",$).eq("actif",!0).order("ordre",{ascending:!0});if(He)throw He;if(s(de||[]),de&&de.length>0){const{data:Xe,error:Se}=await B.from("menu_items").select("*").in("category_id",de.map(Rr=>Rr.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(Se)throw Se;const Tt={};de.forEach(Rr=>{Tt[Rr.id]=(Xe==null?void 0:Xe.filter(to=>to.category_id===Rr.id))||[]}),c(Tt)}const{data:J}=await B.from("menu_languages").select("*").eq("menu_id",$);if(F(J||[]),!R){const Se=new URLSearchParams(window.location.search).get("lang");if(Se){const Tt=J==null?void 0:J.some(to=>to.language_code===Se),Rr=Se===ee.default_language;if(Tt||Rr){G(Se);return}}G(ee.default_language||"fr")}}catch(de){console.error("Erreur lors du chargement du contenu:",de)}},wn=async $=>{if(!n||!$||$===(n.default_language||"fr")){z({}),q({}),pe((n==null?void 0:n.menu_name)||"");return}try{const ee=H.find(Se=>Se.language_code===$);ee!=null&&ee.menu_title?pe(ee.menu_title):pe(n.menu_name||"");const de=i.map(Se=>Se.id),{data:He}=await B.from("category_translations").select("*").in("category_id",de).eq("language_code",$),J={};He==null||He.forEach(Se=>{J[Se.category_id]=Se}),z(J);const Xe=[];if(Object.values(l).forEach(Se=>{Se.forEach(Tt=>Xe.push(Tt.id))}),Xe.length>0){const{data:Se}=await B.from("menu_item_translations").select("*").in("menu_item_id",Xe).eq("language_code",$),Tt={};Se==null||Se.forEach(Rr=>{Tt[Rr.menu_item_id]=Rr}),q(Tt)}}catch(ee){console.error("Error loading translations:",ee)}},rn=$=>{b($);const ee=ie.current[$];if(ee){const He=ee.offsetTop-140;window.scrollTo({top:He,behavior:"smooth"})}};y.useEffect(()=>{const $=()=>{const ee=window.scrollY+250;let de="",He=1/0;for(const J of i){const Xe=ie.current[J.id];if(Xe){const Se=Xe.offsetTop,Tt=Se+Xe.offsetHeight,Rr=Math.max(Se,ee-150),to=Math.min(Tt,ee+200),kC=Math.max(0,to-Rr),NC=Tt-Se;if(kC/Math.min(NC,350)>.4){de=J.id;break}const Nf=Se-ee;Nf>0&&Nf<He&&(He=Nf,de=J.id)}}if(!de){He=1/0;for(const J of i){const Xe=ie.current[J.id];if(Xe){const Se=Xe.offsetTop,Tt=Math.abs(Se-ee);Tt<He&&(He=Tt,de=J.id)}}}de&&de!==m&&b(de)};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[i,m]),y.useEffect(()=>{const $=ee=>{const de=ee.target;S&&!de.closest(".hamburger-menu-container")&&C(!1),L&&!de.closest(".language-selector-container")&&M(!1),P&&!de.closest(".menu-selector-container")&&T(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[S,L,P]);const nn=$=>{const ee=$.replace(/\D/g,"");return`https://wa.me/${ee.startsWith("33")?ee:`33${ee.substring(1)}`}`},Ge=($,ee)=>{W({type:$,text:ee}),setTimeout(()=>W(null),5e3)},A=async $=>{if($.preventDefault(),!D.customer_name.trim()||!D.customer_phone.trim()||!D.reservation_date||!D.reservation_time){Ge("error","Veuillez remplir tous les champs obligatoires");return}Qt(!0);try{const{error:ee}=await B.from("reservations").insert([{menu_id:n.id,customer_name:D.customer_name,customer_email:null,customer_phone:D.customer_phone,party_size:D.party_size,reservation_date:D.reservation_date,reservation_time:D.reservation_time,special_requests:D.special_requests||null,status:"pending"}]);if(ee)throw ee;Ge("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),V({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{Ue(!1)},3e3)}catch(ee){console.error("Erreur lors de la réservation:",ee),Ge("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{Qt(!1)}},ae=()=>{const $=new Date;return $.setDate($.getDate()+1),$.toISOString().split("T")[0]},X=()=>{var $;return(($=pr[R])==null?void 0:$.rtl)||!1};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouvé"}),o.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):k?o.jsxs("div",{className:"min-h-screen",dir:X()?"rtl":"ltr",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:(g==null?void 0:g.restaurant_name)||n.nom}),o.jsxs("div",{className:`hidden lg:flex items-center ${X()?"space-x-reverse":""} space-x-2`,children:[H.length>0&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>{M(!L)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Qg,{size:18}),o.jsx("span",{className:"text-xl",children:((K=pr[R])==null?void 0:K.flag)||"🌐"}),o.jsx("span",{className:"text-sm font-medium",children:((Q=pr[R])==null?void 0:Q.name)||R}),o.jsx(ll,{size:16})]}),L&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{G(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${R===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(le=pr[n.default_language||"fr"])==null?void 0:le.flag}),o.jsx("span",{className:"text-sm",children:(_e=pr[n.default_language||"fr"])==null?void 0:_e.name})]}),R===n.default_language&&o.jsx(Fe,{size:16})]})}),H.map($=>{var ee,de;return o.jsx("button",{onClick:()=>{G($.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${R===$.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((ee=pr[$.language_code])==null?void 0:ee.flag)||"🌐"}),o.jsx("span",{className:"text-sm",children:((de=pr[$.language_code])==null?void 0:de.name)||$.language_code})]}),R===$.language_code&&o.jsx(Fe,{size:16})]})},$.id)})]})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:`flex items-center ${X()?"space-x-reverse":""} space-x-2`,children:[(g==null?void 0:g.telephone)&&o.jsx("a",{href:`tel:${g==null?void 0:g.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${g==null?void 0:g.telephone}`,children:o.jsx(Er,{size:20})}),(g==null?void 0:g.whatsapp)&&o.jsx("a",{href:nn(g==null?void 0:g.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${g==null?void 0:g.whatsapp}`,children:o.jsx(yi,{size:20})}),(g==null?void 0:g.instagram)&&o.jsx("a",{href:g==null?void 0:g.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(Oa,{size:20})}),(g==null?void 0:g.facebook)&&o.jsx("a",{href:g==null?void 0:g.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(Pa,{size:20})}),(g==null?void 0:g.tiktok)&&o.jsx("a",{href:g==null?void 0:g.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:`lg:hidden flex items-center ${X()?"space-x-reverse":""} space-x-2`,children:[H.length>0&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>{M(!L)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((Xt=pr[R])==null?void 0:Xt.flag)||"🌐"}),o.jsx(ll,{size:16})]}),L&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{G(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${R===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(Kv=pr[n.default_language||"fr"])==null?void 0:Kv.flag}),o.jsx("span",{className:"text-sm",children:(Gv=pr[n.default_language||"fr"])==null?void 0:Gv.name})]}),R===n.default_language&&o.jsx(Fe,{size:16})]})}),H.map($=>{var ee,de;return o.jsx("button",{onClick:()=>{G($.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${R===$.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((ee=pr[$.language_code])==null?void 0:ee.flag)||"🌐"}),o.jsx("span",{className:"text-sm",children:((de=pr[$.language_code])==null?void 0:de.name)||$.language_code})]}),R===$.language_code&&o.jsx(Fe,{size:16})]})},$.id)})]})]}),o.jsx("div",{className:"hamburger-menu-container",children:o.jsx("button",{onClick:$=>{$.stopPropagation(),C(!S)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors border-0 outline-none focus:outline-none",style:{border:"none",outline:"none"},children:o.jsx(ds,{size:24,className:"text-black"})})})]}),S&&o.jsx("div",{className:"hamburger-menu-container absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:o.jsxs("div",{className:"py-2",children:[v.map($=>{const ee=$.slug.split("/").pop();return o.jsxs("button",{onClick:()=>{e(`/m/${t}/${ee}?lang=${R}`),C(!1)},className:"w-full flex items-center justify-between px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(ds,{size:18,className:"text-green-600"})}),o.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[o.jsx("div",{className:"font-medium text-gray-900",children:$.menu_name}),$.description&&o.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:$.description})]})]}),o.jsx($d,{size:18,className:"text-gray-400 flex-shrink-0 ml-2"})]},$.id)}),o.jsx("div",{className:"px-4 py-4 border-b border-gray-50",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[o.jsxs("button",{onClick:()=>{Ue(!0),C(!1)},className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all flex-1 justify-center",children:[o.jsx(nr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:qt(rt,"reserve","Réserver")})]}),(g==null?void 0:g.telephone)&&o.jsx("a",{href:`tel:${g.telephone}`,className:"p-2.5 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:o.jsx(Er,{size:20})}),(g==null?void 0:g.whatsapp)&&o.jsx("a",{href:nn(g.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all",children:o.jsx(yi,{size:20})})]})}),((g==null?void 0:g.instagram)||(g==null?void 0:g.facebook)||(g==null?void 0:g.tiktok))&&o.jsx("div",{className:"px-4 py-4 bg-gray-50",children:o.jsxs("div",{className:"flex items-center justify-center gap-3",children:[(g==null?void 0:g.instagram)&&o.jsx("a",{href:g.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all",children:o.jsx(Oa,{size:20})}),(g==null?void 0:g.facebook)&&o.jsx("a",{href:g.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all",children:o.jsx(Pa,{size:20})}),(g==null?void 0:g.tiktok)&&o.jsx("a",{href:g.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})})]})})]})}),n.banniere_url&&o.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:o.jsx("img",{src:n.banniere_url,alt:"Bannière du restaurant",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"px-4 lg:pt-20",children:[i.length>0&&o.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:o.jsx("div",{ref:xe,className:`flex ${X()?"space-x-reverse":""} space-x-8 overflow-x-auto scrollbar-hide items-center`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:i.map($=>o.jsx("button",{ref:ee=>Me.current[$.id]=ee,onClick:()=>rn($.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===$.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===$.id?n.couleur_primaire:void 0,borderColor:m===$.id?n.couleur_primaire:void 0},children:R!==(n.default_language||"fr")&&O[$.id]?O[$.id].nom:$.nom},$.id))})}),o.jsx("div",{className:"hidden lg:block mb-8",children:o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>Ue(!0),className:`bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center ${X()?"space-x-reverse":""} space-x-3 font-medium text-lg mx-auto`,style:{backgroundColor:n.couleur_primaire},children:[o.jsx(nr,{size:24}),o.jsx("span",{children:"Réserver une table"})]})})}),o.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[i.length>0&&o.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),o.jsx("nav",{className:"py-2",children:i.map($=>{const ee=l[$.id]||[];return ee.length===0?null:o.jsxs("button",{onClick:()=>rn($.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===$.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===$.id?n.couleur_primaire:n.couleur_texte,borderColor:m===$.id?n.couleur_primaire:void 0},children:[o.jsx("div",{className:"font-medium text-base",children:$.nom}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[ee.length," plat",ee.length>1?"s":""]})]},$.id)})})]})}),o.jsx("div",{className:"lg:min-h-screen",children:i.length===0?o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:o.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de création"}),o.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propriétaire de ce restaurant configure actuellement son menu.",o.jsx("br",{}),"Revenez bientôt pour découvrir nos délicieux plats !"]})]})}):o.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:i.map($=>{var de,He;const ee=l[$.id]||[];return ee.length===0?null:o.jsxs("div",{ref:J=>ie.current[$.id]=J,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[o.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[o.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:R!==(n.default_language||"fr")&&O[$.id]?O[$.id].nom:$.nom}),(R!==(n.default_language||"fr")&&((de=O[$.id])!=null&&de.description)?O[$.id].description:$.description)&&o.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:R!==(n.default_language||"fr")&&((He=O[$.id])!=null&&He.description)?O[$.id].description:$.description}),o.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),o.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[o.jsx("div",{className:"lg:hidden",children:ee.map(J=>o.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:o.jsxs("div",{className:`flex items-start ${X()?"space-x-reverse":""} space-x-4`,children:[J.image_url&&o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>ue({url:J.image_url,name:J.nom}),children:o.jsx("img",{src:J.image_url,alt:J.nom,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:`flex-1 ${X()?"pl-2":"pr-2"}`,children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:R!==(n.default_language||"fr")&&U[J.id]?U[J.id].nom:J.nom}),o.jsxs("div",{className:`flex items-center ${X()?"space-x-reverse":""} space-x-1 mt-1`,children:[J.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Végétarien",children:o.jsx(oa,{className:"w-3 h-3"})}),J.vegan&&o.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:o.jsx(oa,{className:"w-3 h-3"})}),J.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),J.epice&&o.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"Épicé",children:o.jsx(Zc,{className:"w-3 h-3"})})]})]}),o.jsxs("span",{className:`text-xl font-bold flex-shrink-0 ${X()?"mr-2":"ml-2"}`,style:{color:n.couleur_primaire},children:[J.prix.toFixed(2)," ",n.currency_symbol||"€"]})]}),(R!==(n.default_language||"fr")&&U[J.id]?U[J.id].description:J.description)&&o.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:R!==(n.default_language||"fr")&&U[J.id]?U[J.id].description:J.description}),J.allergenes&&Array.isArray(J.allergenes)&&J.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:[qt(rt,"allergens","Allergènes"),": ",J.allergenes.join(", ")]})]})]})},J.id))}),ee.map(J=>o.jsx("div",{className:"hidden lg:block",children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[J.image_url&&o.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative cursor-pointer",onClick:()=>ue({url:J.image_url,name:J.nom}),children:[o.jsx("img",{src:J.image_url,alt:J.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsxs("div",{className:`absolute top-3 ${X()?"right-3":"left-3"} flex ${X()?"space-x-reverse":""} space-x-1`,children:[J.vegetarien&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Végétarien",children:o.jsx(oa,{className:"w-4 h-4"})}),J.vegan&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:o.jsx(oa,{className:"w-4 h-4"})}),J.sans_gluten&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),J.epice&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"Épicé",children:o.jsx(Zc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[!J.image_url&&(J.vegetarien||J.vegan||J.sans_gluten||J.epice)&&o.jsxs("div",{className:`flex ${X()?"space-x-reverse":""} space-x-1 mb-3`,children:[J.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-600 p-1.5 rounded-full",title:"Végétarien",children:o.jsx(oa,{className:"w-4 h-4"})}),J.vegan&&o.jsx("span",{className:"bg-green-200 text-green-700 p-1.5 rounded-full",title:"Vegan",children:o.jsx(oa,{className:"w-4 h-4"})}),J.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-bold",children:"SG"}),J.epice&&o.jsx("span",{className:"bg-red-100 text-red-600 p-1.5 rounded-full",title:"Épicé",children:o.jsx(Zc,{className:"w-4 h-4"})})]}),o.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:R!==(n.default_language||"fr")&&U[J.id]?U[J.id].nom:J.nom}),(R!==(n.default_language||"fr")&&U[J.id]?U[J.id].description:J.description)&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:R!==(n.default_language||"fr")&&U[J.id]?U[J.id].description:J.description}),J.allergenes&&Array.isArray(J.allergenes)&&J.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:[qt(rt,"allergens","Allergènes"),": ",J.allergenes.join(", ")]}),o.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:o.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[J.prix.toFixed(2)," €"]})})]})]})},J.id))]})]},$.id)})})})]}),g&&o.jsx(T2,{restaurant:g,selectedLanguage:R,translations:rt})]}),ge&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Réserver une table"}),o.jsx("button",{onClick:()=>Ue(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Ee,{size:20})})]})}),he&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${he.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[he.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Ee,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:he.text})]}),o.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:D.customer_name,onChange:$=>V(ee=>({...ee,customer_name:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),o.jsx("input",{type:"tel",value:D.customer_phone,onChange:$=>V(ee=>({...ee,customer_phone:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:D.reservation_date,onChange:$=>V(ee=>({...ee,reservation_date:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:ae(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:D.reservation_time,onChange:$=>V(ee=>({...ee,reservation_time:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:D.party_size,onChange:$=>V(ee=>({...ee,party_size:parseInt($.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map($=>o.jsxs("option",{value:$,children:[$," personne",$>1?"s":""]},$))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),o.jsx("textarea",{value:D.special_requests,onChange:$=>V(ee=>({...ee,special_requests:$.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>Ue(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:oe,className:`flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center ${X()?"space-x-reverse":""} space-x-2`,style:{backgroundColor:n.couleur_primaire},children:oe?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"w-5 h-5"}),o.jsx("span",{children:"Réserver"})]})})]})]})]})}),Z&&o.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",onClick:()=>ue(null),children:[o.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10",onClick:()=>ue(null),children:o.jsx(Ee,{size:32})}),o.jsxs("div",{className:"max-w-7xl max-h-full w-full h-full flex flex-col items-center justify-center",children:[o.jsx("img",{src:Z.url,alt:Z.name,className:"max-w-full max-h-[90vh] object-contain",onClick:$=>$.stopPropagation()}),o.jsx("p",{className:"text-white text-lg font-medium mt-4",children:Z.name})]})]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(Q_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(g==null?void 0:g.restaurant_name)||n.nom}),o.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:fe||n.menu_name||n.nom}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:_&&o.jsx("img",{src:_,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),n.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},h5=()=>{const{slug:e}=Ci(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,s]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});y.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),a(!1);return}try{const{data:v,error:p}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(p){s("Erreur lors du chargement du menu");return}if(!v){s("Restaurant non trouvé");return}r(v)}catch{s("Erreur lors du chargement du menu")}finally{a(!1)}},b=(v,p)=>{d({type:v,text:p}),setTimeout(()=>d(null),5e3)},x=async v=>{if(v.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){b("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:p}=await B.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(p)throw p;b("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(p){console.error("Erreur lors de la réservation:",p),b("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{c(!1)}},w=()=>{const v=new Date;return v.setDate(v.getDate()+1),v.toISOString().split("T")[0]};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):i||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:i||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs(Je,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Dl,{size:20}),o.jsx("span",{children:"Retour à l'accueil"})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🍽️"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Réserver une table"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Ee,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:u.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:f.customer_name,onChange:v=>h(p=>({...p,customer_name:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),o.jsx("input",{type:"tel",value:f.customer_phone,onChange:v=>h(p=>({...p,customer_phone:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),o.jsx("input",{type:"email",value:f.customer_email,onChange:v=>h(p=>({...p,customer_email:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:f.reservation_date,onChange:v=>h(p=>({...p,reservation_date:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:f.reservation_time,onChange:v=>h(p=>({...p,reservation_time:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:f.party_size,onChange:v=>h(p=>({...p,party_size:parseInt(v.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(v=>o.jsxs("option",{value:v,children:[v," personne",v>1?"s":""]},v))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),o.jsx("textarea",{value:f.special_requests,onChange:v=>h(p=>({...p,special_requests:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:l?o.jsx(we,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(nr,{className:"w-5 h-5"}),o.jsx("span",{children:"Envoyer la réservation"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["ℹ️ ",o.jsx("strong",{children:"Information :"})," Votre réservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},m5=()=>{var u;const{slug:e}=Ci(),[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,s]=y.useState(null);y.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){s("Slug manquant"),a(!1);return}try{const{data:d,error:f}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouvé");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{a(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(we,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):i||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:i||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs(Je,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Dl,{size:20}),o.jsx("span",{children:"Retour à l'accueil"})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🍽️"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(Er,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Téléphone"}),o.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),o.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(yi,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-gray-600",children:"Messagerie instantanée"})]})]}),o.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[o.jsx("span",{children:t.whatsapp}),o.jsx(Yg,{size:16})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(Er,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Réservation"}),o.jsx("p",{className:"text-gray-600",children:"Réservez en ligne"})]})]}),o.jsx(Je,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Réserver une table"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(Er,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),o.jsx("p",{className:"text-gray-600",children:"Découvrez nos plats"})]})]}),o.jsx(Je,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"mt-12",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les réseaux sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[o.jsx(Oa,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Instagram"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[o.jsx(Pa,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Facebook"}),o.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-black font-bold",children:"T"})}),o.jsx("span",{className:"font-medium",children:"TikTok"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),o.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:o.jsxs("p",{className:"text-blue-700 text-center",children:["ℹ️ ",o.jsx("strong",{children:"Besoin d'aide ?"})," N'hésitez pas à nous contacter pour toute question ou demande spéciale. Nous sommes là pour vous aider !"]})})]})})};function p5(){const{user:e}=fr();Zr();const[t,r]=y.useState(!0),[n,a]=y.useState(!1),[i,s]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),[f,h]=y.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",hero_background_color:"#f3f4f6",primary_color:"#ea580c",accent_color:"#f97316",text_color:"#1f2937",background_color:"#ffffff",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:"",google_business_url:"",location:"",show_footer_branding:!0});y.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:p,error:g}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(g&&g.code!=="PGRST116")throw g;p&&(c(p),h({restaurant_name:p.restaurant_name,slug:p.slug,description:p.description||"",banner_url:p.banner_url||"",logo_url:p.logo_url||"",hero_background_color:p.hero_background_color||"#f3f4f6",primary_color:p.primary_color||"#ea580c",accent_color:p.accent_color||"#f97316",text_color:p.text_color||"#1f2937",background_color:p.background_color||"#ffffff",telephone:p.telephone||"",whatsapp:p.whatsapp||"",instagram:p.instagram||"",facebook:p.facebook||"",tiktok:p.tiktok||"",address:p.address||"",hours:p.hours||"",google_business_url:p.google_business_url||"",location:p.location||"",show_footer_branding:p.show_footer_branding!==void 0?p.show_footer_branding:!0}))}catch(p){console.error("Erreur lors du chargement du profil:",p),b("error","Erreur lors du chargement du profil")}finally{r(!1)}}},b=(p,g)=>{s({type:p,text:g}),setTimeout(()=>s(null),5e3)},x=(p,g)=>{if(h(p==="show_footer_branding"?j=>({...j,[p]:g==="true"}):j=>({...j,[p]:g})),p==="restaurant_name"&&!l){const j=ga(g);h(_=>({..._,slug:j}))}},w=async(p,g)=>{if(e){d(!0);try{const j=f[g],N=await _s(p,g==="banner_url"?"bannieres":"logos");if(N.error){b("error",N.error);return}j&&await cs(j),h(k=>({...k,[g]:N.url})),b("success","Image téléchargée avec succès")}catch(j){console.error("Erreur lors du téléchargement:",j),b("error","Erreur lors du téléchargement de l'image")}finally{d(!1)}}},v=async()=>{if(e){if(!f.restaurant_name.trim()){b("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){b("error","Le slug est requis");return}a(!0);try{if(l){const p={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,primary_color:f.primary_color,accent_color:f.accent_color,text_color:f.text_color,background_color:f.background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{error:g}=await B.from("restaurant_profiles").update(p).eq("id",l.id);if(g)throw g;b("success","Profil mis à jour avec succès")}else{const p={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,primary_color:f.primary_color,accent_color:f.accent_color,text_color:f.text_color,background_color:f.background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{data:g,error:j}=await B.from("restaurant_profiles").insert([p]).select().single();if(j)throw j;c(g),b("success","Profil créé avec succès")}await m()}catch(p){console.error("Erreur lors de la sauvegarde:",p),b("error","Erreur lors de la sauvegarde du profil")}finally{a(!1)}}};return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Pi,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[i&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${i.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[i.type==="success"?o.jsx(Fe,{size:20}):o.jsx(Ee,{size:20}),o.jsx("span",{children:i.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identité Visuelle"}),o.jsx("p",{className:"text-gray-600",children:"Configurez l'identité visuelle et les informations de votre restaurant"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(k3,{size:20}),o.jsx("span",{children:"Informations générales"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),o.jsx("input",{type:"text",value:f.restaurant_name,onChange:p=>x("restaurant_name",p.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),o.jsx("input",{type:"text",value:f.slug,onChange:p=>x("slug",p.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!l})]}),l&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas être modifiée après la création"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:f.description,onChange:p=>x("description",p.target.value),placeholder:"Décrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ul,{size:16,className:"inline mr-1"}),"Adresse"]}),o.jsx("input",{type:"text",value:f.address,onChange:p=>x("address",p.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(cl,{size:16,className:"inline mr-1"}),"Horaires"]}),o.jsx("input",{type:"text",value:f.hours,onChange:p=>x("hours",p.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ul,{size:16,className:"inline mr-1"}),"Localisation (Google Maps)"]}),o.jsx("input",{type:"url",value:f.location,onChange:p=>x("location",p.target.value),placeholder:"https://www.google.com/maps/place/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 font-medium mb-1",children:"💡 Comment obtenir le bon lien :"}),o.jsxs("ol",{className:"text-xs text-gray-600 space-y-1 ml-4 list-decimal",children:[o.jsx("li",{children:"Ouvrez Google Maps et trouvez votre restaurant"}),o.jsx("li",{children:'Cliquez sur "Partager" puis "Intégrer une carte"'}),o.jsxs("li",{children:["Copiez le lien dans ",o.jsx("code",{className:"bg-white px-1 rounded",children:'src="..."'})]}),o.jsx("li",{children:"Ou utilisez directement l'URL de la page (ex: google.com/maps/place/...)"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),f.banner_url?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:f.banner_url,alt:"Bannière",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(p=>({...p,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:o.jsx(Ee,{size:16})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ks,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour télécharger une bannière"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p=>{var g;return((g=p.target.files)==null?void 0:g[0])&&w(p.target.files[0],"banner_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(p=>({...p,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:o.jsx(Ee,{size:14})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ks,{className:"w-8 h-8 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p=>{var g;return((g=p.target.files)==null?void 0:g[0])&&w(p.target.files[0],"logo_url")},disabled:u})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Palette de Couleurs"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Personnalisez les couleurs de votre page de menu"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Thèmes prédéfinis"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"Orange Classic",primary:"#ea580c",accent:"#f97316",text:"#1f2937",bg:"#ffffff",hero:"#fff7ed"},{name:"Rouge Passion",primary:"#dc2626",accent:"#ef4444",text:"#1f2937",bg:"#ffffff",hero:"#fef2f2"},{name:"Vert Nature",primary:"#16a34a",accent:"#22c55e",text:"#1f2937",bg:"#ffffff",hero:"#f0fdf4"},{name:"Bleu Océan",primary:"#2563eb",accent:"#3b82f6",text:"#1f2937",bg:"#ffffff",hero:"#eff6ff"},{name:"Violet Royal",primary:"#7c3aed",accent:"#8b5cf6",text:"#1f2937",bg:"#ffffff",hero:"#f5f3ff"},{name:"Rose Élégant",primary:"#db2777",accent:"#ec4899",text:"#1f2937",bg:"#ffffff",hero:"#fdf2f8"},{name:"Sombre Chic",primary:"#f59e0b",accent:"#fbbf24",text:"#f9fafb",bg:"#111827",hero:"#1f2937"},{name:"Minimaliste",primary:"#374151",accent:"#6b7280",text:"#111827",bg:"#ffffff",hero:"#f9fafb"}].map(p=>o.jsxs("button",{type:"button",onClick:()=>{h(g=>({...g,primary_color:p.primary,accent_color:p.accent,text_color:p.text,background_color:p.bg,hero_background_color:p.hero}))},className:"p-3 border-2 border-gray-200 rounded-lg hover:border-orange-500 transition-colors text-left",children:[o.jsxs("div",{className:"flex gap-1.5 mb-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:p.primary}}),o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:p.accent}}),o.jsx("div",{className:"w-6 h-6 rounded border border-gray-200",style:{backgroundColor:p.bg}})]}),o.jsx("p",{className:"text-xs font-medium text-gray-700",children:p.name})]},p.name))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur Principale"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.primary_color,onChange:p=>x("primary_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.primary_color,onChange:p=>x("primary_color",p.target.value),placeholder:"#ea580c",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilisée pour les boutons et liens principaux"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'Accentuation"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.accent_color,onChange:p=>x("accent_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.accent_color,onChange:p=>x("accent_color",p.target.value),placeholder:"#f97316",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilisée pour les hovers et éléments secondaires"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du Texte"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.text_color,onChange:p=>x("text_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.text_color,onChange:p=>x("text_color",p.target.value),placeholder:"#1f2937",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur principale du texte"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur de Fond du Hero"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.hero_background_color,onChange:p=>x("hero_background_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.hero_background_color,onChange:p=>x("hero_background_color",p.target.value),placeholder:"#f3f4f6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur de fond de la section hero en haut"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Réseaux Sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Er,{size:16,className:"inline mr-1"}),"Téléphone"]}),o.jsx("input",{type:"tel",value:f.telephone,onChange:p=>x("telephone",p.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),o.jsx("input",{type:"tel",value:f.whatsapp,onChange:p=>x("whatsapp",p.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Oa,{size:16,className:"inline mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:f.instagram,onChange:p=>x("instagram",p.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Pa,{size:16,className:"inline mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:f.facebook,onChange:p=>x("facebook",p.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Y_,{size:16,className:"inline mr-1"}),"TikTok"]}),o.jsx("input",{type:"url",value:f.tiktok,onChange:p=>x("tiktok",p.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ym,{size:16,className:"inline mr-1"}),"Google My Business"]}),o.jsx("input",{type:"url",value:f.google_business_url,onChange:p=>x("google_business_url",p.target.value),placeholder:"https://g.page/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Les clients pourront voir vos avis Google et laisser un avis depuis votre page"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Paramètres du Footer"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Afficher le branding CloudMenu"}),o.jsx("p",{className:"text-xs text-gray-500",children:'Afficher "Propulsé par CloudMenu" dans le footer'})]}),o.jsx("button",{type:"button",onClick:()=>x("show_footer_branding",(!f.show_footer_branding).toString()),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f.show_footer_branding?"bg-orange-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${f.show_footer_branding?"translate-x-6":"translate-x-1"}`})})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:v,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx(we,{className:"animate-spin",size:20}),o.jsx("span",{children:"Enregistrement..."})]}):o.jsxs(o.Fragment,{children:[o.jsx($l,{size:20}),o.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function M2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=M2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=M2(e))&&(n&&(n+=" "),n+=t);return n}var qd={},I2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(I2);var l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(l0);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(c0);var Wd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];l?u==="\\"&&i+1<a?(i++,s+=r[i]):u===l?l="":s+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,i++}return s&&n.push(s),n}e.toPath=t})(Wd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I2,r=l0,n=c0,a=Wd;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(qd);var g5=qd.get;const Vd=Ta(g5);var kr=e=>e===0?0:e>0?1:-1,Ar=e=>typeof e=="number"&&e!=+e,ri=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ce=e=>(typeof e=="number"||e instanceof Number)&&!Ar(e),gn=e=>ce(e)||typeof e=="string",v5=0,gl=e=>{var t=++v5;return"".concat(e||"").concat(t)},Aa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&typeof t!="string")return n;var i;if(ri(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Ar(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},D2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Sn(e,t,r){return ce(e)&&ce(t)?e+r*(t-e):t}function $2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Vd(n,t))===r)}var ht=e=>e===null||typeof e>"u",Bl=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),y5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function u0(e){if(typeof e!="string")return!1;var t=y5;return t.includes(e)}var x5=["viewBox","children"],$x=["points","pathLength"],gh={svg:x5,polygon:$x,polyline:$x},d0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{u0(a)&&(n[a]=i=>r[a](r,i))}),n},b5=(e,t,r)=>n=>(e(t,r,n),null),L2=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];u0(a)&&typeof i=="function"&&(n||(n={}),n[a]=b5(i,t,r))}),n},w5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function R2(e){if(typeof e!="string")return!1;var t=w5;return t.includes(e)}function Oi(e){var t=Object.entries(e).filter(r=>{var[n]=r;return R2(n)});return Object.fromEntries(t)}var z2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,j5=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(gh==null?void 0:gh[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||R2(t)),c=!!r&&u0(t);return s||l||c},mt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;j5((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},_5=["children","width","height","viewBox","className","style","title","desc"];function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function k5(e,t){if(e==null)return{};var r,n,a=N5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function N5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f0=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:c,desc:u}=e,d=k5(e,_5),f=i||{width:n,height:a,x:0,y:0},h=Pe("recharts-surface",s);return y.createElement("svg",ap({},mt(d,!0,"svg"),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),S5=["children","className"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function E5(e,t){if(e==null)return{};var r,n,a=C5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function C5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vs=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=E5(e,S5),i=Pe("recharts-layer",n);return y.createElement("g",ip({className:i},mt(a,!0),{ref:t}),r)}),U2=y.createContext(null),P5=()=>y.useContext(U2);function Ae(e){return function(){return e}}const B2=Math.cos,Mu=Math.sin,en=Math.sqrt,Iu=Math.PI,Hd=2*Iu,sp=Math.PI,op=2*sp,Ya=1e-6,O5=op-Ya;function F2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function A5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F2;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class T5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F2:A5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ya)if(!(Math.abs(f*c-u*d)>Ya)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,b=a-l,x=c*c+u*u,w=m*m+b*b,v=Math.sqrt(x),p=Math.sqrt(h),g=i*Math.tan((sp-Math.acos((x+h-w)/(2*v*p)))/2),j=g/p,_=g/v;Math.abs(j-1)>Ya&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*b)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ya||Math.abs(this._y1-d)>Ya)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%op+op),h>O5?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ya&&this._append`A${n},${n},0,${+(h>=sp)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function h0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new T5(t)}function m0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q2(e){this._context=e}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kd(e){return new q2(e)}function W2(e){return e[0]}function V2(e){return e[1]}function H2(e,t){var r=Ae(!0),n=null,a=Kd,i=null,s=h0(l);e=typeof e=="function"?e:e===void 0?W2:Ae(e),t=typeof t=="function"?t:t===void 0?V2:Ae(t);function l(c){var u,d=(c=m0(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Sc(e,t,r){var n=null,a=Ae(!0),i=null,s=Kd,l=null,c=h0(u);e=typeof e=="function"?e:e===void 0?W2:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?V2:Ae(+r);function u(f){var h,m,b,x=(f=m0(f)).length,w,v=!1,p,g=new Array(x),j=new Array(x);for(i==null&&(l=s(p=c())),h=0;h<=x;++h){if(!(h<x&&a(w=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=m;--b)l.point(g[b],j[b]);l.lineEnd(),l.areaEnd()}v&&(g[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):g[h],r?+r(w,h,f):j[h]))}if(p)return l=null,p+""||null}function d(){return H2().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class K2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function M5(e){return new K2(e,!0)}function I5(e){return new K2(e,!1)}const p0={draw(e,t){const r=en(t/Iu);e.moveTo(r,0),e.arc(0,0,r,0,Hd)}},D5={draw(e,t){const r=en(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},G2=en(1/3),$5=G2*2,L5={draw(e,t){const r=en(t/$5),n=r*G2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},R5={draw(e,t){const r=en(t),n=-r/2;e.rect(n,n,r,r)}},z5=.8908130915292852,Y2=Mu(Iu/10)/Mu(7*Iu/10),U5=Mu(Hd/10)*Y2,B5=-B2(Hd/10)*Y2,F5={draw(e,t){const r=en(t*z5),n=U5*r,a=B5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Hd*i/5,l=B2(s),c=Mu(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},vh=en(3),q5={draw(e,t){const r=-en(t/(vh*3));e.moveTo(0,r*2),e.lineTo(-vh*r,-r),e.lineTo(vh*r,-r),e.closePath()}},gr=-.5,vr=en(3)/2,lp=1/en(12),W5=(lp/2+1)*3,V5={draw(e,t){const r=en(t/W5),n=r/2,a=r*lp,i=n,s=r*lp+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(gr*n-vr*a,vr*n+gr*a),e.lineTo(gr*i-vr*s,vr*i+gr*s),e.lineTo(gr*l-vr*c,vr*l+gr*c),e.lineTo(gr*n+vr*a,gr*a-vr*n),e.lineTo(gr*i+vr*s,gr*s-vr*i),e.lineTo(gr*l+vr*c,gr*c-vr*l),e.closePath()}};function H5(e,t){let r=null,n=h0(a);e=typeof e=="function"?e:Ae(e||p0),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Du(){}function $u(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$u(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K5(e){return new Q2(e)}function X2(e){this._context=e}X2.prototype={areaStart:Du,areaEnd:Du,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G5(e){return new X2(e)}function J2(e){this._context=e}J2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y5(e){return new J2(e)}function Z2(e){this._context=e}Z2.prototype={areaStart:Du,areaEnd:Du,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q5(e){return new Z2(e)}function Lx(e){return e<0?-1:1}function Rx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(Lx(i)+Lx(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function zx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yh(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Lu(e){this._context=e}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yh(this,this._t0,zx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yh(this,zx(this,r=Rx(this,e,t)),r);break;default:yh(this,this._t0,r=Rx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ek(e){this._context=new tk(e)}(ek.prototype=Object.create(Lu.prototype)).point=function(e,t){Lu.prototype.point.call(this,t,e)};function tk(e){this._context=e}tk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function X5(e){return new Lu(e)}function J5(e){return new ek(e)}function rk(e){this._context=e}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ux(e),a=Ux(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ux(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Z5(e){return new rk(e)}function Gd(e,t){this._context=e,this._t=t}Gd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function e6(e){return new Gd(e,.5)}function t6(e){return new Gd(e,0)}function r6(e){return new Gd(e,1)}function Ps(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function cp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function n6(e,t){return e[t]}function a6(e){const t=[];return t.key=e,t}function i6(){var e=Ae([]),t=cp,r=Ps,n=n6;function a(i){var s=Array.from(e.apply(this,arguments),a6),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=m0(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?cp:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ps,a):r},a}function s6(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ps(e,t)}}function o6(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ps(e,t)}}function l6(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,b=0;b<l;++b){var x=e[t[b]],w=x[n][1]||0,v=x[n-1][1]||0;m+=w-v}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ps(e,t)}}var c6=["type","size","sizeType"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function Bx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bx(Object(r),!0).forEach(function(n){u6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6(e,t,r){return(t=d6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=f6(e,"string");return typeof t=="symbol"?t:t+""}function f6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h6(e,t){if(e==null)return{};var r,n,a=m6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nk={symbolCircle:p0,symbolCross:D5,symbolDiamond:L5,symbolSquare:R5,symbolStar:F5,symbolTriangle:q5,symbolWye:V5},p6=Math.PI/180,g6=e=>{var t="symbol".concat(Bl(e));return nk[t]||p0},v6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*p6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},y6=(e,t)=>{nk["symbol".concat(Bl(e))]=t},ak=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=h6(e,c6),i=Fx(Fx({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=g6(s),m=H5().type(h).size(v6(r,n,s));return m()},{className:c,cx:u,cy:d}=i,f=mt(i,!0);return u===+u&&d===+d&&r===+r?y.createElement("path",up({},f,{className:Pe("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};ak.registerSymbol=y6;function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qx(Object(r),!0).forEach(function(n){g0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g0(e,t,r){return(t=b6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=w6(e,"string");return typeof t=="symbol"?t:t+""}function w6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yr=32;class v0 extends y.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=yr/2,i=yr/6,s=yr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:yr,y2:a,className:"recharts-legend-icon"});if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(yr,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yr/8,"h").concat(yr,"v").concat(yr*3/4,"h").concat(-yr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var u=x6({},t);return delete u.legendIcon,y.cloneElement(t.legendIcon,u)}return y.createElement(ak,{fill:l,cx:a,cy:a,size:yr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,l={x:0,y:0,width:yr,height:yr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Pe({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var b=d.inactive?i:d.color,x=h?h(d.value,d,f):d.value;return y.createElement("li",dp({className:m,style:c,key:"legend-item-".concat(f)},L2(this.props,d,f)),y.createElement(f0,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,s)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}g0(v0,"displayName","Legend");g0(v0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var ik={},sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(sk);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(y0);var ok={},Yd={},lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Yd);var ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yd,r=ck;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(ok);var uk={},dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qd;function r(n){return function(a){return t.get(a,n)}}e.property=r})(dk);var fk={},xh={},bh={},x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(x0);var b0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(b0);var w0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(w0);var Wx;function j6(){return Wx||(Wx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0(),r=x0,n=b0,a=w0;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function b(x,w,v,p,g,j){const _=m(x,w,v,p,g,j);return _!==void 0?!!_:s(x,w,b,j)},new Map)}function s(f,h,m,b){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,b);case"function":return Object.keys(h).length>0?s(f,{...h},m,b):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function l(f,h,m,b){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,b);if(h instanceof Map)return c(f,h,m,b);if(h instanceof Set)return d(f,h,m,b);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(b&&b.has(h))return b.get(h)===f;b&&b.set(h,f);try{for(let w=0;w<x.length;w++){const v=x[w];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!m(f[v],h[v],v,f,h,b))return!1}return!0}finally{b&&b.delete(h)}}function c(f,h,m,b){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const v=f.get(x);if(m(v,w,x,f,h,b)===!1)return!1}return!0}function u(f,h,m,b){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const v=h[w];let p=!1;for(let g=0;g<f.length;g++){if(x.has(g))continue;const j=f[g];let _=!1;if(m(j,v,w,f,h,b)&&(_=!0),_){x.add(g),p=!0;break}}if(!p)return!1}return!0}function d(f,h,m,b){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,b):!1}e.isMatchWith=i,e.isSetMatch=d}(bh)),bh}var Vx;function j0(){return Vx||(Vx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j6();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(xh)),xh}var hk={},_0={},mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(mk);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(k0);var N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",b="[object Error]",x="[object DataView]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",p="[object Uint16Array]",g="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",S="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=b,e.float32ArrayTag=S,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=p,e.uint32ArrayTag=g,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=v})(N0);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk,r=k0,n=N0,a=b0,i=pk;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,b=void 0){const x=b==null?void 0:b(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,h,m,b);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[v,p]of d)w.set(v,l(p,v,h,m,b));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const v of d)w.add(l(v,void 0,h,m,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,h,m,b);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,b),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,b),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,b),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,b),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,b),w}return d}function c(d,f,h=d,m,b){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const v=x[w],p=Object.getOwnPropertyDescriptor(d,v);(p==null||p.writable)&&(d[v]=l(f[v],v,h,m,b))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(_0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0(),r=hk;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(fk);var gk={},vk={},yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0,r=N0;function n(a,i){return t.cloneDeepWith(a,(s,l,c,u)=>{const d=i==null?void 0:i(s,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(vk);var xk={},S0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(S0);var bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0,r=S0,n=bk,a=Wd;function i(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(xk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0(),r=c0,n=vk,a=qd,i=xk;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0,r=dk,n=fk,a=gk;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sk,r=y0,n=ok,a=uk;function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(ik);var _6=ik.uniqBy;const Hx=Ta(_6);function wk(e,t,r){return t===!0?Hx(e,r):typeof t=="function"?Hx(e,t):e}var jk={exports:{}},_k={},kk={exports:{}},Nk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=y;function k6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N6=typeof Object.is=="function"?Object.is:k6,S6=Os.useState,E6=Os.useEffect,C6=Os.useLayoutEffect,P6=Os.useDebugValue;function O6(e,t){var r=t(),n=S6({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return C6(function(){a.value=r,a.getSnapshot=t,wh(a)&&i({inst:a})},[e,r,t]),E6(function(){return wh(a)&&i({inst:a}),e(function(){wh(a)&&i({inst:a})})},[e]),P6(r),r}function wh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!N6(e,r)}catch{return!0}}function A6(e,t){return t()}var T6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A6:O6;Nk.useSyncExternalStore=Os.useSyncExternalStore!==void 0?Os.useSyncExternalStore:T6;kk.exports=Nk;var M6=kk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=y,I6=M6;function D6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $6=typeof Object.is=="function"?Object.is:D6,L6=I6.useSyncExternalStore,R6=Qd.useRef,z6=Qd.useEffect,U6=Qd.useMemo,B6=Qd.useDebugValue;_k.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=R6(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=U6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var b=s.value;if(a(b,m))return f=b}return f=m}if(b=f,$6(d,m))return b;var x=n(m);return a!==void 0&&a(b,x)?(d=m,b):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=L6(e,i[0],i[1]);return z6(function(){s.hasValue=!0,s.value=l},[l]),B6(l),l};jk.exports=_k;var F6=jk.exports,E0=y.createContext(null),q6=e=>e,kt=()=>{var e=y.useContext(E0);return e?e.store.dispatch:q6},ru=()=>{},W6=()=>ru,V6=(e,t)=>e===t;function se(e){var t=y.useContext(E0);return F6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:W6,t?t.store.getState:ru,t?t.store.getState:ru,t?e:ru,V6)}function H6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function K6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function G6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Kx=e=>Array.isArray(e)?e:[e];function Y6(e){const t=Array.isArray(e[0])?e[0]:e;return G6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Q6(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var X6=class{constructor(e){this.value=e}deref(){return this.value}},J6=typeof WeakRef<"u"?WeakRef:X6,Z6=0,Gx=1;function Ec(){return{s:Z6,v:void 0,o:null,p:null}}function Sk(e,t={}){let r=Ec();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const b=arguments[h];if(typeof b=="function"||typeof b=="object"&&b!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(b);w===void 0?(l=Ec(),x.set(b,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(b);w===void 0?(l=Ec(),x.set(b,l)):l=w}}const u=l;let d;if(l.s===Gx)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new J6(d):d}return u.s=Gx,u.v=d,d}return s.clearCache=()=>{r=Ec(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function eI(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),H6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=Sk,argsMemoizeOptions:b=[],devModeChecks:x={}}=d,w=Kx(h),v=Kx(b),p=Y6(a),g=f(function(){return i++,u.apply(null,arguments)},...w),j=m(function(){s++;const N=Q6(p,arguments);return l=g.apply(null,N),l},...v);return Object.assign(j,{resultFunc:u,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var I=eI(Sk),tI=Object.assign((e,t=I)=>{K6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>tI}),Ek={},Ck={},Pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(Pk);var Ok={},C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(C0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(Ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk,r=Ok,n=Wd;function a(i,s,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,b)=>{let x=m;for(let w=0;w<b.length&&x!=null;++w)x=x[b[w]];return x},d=(m,b)=>b==null||m==null?b:typeof m=="object"&&"key"in m?Object.hasOwn(b,m.key)?b[m.key]:u(b,m.path):typeof m=="function"?m(b):Array.isArray(m)?u(b,m):typeof b=="object"?b[m]:b,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(b=>d(b,m))})).slice().sort((m,b)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],b.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=a})(Ck);var Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(Ak);var P0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,r=Yd,n=x0,a=w0;function i(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],s):!1}e.isIterateeCall=i})(P0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,r=Ak,n=P0;function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(Ek);var rI=Ek.sortBy;const Xd=Ta(rI);var Tk=e=>e.legend.settings,nI=e=>e.legend.size,aI=e=>e.legend.payload,iI=I([aI,Tk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Xd(n,r):n});function sI(){return se(iI)}var Cc=1;function Mk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Cc||Math.abs(s.left-t.left)>Cc||Math.abs(s.top-t.top)>Cc||Math.abs(s.width-t.width)>Cc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yx=oI,jh=()=>Math.random().toString(36).substring(7).split("").join("."),lI={INIT:`@@redux/INIT${jh()}`,REPLACE:`@@redux/REPLACE${jh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jh()}`},Ru=lI;function O0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ik(e,t,r){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(Ik)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((w,v)=>{s.set(v,w)}))}function d(){if(c)throw new Error(yt(3));return a}function f(w){if(typeof w!="function")throw new Error(yt(4));if(c)throw new Error(yt(5));let v=!0;u();const p=l++;return s.set(p,w),function(){if(v){if(c)throw new Error(yt(6));v=!1,u(),s.delete(p),i=null}}}function h(w){if(!O0(w))throw new Error(yt(7));if(typeof w.type>"u")throw new Error(yt(8));if(typeof w.type!="string")throw new Error(yt(17));if(c)throw new Error(yt(9));try{c=!0,a=n(a,w)}finally{c=!1}return(i=s).forEach(p=>{p()}),w}function m(w){if(typeof w!="function")throw new Error(yt(10));n=w,h({type:Ru.REPLACE})}function b(){const w=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(yt(11));function p(){const j=v;j.next&&j.next(d())}return p(),{unsubscribe:w(p)}},[Yx](){return this}}}return h({type:Ru.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Yx]:b}}function cI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ru.INIT})>"u")throw new Error(yt(12));if(typeof r(void 0,{type:Ru.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function Dk(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{cI(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],b=h(m,l);if(typeof b>"u")throw l&&l.type,new Error(yt(14));u[f]=b,c=c||b!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function zu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function uI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(yt(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(s));return i=zu(...l)(a.dispatch),{...a,dispatch:i}}}function $k(e){return O0(e)&&"type"in e&&typeof e.type=="string"}var Lk=Symbol.for("immer-nothing"),Qx=Symbol.for("immer-draftable"),cr=Symbol.for("immer-state");function Hr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var As=Object.getPrototypeOf;function bi(e){return!!e&&!!e[cr]}function qn(e){var t;return e?Rk(e)||Array.isArray(e)||!!e[Qx]||!!((t=e.constructor)!=null&&t[Qx])||Fl(e)||Zd(e):!1}var dI=Object.prototype.constructor.toString();function Rk(e){if(!e||typeof e!="object")return!1;const t=As(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===dI}function Uu(e,t){Jd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Jd(e){const t=e[cr];return t?t.type_:Array.isArray(e)?1:Fl(e)?2:Zd(e)?3:0}function fp(e,t){return Jd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zk(e,t,r){const n=Jd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fl(e){return e instanceof Map}function Zd(e){return e instanceof Set}function Qa(e){return e.copy_||e.base_}function hp(e,t){if(Fl(e))return new Map(e);if(Zd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Rk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[cr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(As(e),n)}else{const n=As(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function A0(e,t=!1){return ef(e)||bi(e)||!qn(e)||(Jd(e)>1&&Object.defineProperties(e,{set:{value:Pc},add:{value:Pc},clear:{value:Pc},delete:{value:Pc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>A0(r,!0))),e}function Pc(){Hr(2)}function ef(e){return Object.isFrozen(e)}var hI={};function wi(e){const t=hI[e];return t||Hr(0,e),t}var vl;function Uk(){return vl}function mI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xx(e,t){t&&(wi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function mp(e){pp(e),e.drafts_.forEach(pI),e.drafts_=null}function pp(e){e===vl&&(vl=e.parent_)}function Jx(e){return vl=mI(vl,e)}function pI(e){const t=e[cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Zx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[cr].modified_&&(mp(t),Hr(4)),qn(e)&&(e=Bu(t,e),t.parent_||Fu(t,e)),t.patches_&&wi("Patches").generateReplacementPatches_(r[cr].base_,e,t.patches_,t.inversePatches_)):e=Bu(t,r,[]),mp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Lk?e:void 0}function Bu(e,t,r){if(ef(t))return t;const n=t[cr];if(!n)return Uu(t,(a,i)=>eb(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Fu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),Uu(i,(l,c)=>eb(e,n,a,l,c,r,s)),Fu(e,a,!1),r&&e.patches_&&wi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function eb(e,t,r,n,a,i,s){if(bi(a)){const l=i&&t&&t.type_!==3&&!fp(t.assigned_,n)?i.concat(n):void 0,c=Bu(e,a,l);if(zk(r,n,c),bi(c))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(qn(a)&&!ef(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bu(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Fu(e,a)}}function Fu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&A0(t,r)}function gI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Uk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=T0;r&&(a=[n],i=yl);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var T0={get(e,t){if(t===cr)return e;const r=Qa(e);if(!fp(r,t))return vI(e,r,t);const n=r[t];return e.finalized_||!qn(n)?n:n===_h(e.base_,t)?(kh(e),e.copy_[t]=vp(n,e)):n},has(e,t){return t in Qa(e)},ownKeys(e){return Reflect.ownKeys(Qa(e))},set(e,t,r){const n=Bk(Qa(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=_h(Qa(e),t),i=a==null?void 0:a[cr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fI(r,a)&&(r!==void 0||fp(e.base_,t)))return!0;kh(e),gp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _h(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kh(e),gp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Qa(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hr(11)},getPrototypeOf(e){return As(e.base_)},setPrototypeOf(){Hr(12)}},yl={};Uu(T0,(e,t)=>{yl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yl.deleteProperty=function(e,t){return yl.set.call(this,e,t,void 0)};yl.set=function(e,t,r){return T0.set.call(this,e[0],t,r,e[0])};function _h(e,t){const r=e[cr];return(r?Qa(r):e)[t]}function vI(e,t,r){var a;const n=Bk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Bk(e,t){if(!(t in e))return;let r=As(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=As(r)}}function gp(e){e.modified_||(e.modified_=!0,e.parent_&&gp(e.parent_))}function kh(e){e.copy_||(e.copy_=hp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Hr(6),n!==void 0&&typeof n!="function"&&Hr(7);let a;if(qn(t)){const i=Jx(this),s=vp(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?mp(i):pp(i)}return Xx(i,n),Zx(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Lk&&(a=void 0),this.autoFreeze_&&A0(a,!0),n){const i=[],s=[];wi("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Hr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){qn(e)||Hr(8),bi(e)&&(e=Dn(e));const t=Jx(this),r=vp(e,void 0);return r[cr].isManual_=!0,pp(t),r}finishDraft(e,t){const r=e&&e[cr];(!r||!r.isManual_)&&Hr(9);const{scope_:n}=r;return Xx(n,t),Zx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=wi("Patches").applyPatches_;return bi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function vp(e,t){const r=Fl(e)?wi("MapSet").proxyMap_(e,t):Zd(e)?wi("MapSet").proxySet_(e,t):gI(e,t);return(t?t.scope_:Uk()).drafts_.push(r),r}function Dn(e){return bi(e)||Hr(10,e),Fk(e)}function Fk(e){if(!qn(e)||ef(e))return e;const t=e[cr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=hp(e,!0);return Uu(r,(n,a)=>{zk(r,n,Fk(a))}),t&&(t.finalized_=!1),r}var xI=new yI,qk=xI.produce;function Wk(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var bI=Wk(),wI=Wk,jI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zu:zu.apply(null,arguments)};function Tr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(or(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>$k(n)&&n.type===e,r}var Vk=class So extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,So.prototype)}static get[Symbol.species](){return So}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new So(...t[0].concat(this)):new So(...t.concat(this))}};function tb(e){return qn(e)?qk(e,()=>{}):e}function Oc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _I(e){return typeof e=="boolean"}var kI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new Vk;return r&&(_I(r)?s.push(bI):s.push(wI(r.extraArgument))),s},NI="RTK_autoBatch",rb=e=>t=>{setTimeout(t,e)},SI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rb(10):e.type==="callback"?e.queueNotification:rb(e.timeout),u=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[NI]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},EI=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Vk(e);return n&&a.push(SI(typeof n=="object"?n:void 0)),a};function CI(e){const t=kI(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(O0(r))c=Dk(r);else throw new Error(or(1));let u;typeof n=="function"?u=n(t):u=t();let d=zu;a&&(d=jI({trace:!1,...typeof a=="object"&&a}));const f=uI(...u),h=EI(f);let m=typeof l=="function"?l(h):h();const b=d(...m);return Ik(c,s,b)}function Hk(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(or(28));if(l in t)throw new Error(or(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function PI(e){return typeof e=="function"}function OI(e,t){let[r,n,a]=Hk(t),i;if(PI(e))i=()=>tb(e());else{const l=tb(e);i=()=>l}function s(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(bi(d)){const m=f(d,c);return m===void 0?d:m}else{if(qn(d))return qk(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=i,s}var AI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TI=(e=21)=>{let t="",r=e;for(;r--;)t+=AI[Math.random()*64|0];return t},MI=Symbol.for("rtk-slice-createasyncthunk");function II(e,t){return`${e}/${t}`}function DI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[MI];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(or(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(LI()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(or(12));if(N in u.sliceCaseReducersByType)throw new Error(or(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],N={reducerName:j,type:II(i,j),createNotation:typeof a.reducers=="function"};zI(_)?BI(N,_,d,t):RI(N,_,d)});function f(){const[j={},_=[],N=void 0]=typeof a.extraReducers=="function"?Hk(a.extraReducers):[a.extraReducers],k={...j,...u.sliceCaseReducersByType};return OI(a.initialState,E=>{for(let S in k)E.addCase(S,k[S]);for(let S of u.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of _)E.addMatcher(S.matcher,S.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,b=new WeakMap;let x;function w(j,_){return x||(x=f()),x(j,_)}function v(){return x||(x=f()),x.getInitialState()}function p(j,_=!1){function N(E){let S=E[j];return typeof S>"u"&&_&&(S=Oc(b,N,v)),S}function k(E=h){const S=Oc(m,_,()=>new WeakMap);return Oc(S,E,()=>{const C={};for(const[P,T]of Object.entries(a.selectors??{}))C[P]=$I(T,E,()=>Oc(b,E,v),_);return C})}return{reducerPath:j,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const g={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...p(s),injectInto(j,{reducerPath:_,...N}={}){const k=_??s;return j.inject({reducerPath:k,reducer:w},N),{...g,...p(k,!0)}}};return g}}function $I(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var mr=DI();function LI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function RI({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!UI(n))throw new Error(or(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Tr(e,s):Tr(e))}function zI(e){return e._reducerDefinitionType==="asyncThunk"}function UI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function BI({type:e,reducerName:t},r,n,a){if(!a)throw new Error(or(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Ac,pending:l||Ac,rejected:c||Ac,settled:u||Ac})}function Ac(){}var FI="task",Kk="listener",Gk="completed",M0="cancelled",qI=`task-${M0}`,WI=`task-${Gk}`,yp=`${Kk}-${M0}`,VI=`${Kk}-${Gk}`,tf=class{constructor(e){Sf(this,"name","TaskAbortError");Sf(this,"message");this.code=e,this.message=`${FI} ${M0} (reason: ${e})`}},I0=(e,t)=>{if(typeof e!="function")throw new TypeError(or(32))},qu=()=>{},Yk=(e,t=qu)=>(e.catch(t),e),Qk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ci=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ui=e=>{if(e.aborted){const{reason:t}=e;throw new tf(t)}};function Xk(e,t){let r=qu;return new Promise((n,a)=>{const i=()=>a(new tf(e.reason));if(e.aborted){i();return}r=Qk(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=qu})}var HI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof tf?"cancelled":"rejected",error:r}}finally{t==null||t()}},Wu=e=>t=>Yk(Xk(e,t).then(r=>(ui(e),r))),Jk=e=>{const t=Wu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hs}=Object,nb={},rf="listenerMiddleware",KI=(e,t)=>{const r=n=>Qk(e,()=>ci(n,e.reason));return(n,a)=>{I0(n);const i=new AbortController;r(i);const s=HI(async()=>{ui(e),ui(i.signal);const l=await n({pause:Wu(i.signal),delay:Jk(i.signal),signal:i.signal});return ui(i.signal),l},()=>ci(i,WI));return a!=null&&a.autoJoin&&t.push(s.catch(qu)),{result:Wu(e)(s),cancel(){ci(i,qI)}}}},GI=(e,t)=>{const r=async(n,a)=>{ui(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Xk(t,Promise.race(l));return ui(t),c}finally{i()}};return(n,a)=>Yk(r(n,a))},Zk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Tr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(or(21));return I0(i),{predicate:a,type:t,effect:i}},eN=hs(e=>{const{type:t,predicate:r,effect:n}=Zk(e);return{id:TI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(or(22))}}},{withTypes:()=>eN}),ab=(e,t)=>{const{type:r,effect:n,predicate:a}=Zk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},xp=e=>{e.pending.forEach(t=>{ci(t,yp)})},YI=e=>()=>{e.forEach(xp),e.clear()},ib=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},tN=hs(Tr(`${rf}/add`),{withTypes:()=>tN}),QI=Tr(`${rf}/removeAll`),rN=hs(Tr(`${rf}/remove`),{withTypes:()=>rN}),XI=(...e)=>{console.error(`${rf}/error`,...e)},ql=(e={})=>{const t=new Map,{extra:r,onError:n=XI}=e;I0(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&xp(d)}),i=d=>{const f=ab(t,d)??eN(d);return a(f)};hs(i,{withTypes:()=>i});const s=d=>{const f=ab(t,d);return f&&(f.unsubscribe(),d.cancelActive&&xp(f)),!!f};hs(s,{withTypes:()=>s});const l=async(d,f,h,m)=>{const b=new AbortController,x=GI(i,b.signal),w=[];try{d.pending.add(b),await Promise.resolve(d.effect(f,hs({},h,{getOriginalState:m,condition:(v,p)=>x(v,p).then(Boolean),take:x,delay:Jk(b.signal),pause:Wu(b.signal),extra:r,signal:b.signal,fork:KI(b.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,p,g)=>{v!==b&&(ci(v,yp),g.delete(v))})},cancel:()=>{ci(b,yp),d.pending.delete(b)},throwIfCancelled:()=>{ui(b.signal)}})))}catch(v){v instanceof tf||ib(n,v,{raisedBy:"effect"})}finally{await Promise.all(w),ci(b,VI),d.pending.delete(b)}},c=YI(t);return{middleware:d=>f=>h=>{if(!$k(h))return f(h);if(tN.match(h))return i(h.payload);if(QI.match(h)){c();return}if(rN.match(h))return s(h.payload);let m=d.getState();const b=()=>{if(m===nb)throw new Error(or(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),v=Array.from(t.values());for(const p of v){let g=!1;try{g=p.predicate(h,w,m)}catch(j){g=!1,ib(n,j,{raisedBy:"predicate"})}g&&l(p,h,d,b)}}}finally{m=nb}return x},startListening:i,stopListening:s,clearListeners:c}};function or(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nN=mr({name:"chartLayout",initialState:JI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZI,setLayout:eD,setChartSize:tD,setScale:rD}=nN.actions,nD=nN.reducer;function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){aD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aD(e,t,r){return(t=iD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e){var t=sD(e,"string");return typeof t=="symbol"?t:t+""}function sD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu=Math.PI/180,oD=e=>e*180/Math.PI,wt=(e,t,r,n)=>({x:e+Math.cos(-Vu*n)*r,y:t+Math.sin(-Vu*n)*r}),lD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cD=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},uD=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=cD({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:s,angle:oD(c),angleInRadian:c}},dD=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},fD=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},hD=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=uD({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:c,endAngle:u}=dD(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?ob(ob({},t),{},{radius:a,angle:fD(d,t)}):null};function aN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){mD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mD(e,t,r){return(t=pD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pD(e){var t=gD(e,"string");return typeof t=="symbol"?t:t+""}function gD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lt(e,t,r){return ht(e)||ht(t)?r:gn(t)?Vd(e,t,r):typeof t=="function"?t(e):r}var vD=(e,t,r,n,a)=>{var i,s=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(kr(d-u)!==kr(f-d)){var m=[];if(kr(f-d)===kr(a[1]-a[0])){h=f;var b=d+a[1]-a[0];m[0]=Math.min(b,(b+u)/2),m[1]=Math.max(b,(b+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var v=Math.min(u,f),p=Math.max(u,f);if(e>(v+d)/2&&e<=(p+d)/2){({index:s}=r[c]);break}}}else if(t){for(var g=0;g<l;g++)if(g===0&&e<=(t[g].coordinate+t[g+1].coordinate)/2||g>0&&g<l-1&&e>(t[g].coordinate+t[g-1].coordinate)/2&&e<=(t[g].coordinate+t[g+1].coordinate)/2||g===l-1&&e>(t[g].coordinate+t[g-1].coordinate)/2){({index:s}=t[g]);break}}return s},yD=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&ce(e[i]))return jr(jr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&ce(e[s]))return jr(jr({},e),{},{[s]:e[s]+(a||0)})}return e},za=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iN=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},sN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var b=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=a==="category"&&s.bandwidth?s.bandwidth()/b:0;if(x=m==="angleAxis"&&i&&i.length>=2?kr(i[0]-i[1])*2*x:x,f||h){var w=(f||h||[]).map((v,p)=>{var g=n?n.indexOf(v):v;return{coordinate:s(g)+x,value:v,offset:x,index:p}});return w.filter(v=>!Ar(v.coordinate))}return c&&u?u.map((v,p)=>({coordinate:s(v)+x,value:v,index:p,offset:x})):s.ticks&&!r&&d!=null?s.ticks(d).map((v,p)=>({coordinate:s(v)+x,value:v,offset:x,index:p})):s.domain().map((v,p)=>({coordinate:s(v)+x,value:n?n[v]:v,index:p,offset:x}))},cb=1e-4,xD=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-cb,i=Math.max(n[0],n[1])+cb,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},bD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var l=Ar(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1])}},wD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Ar(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},jD={sign:bD,expand:s6,none:Ps,silhouette:o6,wiggle:l6,positive:wD},_D=(e,t,r)=>{var n=jD[r],a=i6().keys(t).value((i,s)=>+Lt(i,s,0)).order(cp).offset(n);return a(e)};function ub(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(a[t.dataKey])){var l=$2(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Lt(a,ht(s)?t.dataKey:s);return ht(c)?null:t.scale(c)}var kD=e=>{var t=e.flat(2).filter(ce);return[Math.min(...t),Math.max(...t)]},ND=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],SD=(e,t,r)=>{if(e!=null)return ND(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,l=s.reduce((c,u)=>{var d=aN(u,t,r),f=kD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},db=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Xd(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function hb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return jr(jr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function oN(e,t){if(e)return String(e);if(typeof t=="string")return t}function ED(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?hD({x:e,y:t},n):null}var CD=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return jr(jr(jr({},n),wt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:c}=n;return jr(jr(jr({},n),wt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},PD=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Yn=e=>e.layout.width,Qn=e=>e.layout.height,OD=e=>e.layout.scale,lN=e=>e.layout.margin,nf=I(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),af=I(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AD="data-recharts-item-index",TD="data-recharts-item-data-key",Wl=60;function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){MD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MD(e,t,r){return(t=ID(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ID(e){var t=DD(e,"string");return typeof t=="symbol"?t:t+""}function DD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $D=e=>e.brush.height;function LD(e){var t=af(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wl;return r+a}return r},0)}function RD(e){var t=af(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wl;return r+a}return r},0)}function zD(e){var t=nf(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function UD(e){var t=nf(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Nt=I([Yn,Qn,lN,$D,LD,RD,zD,UD,Tk,nI],(e,t,r,n,a,i,s,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=Tc(Tc({},f),d),m=h.bottom;h.bottom+=n,h=yD(h,c,u);var b=e-h.left-h.right,x=t-h.top-h.bottom;return Tc(Tc({brushBottom:m},h),{},{width:Math.max(b,0),height:Math.max(x,0)})}),BD=I(Nt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cN=I(Yn,Qn,(e,t)=>({x:0,y:0,width:e,height:t})),FD=y.createContext(null),Ir=()=>y.useContext(FD)!=null,sf=e=>e.brush,of=I([sf,Nt,lN],(e,t,r)=>({height:e.height,x:ce(e.x)?e.x:t.left,y:ce(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ce(e.width)?e.width:t.width})),D0=()=>{var e,t=Ir(),r=se(BD),n=se(of),a=(e=se(sf))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},qD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},uN=()=>{var e;return(e=se(Nt))!==null&&e!==void 0?e:qD},$0=()=>se(Yn),L0=()=>se(Qn),WD=()=>se(e=>e.layout.margin),Le=e=>e.layout.layoutType,R0=()=>se(Le),VD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dN=mr({name:"legend",initialState:VD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Dn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:pb,setLegendSettings:HD,addLegendPayload:KD,removeLegendPayload:GD}=dN.actions,YD=dN.reducer,QD=["contextPayload"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ts(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0(e,t,r){return(t=XD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XD(e){var t=JD(e,"string");return typeof t=="symbol"?t:t+""}function JD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZD(e,t){if(e==null)return{};var r,n,a=e$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function e$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function t$(e){return e.value}function r$(e){var{contextPayload:t}=e,r=ZD(e,QD),n=wk(t,e.payloadUniqBy,t$),a=Ts(Ts({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,a):typeof e.content=="function"?y.createElement(e.content,a):y.createElement(v0,a)}function n$(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ts(Ts({},u),d)}function a$(e){var t=kt();return y.useEffect(()=>{t(HD(e))},[t,e]),null}function i$(e){var t=kt();return y.useEffect(()=>(t(pb(e)),()=>{t(pb({width:0,height:0}))}),[t,e]),null}function s$(e){var t=sI(),r=P5(),n=WD(),{width:a,height:i,wrapperStyle:s,portal:l}=e,[c,u]=Mk([t]),d=$0(),f=L0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=lf.getWidthOrHeight(e.layout,i,a,h),b=l?s:Ts(Ts({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},n$(s,e,n,d,f,c)),s),x=l??r;if(x==null)return null;var w=y.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:u},y.createElement(a$,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(i$,{width:c.width,height:c.height}),y.createElement(r$,wp({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return qg.createPortal(w,x)}class lf extends y.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&ce(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return y.createElement(s$,this.props)}}z0(lf,"displayName","Legend");z0(lf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){o$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o$(e,t,r){return(t=l$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l$(e){var t=c$(e,"string");return typeof t=="symbol"?t:t+""}function c$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u$(e){return Array.isArray(e)&&gn(e[0])&&gn(e[1])?e.join(" ~ "):e}var d$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var _={padding:0,margin:0},N=(l?Xd(i,l):i).map((k,E)=>{if(k.type==="none")return null;var S=k.formatter||s||u$,{value:C,name:P}=k,T=C,L=P;if(S){var M=S(C,P,k,E,i);if(Array.isArray(M))[T,L]=M;else if(M!=null)T=M;else return null}var R=Nh({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:R},gn(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,gn(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},T),y.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},b=Nh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Nh({margin:0},a),w=!ht(d),v=w?d:"",p=Pe("recharts-default-tooltip",c),g=Pe("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(v=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",jp({className:p,style:b},j),y.createElement("p",{className:g,style:x},y.isValidElement(v)?v:"".concat(v)),m())},mo="recharts-tooltip-wrapper",f$={visibility:"hidden"};function h$(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(mo,{["".concat(mo,"-right")]:ce(r)&&t&&ce(t.x)&&r>=t.x,["".concat(mo,"-left")]:ce(r)&&t&&ce(t.x)&&r<t.x,["".concat(mo,"-bottom")]:ce(n)&&t&&ce(t.y)&&n>=t.y,["".concat(mo,"-top")]:ce(n)&&t&&ce(t.y)&&n<t.y})}function yb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&ce(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,b=h;return m<b?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function m$(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function p$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=yb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=yb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=m$({translateX:d,translateY:f,useTranslate3d:l})):u=f$,{cssProperties:u,cssClasses:h$({translateX:d,translateY:f,coordinate:r})}}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){_p(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _p(e,t,r){return(t=g$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g$(e){var t=v$(e,"string");return typeof t=="symbol"?t:t+""}function v$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y$ extends y.PureComponent{constructor(){super(...arguments),_p(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_p(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:b,lastBoundingBox:x,innerRef:w,hasPortalFromProps:v}=this.props,{cssClasses:p,cssProperties:g}=p$({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=v?{}:Mc(Mc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Mc(Mc({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},b);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:_,ref:w},i)}}var x$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hs={devToolsEnabled:!1,isSsr:x$()},fN=()=>se(e=>e.rootProps.accessibilityLayer);function Jr(e){return Number.isFinite(e)}function Hu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(null,arguments)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){b$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b$(e,t,r){return(t=w$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jb={curveBasisClosed:G5,curveBasisOpen:Y5,curveBasis:K5,curveBumpX:M5,curveBumpY:I5,curveLinearClosed:Q5,curveLinear:Kd,curveMonotoneX:X5,curveMonotoneY:J5,curveNatural:Z5,curveStep:e6,curveStepAfter:r6,curveStepBefore:t6},Ic=e=>Jr(e.x)&&Jr(e.y),po=e=>e.x,go=e=>e.y,_$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Bl(e));return(r==="curveMonotone"||r==="curveBump")&&t?jb["".concat(r).concat(t==="vertical"?"Y":"X")]:jb[r]||Kd},k$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=_$(t,a),l=i?r.filter(Ic):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>Ic(f)):n,d=l.map((f,h)=>wb(wb({},f),{},{base:u[h]}));return a==="vertical"?c=Sc().y(go).x1(po).x0(f=>f.base.x):c=Sc().x(po).y1(go).y0(f=>f.base.y),c.defined(Ic).curve(s),c(d)}return a==="vertical"&&ce(n)?c=Sc().y(go).x1(po).x0(n):ce(n)?c=Sc().x(po).y1(go).y0(n):c=H2().x(po).y(go),c.defined(Ic).curve(s),c(l)},hN=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?k$(e):n;return y.createElement("path",kp({},Oi(e),d0(e),{className:Pe("recharts-curve",t),d:i===null?void 0:i,ref:a}))},N$=["x","y","top","left","width","height","className"];function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){E$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E$(e,t,r){return(t=C$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C$(e){var t=P$(e,"string");return typeof t=="symbol"?t:t+""}function P$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O$(e,t){if(e==null)return{};var r,n,a=A$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function A$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T$=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),M$=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,c=O$(e,N$),u=S$({x:t,y:r,top:n,left:a,width:i,height:s},c);return!ce(t)||!ce(r)||!ce(i)||!ce(s)||!ce(n)||!ce(a)?null:y.createElement("path",Np({},mt(u,!0),{className:Pe("recharts-cross",l),d:T$(t,r,i,s,n,a)}))};function I$(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){$$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $$(e,t,r){return(t=L$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=R$(e,"string");return typeof t=="symbol"?t:t+""}function R$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dr(e,t){var r=D$({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function z$(){}function Nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nb(Object(r),!0).forEach(function(n){U$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t,r){return(t=B$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=F$(e,"string");return typeof t=="symbol"?t:t+""}function F$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),W$=(e,t,r)=>e.map(n=>"".concat(q$(n)," ").concat(t,"ms ").concat(r)).join(","),V$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),xl=(e,t)=>Object.keys(t).reduce((r,n)=>Sb(Sb({},r),{},{[n]:e(n,t[n])}),{});function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){H$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ku=(e,t,r)=>e+(t-e)*r,Sp=e=>{var{from:t,to:r}=e;return t!==r},mN=(e,t,r)=>{var n=xl((a,i)=>{if(Sp(i)){var[s,l]=e(i.from,i.to,i.velocity);return bt(bt({},i),{},{from:s,velocity:l})}return i},t);return r<1?xl((a,i)=>Sp(i)?bt(bt({},i),{},{velocity:Ku(i.velocity,n[a].velocity,r),from:Ku(i.from,n[a].from,r)}):i,t):mN(e,n,r-1)};function Y$(e,t,r,n,a,i){var s,l=n.reduce((h,m)=>bt(bt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>xl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(Sp).length,d=null,f=h=>{s||(s=h);var m=h-s,b=m/r.dt;l=mN(r,l,b),a(bt(bt(bt({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function Q$(e,t,r,n,a,i,s){var l=null,c=a.reduce((f,h)=>bt(bt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=xl((x,w)=>Ku(...w,r(h)),c);if(i(bt(bt(bt({},e),t),m)),h<1)l=s.setTimeout(d);else{var b=xl((x,w)=>Ku(...w,r(1)),c);i(bt(bt(bt({},e),t),b))}};return()=>(l=s.setTimeout(d),()=>{l()})}const X$=(e,t,r,n,a,i)=>{var s=V$(e,t);return r.isStepper===!0?Y$(e,t,r,s,a,i):Q$(e,t,r,n,s,a,i)};var Gu=1e-4,pN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Cb=(e,t)=>r=>{var n=pN(e,t);return gN(n,r)},J$=(e,t)=>r=>{var n=pN(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return gN(a,r)},Pb=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else s.length===4&&([t,n,r,a]=s);var u=Cb(t,r),d=Cb(n,a),f=J$(t,r),h=b=>b>1?1:b<0?0:b,m=b=>{for(var x=b>1?1:b,w=x,v=0;v<8;++v){var p=u(w)-x,g=f(w);if(Math.abs(p-x)<Gu||g<Gu)return d(w);w=h(w-p/g)}return d(w)};return m.isStepper=!1,m},Z$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-l)<Gu&&Math.abs(f)<Gu?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},eL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Pb(e);case"spring":return Z$();default:if(e.split("(")[0]==="cubic-bezier")return Pb(e)}return typeof e=="function"?e:null};function tL(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class rL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function nL(){return tL(new rL)}var aL=y.createContext(nL);function iL(e,t){var r=y.useContext(aL);return y.useMemo(()=>t??r(e),[e,t,r])}var sL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ob={t:0},Sh={t:1};function vN(e){var t=Dr(e,sL),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=iL(t.animationId,t.animationManager),[f,h]=y.useState(r?Ob:Sh),m=y.useRef(null);return y.useEffect(()=>{r||h(Sh)},[r]),y.useEffect(()=>{if(!r||!n)return z$;var b=X$(Ob,Sh,eL(i),a,h,d.getTimeoutController()),x=()=>{m.current=b()};return d.start([c,s,x,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,a,i,s,c,l,d]),u(f.t)}function yN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(gl(t)),n=y.useRef(e);return n.current!==e&&(r.current=gl(t),n.current=e),r.current}function Ab(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ab(Object(r),!0).forEach(function(n){oL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oL(e,t,r){return(t=lL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lL(e){var t=cL(e,"string");return typeof t=="symbol"?t:t+""}function cL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var Mb=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},uL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dL=e=>{var t=Dr(e,uL),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&a(M)}catch{}},[]);var{x:i,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:b,isUpdateAnimationActive:x}=t,w=y.useRef(l),v=y.useRef(c),p=y.useRef(i),g=y.useRef(s),j=y.useMemo(()=>({x:i,y:s,width:l,height:c,radius:u}),[i,s,l,c,u]),_=yN(j,"rectangle-");if(i!==+i||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var N=Pe("recharts-rectangle",d);if(!x)return y.createElement("path",Yu({},mt(t,!0),{className:N,d:Mb(i,s,l,c,u)}));var k=w.current,E=v.current,S=p.current,C=g.current,P="0px ".concat(n===-1?1:n,"px"),T="".concat(n,"px 0px"),L=W$(["strokeDasharray"],h,typeof f=="string"?f:void 0);return y.createElement(vN,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},M=>{var R=Sn(k,l,M),G=Sn(E,c,M),H=Sn(S,i,M),F=Sn(C,s,M);r.current&&(w.current=R,v.current=G,p.current=H,g.current=F);var O;return b?M>0?O={transition:L,strokeDasharray:T}:O={strokeDasharray:P}:O={strokeDasharray:T},y.createElement("path",Yu({},mt(t,!0),{className:N,d:Mb(H,F,R,G,u),ref:r,style:Tb(Tb({},O),t.style)}))})};function xN(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=wt(t,r,n,a),l=wt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}var fL=(e,t)=>{var r=kr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Dc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Vu,f=c?a:a+i*d,h=wt(t,r,u,f),m=wt(t,r,n,f),b=c?a-i*d:a,x=wt(t,r,u*Math.cos(d*Vu),b);return{center:h,circleTangency:m,lineTangency:x,theta:d}},bN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=fL(i,s),c=i+l,u=wt(t,r,a,i),d=wt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=wt(t,r,n,i),m=wt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},hL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=kr(u-c),{circleTangency:f,lineTangency:h,theta:m}=Dc({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:b,lineTangency:x,theta:w}=Dc({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):bN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var p="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:g,lineTangency:j,theta:_}=Dc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:k,theta:E}=Dc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),S=l?Math.abs(c-u):Math.abs(c-u)-_-E;if(S<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(g.x,",").concat(g.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else p+="L".concat(t,",").concat(r,"Z");return p},mL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pL=e=>{var t=Dr(e,mL),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Pe("recharts-sector",f),m=i-a,b=Aa(s,m,0,!0),x;return b>0&&Math.abs(u-d)<360?x=hL({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=bN({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),y.createElement("path",Ep({},mt(t,!0),{className:h,d:x}))};function gL(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=wt(l,c,u,f),m=wt(l,c,d,f);n=h.x,a=h.y,i=m.x,s=m.y}else return xN(t);return[{x:n,y:a},{x:i,y:s}]}var wN={},jN={},_N={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(_N);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_N;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(jN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P0,r=jN;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=s;return c}e.range=n})(wN);var vL=wN.range;const kN=Ta(vL);function Sa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function U0(e){let t,r,n;e.length!==2?(t=Sa,r=(l,c)=>Sa(e(l),c),n=(l,c)=>e(l)-c):(t=e===Sa||e===yL?e:xL,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function xL(){return 0}function NN(e){return e===null?NaN:+e}function*bL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wL=U0(Sa),Vl=wL.right;U0(NN).center;class Ib extends Map{constructor(t,r=kL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Db(this,t))}has(t){return super.has(Db(this,t))}set(t,r){return super.set(jL(this,t),r)}delete(t){return super.delete(_L(this,t))}}function Db({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function _L({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function kL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NL(e=Sa){if(e===Sa)return SN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function SN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SL=Math.sqrt(50),EL=Math.sqrt(10),CL=Math.sqrt(2);function Qu(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=SL?10:i>=EL?5:i>=CL?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Qu(e,t,r*2):[l,c,u]}function Cp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Qu(t,e,r):Qu(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function Pp(e,t,r){return t=+t,e=+e,r=+r,Qu(e,t,r)[2]}function Op(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Pp(t,e,r):Pp(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function $b(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Lb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function EN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?SN:NL(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),b=Math.min(n,Math.floor(t+(c-u)*f/c+h));EN(e,t,m,b,a)}const i=e[t];let s=r,l=n;for(vo(e,r,t),a(e[n],i)>0&&vo(e,r,n);s<l;){for(vo(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?vo(e,r,l):(++l,vo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function vo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PL(e,t,r){if(e=Float64Array.from(bL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Lb(e);if(t>=1)return $b(e);var n,a=(n-1)*t,i=Math.floor(a),s=$b(EN(e,i).subarray(0,i+1)),l=Lb(e.subarray(i+1));return s+(l-s)*(a-i)}}function OL(e,t,r=NN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function AL(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ap=Symbol("implicit");function B0(){var e=new Ib,t=[],r=[],n=Ap;function a(i){let s=e.get(i);if(s===void 0){if(n!==Ap)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Ib;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return B0(t,r).unknown(n)},$r.apply(a,arguments),a}function F0(){var e=B0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,b=m?a:n,x=m?n:a;i=(x-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(x-b-i*(h-c))*d,s=i*(1-c),l&&(b=Math.round(b),s=Math.round(s));var w=AL(h).map(function(v){return b+i*v});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return F0(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},$r.apply(f(),arguments)}function CN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return CN(t())},e}function TL(){return CN(F0.apply(null,arguments).paddingInner(1))}function q0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hl(){}var bl=.7,Xu=1/bl,ms="\\s*([+-]?\\d+)\\s*",wl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ML=/^#([0-9a-f]{3,8})$/,IL=new RegExp(`^rgb\\(${ms},${ms},${ms}\\)$`),DL=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),$L=new RegExp(`^rgba\\(${ms},${ms},${ms},${wl}\\)$`),LL=new RegExp(`^rgba\\(${pn},${pn},${pn},${wl}\\)$`),RL=new RegExp(`^hsl\\(${wl},${pn},${pn}\\)$`),zL=new RegExp(`^hsla\\(${wl},${pn},${pn},${wl}\\)$`),Rb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q0(Hl,jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zb,formatHex:zb,formatHex8:UL,formatHsl:BL,formatRgb:Ub,toString:Ub});function zb(){return this.rgb().formatHex()}function UL(){return this.rgb().formatHex8()}function BL(){return ON(this).formatHsl()}function Ub(){return this.rgb().formatRgb()}function jl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ML.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Bb(t):r===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?$c(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?$c(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=IL.exec(e))?new Vt(t[1],t[2],t[3],1):(t=DL.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$L.exec(e))?$c(t[1],t[2],t[3],t[4]):(t=LL.exec(e))?$c(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RL.exec(e))?Wb(t[1],t[2]/100,t[3]/100,1):(t=zL.exec(e))?Wb(t[1],t[2]/100,t[3]/100,t[4]):Rb.hasOwnProperty(e)?Bb(Rb[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function Bb(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function $c(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vt(e,t,r,n)}function FL(e){return e instanceof Hl||(e=jl(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function Tp(e,t,r,n){return arguments.length===1?FL(e):new Vt(e,t,r,n??1)}function Vt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}q0(Vt,Tp,PN(Hl,{brighter(e){return e=e==null?Xu:Math.pow(Xu,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(di(this.r),di(this.g),di(this.b),Ju(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fb,formatHex:Fb,formatHex8:qL,formatRgb:qb,toString:qb}));function Fb(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}`}function qL(){return`#${ni(this.r)}${ni(this.g)}${ni(this.b)}${ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function qb(){const e=Ju(this.opacity);return`${e===1?"rgb(":"rgba("}${di(this.r)}, ${di(this.g)}, ${di(this.b)}${e===1?")":`, ${e})`}`}function Ju(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function di(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ni(e){return e=di(e),(e<16?"0":"")+e.toString(16)}function Wb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function ON(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof Hl||(e=jl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Kr(s,l,c,e.opacity)}function WL(e,t,r,n){return arguments.length===1?ON(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}q0(Kr,WL,PN(Hl,{brighter(e){return e=e==null?Xu:Math.pow(Xu,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bl:Math.pow(bl,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vt(Eh(e>=240?e-240:e+120,a,n),Eh(e,a,n),Eh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kr(Vb(this.h),Lc(this.s),Lc(this.l),Ju(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ju(this.opacity);return`${e===1?"hsl(":"hsla("}${Vb(this.h)}, ${Lc(this.s)*100}%, ${Lc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Vb(e){return e=(e||0)%360,e<0?e+360:e}function Lc(e){return Math.max(0,Math.min(1,e||0))}function Eh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const W0=e=>()=>e;function VL(e,t){return function(r){return e+r*t}}function HL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function KL(e){return(e=+e)==1?AN:function(t,r){return r-t?HL(t,r,e):W0(isNaN(t)?r:t)}}function AN(e,t){var r=t-e;return r?VL(e,r):W0(isNaN(e)?t:e)}const Hb=function e(t){var r=KL(t);function n(a,i){var s=r((a=Tp(a)).r,(i=Tp(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=AN(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function GL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function YL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function QL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ks(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function XL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JL(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ks(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Mp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ch=new RegExp(Mp.source,"g");function ZL(e){return function(){return e}}function eR(e){return function(t){return e(t)+""}}function tR(e,t){var r=Mp.lastIndex=Ch.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Mp.exec(e))&&(a=Ch.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Zu(n,a)})),r=Ch.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?eR(c[0].x):ZL(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ks(e,t){var r=typeof t,n;return t==null||r==="boolean"?W0(t):(r==="number"?Zu:r==="string"?(n=jl(t))?(t=n,Hb):tR:t instanceof jl?Hb:t instanceof Date?XL:YL(t)?GL:Array.isArray(t)?QL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JL:Zu)(e,t)}function V0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function rR(e,t){t===void 0&&(t=e,e=Ks);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function nR(e){return function(){return e}}function ed(e){return+e}var Kb=[0,1];function Dt(e){return e}function Ip(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:nR(isNaN(t)?NaN:.5)}function aR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function iR(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Ip(a,n),i=r(s,i)):(n=Ip(n,a),i=r(i,s)),function(l){return i(n(l))}}function sR(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Ip(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Vl(e,l,1,n)-1;return i[c](a[c](l))}}function Kl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cf(){var e=Kb,t=Kb,r=Ks,n,a,i,s=Dt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Dt&&(s=aR(e[0],e[h-1])),l=h>2?sR:iR,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Zu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ed),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=V0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Dt,d()):s!==Dt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function H0(){return cf()(Dt,Dt)}function oR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function td(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ms(e){return e=td(Math.abs(e)),e?e[1]:NaN}function lR(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function cR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var uR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _l(e){if(!(t=uR.exec(e)))throw new Error("invalid format: "+e);var t;return new K0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_l.prototype=K0.prototype;function K0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dR(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var TN;function fR(e,t){var r=td(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(TN=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+td(e,Math.max(0,t+i-1))[0]}function Gb(e,t){var r=td(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Yb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:oR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gb(e*100,t),r:Gb,s:fR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qb(e){return e}var Xb=Array.prototype.map,Jb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hR(e){var t=e.grouping===void 0||e.thousands===void 0?Qb:lR(Xb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Qb:cR(Xb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=_l(f);var h=f.fill,m=f.align,b=f.sign,x=f.symbol,w=f.zero,v=f.width,p=f.comma,g=f.precision,j=f.trim,_=f.type;_==="n"?(p=!0,_="g"):Yb[_]||(g===void 0&&(g=12),j=!0,_="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=x==="$"?n:/[%p]/.test(_)?s:"",E=Yb[_],S=/[defgprs%]/.test(_);g=g===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(P){var T=N,L=k,M,R,G;if(_==="c")L=E(P)+L,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),g),j&&(P=dR(P)),H&&+P==0&&b!=="+"&&(H=!1),T=(H?b==="("?b:l:b==="-"||b==="("?"":b)+T,L=(_==="s"?Jb[8+TN/3]:"")+L+(H&&b==="("?")":""),S){for(M=-1,R=P.length;++M<R;)if(G=P.charCodeAt(M),48>G||G>57){L=(G===46?a+P.slice(M+1):P.slice(M))+L,P=P.slice(0,M);break}}}p&&!w&&(P=t(P,1/0));var F=T.length+P.length+L.length,O=F<v?new Array(v-F+1).join(h):"";switch(p&&w&&(P=t(O+P,O.length?v-L.length:1/0),O=""),m){case"<":P=T+P+L+O;break;case"=":P=T+O+P+L;break;case"^":P=O.slice(0,F=O.length>>1)+T+P+L+O.slice(F);break;default:P=O+T+P+L;break}return i(P)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=_l(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(Ms(h)/3)))*3,x=Math.pow(10,-b),w=Jb[8+b/3];return function(v){return m(x*v)+w}}return{format:u,formatPrefix:d}}var Rc,G0,MN;mR({thousands:",",grouping:[3],currency:["$",""]});function mR(e){return Rc=hR(e),G0=Rc.format,MN=Rc.formatPrefix,Rc}function pR(e){return Math.max(0,-Ms(Math.abs(e)))}function gR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ms(t)/3)))*3-Ms(Math.abs(e)))}function vR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ms(t)-Ms(e))+1}function IN(e,t,r,n){var a=Op(e,t,r),i;switch(n=_l(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=gR(a,s))&&(n.precision=i),MN(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=vR(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pR(a))&&(n.precision=i-(n.type==="%")*2);break}}return G0(n)}function Ua(e){var t=e.domain;return e.ticks=function(r){var n=t();return Cp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return IN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Pp(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function DN(){var e=H0();return e.copy=function(){return Kl(e,DN())},$r.apply(e,arguments),Ua(e)}function $N(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ed),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $N(e).unknown(t)},e=arguments.length?Array.from(e,ed):[0,1],Ua(r)}function LN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Zb(e){return Math.log(e)}function ew(e){return Math.exp(e)}function yR(e){return-Math.log(-e)}function xR(e){return-Math.exp(-e)}function bR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function wR(e){return e===10?bR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tw(e){return(t,r)=>-e(-t,r)}function Y0(e){const t=e(Zb,ew),r=t.domain;let n=10,a,i;function s(){return a=jR(n),i=wR(n),r()[0]<0?(a=tw(a),i=tw(i),e(yR,xR)):e(Zb,ew),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),b,x;const w=l==null?10:+l;let v=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(b=1;b<n;++b)if(x=h<0?b/i(-h):b*i(h),!(x<u)){if(x>d)break;v.push(x)}}else for(;h<=m;++h)for(b=n-1;b>=1;--b)if(x=h>0?b/i(-h):b*i(h),!(x<u)){if(x>d)break;v.push(x)}v.length*2<w&&(v=Cp(u,d,w))}else v=Cp(h,m,Math.min(m-h,w)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_l(c)).precision==null&&(c.trim=!0),c=G0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(LN(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function RN(){const e=Y0(cf()).domain([1,10]);return e.copy=()=>Kl(e,RN()).base(e.base()),$r.apply(e,arguments),e}function rw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q0(e){var t=1,r=e(rw(t),nw(t));return r.constant=function(n){return arguments.length?e(rw(t=+n),nw(t)):t},Ua(r)}function zN(){var e=Q0(cf());return e.copy=function(){return Kl(e,zN()).constant(e.constant())},$r.apply(e,arguments)}function aw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _R(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kR(e){return e<0?-e*e:e*e}function X0(e){var t=e(Dt,Dt),r=1;function n(){return r===1?e(Dt,Dt):r===.5?e(_R,kR):e(aw(r),aw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Ua(t)}function J0(){var e=X0(cf());return e.copy=function(){return Kl(e,J0()).exponent(e.exponent())},$r.apply(e,arguments),e}function NR(){return J0.apply(null,arguments).exponent(.5)}function iw(e){return Math.sign(e)*e*e}function SR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UN(){var e=H0(),t=[0,1],r=!1,n;function a(i){var s=SR(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(iw(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ed)).map(iw)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return UN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(a,arguments),Ua(a)}function BN(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=OL(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Vl(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Sa),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return BN().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}function FN(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Vl(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return FN().domain([e,t]).range(a).unknown(i)},$r.apply(Ua(s),arguments)}function qN(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Vl(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return qN().domain(e).range(t).unknown(r)},$r.apply(a,arguments)}const Ph=new Date,Oh=new Date;function lt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>lt(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Ph.setTime(+i),Oh.setTime(+s),e(Ph),e(Oh),Math.floor(r(Ph,Oh))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const rd=lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rd);rd.range;const An=1e3,Nr=An*60,Tn=Nr*60,Wn=Tn*24,Z0=Wn*7,sw=Wn*30,Ah=Wn*365,ai=lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCSeconds());ai.range;const ev=lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getMinutes());ev.range;const tv=lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nr)},(e,t)=>(t-e)/Nr,e=>e.getUTCMinutes());tv.range;const rv=lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*An-e.getMinutes()*Nr)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getHours());rv.range;const nv=lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCHours());nv.range;const Gl=lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nr)/Wn,e=>e.getDate()-1);Gl.range;const uf=lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>e.getUTCDate()-1);uf.range;const WN=lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wn,e=>Math.floor(e/Wn));WN.range;function Ai(e){return lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nr)/Z0)}const df=Ai(0),nd=Ai(1),ER=Ai(2),CR=Ai(3),Is=Ai(4),PR=Ai(5),OR=Ai(6);df.range;nd.range;ER.range;CR.range;Is.range;PR.range;OR.range;function Ti(e){return lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Z0)}const ff=Ti(0),ad=Ti(1),AR=Ti(2),TR=Ti(3),Ds=Ti(4),MR=Ti(5),IR=Ti(6);ff.range;ad.range;AR.range;TR.range;Ds.range;MR.range;IR.range;const av=lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());av.range;const iv=lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());iv.range;const Vn=lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vn.range;const Hn=lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hn.range;function VN(e,t,r,n,a,i){const s=[[ai,1,An],[ai,5,5*An],[ai,15,15*An],[ai,30,30*An],[i,1,Nr],[i,5,5*Nr],[i,15,15*Nr],[i,30,30*Nr],[a,1,Tn],[a,3,3*Tn],[a,6,6*Tn],[a,12,12*Tn],[n,1,Wn],[n,2,2*Wn],[r,1,Z0],[t,1,sw],[t,3,3*sw],[e,1,Ah]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),b=m?m.range(u,+d+1):[];return h?b.reverse():b}function c(u,d,f){const h=Math.abs(d-u)/f,m=U0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(Op(u/Ah,d/Ah,f));if(m===0)return rd.every(Math.max(Op(u,d,f),1));const[b,x]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return b.every(x)}return[l,c]}const[DR,$R]=VN(Hn,iv,ff,WN,nv,tv),[LR,RR]=VN(Vn,av,df,Gl,rv,ev);function Th(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function zR(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=xo(a),d=bo(a),f=xo(i),h=bo(i),m=xo(s),b=bo(s),x=xo(l),w=bo(l),v=xo(c),p=bo(c),g={a:H,A:F,b:O,B:z,c:null,d:fw,e:fw,f:l8,g:y8,G:b8,H:i8,I:s8,j:o8,L:HN,m:c8,M:u8,p:U,q,Q:pw,s:gw,S:d8,u:f8,U:h8,V:m8,w:p8,W:g8,x:null,X:null,y:v8,Y:x8,Z:w8,"%":mw},j={a:fe,A:pe,b:ge,B:Ue,c:null,d:hw,e:hw,f:N8,g:D8,G:L8,H:j8,I:_8,j:k8,L:GN,m:S8,M:E8,p:oe,q:Qt,Q:pw,s:gw,S:C8,u:P8,U:O8,V:A8,w:T8,W:M8,x:null,X:null,y:I8,Y:$8,Z:R8,"%":mw},_={a:C,A:P,b:T,B:L,c:M,d:uw,e:uw,f:t8,g:cw,G:lw,H:dw,I:dw,j:XR,L:e8,m:QR,M:JR,p:S,q:YR,Q:n8,s:a8,S:ZR,u:WR,U:VR,V:HR,w:qR,W:KR,x:R,X:G,y:cw,Y:lw,Z:GR,"%":r8};g.x=N(r,g),g.X=N(n,g),g.c=N(t,g),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(Z,ue){return function(he){var W=[],D=-1,V=0,ie=Z.length,xe,Me,rt;for(he instanceof Date||(he=new Date(+he));++D<ie;)Z.charCodeAt(D)===37&&(W.push(Z.slice(V,D)),(Me=ow[xe=Z.charAt(++D)])!=null?xe=Z.charAt(++D):Me=xe==="e"?" ":"0",(rt=ue[xe])&&(xe=rt(he,Me)),W.push(xe),V=D+1);return W.push(Z.slice(V,D)),W.join("")}}function k(Z,ue){return function(he){var W=yo(1900,void 0,1),D=E(W,Z,he+="",0),V,ie;if(D!=he.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(ue&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(V=Mh(yo(W.y,0,1)),ie=V.getUTCDay(),V=ie>4||ie===0?ad.ceil(V):ad(V),V=uf.offset(V,(W.V-1)*7),W.y=V.getUTCFullYear(),W.m=V.getUTCMonth(),W.d=V.getUTCDate()+(W.w+6)%7):(V=Th(yo(W.y,0,1)),ie=V.getDay(),V=ie>4||ie===0?nd.ceil(V):nd(V),V=Gl.offset(V,(W.V-1)*7),W.y=V.getFullYear(),W.m=V.getMonth(),W.d=V.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),ie="Z"in W?Mh(yo(W.y,0,1)).getUTCDay():Th(yo(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(ie+5)%7:W.w+W.U*7-(ie+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Mh(W)):Th(W)}}function E(Z,ue,he,W){for(var D=0,V=ue.length,ie=he.length,xe,Me;D<V;){if(W>=ie)return-1;if(xe=ue.charCodeAt(D++),xe===37){if(xe=ue.charAt(D++),Me=_[xe in ow?ue.charAt(D++):xe],!Me||(W=Me(Z,he,W))<0)return-1}else if(xe!=he.charCodeAt(W++))return-1}return W}function S(Z,ue,he){var W=u.exec(ue.slice(he));return W?(Z.p=d.get(W[0].toLowerCase()),he+W[0].length):-1}function C(Z,ue,he){var W=m.exec(ue.slice(he));return W?(Z.w=b.get(W[0].toLowerCase()),he+W[0].length):-1}function P(Z,ue,he){var W=f.exec(ue.slice(he));return W?(Z.w=h.get(W[0].toLowerCase()),he+W[0].length):-1}function T(Z,ue,he){var W=v.exec(ue.slice(he));return W?(Z.m=p.get(W[0].toLowerCase()),he+W[0].length):-1}function L(Z,ue,he){var W=x.exec(ue.slice(he));return W?(Z.m=w.get(W[0].toLowerCase()),he+W[0].length):-1}function M(Z,ue,he){return E(Z,t,ue,he)}function R(Z,ue,he){return E(Z,r,ue,he)}function G(Z,ue,he){return E(Z,n,ue,he)}function H(Z){return s[Z.getDay()]}function F(Z){return i[Z.getDay()]}function O(Z){return c[Z.getMonth()]}function z(Z){return l[Z.getMonth()]}function U(Z){return a[+(Z.getHours()>=12)]}function q(Z){return 1+~~(Z.getMonth()/3)}function fe(Z){return s[Z.getUTCDay()]}function pe(Z){return i[Z.getUTCDay()]}function ge(Z){return c[Z.getUTCMonth()]}function Ue(Z){return l[Z.getUTCMonth()]}function oe(Z){return a[+(Z.getUTCHours()>=12)]}function Qt(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ue=N(Z+="",g);return ue.toString=function(){return Z},ue},parse:function(Z){var ue=k(Z+="",!1);return ue.toString=function(){return Z},ue},utcFormat:function(Z){var ue=N(Z+="",j);return ue.toString=function(){return Z},ue},utcParse:function(Z){var ue=k(Z+="",!0);return ue.toString=function(){return Z},ue}}}var ow={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,UR=/^%/,BR=/[\\^$*+?|[\]().{}]/g;function je(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function FR(e){return e.replace(BR,"\\$&")}function xo(e){return new RegExp("^(?:"+e.map(FR).join("|")+")","i")}function bo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function qR(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function WR(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function KR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function lw(e,t,r){var n=pt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function cw(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function YR(e,t,r){var n=pt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function QR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function uw(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XR(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function dw(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function JR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZR(e,t,r){var n=pt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function e8(e,t,r){var n=pt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function t8(e,t,r){var n=pt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function r8(e,t,r){var n=UR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function n8(e,t,r){var n=pt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function a8(e,t,r){var n=pt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function fw(e,t){return je(e.getDate(),t,2)}function i8(e,t){return je(e.getHours(),t,2)}function s8(e,t){return je(e.getHours()%12||12,t,2)}function o8(e,t){return je(1+Gl.count(Vn(e),e),t,3)}function HN(e,t){return je(e.getMilliseconds(),t,3)}function l8(e,t){return HN(e,t)+"000"}function c8(e,t){return je(e.getMonth()+1,t,2)}function u8(e,t){return je(e.getMinutes(),t,2)}function d8(e,t){return je(e.getSeconds(),t,2)}function f8(e){var t=e.getDay();return t===0?7:t}function h8(e,t){return je(df.count(Vn(e)-1,e),t,2)}function KN(e){var t=e.getDay();return t>=4||t===0?Is(e):Is.ceil(e)}function m8(e,t){return e=KN(e),je(Is.count(Vn(e),e)+(Vn(e).getDay()===4),t,2)}function p8(e){return e.getDay()}function g8(e,t){return je(nd.count(Vn(e)-1,e),t,2)}function v8(e,t){return je(e.getFullYear()%100,t,2)}function y8(e,t){return e=KN(e),je(e.getFullYear()%100,t,2)}function x8(e,t){return je(e.getFullYear()%1e4,t,4)}function b8(e,t){var r=e.getDay();return e=r>=4||r===0?Is(e):Is.ceil(e),je(e.getFullYear()%1e4,t,4)}function w8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+je(t/60|0,"0",2)+je(t%60,"0",2)}function hw(e,t){return je(e.getUTCDate(),t,2)}function j8(e,t){return je(e.getUTCHours(),t,2)}function _8(e,t){return je(e.getUTCHours()%12||12,t,2)}function k8(e,t){return je(1+uf.count(Hn(e),e),t,3)}function GN(e,t){return je(e.getUTCMilliseconds(),t,3)}function N8(e,t){return GN(e,t)+"000"}function S8(e,t){return je(e.getUTCMonth()+1,t,2)}function E8(e,t){return je(e.getUTCMinutes(),t,2)}function C8(e,t){return je(e.getUTCSeconds(),t,2)}function P8(e){var t=e.getUTCDay();return t===0?7:t}function O8(e,t){return je(ff.count(Hn(e)-1,e),t,2)}function YN(e){var t=e.getUTCDay();return t>=4||t===0?Ds(e):Ds.ceil(e)}function A8(e,t){return e=YN(e),je(Ds.count(Hn(e),e)+(Hn(e).getUTCDay()===4),t,2)}function T8(e){return e.getUTCDay()}function M8(e,t){return je(ad.count(Hn(e)-1,e),t,2)}function I8(e,t){return je(e.getUTCFullYear()%100,t,2)}function D8(e,t){return e=YN(e),je(e.getUTCFullYear()%100,t,2)}function $8(e,t){return je(e.getUTCFullYear()%1e4,t,4)}function L8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ds(e):Ds.ceil(e),je(e.getUTCFullYear()%1e4,t,4)}function R8(){return"+0000"}function mw(){return"%"}function pw(e){return+e}function gw(e){return Math.floor(+e/1e3)}var Bi,QN,XN;z8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function z8(e){return Bi=zR(e),QN=Bi.format,Bi.parse,XN=Bi.utcFormat,Bi.utcParse,Bi}function U8(e){return new Date(e)}function B8(e){return e instanceof Date?+e:+new Date(+e)}function sv(e,t,r,n,a,i,s,l,c,u){var d=H0(),f=d.invert,h=d.domain,m=u(".%L"),b=u(":%S"),x=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),p=u("%b %d"),g=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?b:s(N)<N?x:i(N)<N?w:n(N)<N?a(N)<N?v:p:r(N)<N?g:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,B8)):h().map(U8)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(LN(k,N)):d},d.copy=function(){return Kl(d,sv(e,t,r,n,a,i,s,l,c,u))},d}function F8(){return $r.apply(sv(LR,RR,Vn,av,df,Gl,rv,ev,ai,QN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function q8(){return $r.apply(sv(DR,$R,Hn,iv,ff,uf,nv,tv,ai,XN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hf(){var e=0,t=1,r,n,a,i,s=Dt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,b;return arguments.length?([m,b]=h,s=f(m,b),u):[s(0),s(1)]}}return u.range=d(Ks),u.rangeRound=d(V0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Ba(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JN(){var e=Ua(hf()(Dt));return e.copy=function(){return Ba(e,JN())},Xn.apply(e,arguments)}function ZN(){var e=Y0(hf()).domain([1,10]);return e.copy=function(){return Ba(e,ZN()).base(e.base())},Xn.apply(e,arguments)}function eS(){var e=Q0(hf());return e.copy=function(){return Ba(e,eS()).constant(e.constant())},Xn.apply(e,arguments)}function ov(){var e=X0(hf());return e.copy=function(){return Ba(e,ov()).exponent(e.exponent())},Xn.apply(e,arguments)}function W8(){return ov.apply(null,arguments).exponent(.5)}function tS(){var e=[],t=Dt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>PL(e,i/n))},r.copy=function(){return tS(t).domain(e)},Xn.apply(r,arguments)}function mf(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Dt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function b(x){return function(w){var v,p,g;return arguments.length?([v,p,g]=w,u=rR(x,[v,p,g]),m):[u(0),u(.5),u(1)]}}return m.range=b(Ks),m.rangeRound=b(V0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),s=x(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function rS(){var e=Ua(mf()(Dt));return e.copy=function(){return Ba(e,rS())},Xn.apply(e,arguments)}function nS(){var e=Y0(mf()).domain([.1,1,10]);return e.copy=function(){return Ba(e,nS()).base(e.base())},Xn.apply(e,arguments)}function aS(){var e=Q0(mf());return e.copy=function(){return Ba(e,aS()).constant(e.constant())},Xn.apply(e,arguments)}function lv(){var e=X0(mf());return e.copy=function(){return Ba(e,lv()).exponent(e.exponent())},Xn.apply(e,arguments)}function V8(){return lv.apply(null,arguments).exponent(.5)}const Eo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:F0,scaleDiverging:rS,scaleDivergingLog:nS,scaleDivergingPow:lv,scaleDivergingSqrt:V8,scaleDivergingSymlog:aS,scaleIdentity:$N,scaleImplicit:Ap,scaleLinear:DN,scaleLog:RN,scaleOrdinal:B0,scalePoint:TL,scalePow:J0,scaleQuantile:BN,scaleQuantize:FN,scaleRadial:UN,scaleSequential:JN,scaleSequentialLog:ZN,scaleSequentialPow:ov,scaleSequentialQuantile:tS,scaleSequentialSqrt:W8,scaleSequentialSymlog:eS,scaleSqrt:NR,scaleSymlog:zN,scaleThreshold:qN,scaleTime:F8,scaleUtc:q8,tickFormat:IN},Symbol.toStringTag,{value:"Module"}));var Fa=e=>e.chartData,H8=I([Fa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),cv=(e,t,r,n)=>n?H8(e):Fa(e);function $s(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Jr(t)&&Jr(r))return!0}return!1}function vw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function K8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Jr(r))a=r;else if(typeof r=="function")return;if(Jr(n))i=n;else if(typeof n=="function")return;var s=[a,i];if($s(s))return s}}function G8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if($s(n))return vw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(ce(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&db.test(a)){var c=db.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(ce(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&fb.test(i)){var d=fb.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if($s(h))return t==null?h:vw(h,t,r)}}}var Gs=1e9,Y8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},dv,ze=!0,Mr="[DecimalError] ",fi=Mr+"Invalid argument: ",uv=Mr+"Exponent out of range: ",Ys=Math.floor,Xa=Math.pow,Q8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ar,ut=1e7,De=7,iS=9007199254740991,id=Ys(iS/De),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return $n(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Ce($n(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return et(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ar))throw Error(Mr+"NaN");if(r.s<1)throw Error(Mr+(r.s?"NaN":"-Infinity"));return r.eq(ar)?new n(0):(ze=!1,t=$n(kl(r,i),kl(e,i),i),ze=!0,Ce(t,a))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lS(t,e):sS(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Mr+"NaN");return r.s?(ze=!1,t=$n(r,e,0,1).times(e),ze=!0,r.minus(t)):Ce(new n(r),a)};re.naturalExponential=re.exp=function(){return oS(this)};re.naturalLogarithm=re.ln=function(){return kl(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sS(t,e):lS(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fi+e);if(t=et(a)+1,n=a.d.length-1,r=n*De+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Mr+"NaN")}for(e=et(l),ze=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=dn(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ys((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus($n(l,i,s+2)).times(.5),dn(i.d).slice(0,s)===(t=dn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ce(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return ze=!0,Ce(n,r)};re.times=re.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ut|0,t=l/ut|0;i[a]=(i[a]+t)%ut|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ze?Ce(e,f.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vn(e,0,Gs),t===void 0?t=n.rounding:vn(t,0,8),Ce(r,e+et(r)+1,t))};re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ji(n,!0):(vn(e,0,Gs),t===void 0?t=a.rounding:vn(t,0,8),n=Ce(new a(n),e+1,t),r=ji(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ji(a):(vn(e,0,Gs),t===void 0?t=i.rounding:vn(t,0,8),n=Ce(new i(a),e+et(a)+1,t),r=ji(n.abs(),!1,e+et(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Ce(new t(e),et(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ar);if(l=new c(l),!l.s){if(e.s<1)throw Error(Mr+"Infinity");return l}if(l.eq(ar))return l;if(n=c.precision,e.eq(ar))return Ce(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=iS){for(a=new c(ar),t=Math.ceil(n/De+4),ze=!1;r%2&&(a=a.times(l),xw(a.d,t)),r=Ys(r/2),r!==0;)l=l.times(l),xw(l.d,t);return ze=!0,e.s<0?new c(ar).div(a):Ce(a,n)}}else if(i<0)throw Error(Mr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ze=!1,a=e.times(kl(l,n+u)),ze=!0,a=oS(a),a.s=i,a};re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=et(a),n=ji(a,r<=i.toExpNeg||r>=i.toExpPos)):(vn(e,1,Gs),t===void 0?t=i.rounding:vn(t,0,8),a=Ce(new i(a),e,t),r=et(a),n=ji(a,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vn(e,1,Gs),t===void 0?t=n.rounding:vn(t,0,8)),Ce(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=et(e),r=e.constructor;return ji(e,t<=r.toExpNeg||t>=r.toExpPos)};function sS(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ze?Ce(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/De),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ut|0,c[i]%=ut;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ze?Ce(t,f):t}function vn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fi+e)}function dn(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=De-n.length,r&&(i+=la(r)),i+=n;s=e[t],n=s+"",r=De-n.length,r&&(i+=la(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var $n=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%ut|0,s=i/ut|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ut+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,m,b,x,w,v,p,g,j,_,N,k,E,S=n.constructor,C=n.s==a.s?1:-1,P=n.d,T=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Mr+"Division by zero");for(c=n.e-a.e,k=T.length,_=P.length,m=new S(C),b=m.d=[],u=0;T[u]==(P[u]||0);)++u;if(T[u]>(P[u]||0)&&--c,i==null?p=i=S.precision:s?p=i+(et(n)-et(a))+1:p=i,p<0)return new S(0);if(p=p/De+2|0,u=0,k==1)for(d=0,T=T[0],p++;(u<_||d)&&p--;u++)g=d*ut+(P[u]||0),b[u]=g/T|0,d=g%T|0;else{for(d=ut/(T[0]+1)|0,d>1&&(T=e(T,d),P=e(P,d),k=T.length,_=P.length),j=k,x=P.slice(0,k),w=x.length;w<k;)x[w++]=0;E=T.slice(),E.unshift(0),N=T[0],T[1]>=ut/2&&++N;do d=0,l=t(T,x,k,w),l<0?(v=x[0],k!=w&&(v=v*ut+(x[1]||0)),d=v/N|0,d>1?(d>=ut&&(d=ut-1),f=e(T,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,k<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(T,x,k,w),l<1&&(d++,r(x,k<w?E:T,w))),w=x.length):l===0&&(d++,x=[0]),b[u++]=d,l&&x[0]?x[w++]=P[j]||0:(x=[P[j]],w=1);while((j++<_||x[0]!==void 0)&&p--)}return b[0]||b.shift(),m.e=c,Ce(m,s?i+et(m)+1:i)}}();function oS(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(et(e)>16)throw Error(uv+et(e));if(!e.s)return new d(ar);for(t==null?(ze=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Xa(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ar),d.precision=l;;){if(a=Ce(a.times(e),l),r=r.times(++c),s=i.plus($n(a,r,l)),dn(s.d).slice(0,l)===dn(i.d).slice(0,l)){for(;u--;)i=Ce(i.times(i),l);return d.precision=f,t==null?(ze=!0,Ce(i,f)):i}i=s}}function et(e){for(var t=e.e*De,r=e.d[0];r>=10;r/=10)t++;return t}function Ih(e,t,r){if(t>e.LN10.sd())throw ze=!0,r&&(e.precision=r),Error(Mr+"LN10 precision limit exceeded");return Ce(new e(e.LN10),t)}function la(e){for(var t="";e--;)t+="0";return t}function kl(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,m=e,b=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Mr+(m.s?"NaN":"-Infinity"));if(m.eq(ar))return new x(0);if(t==null?(ze=!1,u=w):u=t,m.eq(10))return t==null&&(ze=!0),Ih(x,u);if(u+=h,x.precision=u,r=dn(b),n=r.charAt(0),i=et(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=dn(m.d),n=r.charAt(0),f++;i=et(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Ih(x,u+2,w).times(i+""),m=kl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?(ze=!0,Ce(m,w)):m;for(l=s=m=$n(m.minus(ar),m.plus(ar),u),d=Ce(m.times(m),u),a=3;;){if(s=Ce(s.times(d),u),c=l.plus($n(s,new x(a),u)),dn(c.d).slice(0,u)===dn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ih(x,u+2,w).times(i+""))),l=$n(l,new x(f),u),x.precision=w,t==null?(ze=!0,Ce(l,w)):l;l=c,a+=2}}function yw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ys(r/De),e.d=[],n=(r+1)%De,r<0&&(n+=De),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=De;n<a;)e.d.push(+t.slice(n,n+=De));t=t.slice(n),n=De-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ze&&(e.e>id||e.e<-id))throw Error(uv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ce(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=De,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/De),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=De,a=n-De+s}if(r!==void 0&&(i=Xa(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Xa(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=et(e),f.length=1,t=t-i-1,f[0]=Xa(10,(De-t%De)%De),e.e=Ys(-t/De)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Xa(10,De-n),f[d]=a>0?(u/Xa(10,s-a)%Xa(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ut&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ut)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ze&&(e.e>id||e.e<-id))throw Error(uv+et(e));return e}function lS(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ze?Ce(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/De),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=ut-1;--c[i],c[a]+=ut}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ze?Ce(t,m):t):new h(0)}function ji(e,t,r){var n,a=et(e),i=dn(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+la(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+la(-a-1)+i,r&&(n=r-s)>0&&(i+=la(n))):a>=s?(i+=la(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+la(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=la(n))),e.s<0?"-"+i:i}function xw(e,t){if(e.length>t)return e.length=t,!0}function cS(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(fi+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return yw(s,i.toString())}else if(typeof i!="string")throw Error(fi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Q8.test(i))yw(s,i);else throw Error(fi+i)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=cS,a.config=a.set=X8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function X8(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,r,n,a=["precision",1,Gs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ys(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fi+r+": "+n);return this}var dv=cS(Y8);ar=new dv(1);const ke=dv;var J8=e=>e,uS={"@@functional/placeholder":!0},dS=e=>e===uS,bw=e=>function t(){return arguments.length===0||arguments.length===1&&dS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},fS=(e,t)=>e===1?t:bw(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==uS).length;return i>=e?t(...n):fS(e-i,bw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>dS(d)?l.shift():d);return t(...u,...l)}))}),pf=e=>fS(e.length,e),Dp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Z8=pf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ez=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return J8;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,c)=>c(l),i(...arguments))}},$p=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),hS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,l)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function mS(e){var t;return e===0?t=1:t=Math.floor(new ke(e).abs().log(10).toNumber())+1,t}function pS(e,t,r){for(var n=new ke(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}pf((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});pf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});pf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var gS=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},vS=(e,t,r)=>{if(e.lte(0))return new ke(0);var n=mS(e.toNumber()),a=new ke(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new ke(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?new ke(c.toNumber()):new ke(Math.ceil(c.toNumber()))},tz=(e,t,r)=>{var n=new ke(1),a=new ke(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ke(10).pow(mS(e)-1),a=new ke(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ke(Math.floor(e)))}else e===0?a=new ke(Math.floor((t-1)/2)):r||(a=new ke(Math.floor(e)));var s=Math.floor((t-1)/2),l=ez(Z8(c=>a.add(new ke(c-s).mul(n)).toNumber()),Dp);return l(0,t)},yS=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ke(0),tickMin:new ke(0),tickMax:new ke(0)};var s=vS(new ke(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ke(0):(l=new ke(t).add(r).div(2),l=l.sub(new ke(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new ke(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?yS(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new ke(c).mul(s)),tickMax:l.add(new ke(u).mul(s))})};function rz(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,l]=gS([t,r]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...Dp(0,n-1).map(()=>1/0)]:[...Dp(0,n-1).map(()=>-1/0),l];return t>r?$p(c):c}if(s===l)return tz(s,n,a);var{step:u,tickMin:d,tickMax:f}=yS(s,l,i,a,0),h=pS(d,f.add(new ke(.1).mul(u)),u);return t>r?$p(h):h}function nz(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=gS([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var l=Math.max(t,2),c=vS(new ke(s).sub(i).div(l-1),a,0),u=[...pS(new ke(i),new ke(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?$p(u):u}var az=hS(rz),iz=hS(nz),sz=e=>e.rootProps.barCategoryGap,gf=e=>e.rootProps.stackOffset,fv=e=>e.options.chartName,hv=e=>e.rootProps.syncId,xS=e=>e.rootProps.syncMethod,mv=e=>e.options.eventEmitter,En={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},vf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},oz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:En.angleAxisId,includeHidden:!1,name:void 0,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:void 0,ticks:void 0,type:En.type,unit:void 0},lz={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},cz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:En.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:En.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:En.scale,tick:En.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uz={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},pv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?cz:oz,gv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?uz:lz,yf=e=>e.polarOptions,vv=I([Yn,Qn,Nt],lD),bS=I([yf,vv],(e,t)=>{if(e!=null)return Aa(e.innerRadius,t,0)}),wS=I([yf,vv],(e,t)=>{if(e!=null)return Aa(e.outerRadius,t,t*.8)}),dz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},jS=I([yf],dz);I([pv,jS],vf);var _S=I([vv,bS,wS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});I([gv,_S],vf);var kS=I([Le,yf,bS,wS,Yn,Qn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:Aa(s,a,a/2),cy:Aa(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),tt=(e,t)=>t,xf=(e,t,r)=>r;function NS(e){return e==null?void 0:e.id}var ct=e=>{var t=Le(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Qs=e=>e.tooltip.settings.axisId,gt=e=>{var t=ct(e),r=Qs(e);return Yl(e,t,r)},SS=I([gt],e=>e==null?void 0:e.dataKey);function ES(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=NS(l);u.forEach((f,h)=>{var m=i==null||a?h:String(Lt(f,i,null)),b=Lt(f,l.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[d]:b}),s.set(m,x)})}}),Array.from(s.values())}function yv(e){return e.stackId!=null&&e.dataKey!=null}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){fz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=mz(e,"string");return typeof t=="symbol"?t:t+""}function mz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lp=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},CS=(e,t)=>e.cartesianAxis.xAxis[t],Jn=(e,t)=>{var r=CS(e,t);return r??Jt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wl},PS=(e,t)=>e.cartesianAxis.yAxis[t],Zn=(e,t)=>{var r=PS(e,t);return r??Zt},pz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},xv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??pz},Yt=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return Zn(e,r);case"zAxis":return xv(e,r);case"angleAxis":return pv(e,r);case"radiusAxis":return gv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gz=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return Zn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yl=(e,t,r)=>{switch(t){case"xAxis":return Jn(e,r);case"yAxis":return Zn(e,r);case"angleAxis":return pv(e,r);case"radiusAxis":return gv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},OS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function AS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var TS=e=>e.graphicalItems.cartesianItems,vz=I([tt,xf],AS),MS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ql=I([TS,Yt,vz],MS),IS=I([Ql],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(yv)),DS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$S=I([Ql],DS),LS=e=>e.map(t=>t.data).filter(Boolean).flat(1),yz=I([Ql],LS),RS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},bv=I([yz,cv],RS),zS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Lt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Lt(a,n)}))):e.map(n=>({value:n})),bf=I([bv,Yt,Ql],zS);function US(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Mi(e){return e.filter(t=>gn(t)||t instanceof Date).map(Number).filter(t=>Ar(t)===!1)}function xz(e,t,r){return!r||typeof t!="number"||Ar(t)?[]:r.length?Mi(r.flatMap(n=>{var a=Lt(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Jr(i)||!Jr(s)))return[t-i,t+s]})):[]}var bz=I([IS,cv,gt],ES),BS=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,l]=i,c=l.map(NS);return[s,{stackedData:_D(e,c,r),graphicalItems:l}]}))},wz=I([bz,IS,gf],BS),FS=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=SD(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},jz=I([wz,Fa,tt],FS),qS=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var l,c,u=(l=n[s.id])===null||l===void 0?void 0:l.filter(f=>US(a,f)),d=Lt(i,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:xz(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Lt(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),wf=e=>e.errorBars,WS=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>US(r,n));I([$S,wf,tt],WS);var _z=I([bv,Yt,$S,wf,tt],qS);function kz(e){var{value:t}=e;if(gn(t)||t instanceof Date)return t}var jw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Mi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nz=(e,t,r)=>{var n=e.map(kz).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&D2(n))?kN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},wv=e=>{var t;if(e==null||!("domain"in e))return Lp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Mi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lp},od=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},VS=e=>e.referenceElements.dots,Xs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Sz=I([VS,tt,xf],Xs),HS=e=>e.referenceElements.areas,Ez=I([HS,tt,xf],Xs),KS=e=>e.referenceElements.lines,Cz=I([KS,tt,xf],Xs),GS=(e,t)=>{var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pz=I(Sz,tt,GS),YS=(e,t)=>{var r=Mi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Oz=I([Ez,tt],YS),QS=(e,t)=>{var r=Mi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Az=I(Cz,tt,QS),Tz=I(Pz,Az,Oz,(e,t,r)=>od(e,r,t)),Mz=I([Yt],wv),XS=(e,t,r,n,a,i,s)=>{var l=K8(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=c?od(r,a,jw(n)):od(a,jw(n));return G8(t,u,e.allowDataOverflow)},Iz=I([Yt,Mz,jz,_z,Tz,Le,tt],XS),Dz=[0,1],JS=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=za(t,i);return u&&l==null?kN(0,r.length):c==="category"?Nz(n,e,u):a==="expand"?Dz:s}},jv=I([Yt,Le,bv,bf,gf,tt,Iz],JS),ZS=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Bl(i));return l in Eo?l:"point"}}},Xl=I([Yt,Le,OS,fv,tt],ZS);function $z(e){if(e!=null){if(e in Eo)return Eo[e]();var t="scale".concat(Bl(e));if(t in Eo)return Eo[t]()}}function _v(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=$z(t);if(a!=null){var i=a.domain(r).range(n);return xD(i),i}}}var eE=(e,t,r)=>{var n=wv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&$s(e))return az(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&$s(e))return iz(e,t.tickCount,t.allowDecimals)}},kv=I([jv,Yl,Xl],eE),tE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&$s(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},Lz=I([Yt,jv,kv,tt],tE),Rz=I(bf,Yt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mi(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),rE=I(Rz,Le,sz,Nt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Jr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Aa(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),zz=(e,t)=>{var r=Jn(e,t);return r==null||typeof r.padding!="string"?0:rE(e,"xAxis",t,r.padding)},Uz=(e,t)=>{var r=Zn(e,t);return r==null||typeof r.padding!="string"?0:rE(e,"yAxis",t,r.padding)},Bz=I(Jn,zz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Fz=I(Zn,Uz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),qz=I([Nt,Bz,of,sf,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Wz=I([Nt,Le,Fz,of,sf,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return qz(e,r,n);case"yAxis":return Wz(e,r,n);case"zAxis":return(a=xv(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return jS(e);case"radiusAxis":return _S(e,r);default:return}},nE=I([Yt,Jl],vf),Js=I([Yt,Xl,Lz,nE],_v);I([Ql,wf,tt],WS);function aE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var jf=(e,t)=>t,_f=(e,t,r)=>r,Vz=I(nf,jf,_f,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aE)),Hz=I(af,jf,_f,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(aE)),iE=(e,t)=>({width:e.width,height:t.height}),Kz=(e,t)=>{var r=typeof t.width=="number"?t.width:Wl;return{width:r,height:e.height}},Gz=I(Nt,Jn,iE),Yz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Qz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xz=I(Qn,Nt,Vz,jf,_f,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=iE(t,l);s==null&&(s=Yz(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),Jz=I(Yn,Nt,Hz,jf,_f,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=Kz(t,l);s==null&&(s=Qz(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),Zz=(e,t)=>{var r=Jn(e,t);if(r!=null)return Xz(e,r.orientation,r.mirror)},e7=I([Nt,Jn,Zz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),t7=(e,t)=>{var r=Zn(e,t);if(r!=null)return Jz(e,r.orientation,r.mirror)},r7=I([Nt,Zn,t7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),n7=I(Nt,Zn,(e,t)=>{var r=typeof t.width=="number"?t.width:Wl;return{width:r,height:e.height}}),sE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=za(e,n),c=t.map(u=>u.value);if(s&&l&&i==="category"&&a&&D2(c))return c}},Nv=I([Le,bf,Yt,tt],sE),oE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=za(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Sv=I([Le,bf,Yl,tt],oE),_w=I([Le,gz,Xl,Js,Nv,Sv,Jl,kv,tt],(e,t,r,n,a,i,s,l,c)=>{if(t==null)return null;var u=za(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}),a7=(e,t,r,n,a,i,s,l,c)=>{if(!(t==null||n==null)){var u=za(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=d==="category"&&n.bandwidth?n.bandwidth()/m:0;b=c==="angleAxis"&&i!=null&&i.length>=2?kr(i[0]-i[1])*2*b:b;var x=f||a;if(x){var w=x.map((v,p)=>{var g=s?s.indexOf(v):v;return{index:p,coordinate:n(g)+b,value:v,offset:b}});return w.filter(v=>!Ar(v.coordinate))}return u&&l?l.map((v,p)=>({coordinate:n(v)+b,value:v,index:p,offset:b})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+b,value:v,offset:b})):n.domain().map((v,p)=>({coordinate:n(v)+b,value:s?s[v]:v,index:p,offset:b}))}},lE=I([Le,Yl,Xl,Js,kv,Jl,Nv,Sv,tt],a7),i7=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=za(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?kr(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},cE=I([Le,Yl,Js,Jl,Nv,Sv,tt],i7),uE=I(Yt,Js,(e,t)=>{if(!(e==null||t==null))return sd(sd({},e),{},{scale:t})}),s7=I([Yt,Xl,jv,nE],_v);I((e,t,r)=>xv(e,r),s7,(e,t)=>{if(!(e==null||t==null))return sd(sd({},e),{},{scale:t})});var o7=I([Le,nf,af],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dE=e=>e.options.defaultTooltipEventType,fE=e=>e.options.validateTooltipEventTypes;function hE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ev(e,t){var r=dE(e),n=fE(e);return hE(t,r,n)}function l7(e){return se(t=>Ev(t,e))}var mE=(e,t)=>{var r,n=Number(t);if(!(Ar(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},c7=e=>e.tooltip.settings,ha={active:!1,index:null,dataKey:void 0,coordinate:void 0},u7={itemInteraction:{click:ha,hover:ha},axisInteraction:{click:ha,hover:ha},keyboardInteraction:ha,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pE=mr({name:"tooltip",initialState:u7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Dn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:d7,removeTooltipEntrySettings:f7,setTooltipSettingsState:h7,setActiveMouseOverItemIndex:m7,mouseLeaveItem:ZW,mouseLeaveChart:gE,setActiveClickItemIndex:eV,setMouseOverAxisIndex:vE,setMouseClickAxisIndex:p7,setSyncInteraction:Rp,setKeyboardInteraction:zp}=pE.actions,g7=pE.reducer;function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function w7(e){return e.index!=null}var yE=(e,t,r,n)=>{if(t==null)return ha;var a=b7(e,t,r);if(a==null)return ha;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(w7(a)){if(i)return zc(zc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return zc(zc({},ha),{},{coordinate:a.coordinate})},Cv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Jr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},xE=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},bE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Zl=e=>e.options.tooltipPayloadSearcher,Zs=e=>e.tooltip;function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){j7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N7(e,t){return e??t}var wE=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var b,{dataDefinedOnItem:x,settings:w}=m,v=N7(x,l),p=Array.isArray(v)?aN(v,u,d):v,g=(b=w==null?void 0:w.dataKey)!==null&&b!==void 0?b:n,j=w==null?void 0:w.nameKey,_;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&s==="axis"?_=$2(p,n,a):_=i(p,t,c,j),Array.isArray(_))_.forEach(k=>{var E=Sw(Sw({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(hb({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:Lt(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(hb({tooltipEntrySettings:w,dataKey:g,payload:_,value:Lt(_,g),name:(N=Lt(_,j))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Pv=I([gt,Le,OS,fv,ct],ZS),S7=I([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),E7=I([ct,Qs],AS),ec=I([S7,gt,E7],MS),C7=I([ec],e=>e.filter(yv)),P7=I([ec],LS),eo=I([P7,Fa],RS),O7=I([C7,Fa,gt],ES),Ov=I([eo,gt,ec],zS),A7=I([gt],wv),T7=I([ec],e=>e.filter(yv)),M7=I([O7,T7,gf],BS),I7=I([M7,Fa,ct],FS),D7=I([ec],DS),$7=I([eo,gt,D7,wf,ct],qS),L7=I([VS,ct,Qs],Xs),R7=I([L7,ct],GS),z7=I([HS,ct,Qs],Xs),U7=I([z7,ct],YS),B7=I([KS,ct,Qs],Xs),F7=I([B7,ct],QS),q7=I([R7,F7,U7],od),W7=I([gt,A7,I7,$7,q7,Le,ct],XS),jE=I([gt,Le,eo,Ov,gf,ct,W7],JS),V7=I([jE,gt,Pv],eE),H7=I([gt,jE,V7,ct],tE),_E=e=>{var t=ct(e),r=Qs(e),n=!1;return Jl(e,t,r,n)},kE=I([gt,_E],vf),NE=I([gt,Pv,H7,kE],_v),K7=I([Le,Ov,gt,ct],sE),G7=I([Le,Ov,gt,ct],oE),Y7=(e,t,r,n,a,i,s,l)=>{if(t){var{type:c}=t,u=za(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?kr(a[0]-a[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ea=I([Le,gt,Pv,NE,_E,K7,G7,ct],Y7),Av=I([dE,fE,c7],(e,t,r)=>hE(r.shared,e,t)),SE=e=>e.tooltip.settings.trigger,Tv=e=>e.tooltip.settings.defaultIndex,kf=I([Zs,Av,SE,Tv],yE),Nl=I([kf,eo],Cv),EE=I([ea,Nl],mE),Q7=I([kf],e=>{if(e)return e.dataKey}),CE=I([Zs,Av,SE,Tv],bE),X7=I([Yn,Qn,Le,Nt,ea,Tv,CE,Zl],xE),J7=I([kf,X7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Z7=I([kf],e=>e.active),eU=I([CE,Nl,Fa,SS,EE,Zl,Av],wE),tU=I([eU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){rU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rU(e,t,r){return(t=nU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iU=()=>se(gt),sU=()=>{var e=iU(),t=se(ea),r=se(NE);return bp(Cw(Cw({},e),{},{scale:r}),t)},oU=()=>se(fv),Mv=(e,t)=>t,PE=(e,t,r)=>r,Iv=(e,t,r,n)=>n,lU=I(ea,e=>Xd(e,t=>t.coordinate)),Dv=I([Zs,Mv,PE,Iv],yE),OE=I([Dv,eo],Cv),cU=(e,t,r)=>{if(t!=null){var n=Zs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},AE=I([Zs,Mv,PE,Iv],bE),ld=I([Yn,Qn,Le,Nt,ea,Iv,AE,Zl],xE),uU=I([Dv,ld],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),TE=I(ea,OE,mE),dU=I([AE,OE,Fa,SS,TE,Zl,Mv],wE),fU=I([Dv],e=>({isActive:e.active,activeIndex:e.index})),hU=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i)){var c=ED(e.chartX,e.chartY,t,r,l);if(c){var u=PD(c,t),d=vD(u,s,i,n,a),f=CD(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(null,arguments)}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){mU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mU(e,t,r){return(t=pU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pU(e){var t=gU(e,"string");return typeof t=="symbol"?t:t+""}function gU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vU(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,b;if(u==="ScatterChart")m=d,b=M$;else if(u==="BarChart")m=I$(s,d,a,i),b=dL;else if(s==="radial"){var{cx:x,cy:w,radius:v,startAngle:p,endAngle:g}=xN(d);m={cx:x,cy:w,startAngle:p,endAngle:g,innerRadius:v,outerRadius:v},b=pL}else m={points:gL(s,d,a)},b=hN;var j=typeof l=="object"&&"className"in l?l.className:void 0,_=Uc(Uc(Uc(Uc({stroke:"#ccc",pointerEvents:"none"},a),m),mt(l,!1)),{},{payload:f,payloadIndex:h,className:Pe("recharts-tooltip-cursor",j)});return y.isValidElement(l)?y.cloneElement(l,_):y.createElement(b,_)}function yU(e){var t=sU(),r=uN(),n=R0(),a=oU();return y.createElement(vU,Up({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var ME=y.createContext(null),xU=()=>y.useContext(ME),IE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],m]:c._events[b].push(m):(c._events[b]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,b=new Array(m);h<m;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,b){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],v=arguments.length,p,g;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,b),!0}for(g=1,p=new Array(v-1);g<v;g++)p[g-1]=arguments[g];w.fn.apply(w.context,p)}else{var j=w.length,_;for(g=0;g<j;g++)switch(w[g].once&&this.removeListener(u,w[g].fn,void 0,!0),v){case 1:w[g].fn.call(w[g].context);break;case 2:w[g].fn.call(w[g].context,d);break;case 3:w[g].fn.call(w[g].context,d,f);break;case 4:w[g].fn.call(w[g].context,d,f,h);break;default:if(!p)for(_=1,p=new Array(v-1);_<v;_++)p[_-1]=arguments[_];w[g].fn.apply(w[g].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var b=this._events[m];if(b.fn)b.fn===d&&(!h||b.once)&&(!f||b.context===f)&&s(this,m);else{for(var x=0,w=[],v=b.length;x<v;x++)(b[x].fn!==d||h&&!b[x].once||f&&b[x].context!==f)&&w.push(b[x]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(IE);var bU=IE.exports;const wU=Ta(bU);var Sl=new wU,Bp="recharts.syncEvent.tooltip",Ow="recharts.syncEvent.brush";function jU(e,t){if(t){var r=Number.parseInt(t,10);if(!Ar(r))return e==null?void 0:e[r]}}var _U={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},DE=mr({name:"options",initialState:_U,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kU=DE.reducer,{createEventEmitter:NU}=DE.actions;function SU(e){return e.tooltip.syncInteraction}var EU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$E=mr({name:"chartData",initialState:EU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Aw,setDataStartEndIndexes:CU,setComputedData:tV}=$E.actions,PU=$E.reducer,OU=["x","y"];function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){AU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AU(e,t,r){return(t=TU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TU(e){var t=MU(e,"string");return typeof t=="symbol"?t:t+""}function MU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IU(e,t){if(e==null)return{};var r,n,a=DU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LE=()=>{};function $U(){var e=se(hv),t=se(mv),r=kt(),n=se(xS),a=se(ea),i=R0(),s=D0(),l=se(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return LE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:b,y:x}=m,w=IU(m,OU),v=Va(Va(Va({},w),typeof b=="number"&&{x:Math.max(s.x,Math.min(b,s.x+s.width))}),typeof x=="number"&&{y:Math.max(s.y,Math.min(x,s.y+s.height))}),p=Va(Va({},d),{},{payload:Va(Va({},d.payload),{},{coordinate:v})});r(p)}else r(d);return}if(a!=null){var g;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(a,j);g=a[_]}else n==="value"&&(g=a.find(L=>String(L.value)===d.payload.label));var{coordinate:N}=d.payload;if(g==null||d.payload.active===!1||N==null||s==null){r(Rp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:E}=N,S=Math.min(k,s.x+s.width),C=Math.min(E,s.y+s.height),P={x:i==="horizontal"?g.coordinate:S,y:i==="horizontal"?C:g.coordinate},T=Rp({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(g.index),label:d.payload.label});r(T)}}};return Sl.on(Bp,c),()=>{Sl.off(Bp,c)}},[l,r,t,e,n,a,i,s])}function LU(){var e=se(hv),t=se(mv),r=kt();y.useEffect(()=>{if(e==null)return LE;var n=(a,i,s)=>{t!==s&&e===a&&r(CU(i))};return Sl.on(Ow,n),()=>{Sl.off(Ow,n)}},[r,t,e])}function RU(){var e=kt();y.useEffect(()=>{e(NU())},[e]),$U(),LU()}function zU(e,t,r,n,a,i){var s=se(h=>cU(h,e,t)),l=se(mv),c=se(hv),u=se(xS),d=se(SU),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Rp({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});Sl.emit(Bp,c,h,l)}},[f,r,s,a,n,l,c,u,i])}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=BU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qU(e){return e.dataKey}function WU(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(d$,t)}var Dw=[],VU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Hs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function HU(e){var t=Dr(e,VU),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:b,cursor:x,shared:w,trigger:v,defaultIndex:p,portal:g,axisId:j}=t,_=kt(),N=typeof p=="number"?String(p):p;y.useEffect(()=>{_(h7({shared:w,trigger:v,axisId:j,active:r,defaultIndex:N}))},[_,w,v,j,r,N]);var k=D0(),E=fN(),S=l7(w),{activeIndex:C,isActive:P}=se(ge=>fU(ge,S,v,N)),T=se(ge=>dU(ge,S,v,N)),L=se(ge=>TE(ge,S,v,N)),M=se(ge=>uU(ge,S,v,N)),R=T,G=xU(),H=r??P,[F,O]=Mk([R,H]),z=S==="axis"?L:void 0;zU(S,v,M,z,C,H);var U=g??G;if(U==null)return null;var q=R??Dw;H||(q=Dw),l&&q.length&&(q=wk(R.filter(ge=>ge.value!=null&&(ge.hide!==!0||t.includeHidden)),d,qU));var fe=q.length>0,pe=y.createElement(y$,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:H,coordinate:M,hasPayload:fe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:b,lastBoundingBox:F,innerRef:O,hasPortalFromProps:!!g},WU(s,Iw(Iw({},t),{},{payload:q,label:z,active:H,coordinate:M,accessibilityLayer:E})));return y.createElement(y.Fragment,null,qg.createPortal(pe,U),H&&y.createElement(yU,{cursor:x,tooltipEventType:S,coordinate:M,payload:R,index:C}))}var RE={},zE={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},b=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{b(),s=void 0,l=null},w=()=>{d()},v=function(...p){if(a!=null&&a.aborted)return;s=this,l=p;const g=h==null;m(),c&&g&&d()};return v.schedule=m,v.cancel=x,v.flush=w,a==null||a.addEventListener("abort",x,{once:!0}),v}e.debounce=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},b=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=b,m}e.debounce=r})(zE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE;function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(RE);var KU=RE.throttle;const GU=Ta(KU);var Fo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=XU(e,"string");return typeof t=="symbol"?t:t+""}function XU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JU=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:b={}}=e,x=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>x.current);var[v,p]=y.useState({containerWidth:n.width,containerHeight:n.height}),g=y.useCallback((_,N)=>{p(k=>{var E=Math.round(_),S=Math.round(N);return k.containerWidth===E&&k.containerHeight===S?k:{containerWidth:E,containerHeight:S}})},[]);y.useEffect(()=>{var _=S=>{var C,{width:P,height:T}=S[0].contentRect;g(P,T),(C=w.current)===null||C===void 0||C.call(w,P,T)};d>0&&(_=GU(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:E}=x.current.getBoundingClientRect();return g(k,E),N.observe(x.current),()=>{N.disconnect()}},[g,d]);var j=y.useMemo(()=>{var{containerWidth:_,containerHeight:N}=v;if(_<0||N<0)return null;Fo(ri(a)||ri(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Fo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=ri(a)?_:a,E=ri(i)?N:i;return r&&r>0&&(k?E=k/r:E&&(k=E*r),c&&E>c&&(E=c)),Fo(k>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,a,i,s,l,r),y.Children.map(u,S=>y.cloneElement(S,{width:k,height:E,style:Dh({width:k,height:E},S.props.style)}))},[r,u,i,c,l,s,v,a]);return y.createElement("div",{id:f?"".concat(f):void 0,className:Pe("recharts-responsive-container",h),style:Dh(Dh({},b),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function ZU(e,t,r){return(t=eB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eB(e){var t=tB(e,"string");return typeof t=="symbol"?t:t+""}function tB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rB{constructor(t){ZU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(r),!0).forEach(function(n){aB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aB(e,t,r){return(t=iB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iB(e){var t=sB(e,"string");return typeof t=="symbol"?t:t+""}function sB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oB={cacheSize:2e3,enableCache:!0},BE=nB({},oB),Rw=new rB(BE.cacheSize),lB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zw="recharts_measurement_span";function cB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var Uw=(e,t)=>{try{var r=document.getElementById(zw);r||(r=document.createElement("span"),r.setAttribute("id",zw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},qo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hs.isSsr)return{width:0,height:0};if(!BE.enableCache)return Uw(t,r);var n=cB(t,r),a=Rw.get(n);if(a)return a;var i=Uw(t,r);return Rw.set(n,i),i},Bw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fB=Object.keys(FE),rs="NaN";function hB(e,t){return e*FE[t]}class Ut{static parse(t){var r,[,n,a]=(r=dB.exec(t))!==null&&r!==void 0?r:[];return new Ut(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ar(t)&&(this.unit=""),r!==""&&!uB.test(r)&&(this.num=NaN,this.unit=""),fB.includes(r)&&(this.num=hB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ar(this.num)}}function qE(e){if(e.includes(rs))return rs;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Bw.exec(t))!==null&&r!==void 0?r:[],s=Ut.parse(n??""),l=Ut.parse(i??""),c=a==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return rs;t=t.replace(Bw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Fw.exec(t))!==null&&u!==void 0?u:[],m=Ut.parse(d??""),b=Ut.parse(h??""),x=f==="+"?m.add(b):m.subtract(b);if(x.isNaN())return rs;t=t.replace(Fw,x.toString())}return t}var qw=/\(([^()]*)\)/;function mB(e){for(var t=e,r;(r=qw.exec(t))!=null;){var[,n]=r;t=t.replace(qw,qE(n))}return t}function pB(e){var t=e.replace(/\s+/g,"");return t=mB(t),t=qE(t),t}function gB(e){try{return pB(e)}catch{return rs}}function $h(e){var t=gB(e.slice(5,-1));return t===rs?"":t}var vB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yB=["dx","dy","angle","className","breakAll"];function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(null,arguments)}function Ww(e,t){if(e==null)return{};var r,n,a=xB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WE=/[ \f\n\r\t\v\u2028\u2029]+/,VE=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ht(t)||(r?a=t.toString().split(""):a=t.toString().split(WE));var i=a.map(l=>({word:l,width:qo(l,n).width})),s=r?0:qo(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},bB=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:c}=e,u=ce(i),d=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((T,L)=>{var{word:M,width:R}=L,G=T[T.length-1];if(G&&(n==null||a||G.width+R+r<Number(n)))G.words.push(M),G.width+=R+r;else{var H={words:[M],width:R};T.push(H)}return T},[])},h=f(t),m=C=>C.reduce((P,T)=>P.width>T.width?P:T);if(!u||a)return h;var b=h.length>i||m(h).width>Number(n);if(!b)return h;for(var x="…",w=C=>{var P=d.slice(0,C),T=VE({breakAll:c,style:l,children:P+x}).wordsWithComputedWidth,L=f(T),M=L.length>i||m(L).width>Number(n);return[M,L]},v=0,p=d.length-1,g=0,j;v<=p&&g<=d.length-1;){var _=Math.floor((v+p)/2),N=_-1,[k,E]=w(N),[S]=w(_);if(!k&&!S&&(v=_+1),k&&S&&(p=_-1),!k&&S){j=E;break}g++}return j||h},Vw=e=>{var t=ht(e)?[]:e.toString().split(WE);return[{words:t}]},wB=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Hs.isSsr){var l,c,u=VE({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return Vw(n);return bB({breakAll:i,children:n,maxLines:s,style:a},l,c,t,r)}return Vw(n)},Hw="#808080",$v=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Hw}=e,d=Ww(e,vB),f=y.useMemo(()=>wB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:b,className:x,breakAll:w}=d,v=Ww(d,yB);if(!gn(r)||!gn(n)||f.length===0)return null;var p=r+(ce(h)?h:0),g=n+(ce(m)?m:0),j;switch(c){case"start":j=$h("calc(".concat(i,")"));break;case"middle":j=$h("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=$h("calc(".concat(f.length-1," * -").concat(a,")"));break}var _=[];if(s){var N=f[0].width,{width:k}=d;_.push("scale(".concat(ce(k)?k/N:1,")"))}return b&&_.push("rotate(".concat(b,", ").concat(p,", ").concat(g,")")),_.length&&(v.transform=_.join(" ")),y.createElement("text",Fp({},mt(v,!0),{ref:t,x:p,y:g,className:Pe("recharts-text",x),textAnchor:l,fill:u.includes("url")?Hw:u}),f.map((E,S)=>{var C=E.words.join(w?"":" ");return y.createElement("tspan",{x:p,dy:S===0?j:a,key:"".concat(C,"-").concat(S)},C)}))});$v.displayName="Text";var jB=["labelRef"];function _B(e,t){if(e==null)return{};var r,n,a=kB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){NB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NB(e,t,r){return(t=SB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=EB(e,"string");return typeof t=="symbol"?t:t+""}function EB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cn.apply(null,arguments)}var HE=y.createContext(null),CB=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=y.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return y.createElement(HE.Provider,{value:s},i)},KE=()=>{var e=y.useContext(HE),t=D0();return e||t},PB=y.createContext(null),OB=()=>{var e=y.useContext(PB),t=se(kS);return e||t},AB=e=>{var{value:t,formatter:r}=e,n=ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lv=e=>e!=null&&typeof e=="function",TB=(e,t)=>{var r=kr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},MB=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,b=(u+d)/2,x=TB(f,h),w=x>=0?1:-1,v,p;switch(t){case"insideStart":v=f+w*i,p=m;break;case"insideEnd":v=h-w*i,p=!m;break;case"end":v=h+w*i,p=m;break;default:throw new Error("Unsupported position ".concat(t))}p=x<=0?p:!p;var g=wt(l,c,b,v),j=wt(l,c,b,v+(p?1:-1)*359),_="M".concat(g.x,",").concat(g.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(p?0:1,`,
    `).concat(j.x,",").concat(j.y),N=ht(e.id)?gl("recharts-radial-line-"):e.id;return y.createElement("text",Cn({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:N,d:_})),y.createElement("textPath",{xlinkHref:"#".concat(N)},r))},IB=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=wt(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:b}=wt(n,a,h,u);return{x:m,y:b,textAnchor:"middle",verticalAnchor:"middle"}},GE=e=>"cx"in e&&ce(e.cx),DB=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!GE(r)&&(i=r);var{x:s,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",b=c>=0?1:-1,x=b*n,w=b>0?"end":"start",v=b>0?"start":"end";if(a==="top"){var p={x:s+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Ye(Ye({},p),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var g={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Ye(Ye({},g),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:s-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Ye(Ye({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(a==="right"){var _={x:s+c+x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"};return Ye(Ye({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:u}:{})}var N=i?{width:c,height:u}:{};return a==="insideLeft"?Ye({x:s+x,y:l+u/2,textAnchor:v,verticalAnchor:"middle"},N):a==="insideRight"?Ye({x:s+c-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?Ye({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},N):a==="insideBottom"?Ye({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},N):a==="insideTopLeft"?Ye({x:s+x,y:l+f,textAnchor:v,verticalAnchor:m},N):a==="insideTopRight"?Ye({x:s+c-x,y:l+f,textAnchor:w,verticalAnchor:m},N):a==="insideBottomLeft"?Ye({x:s+x,y:l+u-f,textAnchor:v,verticalAnchor:h},N):a==="insideBottomRight"?Ye({x:s+c-x,y:l+u-f,textAnchor:w,verticalAnchor:h},N):a&&typeof a=="object"&&(ce(a.x)||ri(a.x))&&(ce(a.y)||ri(a.y))?Ye({x:s+Aa(a.x,c),y:l+Aa(a.y,u),textAnchor:"end",verticalAnchor:"end"},N):Ye({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},$B={offset:5};function ca(e){var t=Dr(e,$B),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=OB(),f=KE(),h=n==="center"?f:d??f,m=r||h;if(!m||ht(a)&&ht(i)&&!y.isValidElement(s)&&typeof s!="function")return null;var b=Ye(Ye({},t),{},{viewBox:m});if(y.isValidElement(s)){var x=_B(b,jB);return y.cloneElement(s,x)}var w;if(typeof s=="function"){if(w=y.createElement(s,b),y.isValidElement(w))return w}else w=AB(t);var v=GE(m),p=mt(t,!0);if(v&&(n==="insideStart"||n==="insideEnd"||n==="end"))return MB(t,n,w,p,m);var g=v?IB(m,t.offset,t.position):DB(t,m);return y.createElement($v,Cn({ref:u,className:Pe("recharts-label",l)},p,g,{breakAll:c}),w)}ca.displayName="Label";var LB=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(ca,Cn({key:"label-implicit"},n)):gn(e)?y.createElement(ca,Cn({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===ca?y.cloneElement(e,Ye({key:"label-implicit"},n)):y.createElement(ca,Cn({key:"label-implicit",content:e},n)):Lv(e)?y.createElement(ca,Cn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(ca,Cn({},e,{key:"label-implicit"},n)):null};function RB(e){var{label:t}=e,r=KE();return LB(t,r)||null}var YE={},QE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(QE);var XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(XE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QE,r=XE,n=Yd;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(YE);var zB=YE.last;const UB=Ta(zB);var BB=["valueAccessor"],FB=["dataKey","clockWise","id","textBreakAll"];function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}function Gw(e,t){if(e==null)return{};var r,n,a=qB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WB=e=>Array.isArray(e.value)?UB(e.value):e.value,JE=y.createContext(void 0),VB=JE.Provider,ZE=y.createContext(void 0);ZE.Provider;function HB(){return y.useContext(JE)}function KB(){return y.useContext(ZE)}function nu(e){var{valueAccessor:t=WB}=e,r=Gw(e,BB),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,l=Gw(r,FB),c=HB(),u=KB(),d=c||u;return!d||!d.length?null:y.createElement(Vs,{className:"recharts-label-list"},d.map((f,h)=>{var m,b=ht(n)?t(f,h):Lt(f&&f.payload,n),x=ht(i)?{}:{id:"".concat(i,"-").concat(h)};return y.createElement(ca,cd({},mt(f,!0),l,x,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:b,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}nu.displayName="LabelList";function GB(e){var{label:t}=e;return t?t===!0?y.createElement(nu,{key:"labelList-implicit"}):y.isValidElement(t)||Lv(t)?y.createElement(nu,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(nu,cd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(null,arguments)}var eC=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Pe("recharts-dot",a);return t===+t&&r===+r&&n===+n?y.createElement("circle",qp({},Oi(e),d0(e),{className:i,cx:t,cy:r,r:n})):null},YB={radiusAxis:{},angleAxis:{}},QB=mr({name:"polarAxis",initialState:YB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),XB=QB.reducer;function JB(e){var{fn:t,args:r}=e,n=kt(),a=Ir();return y.useEffect(()=>{if(!a){var i=t(r);return n(d7(i)),()=>{n(f7(i))}}},[t,r,n,a]),null}var ZB=()=>{};function eF(e){var{legendPayload:t}=e,r=kt(),n=Ir();return y.useEffect(()=>n?ZB:(r(KD(t)),()=>{r(GD(t))}),[r,n,t]),null}var Lh,tF=()=>{var[e]=y.useState(()=>gl("uid-"));return e},rF=(Lh=VC.useId)!==null&&Lh!==void 0?Lh:tF;function nF(e,t){var r=rF();return t||(e?"".concat(e,"-").concat(r):r)}var aF=y.createContext(void 0),iF=e=>{var{id:t,type:r,children:n}=e,a=nF("recharts-".concat(r),t);return y.createElement(aF.Provider,{value:a},n(a))},sF={cartesianItems:[],polarItems:[]},tC=mr({name:"graphicalItems",initialState:sF,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Dn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Dn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Dn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:oF,replaceCartesianGraphicalItem:lF,removeCartesianGraphicalItem:cF,addPolarGraphicalItem:rV,removePolarGraphicalItem:nV}=tC.actions,uF=tC.reducer;function dF(e){var t=kt(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(oF(e)):r.current!==e&&t(lF({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(cF(r.current)),r.current=null)},[t]),null}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){fF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fF(e,t,r){return(t=hF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pF={xAxis:{},yAxis:{},zAxis:{}},rC=mr({name:"cartesianAxis",initialState:pF,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Qw(Qw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:gF,removeXAxis:vF,addYAxis:yF,removeYAxis:xF,addZAxis:aV,removeZAxis:iV,updateYAxisWidth:bF}=rC.actions,wF=rC.reducer,jF=I([Nt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),_F=I([jF,Yn,Qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Rv=()=>se(_F),kF=()=>se(tU);function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){NF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NF(e,t,r){return(t=SF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SF(e){var t=EF(e,"string");return typeof t=="symbol"?t:t+""}function EF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=Jw(Jw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},mt(a,!1)),d0(a)),l;return y.isValidElement(a)?l=y.cloneElement(a,s):typeof a=="function"?l=a(s):l=y.createElement(eC,s),y.createElement(Vs,{className:"recharts-active-dot"},l)};function PF(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=se(Nl),s=kF();if(t==null||s==null)return null;var l=t.find(c=>s.includes(c.payload));return ht(l)?null:CF({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var OF={},AF=mr({name:"errorBars",initialState:OF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),TF=AF.reducer,MF=["children"];function IF(e,t){if(e==null)return{};var r,n,a=DF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $F={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},LF=y.createContext($F);function RF(e){var{children:t}=e,r=IF(e,MF);return y.createElement(LF.Provider,{value:r},t)}function nC(e,t){var r,n,a=se(u=>Jn(u,e)),i=se(u=>Zn(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function zF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Rv(),{needClipX:i,needClipY:s,needClip:l}=nC(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}var UF=e=>{var{chartData:t}=e,r=kt(),n=Ir();return y.useEffect(()=>n?()=>{}:(r(Aw(t)),()=>{r(Aw(void 0))}),[t,r,n]),null},Zw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},BF=mr({name:"brush",initialState:Zw,reducers:{setBrushSettings(e,t){return t.payload==null?Zw:t.payload}}}),FF=BF.reducer;function qF(e,t,r){return(t=WF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zv{static create(t){return new zv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}qF(zv,"EPS",1e-4);function HF(e){return(e%180+180)%180}var KF=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HF(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},GF={dots:[],areas:[],lines:[]},YF=mr({name:"referenceElements",initialState:GF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Dn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Dn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Dn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),QF=YF.reducer,XF=y.createContext(void 0),JF=e=>{var{children:t}=e,[r]=y.useState("".concat(gl("recharts"),"-clip")),n=Rv();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return y.createElement(XF.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:i,height:l,width:s}))),t)};function Ls(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function aC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function ZF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return KF(n,r)}function e9(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function ud(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function t9(e,t){return aC(e,t+1)}function r9(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:aC(n,u)};var x=c,w,v=()=>(w===void 0&&(w=r(b,x)),w),p=b.coordinate,g=c===0||ud(e,p,v,d,l);g||(c=0,d=s,u+=1),g&&(d=p+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],b,x=()=>(b===void 0&&(b=r(m,h)),b);if(h===s-1){var w=e*(m.coordinate+e*x()/2-c);i[h]=m=Ct(Ct({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[h]=m=Ct(Ct({},m),{},{tickCoord:m.coordinate});var v=ud(e,m.tickCoord,x,l,c);v&&(c=m.tickCoord-e*(x()/2+a),i[h]=Ct(Ct({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function o9(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Ct(Ct({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ud(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Ct(Ct({},d),{},{isShow:!0}))}for(var b=i?l-1:l,x=function(p){var g=s[p],j,_=()=>(j===void 0&&(j=r(g,p)),j);if(p===0){var N=e*(g.coordinate-e*_()/2-c);s[p]=g=Ct(Ct({},g),{},{tickCoord:N<0?g.coordinate-N*e:g.coordinate})}else s[p]=g=Ct(Ct({},g),{},{tickCoord:g.coordinate});var k=ud(e,g.tickCoord,_,c,u);k&&(c=g.tickCoord+e*(_()/2+a),s[p]=Ct(Ct({},g),{},{isShow:!0}))},w=0;w<b;w++)x(w);return s}function Uv(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(ce(c)||Hs.isSsr){var h;return(h=t9(a,ce(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],b=l==="top"||l==="bottom"?"width":"height",x=d&&b==="width"?qo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(g,j)=>{var _=typeof u=="function"?u(g.value,j):g.value;return b==="width"?ZF(qo(_,{fontSize:t,letterSpacing:r}),x,f):qo(_,{fontSize:t,letterSpacing:r})[b]},v=a.length>=2?kr(a[1].coordinate-a[0].coordinate):1,p=e9(i,v,b);return c==="equidistantPreserveStart"?r9(v,p,w,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=o9(v,p,w,a,s,c==="preserveStartEnd"):m=s9(v,p,w,a,s),m.filter(g=>g.isShow))}var l9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+l+(r?n:0);return Math.round(u)}return 0},c9=["axisLine","width","height","className","hide","ticks"],u9=["viewBox"],d9=["viewBox"];function Wp(e,t){if(e==null)return{};var r,n,a=f9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(null,arguments)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){h9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h9(e,t,r){return(t=m9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function g9(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=st(st(st({},c),mt(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=st(st({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=st(st({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return y.createElement("line",_i({},u,{className:Pe("recharts-cartesian-axis-line",Vd(l,"className"))}))}function v9(e,t,r,n,a,i,s,l,c){var u,d,f,h,m,b,x=l?-1:1,w=e.tickSize||s,v=ce(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-x*w,b=f-x*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-x*w,m=u-x*c,b=v;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+x*w,m=u+x*c,b=v;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+x*w,b=f+x*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:b}}}function y9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function x9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function b9(e){var{option:t,tickProps:r,value:n}=e,a,i=Pe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,st(st({},r),{},{className:i}));else if(typeof t=="function")a=t(st(st({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Pe(s,t==null?void 0:t.className)),a=y.createElement($v,_i({},r,{className:s}),n)}return a}function w9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:b,tickSize:x,tickMargin:w,fontSize:v,letterSpacing:p,getTicksConfig:g,events:j}=e,_=Uv(st(st({},g),{},{ticks:t}),v,p),N=y9(u,d),k=x9(u,d),E=Oi(g),S=mt(r,!1),C=st(st({},E),{},{fill:"none"},mt(n,!1)),P=_.map((T,L)=>{var{line:M,tick:R}=v9(T,f,h,m,b,u,x,d,w),G=st(st(st(st({textAnchor:N,verticalAnchor:k},E),{},{stroke:"none",fill:a},S),R),{},{index:L,payload:T,visibleTicksCount:_.length,tickFormatter:i,padding:l},c);return y.createElement(Vs,_i({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},L2(j,T,L)),n&&y.createElement("line",_i({},C,M,{className:Pe("recharts-cartesian-axis-tick-line",Vd(n,"className"))})),r&&y.createElement(b9,{option:r,tickProps:G,value:"".concat(typeof i=="function"?i(T.value,L):T.value).concat(s||"")}))});return P.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var j9=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l}=e,c=Wp(e,c9),[u,d]=y.useState(""),[f,h]=y.useState(""),m=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return l9({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=y.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var v=w[0];if(v){var p=window.getComputedStyle(v),g=p.fontSize,j=p.letterSpacing;(g!==u||j!==f)&&(d(g),h(j))}}},[u,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(Vs,{className:Pe("recharts-cartesian-axis",i),ref:b},y.createElement(g9,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Oi(e)}),y.createElement(w9,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),y.createElement(CB,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(RB,{label:e.label}),e.children))}),_9=y.memo(j9,(e,t)=>{var{viewBox:r}=e,n=Wp(e,u9),{viewBox:a}=t,i=Wp(t,d9);return Ls(r,a)&&Ls(n,i)}),Fv=y.forwardRef((e,t)=>{var r=Dr(e,Bv);return y.createElement(_9,_i({},r,{ref:t}))});Fv.displayName="CartesianAxis";var k9=["x1","y1","x2","y2","key"],N9=["offset"],S9=["xAxisId","yAxisId"],E9=["xAxisId","yAxisId"];function r1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}function dd(e,t){if(e==null)return{};var r,n,a=A9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function A9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return y.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iC(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:l}=t,c=dd(t,k9),u=Oi(c),d=dd(u,N9);r=y.createElement("line",ii({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function M9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=dd(e,S9),s=a.map((l,c)=>{var u=Ot(Ot({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return iC(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function I9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=dd(e,E9),s=a.map((l,c)=>{var u=Ot(Ot({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return iC(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function D9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],b=m?a+s-f:u[h+1]-f;if(b<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:b,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function $9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],b=m?a+s-f:u[h+1]-f;if(b<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var L9=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return iN(Uv(Ot(Ot(Ot({},Bv),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},R9=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return iN(Uv(Ot(Ot(Ot({},Bv),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},z9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function sC(e){var t=$0(),r=L0(),n=uN(),a=Ot(Ot({},Dr(e,z9)),{},{x:ce(e.x)?e.x:n.left,y:ce(e.y)?e.y:n.top,width:ce(e.width)?e.width:n.width,height:ce(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,b=Ir(),x=se(S=>_w(S,"xAxis",i,b)),w=se(S=>_w(S,"yAxis",s,b));if(!ce(u)||u<=0||!ce(d)||d<=0||!ce(l)||l!==+l||!ce(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||L9,p=a.horizontalCoordinatesGenerator||R9,{horizontalPoints:g,verticalPoints:j}=a;if((!g||!g.length)&&typeof p=="function"){var _=h&&h.length,N=p({yAxis:w?Ot(Ot({},w),{},{ticks:_?h:w.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Fo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(g=N)}if((!j||!j.length)&&typeof v=="function"){var k=m&&m.length,E=v({xAxis:x?Ot(Ot({},x),{},{ticks:k?m:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Fo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(T9,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(D9,ii({},a,{horizontalPoints:g})),y.createElement($9,ii({},a,{verticalPoints:j})),y.createElement(M9,ii({},a,{offset:n,horizontalPoints:g,xAxis:x,yAxis:w})),y.createElement(I9,ii({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:w})))}sC.displayName="CartesianGrid";var oC=(e,t,r,n)=>uE(e,"xAxis",t,n),lC=(e,t,r,n)=>cE(e,"xAxis",t,n),cC=(e,t,r,n)=>uE(e,"yAxis",r,n),uC=(e,t,r,n)=>cE(e,"yAxis",r,n),U9=I([Le,oC,cC,lC,uC],(e,t,r,n,a)=>za(e,"xAxis")?bp(t,n,!1):bp(r,a,!1)),B9=(e,t,r,n,a)=>a;function F9(e){return e.type==="line"}var q9=I([TS,B9],(e,t)=>e.filter(F9).find(r=>r.id===t)),W9=I([Le,oC,cC,lC,uC,q9,U9,cv],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return fq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}}),V9=["id"],H9=["type","layout","connectNulls","needClip"],K9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qv(e,t){if(e==null)return{};var r,n,a=X9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ki.apply(null,arguments)}var J9=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:oN(r,t),payload:e}]};function Z9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:oN(s,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var dC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function eq(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var tq=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return dC(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,s]:[s];return[...eq(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function rq(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Pe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(eC,ki({},t,{className:n}))}return r}function nq(e,t){return e==null?!1:t?!0:e.length===1}function aq(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!nq(r,a))return null;var l=qv(n,V9),c=z2(a),u=Oi(l),d=mt(a,!0),f=r.map((m,b)=>{var x=rr(rr(rr({key:"dot-".concat(b),r:3},u),d),{},{index:b,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return rq(a,x)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return y.createElement(Vs,ki({className:"recharts-line-dots",key:"dots"},h),f)}function iq(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return rr(rr({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(VB,{value:t?a:null},r)}function a1(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:l,connectNulls:c,needClip:u}=i,d=qv(i,H9),f=rr(rr({},mt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(hN,ki({},f,{pathRef:r})),y.createElement(aq,{points:n,clipPathId:t,props:i}))}function sq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function oq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:b,onAnimationEnd:x,onAnimationStart:w}=r,v=a.current,p=yN(r,"recharts-line-"),[g,j]=y.useState(!1),_=!g,N=y.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),k=y.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),E=sq(n.current),S=i.current;return y.createElement(iq,{points:s,showLabels:_},r.children,y.createElement(vN,{animationId:p,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:k,key:p},C=>{var P=Sn(S,E+S,C),T=Math.min(P,E),L;if(c)if(l){var M="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));L=tq(T,E,M)}else L=dC(E,T);else L=l==null?void 0:String(l);if(v){var R=v.length/s.length,G=C===1?s:s.map((H,F)=>{var O=Math.floor(F*R);if(v[O]){var z=v[O];return rr(rr({},H),{},{x:Sn(z.x,H.x,C),y:Sn(z.y,H.y,C)})}return h?rr(rr({},H),{},{x:Sn(m*2,H.x,C),y:Sn(b/2,H.y,C)}):rr(rr({},H),{},{x:H.x,y:H.y})});return a.current=G,y.createElement(a1,{props:r,points:G,clipPathId:t,pathRef:n,strokeDasharray:L})}return C>0&&E>0&&(a.current=s,i.current=T),y.createElement(a1,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:L})}),y.createElement(GB,{label:r.label}))}function lq(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),i=y.useRef(null);return y.createElement(oq,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var cq=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Lt(e.payload,t)});class uq extends y.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var b=Pe("recharts-line",i),x=h,{r:w=3,strokeWidth:v=2}=(t=mt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},p=z2(n),g=w*2+v;return y.createElement(y.Fragment,null,y.createElement(Vs,{className:b},m&&y.createElement("defs",null,y.createElement(zF,{clipPathId:x,xAxisId:s,yAxisId:l}),!p&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:u-g/2,y:c-g/2,width:d+g,height:f+g}))),y.createElement(RF,{xAxisId:s,yAxisId:l,data:a,dataPointFormatter:cq,errorBarOffset:0},y.createElement(lq,{props:this.props,clipPathId:x}))),y.createElement(PF,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var fC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Hs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function dq(e){var t=Dr(e,fC),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:b,id:x}=t,w=qv(t,K9),{needClip:v}=nC(m,b),p=Rv(),g=R0(),j=Ir(),_=se(C=>W9(C,m,b,j,x));if(g!=="horizontal"&&g!=="vertical"||_==null||p==null)return null;var{height:N,width:k,x:E,y:S}=p;return y.createElement(uq,ki({},w,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:b,points:_,layout:g,height:N,width:k,left:E,top:S,needClip:v}))}function fq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Lt(u,s);if(t==="horizontal"){var h=ub({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=ht(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var b=ht(f)?null:r.scale(f),x=ub({axis:n,ticks:i,bandSize:l,entry:u,index:d});return b==null||x==null?null:{x:b,y:x,value:f,payload:u}}).filter(Boolean)}function hq(e){var t=Dr(e,fC),r=Ir();return y.createElement(iF,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(eF,{legendPayload:J9(t)}),y.createElement(JB,{fn:Z9,args:t}),y.createElement(dF,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(dq,ki({},t,{id:n}))))}var Co=y.memo(hq);Co.displayName="Line";var mq=["dangerouslySetInnerHTML","ticks"],pq=["id"],gq=["domain"],vq=["domain"];function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vp.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,a=yq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xq(e){var t=kt();return y.useEffect(()=>(t(gF(e)),()=>{t(vF(e))}),[e,t]),null}var bq=e=>{var{xAxisId:t,className:r}=e,n=se(cN),a=Ir(),i="xAxis",s=se(m=>Js(m,i,t,a)),l=se(m=>lE(m,i,t,a)),c=se(m=>Gz(m,t)),u=se(m=>e7(m,t)),d=se(m=>CS(m,t));if(c==null||u==null||d==null)return null;var f=fd(e,mq),h=fd(d,pq);return y.createElement(Fv,Vp({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Pe("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},wq={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,height:Jt.height,hide:!1,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tickCount:Jt.tickCount,type:Jt.type,xAxisId:0},jq=e=>{var t,r,n,a,i,s=Dr(e,wq);return y.createElement(y.Fragment,null,y.createElement(xq,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),y.createElement(bq,s))},_q=(e,t)=>{var{domain:r}=e,n=fd(e,gq),{domain:a}=t,i=fd(t,vq);return Ls(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ls({domain:r},{domain:a}):!1},hC=y.memo(jq,_q);hC.displayName="XAxis";var kq=["dangerouslySetInnerHTML","ticks"],Nq=["id"],Sq=["domain"],Eq=["domain"];function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(null,arguments)}function hd(e,t){if(e==null)return{};var r,n,a=Cq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pq(e){var t=kt();return y.useEffect(()=>(t(yF(e)),()=>{t(xF(e))}),[e,t]),null}var Oq=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=y.useRef(null),s=y.useRef(null),l=se(cN),c=Ir(),u=kt(),d="yAxis",f=se(p=>Js(p,d,t,c)),h=se(p=>n7(p,t)),m=se(p=>r7(p,t)),b=se(p=>lE(p,d,t,c)),x=se(p=>PS(p,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Lv(a)||y.isValidElement(a)||x==null)){var p=i.current;if(p){var g=p.getCalculatedWidth();Math.round(h.width)!==Math.round(g)&&u(bF({id:t,width:g}))}}},[b,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var w=hd(e,kq),v=hd(x,Nq);return y.createElement(Fv,Hp({},w,v,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Pe("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:b}))},Aq={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,hide:!1,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tickCount:Zt.tickCount,type:Zt.type,width:Zt.width,yAxisId:0},Tq=e=>{var t,r,n,a,i,s=Dr(e,Aq);return y.createElement(y.Fragment,null,y.createElement(Pq,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),y.createElement(Oq,s))},Mq=(e,t)=>{var{domain:r}=e,n=hd(e,Sq),{domain:a}=t,i=hd(t,Eq);return Ls(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Ls({domain:r},{domain:a}):!1},mC=y.memo(Tq,Mq);mC.displayName="YAxis";var Iq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=y;function Dq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $q=typeof Object.is=="function"?Object.is:Dq,Lq=tc.useSyncExternalStore,Rq=tc.useRef,zq=tc.useEffect,Uq=tc.useMemo,Bq=tc.useDebugValue;Iq.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Rq(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Uq(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var b=s.value;if(a(b,m))return f=b}return f=m}if(b=f,$q(d,m))return b;var x=n(m);return a!==void 0&&a(b,x)?(d=m,b):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Lq(e,i[0],i[1]);return zq(function(){s.hasValue=!0,s.value=l},[l]),Bq(l),l};function Fq(e){e()}function qq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fq(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var i1={notify(){},get:()=>[]};function Wq(e,t){let r,n=i1,a=0,i=!1;function s(x){d();const w=n.subscribe(x);let v=!1;return()=>{v||(v=!0,w(),f())}}function l(){n.notify()}function c(){b.onStateChange&&b.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=qq())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=i1)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const b={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return b}var Vq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hq=Vq(),Kq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gq=Kq(),Yq=()=>Hq||Gq?y.useLayoutEffect:y.useEffect,Qq=Yq(),Rh=Symbol.for("react-redux-context"),zh=typeof globalThis<"u"?globalThis:{};function Xq(){if(!y.createContext)return{};const e=zh[Rh]??(zh[Rh]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Jq=Xq();function Zq(e){const{children:t,context:r,serverState:n,store:a}=e,i=y.useMemo(()=>{const c=Wq(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=y.useMemo(()=>a.getState(),[a]);Qq(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const l=r||Jq;return y.createElement(l.Provider,{value:i},t)}var eW=Zq,tW=(e,t)=>t,Wv=I([tW,Le,kS,ct,kE,ea,lU,Nt],hU),Vv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pC=Tr("mouseClick"),gC=ql();gC.startListening({actionCreator:pC,effect:(e,t)=>{var r=e.payload,n=Wv(t.getState(),Vv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(p7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Kp=Tr("mouseMove"),vC=ql();vC.startListening({actionCreator:Kp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Ev(n,n.tooltip.settings.shared),i=Wv(n,Vv(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(vE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(gE()))}});var s1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},yC=mr({name:"rootProps",initialState:s1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:s1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),rW=yC.reducer,{updateOptions:nW}=yC.actions,aW=mr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),iW=aW.reducer,xC=Tr("keyDown"),bC=Tr("focus"),Hv=ql();Hv.startListening({actionCreator:xC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Cv(a,eo(r))),l=ea(r);if(i==="Enter"){var c=ld(r,"axis","hover",String(a.index));t.dispatch(zp({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=o7(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var m=ld(r,"axis","hover",String(h));t.dispatch(zp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Hv.startListening({actionCreator:bC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=ld(r,"axis","hover",String(i));t.dispatch(zp({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var xr=Tr("externalEvent"),wC=ql();wC.startListening({actionCreator:xr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:J7(r),activeDataKey:Q7(r),activeIndex:Nl(r),activeLabel:EE(r),activeTooltipIndex:Nl(r),isTooltipActive:Z7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var sW=I([Zs],e=>e.tooltipItemPayloads),oW=I([sW,Zl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),jC=Tr("touchMove"),_C=ql();_C.startListening({actionCreator:jC,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Ev(n,n.tooltip.settings.shared);if(a==="axis"){var i=Wv(n,Vv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(vE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(AD),d=(s=c.getAttribute(TD))!==null&&s!==void 0?s:void 0,f=oW(t.getState(),u,d);t.dispatch(m7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var lW=Dk({brush:FF,cartesianAxis:wF,chartData:PU,errorBars:TF,graphicalItems:uF,layout:nD,legend:YD,options:kU,polarAxis:XB,polarOptions:iW,referenceElements:QF,rootProps:rW,tooltip:g7}),cW=function(t){return CI({reducer:lW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([gC.middleware,vC.middleware,Hv.middleware,wC.middleware,_C.middleware]),devTools:Hs.devToolsEnabled})};function uW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ir(),i=y.useRef(null);if(a)return r;i.current==null&&(i.current=cW(t));var s=E0;return y.createElement(eW,{context:s,store:i.current},r)}function dW(e){var{layout:t,width:r,height:n,margin:a}=e,i=kt(),s=Ir();return y.useEffect(()=>{s||(i(eD(t)),i(tD({width:r,height:n})),i(ZI(a)))},[i,s,t,r,n,a]),null}function fW(e){var t=kt();return y.useEffect(()=>{t(nW(e))},[t,e]),null}var hW=["children"];function mW(e,t){if(e==null)return{};var r,n,a=pW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(null,arguments)}var gW={width:"100%",height:"100%"},vW=y.forwardRef((e,t)=>{var r=$0(),n=L0(),a=fN();if(!Hu(r)||!Hu(n))return null;var{children:i,otherAttributes:s,title:l,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0,y.createElement(f0,md({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:gW,ref:t}),i)}),yW=e=>{var{children:t}=e,r=se(of);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return y.createElement(f0,{width:n,height:a,x:s,y:i},t)},o1=y.forwardRef((e,t)=>{var{children:r}=e,n=mW(e,hW),a=Ir();return a?y.createElement(yW,null,r):y.createElement(vW,md({ref:t},n),r)});function xW(){var e=kt(),[t,r]=y.useState(null),n=se(OD);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Jr(i)&&i!==n&&e(rD(i))}},[t,e,n]),r}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kW=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:b,onTouchStart:x,style:w,width:v}=e,p=kt(),[g,j]=y.useState(null),[_,N]=y.useState(null);RU();var k=xW(),E=y.useCallback(q=>{k(q),typeof t=="function"&&t(q),j(q),N(q)},[k,t,j,N]),S=y.useCallback(q=>{p(pC(q)),p(xr({handler:i,reactEvent:q}))},[p,i]),C=y.useCallback(q=>{p(Kp(q)),p(xr({handler:u,reactEvent:q}))},[p,u]),P=y.useCallback(q=>{p(gE()),p(xr({handler:d,reactEvent:q}))},[p,d]),T=y.useCallback(q=>{p(Kp(q)),p(xr({handler:f,reactEvent:q}))},[p,f]),L=y.useCallback(()=>{p(bC())},[p]),M=y.useCallback(q=>{p(xC(q.key))},[p]),R=y.useCallback(q=>{p(xr({handler:s,reactEvent:q}))},[p,s]),G=y.useCallback(q=>{p(xr({handler:l,reactEvent:q}))},[p,l]),H=y.useCallback(q=>{p(xr({handler:c,reactEvent:q}))},[p,c]),F=y.useCallback(q=>{p(xr({handler:h,reactEvent:q}))},[p,h]),O=y.useCallback(q=>{p(xr({handler:x,reactEvent:q}))},[p,x]),z=y.useCallback(q=>{p(jC(q)),p(xr({handler:b,reactEvent:q}))},[p,b]),U=y.useCallback(q=>{p(xr({handler:m,reactEvent:q}))},[p,m]);return y.createElement(ME.Provider,{value:g},y.createElement(U2.Provider,{value:_},y.createElement("div",{className:Pe("recharts-wrapper",n),style:bW({position:"relative",cursor:"default",width:v,height:a},w),onClick:S,onContextMenu:R,onDoubleClick:G,onFocus:L,onKeyDown:M,onMouseDown:H,onMouseEnter:C,onMouseLeave:P,onMouseMove:T,onMouseUp:F,onTouchEnd:U,onTouchMove:z,onTouchStart:O,ref:E},r)))}),NW=["children","className","width","height","style","compact","title","desc"];function SW(e,t){if(e==null)return{};var r,n,a=EW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CW=y.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:l,title:c,desc:u}=e,d=SW(e,NW),f=Oi(d);return l?y.createElement(o1,{otherAttributes:f,title:c,desc:u},r):y.createElement(kW,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(o1,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(JF,null,r)))}),PW=["width","height"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(null,arguments)}function OW(e,t){if(e==null)return{};var r,n,a=AW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TW={top:5,right:5,bottom:5,left:5},MW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TW,reverseStackOrder:!1,syncMethod:"index"},IW=y.forwardRef(function(t,r){var n,a=Dr(t.categoricalChartProps,MW),{width:i,height:s}=a,l=OW(a,PW);if(!Hu(i)||!Hu(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(uW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(UF,{chartData:h.data}),y.createElement(dW,{width:i,height:s,layout:a.layout,margin:a.margin}),y.createElement(fW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),y.createElement(CW,Gp({},l,{width:i,height:s,ref:r})))}),DW=["axis"],$W=y.forwardRef((e,t)=>y.createElement(IW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:DW,tooltipPayloadSearcher:jU,categoricalChartProps:e,ref:t}));const LW=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const a=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],i=l=>new Date(l).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(l,c)=>[l,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Évolution des visites"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accès"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[o.jsx(nr,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:a.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),o.jsx("div",{className:"h-80",children:t?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:"Chargement des données..."})}):e.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-gray-400 mb-2",children:"📊"}),o.jsx("div",{className:"text-gray-500",children:"Aucune donnée disponible"})]})}):o.jsx(JU,{width:"100%",height:"100%",children:o.jsxs($W,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(sC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(hC,{dataKey:"date",tickFormatter:i,stroke:"#666",fontSize:12}),o.jsx(mC,{stroke:"#666",fontSize:12}),o.jsx(HU,{formatter:s,labelFormatter:l=>`Date: ${i(l)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(lf,{}),o.jsx(Co,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),o.jsx(Co,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),o.jsx(Co,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),o.jsx(Co,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&o.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((l,c)=>l+c.qr_scan,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((l,c)=>l+c.gmb,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((l,c)=>l+c.direct_link,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((l,c)=>l+c.share,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},RW=()=>{const{user:e}=fr(),[t,r]=y.useState("7"),[n,a]=y.useState([]),[i,s]=y.useState(!0),[l,c]=y.useState([{icon:fs,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:wx,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:mn,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:_x,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=y.useState(!0),[f,h]=y.useState(0),[m,b]=y.useState(""),[x,w]=y.useState(""),[v,p]=y.useState(""),g=y.useRef(null);y.useEffect(()=>{if(e){const k=Date.now();k-f>5e3&&(h(k),_(),j(),N())}},[e,t,f]),y.useEffect(()=>{const k=()=>{if(!document.hidden&&e){const E=Date.now();E-f>3e4&&(h(E),_(),j())}};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){a([]);return}const S=k.map(G=>G.id),C=new Date,P=new Date;P.setDate(P.getDate()-parseInt(t));const{data:T,error:L}=await B.from("menu_analytics").select("visit_type, visited_at").in("menu_id",S).gte("visited_at",P.toISOString()).lte("visited_at",C.toISOString()).order("visited_at",{ascending:!0});if(L){a([]);return}const M={};for(let G=new Date(P);G<=C;G.setDate(G.getDate()+1)){const H=G.toISOString().split("T")[0];M[H]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}T==null||T.forEach(G=>{const H=G.visited_at.split("T")[0];M[H]&&(M[H][G.visit_type]++,M[H].total++)});const R=Object.entries(M).map(([G,H])=>({date:G,qr_scan:H.qr_scan,gmb:H.gmb,direct_link:H.direct_link,share:H.share,total:H.total})).sort((G,H)=>new Date(G.date).getTime()-new Date(H.date).getTime());a(R)}catch(k){console.error("Error loading trend data:",k),a([])}finally{s(!1)}}},_=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){c(Qt=>Qt.map(Z=>({...Z,value:"0",change:"Aucune donnée"}))),d(!1);return}const S=k.map(Qt=>Qt.id),C=new Date,P=new Date(C.getFullYear(),C.getMonth(),C.getDate()),T=new Date(P);T.setDate(T.getDate()-7);const L=[B.from("menu_analytics").select("id").in("menu_id",S),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan").gte("visited_at",P.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb").gte("visited_at",P.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).gte("visited_at",T.toISOString())],M=await Promise.allSettled(L),R=M[0].status==="fulfilled"?M[0].value.data:[],G=M[1].status==="fulfilled"?M[1].value.data:[],H=M[2].status==="fulfilled"?M[2].value.data:[],F=M[3].status==="fulfilled"?M[3].value.data:[],O=M[4].status==="fulfilled"?M[4].value.data:[],z=M[5].status==="fulfilled"?M[5].value.data:[],U=(R==null?void 0:R.length)||0,q=(G==null?void 0:G.length)||0,fe=(H==null?void 0:H.length)||0,pe=(F==null?void 0:F.length)||0,ge=(O==null?void 0:O.length)||0,Ue=(z==null?void 0:z.length)||0,oe=U-q-fe;c([{icon:fs,label:"Scans QR Code",value:q.toString(),change:pe>0?`+${pe} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:wx,label:"Visites GMB",value:fe.toString(),change:ge>0?`+${ge} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:mn,label:"Vues directes",value:oe.toString(),change:oe>0?`${oe} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:_x,label:"Total des vues",value:U.toString(),change:`${q} QR + ${fe} GMB + ${oe} directes`,color:"text-purple-600"}])}catch(k){console.error("Error loading stats:",k),c(E=>E.map(S=>({...S,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},N=async()=>{if(e)try{const{data:k}=await B.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",e.id).maybeSingle();if(!(k!=null&&k.slug))return;const E=k.restaurant_name||"Mon Restaurant",S=k.slug;w(E),p(S);const C=`${window.location.origin}/m/${S}?ref=qr`;if(g.current){await La.toCanvas(g.current,C,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const P=g.current.toDataURL();b(P)}}catch(k){console.error("Error loading QR code:",k)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),o.jsx("p",{className:"text-gray-600",children:"Gérez facilement votre menu en ligne et offrez une expérience moderne à vos clients."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((k,E)=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:k.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:k.value}),o.jsx("p",{className:`text-xs ${k.color} mt-1`,children:k.change})]}),o.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:o.jsx(k.icon,{size:24,className:k.color})})]})},E))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[o.jsx("canvas",{ref:g,style:{display:"none"}}),m?o.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):o.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:o.jsx(fs,{size:48,className:"text-gray-400"})})]})})})]}),o.jsx(LW,{data:n,loading:i,timeRange:t,onTimeRangeChange:r})]})},zW=()=>{const{user:e}=fr(),[t,r]=y.useState(null),[n,a]=y.useState([]),[i,s]=y.useState(!0),[l,c]=y.useState(""),[u,d]=y.useState("all"),[f,h]=y.useState(null),[m,b]=y.useState("month"),[x,w]=y.useState(new Date);y.useEffect(()=>{e&&v()},[e]),y.useEffect(()=>{t&&p()},[t]);const v=async()=>{try{const{data:O,error:z}=await B.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if(z){console.error("Erreur lors du chargement du menu:",z);return}r(O)}catch(O){console.error("Erreur lors du chargement du menu:",O)}},p=async()=>{if(t){s(!0);try{const{data:O,error:z}=await B.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if(z){console.error("Erreur lors du chargement des réservations:",z);return}a(O||[])}catch(O){console.error("Erreur lors du chargement des réservations:",O)}finally{s(!1)}}},g=(O,z)=>{h({type:O,text:z}),setTimeout(()=>h(null),5e3)},j=async(O,z)=>{try{const{error:U}=await B.from("reservations").update({status:z,updated_at:new Date().toISOString()}).eq("id",O);if(U)throw U;a(fe=>fe.map(pe=>pe.id===O?{...pe,status:z}:pe)),g("success",`Réservation ${{confirmed:"confirmée",cancelled:"annulée",completed:"terminée",pending:"en attente"}[z]} avec succès`)}catch(U){console.error("Erreur lors de la mise à jour:",U),g("error","Erreur lors de la mise à jour")}},_=n.filter(O=>{const z=O.customer_name.toLowerCase().includes(l.toLowerCase())||O.customer_email.toLowerCase().includes(l.toLowerCase())||O.customer_phone.includes(l),U=u==="all"||O.status===u;return z&&U}),N=O=>{switch(O){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},k=O=>{switch(O){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=O=>{switch(O){case"pending":return"En attente";case"confirmed":return"Confirmée";case"cancelled":return"Annulée";case"completed":return"Terminée";default:return O}},S=O=>new Date(O).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=O=>O.slice(0,5),P=O=>{const z=O.toISOString().split("T")[0];return _.filter(U=>U.reservation_date===z)},T=O=>{const z=O.getFullYear(),U=O.getMonth(),q=new Date(z,U,1),fe=new Date(q);fe.setDate(fe.getDate()-q.getDay());const pe=[],ge=new Date(fe);for(let Ue=0;Ue<42;Ue++)pe.push(new Date(ge)),ge.setDate(ge.getDate()+1);return pe},L=O=>{const z=new Date(O);z.setDate(O.getDate()-O.getDay());const U=[];for(let q=0;q<7;q++){const fe=new Date(z);fe.setDate(z.getDate()+q),U.push(fe)}return U},M=O=>{const z=new Date(x);switch(m){case"day":z.setDate(z.getDate()+(O==="next"?1:-1));break;case"week":z.setDate(z.getDate()+(O==="next"?7:-7));break;case"month":z.setMonth(z.getMonth()+(O==="next"?1:-1));break}w(z)},R=()=>{let O="";switch(m){case"day":O=x.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const z=new Date(x);z.setDate(x.getDate()-x.getDay());const U=new Date(z);U.setDate(z.getDate()+6),O=`${z.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${U.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":O=x.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>M("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(G_,{size:20})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:O}),o.jsx("button",{onClick:()=>M("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx($d,{size:20})})]})},G=()=>{const O=P(x),z=Array.from({length:14},(U,q)=>`${(q+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[R(),o.jsx("div",{className:"space-y-2",children:z.map(U=>{const q=O.filter(fe=>fe.reservation_time.startsWith(U.split(":")[0]));return o.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[o.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:U}),o.jsx("div",{className:"flex-1 ml-4",children:q.length>0?o.jsx("div",{className:"space-y-1",children:q.map(fe=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N(fe.status)}`}),o.jsx("span",{className:"text-sm font-medium",children:fe.customer_name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",fe.party_size," pers.)"]}),o.jsx("span",{className:"text-xs text-gray-500",children:C(fe.reservation_time)})]},fe.id))}):o.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},U)})})]})},H=()=>{const O=L(x),z=Array.from({length:14},(U,q)=>`${(q+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[R(),o.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[o.jsx("div",{className:"font-medium text-gray-600 p-2"}),O.map(U=>o.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[o.jsx("div",{children:U.toLocaleDateString("fr-FR",{weekday:"short"})}),o.jsx("div",{className:"text-lg",children:U.getDate()})]},U.toISOString())),z.map(U=>o.jsxs(x1.Fragment,{children:[o.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:U}),O.map(q=>{const fe=P(q).filter(pe=>pe.reservation_time.startsWith(U.split(":")[0]));return o.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:fe.map(pe=>o.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${N(pe.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:pe.customer_name}),o.jsxs("div",{children:[pe.party_size,"p ",C(pe.reservation_time)]})]},pe.id))},`${q.toISOString()}-${U}`)})]},U))]})]})},F=()=>{const O=T(x),z=x.getMonth();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[R(),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(U=>o.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:U},U))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:O.map(U=>{const q=U.getMonth()===z,fe=P(U),pe=U.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${q?"bg-white":"bg-gray-50"} ${pe?"ring-2 ring-orange-500":""}`,children:[o.jsx("div",{className:`text-sm font-medium mb-1 ${q?"text-gray-900":"text-gray-400"}`,children:U.getDate()}),o.jsxs("div",{className:"space-y-1",children:[fe.slice(0,3).map(ge=>o.jsxs("div",{className:`text-xs p-1 rounded text-white ${N(ge.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:ge.customer_name}),o.jsx("div",{children:C(ge.reservation_time)})]},ge.id)),fe.length>3&&o.jsxs("div",{className:"text-xs text-gray-500",children:["+",fe.length-3," autres"]})]})]},U.toISOString())})})]})};return i&&!t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?o.jsxs("div",{className:"space-y-6",children:[f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ee,{className:"w-5 h-5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des réservations"}),o.jsx("p",{className:"text-gray-600",children:"Gérez les réservations de table de votre restaurant"})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[o.jsx(Yg,{size:16}),o.jsx("span",{children:"Voir le menu"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),o.jsx(nr,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(O=>O.status==="pending").length})]}),o.jsx(cl,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmées"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(O=>O.status==="confirmed").length})]}),o.jsx(Fe,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(O=>{const z=new Date(O.reservation_date),U=new Date,q=new Date(U);return q.setDate(U.getDate()+7),z>=U&&z<=q}).length})]}),o.jsx(kx,{className:"w-8 h-8 text-blue-500"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>b("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Hm,{size:16}),o.jsx("span",{children:"Liste"})]}),o.jsxs("button",{onClick:()=>b("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(N3,{size:16}),o.jsx("span",{children:"Jour"})]}),o.jsxs("button",{onClick:()=>b("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(O3,{size:16}),o.jsx("span",{children:"Semaine"})]}),o.jsxs("button",{onClick:()=>b("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(nr,{size:16}),o.jsx("span",{children:"Mois"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(L3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),o.jsx("div",{className:"sm:w-48",children:o.jsxs("div",{className:"relative",children:[o.jsx(P3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirmées"}),o.jsx("option",{value:"cancelled",children:"Annulées"}),o.jsx("option",{value:"completed",children:"Terminées"})]})]})})]})]})}),m!=="list"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Légende des couleurs"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Confirmée"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Annulée"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Terminée"})]})]})]}),m==="day"&&G(),m==="week"&&H(),m==="month"&&F(),m==="list"&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:i?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement des réservations..."})}):_.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(nr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune réservation":"Aucun résultat"}),o.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des réservations via votre menu en ligne.":"Aucune réservation ne correspond à vos critères de recherche."}),n.length===0&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",o.jsx("strong",{children:"Comment ça marche :"}),' Un bouton "Réserver une table" sera automatiquement ajouté à votre menu en ligne. Les clients pourront faire des réservations directement depuis votre menu.']})})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:_.map(O=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.customer_name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(O.status)}`,children:E(O.status)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(nr,{className:"w-4 h-4"}),o.jsx("span",{children:S(O.reservation_date)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(cl,{className:"w-4 h-4"}),o.jsx("span",{children:C(O.reservation_time)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(kx,{className:"w-4 h-4"}),o.jsxs("span",{children:[O.party_size," personne",O.party_size>1?"s":""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(Er,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_phone})]})]}),O.customer_email&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[o.jsx(Km,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_email})]}),O.special_requests&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spéciales :"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:O.special_requests})]})]}),O.status==="pending"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[o.jsx(Fe,{size:14}),o.jsx("span",{children:"Confirmer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Ee,{size:14}),o.jsx("span",{children:"Annuler"})]})]}),O.status==="confirmed"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[o.jsx(Fe,{size:14}),o.jsx("span",{children:"Terminer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Ee,{size:14}),o.jsx("span",{children:"Annuler"})]})]})]})},O.id))})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(nr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir gérer les réservations."}),o.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})};function UW(){const{loading:e,user:t}=fr();return e?o.jsx(Pi,{fullScreen:!0}):o.jsx(Z4,{children:o.jsxs(P4,{children:[o.jsx(vt,{path:"/onboarding",element:o.jsx(dM,{})}),o.jsx(vt,{path:"/reset-password",element:o.jsx(hM,{})}),o.jsx(vt,{path:"/m/:slug",element:o.jsx(d5,{})}),o.jsx(vt,{path:"/m/:slug/:menuSlug",element:o.jsx(f5,{})}),o.jsx(vt,{path:"/m/:slug/reservation",element:o.jsx(h5,{})}),o.jsx(vt,{path:"/m/:slug/contact",element:o.jsx(m5,{})}),o.jsx(vt,{path:"/",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"accueil",children:o.jsx(RW,{})})})}),o.jsx(vt,{path:"/mes-menus",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"mes-menus",children:o.jsx(vM,{})})})}),o.jsx(vt,{path:"/mon-menu/nouveau",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"mes-menus",children:o.jsx(Ax,{})})})}),o.jsx(vt,{path:"/mon-menu/:menuId",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"mes-menus",children:o.jsx(Ax,{})})})}),o.jsx(vt,{path:"/categories/:menuId",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"mes-menus",children:o.jsx(gM,{})})})}),o.jsx(vt,{path:"/import-ai/:menuId",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"mes-menus",children:o.jsx(yM,{})})})}),o.jsx(vt,{path:"/identite-visuelle",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"identite-visuelle",children:o.jsx(p5,{})})})}),o.jsx(vt,{path:"/qr-code",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"qr-code",children:o.jsx(s5,{})})})}),o.jsx(vt,{path:"/account-settings",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"account-settings",children:o.jsx(fM,{})})})}),o.jsx(vt,{path:"/reservations",element:o.jsx(sn,{children:o.jsx(Br,{currentPage:"reservations",children:o.jsx(zW,{})})})})]})})}j_(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(z3,{children:o.jsx(x3,{children:o.jsx(UW,{})})})}));
