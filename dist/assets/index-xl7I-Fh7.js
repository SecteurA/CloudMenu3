var xC=Object.defineProperty;var bC=(e,t,r)=>t in e?xC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jf=(e,t,r)=>bC(e,typeof t!="symbol"?t+"":t,r);function wC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var _r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ki(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function jC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var a1={exports:{}},ud={},s1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),_C=Symbol.for("react.portal"),kC=Symbol.for("react.fragment"),NC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),EC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),PC=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),TC=Symbol.for("react.lazy"),Vv=Symbol.iterator;function MC(e){return e===null||typeof e!="object"?null:(e=Vv&&e[Vv]||e["@@iterator"],typeof e=="function"?e:null)}var o1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l1=Object.assign,c1={};function Os(e,t,r){this.props=e,this.context=t,this.refs=c1,this.updater=r||o1}Os.prototype.isReactComponent={};Os.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Os.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u1(){}u1.prototype=Os.prototype;function Vp(e,t,r){this.props=e,this.context=t,this.refs=c1,this.updater=r||o1}var Hp=Vp.prototype=new u1;Hp.constructor=Vp;l1(Hp,Os.prototype);Hp.isPureReactComponent=!0;var Hv=Array.isArray,d1=Object.prototype.hasOwnProperty,Kp={current:null},f1={key:!0,ref:!0,__self:!0,__source:!0};function h1(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)d1.call(t,n)&&!f1.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:bl,type:e,key:a,ref:s,props:i,_owner:Kp.current}}function IC(e,t){return{$$typeof:bl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gp(e){return typeof e=="object"&&e!==null&&e.$$typeof===bl}function DC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kv=/\/+/g;function _f(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DC(""+e.key):t.toString(36)}function Dc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bl:case _C:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+_f(s,0):n,Hv(i)?(r="",e!=null&&(r=e.replace(Kv,"$&/")+"/"),Dc(i,t,r,"",function(u){return u})):i!=null&&(Gp(i)&&(i=IC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Kv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Hv(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+_f(a,l);s+=Dc(a,t,r,c,i)}else if(c=MC(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+_f(a,l++),s+=Dc(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ql(e,t,r){if(e==null)return e;var n=[],i=0;return Dc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function $C(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},$c={transition:null},LC={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:$c,ReactCurrentOwner:Kp};function m1(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Ql,forEach:function(e,t,r){Ql(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ql(e,function(){t++}),t},toArray:function(e){return Ql(e,function(t){return t})||[]},only:function(e){if(!Gp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Os;me.Fragment=kC;me.Profiler=SC;me.PureComponent=Vp;me.StrictMode=NC;me.Suspense=OC;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LC;me.act=m1;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l1({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Kp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d1.call(t,c)&&!f1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bl,type:e.type,key:i,ref:a,props:n,_owner:s}};me.createContext=function(e){return e={$$typeof:CC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:EC,_context:e},e.Consumer=e};me.createElement=h1;me.createFactory=function(e){var t=h1.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:PC,render:e}};me.isValidElement=Gp;me.lazy=function(e){return{$$typeof:TC,_payload:{_status:-1,_result:e},_init:$C}};me.memo=function(e,t){return{$$typeof:AC,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=$c.transition;$c.transition={};try{e()}finally{$c.transition=t}};me.unstable_act=m1;me.useCallback=function(e,t){return $t.current.useCallback(e,t)};me.useContext=function(e){return $t.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};me.useEffect=function(e,t){return $t.current.useEffect(e,t)};me.useId=function(){return $t.current.useId()};me.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return $t.current.useMemo(e,t)};me.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};me.useRef=function(e){return $t.current.useRef(e)};me.useState=function(e){return $t.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return $t.current.useTransition()};me.version="18.3.1";s1.exports=me;var v=s1.exports;const p1=ki(v),RC=wC({__proto__:null,default:p1},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=v,UC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,qC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WC={key:!0,ref:!0,__self:!0,__source:!0};function g1(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)FC.call(t,n)&&!WC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:UC,type:e,key:a,ref:s,props:i,_owner:qC.current}}ud.Fragment=BC;ud.jsx=g1;ud.jsxs=g1;a1.exports=ud;var o=a1.exports,v1={exports:{}},ar={},y1={exports:{}},x1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,O){var A=U.length;U.push(O);e:for(;0<A;){var R=A-1>>>1,z=U[R];if(0<i(z,O))U[R]=O,U[A]=z,A=R;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var O=U[0],A=U.pop();if(A!==O){U[0]=A;e:for(var R=0,z=U.length,ie=z>>>1;R<ie;){var ce=2*(R+1)-1,de=U[ce],Ee=ce+1,ne=U[Ee];if(0>i(de,A))Ee<z&&0>i(ne,de)?(U[R]=ne,U[Ee]=A,R=Ee):(U[R]=de,U[ce]=A,R=ce);else if(Ee<z&&0>i(ne,A))U[R]=ne,U[Ee]=A,R=Ee;else break e}}return O}function i(U,O){var A=U.sortIndex-O.sortIndex;return A!==0?A:U.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(U){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=U)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function j(U){if(b=!1,p(U),!y)if(r(c)!==null)y=!0,Y(_);else{var O=r(u);O!==null&&H(j,O.startTime-U)}}function _(U,O){y=!1,b&&(b=!1,x(E),E=-1),m=!0;var A=h;try{for(p(O),f=r(c);f!==null&&(!(f.expirationTime>O)||U&&!P());){var R=f.callback;if(typeof R=="function"){f.callback=null,h=f.priorityLevel;var z=R(f.expirationTime<=O);O=e.unstable_now(),typeof z=="function"?f.callback=z:f===r(c)&&n(c),p(O)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var ce=r(u);ce!==null&&H(j,ce.startTime-O),ie=!1}return ie}finally{f=null,h=A,m=!1}}var N=!1,k=null,E=-1,S=5,C=-1;function P(){return!(e.unstable_now()-C<S)}function M(){if(k!==null){var U=e.unstable_now();C=U;var O=!0;try{O=k(!0,U)}finally{O?I():(N=!1,k=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(M)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=M,I=function(){J.postMessage(null)}}else I=function(){w(M,0)};function Y(U){k=U,N||(N=!0,I())}function H(U,O){E=w(function(){U(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,Y(_))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var A=h;h=O;try{return U()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var A=h;h=U;try{return O()}finally{h=A}},e.unstable_scheduleCallback=function(U,O,A){var R=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?R+A:R):A=R,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=A+z,U={id:d++,callback:O,priorityLevel:U,startTime:A,expirationTime:z,sortIndex:-1},A>R?(U.sortIndex=A,t(u,U),r(c)===null&&U===r(u)&&(b?(x(E),E=-1):b=!0,H(j,A-R))):(U.sortIndex=z,t(c,U),y||m||(y=!0,Y(_))),U},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(U){var O=h;return function(){var A=h;h=O;try{return U.apply(this,arguments)}finally{h=A}}}})(x1);y1.exports=x1;var VC=y1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=v,nr=VC;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b1=new Set,Ro={};function va(e,t){ss(e,t),ss(e+"Capture",t)}function ss(e,t){for(Ro[e]=t,e=0;e<t.length;e++)b1.add(t[e])}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lh=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Yv={};function GC(e){return Lh.call(Yv,e)?!0:Lh.call(Gv,e)?!1:KC.test(e)?Yv[e]=!0:(Gv[e]=!0,!1)}function YC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QC(e,t,r,n){if(t===null||typeof t>"u"||YC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yp=/[\-:]([a-z])/g;function Qp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yp,Qp);bt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yp,Qp);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yp,Qp);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jp(e,t,r,n){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QC(t,r,i,n)&&(r=null),n||i===null?GC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zn=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jl=Symbol.for("react.element"),$a=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),Xp=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),w1=Symbol.for("react.provider"),j1=Symbol.for("react.context"),Zp=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),Uh=Symbol.for("react.suspense_list"),eg=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),_1=Symbol.for("react.offscreen"),Qv=Symbol.iterator;function Js(e){return e===null||typeof e!="object"?null:(e=Qv&&e[Qv]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,kf;function po(e){if(kf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);kf=t&&t[1]||""}return`
`+kf+e}var Nf=!1;function Sf(e,t){if(!e||Nf)return"";Nf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Nf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?po(e):""}function JC(e){switch(e.tag){case 5:return po(e.type);case 16:return po("Lazy");case 13:return po("Suspense");case 19:return po("SuspenseList");case 0:case 2:case 15:return e=Sf(e.type,!1),e;case 11:return e=Sf(e.type.render,!1),e;case 1:return e=Sf(e.type,!0),e;default:return""}}function Bh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case La:return"Fragment";case $a:return"Portal";case Rh:return"Profiler";case Xp:return"StrictMode";case zh:return"Suspense";case Uh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j1:return(e.displayName||"Context")+".Consumer";case w1:return(e._context.displayName||"Context")+".Provider";case Zp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case eg:return t=e.displayName||null,t!==null?t:Bh(e.type)||"Memo";case Qn:t=e._payload,e=e._init;try{return Bh(e(t))}catch{}}return null}function XC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(t);case 8:return t===Xp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZC(e){var t=k1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=ZC(e))}function N1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=k1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fh(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Jv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function S1(e,t){t=t.checked,t!=null&&Jp(e,"checked",t,!1)}function qh(e,t){S1(e,t);var r=xi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wh(e,t.type,xi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wh(e,t,r){(t!=="number"||Xc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var go=Array.isArray;function Ya(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Vh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(W(92));if(go(r)){if(1<r.length)throw Error(W(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xi(r)}}function E1(e,t){var r=xi(t.value),n=xi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zl,P1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zl=Zl||document.createElement("div"),Zl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eP=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(e){eP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_o[t]=_o[e]})});function O1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_o.hasOwnProperty(e)&&_o[e]?(""+t).trim():t+"px"}function A1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=O1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var tP=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kh(e,t){if(t){if(tP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Gh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=null;function tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qh=null,Qa=null,Ja=null;function ty(e){if(e=_l(e)){if(typeof Qh!="function")throw Error(W(280));var t=e.stateNode;t&&(t=pd(t),Qh(e.stateNode,e.type,t))}}function T1(e){Qa?Ja?Ja.push(e):Ja=[e]:Qa=e}function M1(){if(Qa){var e=Qa,t=Ja;if(Ja=Qa=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function I1(e,t){return e(t)}function D1(){}var Ef=!1;function $1(e,t,r){if(Ef)return e(t,r);Ef=!0;try{return I1(e,t,r)}finally{Ef=!1,(Qa!==null||Ja!==null)&&(D1(),M1())}}function Uo(e,t){var r=e.stateNode;if(r===null)return null;var n=pd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var Jh=!1;if(Pn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Jh=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Jh=!1}function rP(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ko=!1,Zc=null,eu=!1,Xh=null,nP={onError:function(e){ko=!0,Zc=e}};function iP(e,t,r,n,i,a,s,l,c){ko=!1,Zc=null,rP.apply(nP,arguments)}function aP(e,t,r,n,i,a,s,l,c){if(iP.apply(this,arguments),ko){if(ko){var u=Zc;ko=!1,Zc=null}else throw Error(W(198));eu||(eu=!0,Xh=u)}}function ya(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function L1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ry(e){if(ya(e)!==e)throw Error(W(188))}function sP(e){var t=e.alternate;if(!t){if(t=ya(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return ry(i),e;if(a===n)return ry(i),t;a=a.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function R1(e){return e=sP(e),e!==null?z1(e):null}function z1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=z1(e);if(t!==null)return t;e=e.sibling}return null}var U1=nr.unstable_scheduleCallback,ny=nr.unstable_cancelCallback,oP=nr.unstable_shouldYield,lP=nr.unstable_requestPaint,We=nr.unstable_now,cP=nr.unstable_getCurrentPriorityLevel,rg=nr.unstable_ImmediatePriority,B1=nr.unstable_UserBlockingPriority,tu=nr.unstable_NormalPriority,uP=nr.unstable_LowPriority,F1=nr.unstable_IdlePriority,dd=null,nn=null;function dP(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(dd,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:mP,fP=Math.log,hP=Math.LN2;function mP(e){return e>>>=0,e===0?32:31-(fP(e)/hP|0)|0}var ec=64,tc=4194304;function vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=vo(l):(a&=s,a!==0&&(n=vo(a)))}else s=r&~i,s!==0?n=vo(s):a!==0&&(n=vo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),i=1<<r,n|=e[r],t&=~i;return n}function pP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-qr(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=pP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Zh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q1(){var e=ec;return ec<<=1,!(ec&4194240)&&(ec=64),e}function Cf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function vP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function ng(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var be=0;function W1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V1,ig,H1,K1,G1,em=!1,rc=[],ci=null,ui=null,di=null,Bo=new Map,Fo=new Map,ti=[],yP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(e,t){switch(e){case"focusin":case"focusout":ci=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function Zs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=_l(t),t!==null&&ig(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xP(e,t,r,n,i){switch(t){case"focusin":return ci=Zs(ci,e,t,r,n,i),!0;case"dragenter":return ui=Zs(ui,e,t,r,n,i),!0;case"mouseover":return di=Zs(di,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Bo.set(a,Zs(Bo.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Fo.set(a,Zs(Fo.get(a)||null,e,t,r,n,i)),!0}return!1}function Y1(e){var t=Hi(e.target);if(t!==null){var r=ya(t);if(r!==null){if(t=r.tag,t===13){if(t=L1(r),t!==null){e.blockedOn=t,G1(e.priority,function(){H1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=tm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yh=n,r.target.dispatchEvent(n),Yh=null}else return t=_l(r),t!==null&&ig(t),e.blockedOn=r,!1;t.shift()}return!0}function ay(e,t,r){Lc(e)&&r.delete(t)}function bP(){em=!1,ci!==null&&Lc(ci)&&(ci=null),ui!==null&&Lc(ui)&&(ui=null),di!==null&&Lc(di)&&(di=null),Bo.forEach(ay),Fo.forEach(ay)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,em||(em=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,bP)))}function qo(e){function t(i){return eo(i,e)}if(0<rc.length){eo(rc[0],e);for(var r=1;r<rc.length;r++){var n=rc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ci!==null&&eo(ci,e),ui!==null&&eo(ui,e),di!==null&&eo(di,e),Bo.forEach(t),Fo.forEach(t),r=0;r<ti.length;r++)n=ti[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ti.length&&(r=ti[0],r.blockedOn===null);)Y1(r),r.blockedOn===null&&ti.shift()}var Xa=zn.ReactCurrentBatchConfig,nu=!0;function wP(e,t,r,n){var i=be,a=Xa.transition;Xa.transition=null;try{be=1,ag(e,t,r,n)}finally{be=i,Xa.transition=a}}function jP(e,t,r,n){var i=be,a=Xa.transition;Xa.transition=null;try{be=4,ag(e,t,r,n)}finally{be=i,Xa.transition=a}}function ag(e,t,r,n){if(nu){var i=tm(e,t,r,n);if(i===null)Rf(e,t,n,iu,r),iy(e,n);else if(xP(i,e,t,r,n))n.stopPropagation();else if(iy(e,n),t&4&&-1<yP.indexOf(e)){for(;i!==null;){var a=_l(i);if(a!==null&&V1(a),a=tm(e,t,r,n),a===null&&Rf(e,t,n,iu,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Rf(e,t,n,null,r)}}var iu=null;function tm(e,t,r,n){if(iu=null,e=tg(n),e=Hi(e),e!==null)if(t=ya(e),t===null)e=null;else if(r=t.tag,r===13){if(e=L1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iu=e,null}function Q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cP()){case rg:return 1;case B1:return 4;case tu:case uP:return 16;case F1:return 536870912;default:return 16}default:return 16}}var ai=null,sg=null,Rc=null;function J1(){if(Rc)return Rc;var e,t=sg,r=t.length,n,i="value"in ai?ai.value:ai.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Rc=i.slice(e,1<n?1-n:void 0)}function zc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nc(){return!0}function sy(){return!1}function sr(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?nc:sy,this.isPropagationStopped=sy,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),t}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},og=sr(As),jl=Re({},As,{view:0,detail:0}),_P=sr(jl),Pf,Of,to,fd=Re({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Pf=e.screenX-to.screenX,Of=e.screenY-to.screenY):Of=Pf=0,to=e),Pf)},movementY:function(e){return"movementY"in e?e.movementY:Of}}),oy=sr(fd),kP=Re({},fd,{dataTransfer:0}),NP=sr(kP),SP=Re({},jl,{relatedTarget:0}),Af=sr(SP),EP=Re({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),CP=sr(EP),PP=Re({},As,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),OP=sr(PP),AP=Re({},As,{data:0}),ly=sr(AP),TP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IP[e])?!!t[e]:!1}function lg(){return DP}var $P=Re({},jl,{key:function(e){if(e.key){var t=TP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?MP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lg,charCode:function(e){return e.type==="keypress"?zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LP=sr($P),RP=Re({},fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=sr(RP),zP=Re({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lg}),UP=sr(zP),BP=Re({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=sr(BP),qP=Re({},fd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),WP=sr(qP),VP=[9,13,27,32],cg=Pn&&"CompositionEvent"in window,No=null;Pn&&"documentMode"in document&&(No=document.documentMode);var HP=Pn&&"TextEvent"in window&&!No,X1=Pn&&(!cg||No&&8<No&&11>=No),uy=" ",dy=!1;function Z1(e,t){switch(e){case"keyup":return VP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ej(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function KP(e,t){switch(e){case"compositionend":return ej(t);case"keypress":return t.which!==32?null:(dy=!0,uy);case"textInput":return e=t.data,e===uy&&dy?null:e;default:return null}}function GP(e,t){if(Ra)return e==="compositionend"||!cg&&Z1(e,t)?(e=J1(),Rc=sg=ai=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X1&&t.locale!=="ko"?null:t.data;default:return null}}var YP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YP[e.type]:t==="textarea"}function tj(e,t,r,n){T1(n),t=au(t,"onChange"),0<t.length&&(r=new og("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var So=null,Wo=null;function QP(e){fj(e,0)}function hd(e){var t=Ba(e);if(N1(t))return e}function JP(e,t){if(e==="change")return t}var rj=!1;if(Pn){var Tf;if(Pn){var Mf="oninput"in document;if(!Mf){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Mf=typeof hy.oninput=="function"}Tf=Mf}else Tf=!1;rj=Tf&&(!document.documentMode||9<document.documentMode)}function my(){So&&(So.detachEvent("onpropertychange",nj),Wo=So=null)}function nj(e){if(e.propertyName==="value"&&hd(Wo)){var t=[];tj(t,Wo,e,tg(e)),$1(QP,t)}}function XP(e,t,r){e==="focusin"?(my(),So=t,Wo=r,So.attachEvent("onpropertychange",nj)):e==="focusout"&&my()}function ZP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hd(Wo)}function eO(e,t){if(e==="click")return hd(t)}function tO(e,t){if(e==="input"||e==="change")return hd(t)}function rO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vr=typeof Object.is=="function"?Object.is:rO;function Vo(e,t){if(Vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Lh.call(t,i)||!Vr(e[i],t[i]))return!1}return!0}function py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gy(e,t){var r=py(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=py(r)}}function ij(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ij(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aj(){for(var e=window,t=Xc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xc(e.document)}return t}function ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nO(e){var t=aj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ij(r.ownerDocument.documentElement,r)){if(n!==null&&ug(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=gy(r,a);var s=gy(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iO=Pn&&"documentMode"in document&&11>=document.documentMode,za=null,rm=null,Eo=null,nm=!1;function vy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nm||za==null||za!==Xc(n)||(n=za,"selectionStart"in n&&ug(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Eo&&Vo(Eo,n)||(Eo=n,n=au(rm,"onSelect"),0<n.length&&(t=new og("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=za)))}function ic(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ua={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionend:ic("Transition","TransitionEnd")},If={},sj={};Pn&&(sj=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function md(e){if(If[e])return If[e];if(!Ua[e])return e;var t=Ua[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sj)return If[e]=t[r];return e}var oj=md("animationend"),lj=md("animationiteration"),cj=md("animationstart"),uj=md("transitionend"),dj=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(e,t){dj.set(e,t),va(t,[e])}for(var Df=0;Df<yy.length;Df++){var $f=yy[Df],aO=$f.toLowerCase(),sO=$f[0].toUpperCase()+$f.slice(1);Ni(aO,"on"+sO)}Ni(oj,"onAnimationEnd");Ni(lj,"onAnimationIteration");Ni(cj,"onAnimationStart");Ni("dblclick","onDoubleClick");Ni("focusin","onFocus");Ni("focusout","onBlur");Ni(uj,"onTransitionEnd");ss("onMouseEnter",["mouseout","mouseover"]);ss("onMouseLeave",["mouseout","mouseover"]);ss("onPointerEnter",["pointerout","pointerover"]);ss("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oO=new Set("cancel close invalid load scroll toggle".split(" ").concat(yo));function xy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aP(n,t,void 0,e),e.currentTarget=null}function fj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;xy(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;xy(i,l,u),a=c}}}if(eu)throw e=Xh,eu=!1,Xh=null,e}function Ce(e,t){var r=t[lm];r===void 0&&(r=t[lm]=new Set);var n=e+"__bubble";r.has(n)||(hj(t,e,2,!1),r.add(n))}function Lf(e,t,r){var n=0;t&&(n|=4),hj(r,e,n,t)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[ac]){e[ac]=!0,b1.forEach(function(r){r!=="selectionchange"&&(oO.has(r)||Lf(r,!1,e),Lf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ac]||(t[ac]=!0,Lf("selectionchange",!1,t))}}function hj(e,t,r,n){switch(Q1(t)){case 1:var i=wP;break;case 4:i=jP;break;default:i=ag}r=i.bind(null,t,r,e),i=void 0,!Jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Rf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Hi(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}$1(function(){var u=a,d=tg(r),f=[];e:{var h=dj.get(e);if(h!==void 0){var m=og,y=e;switch(e){case"keypress":if(zc(r)===0)break e;case"keydown":case"keyup":m=LP;break;case"focusin":y="focus",m=Af;break;case"focusout":y="blur",m=Af;break;case"beforeblur":case"afterblur":m=Af;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=UP;break;case oj:case lj:case cj:m=CP;break;case uj:m=FP;break;case"scroll":m=_P;break;case"wheel":m=WP;break;case"copy":case"cut":case"paste":m=OP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cy}var b=(t&4)!==0,w=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,x!==null&&(j=Uo(g,x),j!=null&&b.push(Ko(g,j,p)))),w)break;g=g.return}0<b.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Yh&&(y=r.relatedTarget||r.fromElement)&&(Hi(y)||y[On]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Hi(y):null,y!==null&&(w=ya(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(b=oy,j="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=cy,j="onPointerLeave",x="onPointerEnter",g="pointer"),w=m==null?h:Ba(m),p=y==null?h:Ba(y),h=new b(j,g+"leave",m,r,d),h.target=w,h.relatedTarget=p,j=null,Hi(d)===u&&(b=new b(x,g+"enter",y,r,d),b.target=p,b.relatedTarget=w,j=b),w=j,m&&y)t:{for(b=m,x=y,g=0,p=b;p;p=Sa(p))g++;for(p=0,j=x;j;j=Sa(j))p++;for(;0<g-p;)b=Sa(b),g--;for(;0<p-g;)x=Sa(x),p--;for(;g--;){if(b===x||x!==null&&b===x.alternate)break t;b=Sa(b),x=Sa(x)}b=null}else b=null;m!==null&&by(f,h,m,b,!1),y!==null&&w!==null&&by(f,w,y,b,!0)}}e:{if(h=u?Ba(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=JP;else if(fy(h))if(rj)_=tO;else{_=ZP;var N=XP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=eO);if(_&&(_=_(e,u))){tj(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Wh(h,"number",h.value)}switch(N=u?Ba(u):window,e){case"focusin":(fy(N)||N.contentEditable==="true")&&(za=N,rm=u,Eo=null);break;case"focusout":Eo=rm=za=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,vy(f,r,d);break;case"selectionchange":if(iO)break;case"keydown":case"keyup":vy(f,r,d)}var k;if(cg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ra?Z1(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(X1&&r.locale!=="ko"&&(Ra||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ra&&(k=J1()):(ai=d,sg="value"in ai?ai.value:ai.textContent,Ra=!0)),N=au(u,E),0<N.length&&(E=new ly(E,e,null,r,d),f.push({event:E,listeners:N}),k?E.data=k:(k=ej(r),k!==null&&(E.data=k)))),(k=HP?KP(e,r):GP(e,r))&&(u=au(u,"onBeforeInput"),0<u.length&&(d=new ly("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}fj(f,t)})}function Ko(e,t,r){return{instance:e,listener:t,currentTarget:r}}function au(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Uo(e,r),a!=null&&n.unshift(Ko(e,a,i)),a=Uo(e,t),a!=null&&n.push(Ko(e,a,i))),e=e.return}return n}function Sa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function by(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Uo(r,a),c!=null&&s.unshift(Ko(r,c,l))):i||(c=Uo(r,a),c!=null&&s.push(Ko(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var lO=/\r\n?/g,cO=/\u0000|\uFFFD/g;function wy(e){return(typeof e=="string"?e:""+e).replace(lO,`
`).replace(cO,"")}function sc(e,t,r){if(t=wy(t),wy(e)!==t&&r)throw Error(W(425))}function su(){}var im=null,am=null;function sm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,uO=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,dO=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(fO)}:om;function fO(e){setTimeout(function(){throw e})}function zf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qo(t)}function fi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),tn="__reactFiber$"+Ts,Go="__reactProps$"+Ts,On="__reactContainer$"+Ts,lm="__reactEvents$"+Ts,hO="__reactListeners$"+Ts,mO="__reactHandles$"+Ts;function Hi(e){var t=e[tn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[On]||r[tn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_y(e);e!==null;){if(r=e[tn])return r;e=_y(e)}return t}e=r,r=e.parentNode}return null}function _l(e){return e=e[tn]||e[On],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ba(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function pd(e){return e[Go]||null}var cm=[],Fa=-1;function Si(e){return{current:e}}function Oe(e){0>Fa||(e.current=cm[Fa],cm[Fa]=null,Fa--)}function Se(e,t){Fa++,cm[Fa]=e.current,e.current=t}var bi={},Pt=Si(bi),qt=Si(!1),sa=bi;function os(e,t){var r=e.type.contextTypes;if(!r)return bi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(e){return e=e.childContextTypes,e!=null}function ou(){Oe(qt),Oe(Pt)}function ky(e,t,r){if(Pt.current!==bi)throw Error(W(168));Se(Pt,t),Se(qt,r)}function mj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,XC(e)||"Unknown",i));return Re({},r,n)}function lu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bi,sa=Pt.current,Se(Pt,e),Se(qt,qt.current),!0}function Ny(e,t,r){var n=e.stateNode;if(!n)throw Error(W(169));r?(e=mj(e,t,sa),n.__reactInternalMemoizedMergedChildContext=e,Oe(qt),Oe(Pt),Se(Pt,e)):Oe(qt),Se(qt,r)}var gn=null,gd=!1,Uf=!1;function pj(e){gn===null?gn=[e]:gn.push(e)}function pO(e){gd=!0,pj(e)}function Ei(){if(!Uf&&gn!==null){Uf=!0;var e=0,t=be;try{var r=gn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gn=null,gd=!1}catch(i){throw gn!==null&&(gn=gn.slice(e+1)),U1(rg,Ei),i}finally{be=t,Uf=!1}}return null}var qa=[],Wa=0,cu=null,uu=0,pr=[],gr=0,oa=null,wn=1,jn="";function zi(e,t){qa[Wa++]=uu,qa[Wa++]=cu,cu=e,uu=t}function gj(e,t,r){pr[gr++]=wn,pr[gr++]=jn,pr[gr++]=oa,oa=e;var n=wn;e=jn;var i=32-qr(n)-1;n&=~(1<<i),r+=1;var a=32-qr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,wn=1<<32-qr(t)+i|r<<i|n,jn=a+e}else wn=1<<a|r<<i|n,jn=e}function dg(e){e.return!==null&&(zi(e,1),gj(e,1,0))}function fg(e){for(;e===cu;)cu=qa[--Wa],qa[Wa]=null,uu=qa[--Wa],qa[Wa]=null;for(;e===oa;)oa=pr[--gr],pr[gr]=null,jn=pr[--gr],pr[gr]=null,wn=pr[--gr],pr[gr]=null}var tr=null,Zt=null,Me=!1,Ur=null;function vj(e,t){var r=xr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Sy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tr=e,Zt=fi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tr=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=oa!==null?{id:wn,overflow:jn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tr=e,Zt=null,!0):!1;default:return!1}}function um(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dm(e){if(Me){var t=Zt;if(t){var r=t;if(!Sy(e,t)){if(um(e))throw Error(W(418));t=fi(r.nextSibling);var n=tr;t&&Sy(e,t)?vj(n,r):(e.flags=e.flags&-4097|2,Me=!1,tr=e)}}else{if(um(e))throw Error(W(418));e.flags=e.flags&-4097|2,Me=!1,tr=e}}}function Ey(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tr=e}function oc(e){if(e!==tr)return!1;if(!Me)return Ey(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sm(e.type,e.memoizedProps)),t&&(t=Zt)){if(um(e))throw yj(),Error(W(418));for(;t;)vj(e,t),t=fi(t.nextSibling)}if(Ey(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=fi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=tr?fi(e.stateNode.nextSibling):null;return!0}function yj(){for(var e=Zt;e;)e=fi(e.nextSibling)}function ls(){Zt=tr=null,Me=!1}function hg(e){Ur===null?Ur=[e]:Ur.push(e)}var gO=zn.ReactCurrentBatchConfig;function ro(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,e))}return e}function lc(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cy(e){var t=e._init;return t(e._payload)}function xj(e){function t(x,g){if(e){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function i(x,g){return x=gi(x,g),x.index=0,x.sibling=null,x}function a(x,g,p){return x.index=p,e?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,j){return g===null||g.tag!==6?(g=Kf(p,x.mode,j),g.return=x,g):(g=i(g,p),g.return=x,g)}function c(x,g,p,j){var _=p.type;return _===La?d(x,g,p.props.children,j,p.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qn&&Cy(_)===g.type)?(j=i(g,p.props),j.ref=ro(x,g,p),j.return=x,j):(j=Hc(p.type,p.key,p.props,null,x.mode,j),j.ref=ro(x,g,p),j.return=x,j)}function u(x,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Gf(p,x.mode,j),g.return=x,g):(g=i(g,p.children||[]),g.return=x,g)}function d(x,g,p,j,_){return g===null||g.tag!==7?(g=ea(p,x.mode,j,_),g.return=x,g):(g=i(g,p),g.return=x,g)}function f(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kf(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jl:return p=Hc(g.type,g.key,g.props,null,x.mode,p),p.ref=ro(x,null,g),p.return=x,p;case $a:return g=Gf(g,x.mode,p),g.return=x,g;case Qn:var j=g._init;return f(x,j(g._payload),p)}if(go(g)||Js(g))return g=ea(g,x.mode,p,null),g.return=x,g;lc(x,g)}return null}function h(x,g,p,j){var _=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(x,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jl:return p.key===_?c(x,g,p,j):null;case $a:return p.key===_?u(x,g,p,j):null;case Qn:return _=p._init,h(x,g,_(p._payload),j)}if(go(p)||Js(p))return _!==null?null:d(x,g,p,j,null);lc(x,p)}return null}function m(x,g,p,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(p)||null,l(g,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Jl:return x=x.get(j.key===null?p:j.key)||null,c(g,x,j,_);case $a:return x=x.get(j.key===null?p:j.key)||null,u(g,x,j,_);case Qn:var N=j._init;return m(x,g,p,N(j._payload),_)}if(go(j)||Js(j))return x=x.get(p)||null,d(g,x,j,_,null);lc(g,j)}return null}function y(x,g,p,j){for(var _=null,N=null,k=g,E=g=0,S=null;k!==null&&E<p.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var C=h(x,k,p[E],j);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(x,k),g=a(C,g,E),N===null?_=C:N.sibling=C,N=C,k=S}if(E===p.length)return r(x,k),Me&&zi(x,E),_;if(k===null){for(;E<p.length;E++)k=f(x,p[E],j),k!==null&&(g=a(k,g,E),N===null?_=k:N.sibling=k,N=k);return Me&&zi(x,E),_}for(k=n(x,k);E<p.length;E++)S=m(k,x,E,p[E],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),g=a(S,g,E),N===null?_=S:N.sibling=S,N=S);return e&&k.forEach(function(P){return t(x,P)}),Me&&zi(x,E),_}function b(x,g,p,j){var _=Js(p);if(typeof _!="function")throw Error(W(150));if(p=_.call(p),p==null)throw Error(W(151));for(var N=_=null,k=g,E=g=0,S=null,C=p.next();k!==null&&!C.done;E++,C=p.next()){k.index>E?(S=k,k=null):S=k.sibling;var P=h(x,k,C.value,j);if(P===null){k===null&&(k=S);break}e&&k&&P.alternate===null&&t(x,k),g=a(P,g,E),N===null?_=P:N.sibling=P,N=P,k=S}if(C.done)return r(x,k),Me&&zi(x,E),_;if(k===null){for(;!C.done;E++,C=p.next())C=f(x,C.value,j),C!==null&&(g=a(C,g,E),N===null?_=C:N.sibling=C,N=C);return Me&&zi(x,E),_}for(k=n(x,k);!C.done;E++,C=p.next())C=m(k,x,E,C.value,j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),g=a(C,g,E),N===null?_=C:N.sibling=C,N=C);return e&&k.forEach(function(M){return t(x,M)}),Me&&zi(x,E),_}function w(x,g,p,j){if(typeof p=="object"&&p!==null&&p.type===La&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Jl:e:{for(var _=p.key,N=g;N!==null;){if(N.key===_){if(_=p.type,_===La){if(N.tag===7){r(x,N.sibling),g=i(N,p.props.children),g.return=x,x=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Qn&&Cy(_)===N.type){r(x,N.sibling),g=i(N,p.props),g.ref=ro(x,N,p),g.return=x,x=g;break e}r(x,N);break}else t(x,N);N=N.sibling}p.type===La?(g=ea(p.props.children,x.mode,j,p.key),g.return=x,x=g):(j=Hc(p.type,p.key,p.props,null,x.mode,j),j.ref=ro(x,g,p),j.return=x,x=j)}return s(x);case $a:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(x,g.sibling),g=i(g,p.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Gf(p,x.mode,j),g.return=x,x=g}return s(x);case Qn:return N=p._init,w(x,g,N(p._payload),j)}if(go(p))return y(x,g,p,j);if(Js(p))return b(x,g,p,j);lc(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(x,g.sibling),g=i(g,p),g.return=x,x=g):(r(x,g),g=Kf(p,x.mode,j),g.return=x,x=g),s(x)):r(x,g)}return w}var cs=xj(!0),bj=xj(!1),du=Si(null),fu=null,Va=null,mg=null;function pg(){mg=Va=fu=null}function gg(e){var t=du.current;Oe(du),e._currentValue=t}function fm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Za(e,t){fu=e,mg=Va=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function kr(e){var t=e._currentValue;if(mg!==e)if(e={context:e,memoizedValue:t,next:null},Va===null){if(fu===null)throw Error(W(308));Va=e,fu.dependencies={lanes:0,firstContext:e}}else Va=Va.next=e;return t}var Ki=null;function vg(e){Ki===null?Ki=[e]:Ki.push(e)}function wj(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,vg(t)):(r.next=i.next,i.next=r),t.interleaved=r,An(e,n)}function An(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Jn=!1;function yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,An(e,r)}return i=n.interleaved,i===null?(t.next=t,vg(n)):(t.next=i.next,i.next=t),n.interleaved=t,An(e,r)}function Uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ng(e,r)}}function Py(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hu(e,t,r,n){var i=e.updateQueue;Jn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,m=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Re({},f,h);break e;case 2:Jn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ca|=s,e.lanes=s,e.memoizedState=f}}function Oy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var kl={},an=Si(kl),Yo=Si(kl),Qo=Si(kl);function Gi(e){if(e===kl)throw Error(W(174));return e}function xg(e,t){switch(Se(Qo,t),Se(Yo,e),Se(an,kl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hh(t,e)}Oe(an),Se(an,t)}function us(){Oe(an),Oe(Yo),Oe(Qo)}function _j(e){Gi(Qo.current);var t=Gi(an.current),r=Hh(t,e.type);t!==r&&(Se(Yo,e),Se(an,r))}function bg(e){Yo.current===e&&(Oe(an),Oe(Yo))}var De=Si(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bf=[];function wg(){for(var e=0;e<Bf.length;e++)Bf[e]._workInProgressVersionPrimary=null;Bf.length=0}var Bc=zn.ReactCurrentDispatcher,Ff=zn.ReactCurrentBatchConfig,la=0,$e=null,et=null,ot=null,pu=!1,Co=!1,Jo=0,vO=0;function kt(){throw Error(W(321))}function jg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vr(e[r],t[r]))return!1;return!0}function _g(e,t,r,n,i,a){if(la=a,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bc.current=e===null||e.memoizedState===null?wO:jO,e=r(n,i),Co){a=0;do{if(Co=!1,Jo=0,25<=a)throw Error(W(301));a+=1,ot=et=null,t.updateQueue=null,Bc.current=_O,e=r(n,i)}while(Co)}if(Bc.current=gu,t=et!==null&&et.next!==null,la=0,ot=et=$e=null,pu=!1,t)throw Error(W(300));return e}function kg(){var e=Jo!==0;return Jo=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?$e.memoizedState=ot=e:ot=ot.next=e,ot}function Nr(){if(et===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=ot===null?$e.memoizedState:ot.next;if(t!==null)ot=t,et=e;else{if(e===null)throw Error(W(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?$e.memoizedState=ot=e:ot=ot.next=e}return ot}function Xo(e,t){return typeof t=="function"?t(e):t}function qf(e){var t=Nr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=et,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((la&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,$e.lanes|=d,ca|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,Vr(n,t.memoizedState)||(Bt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,$e.lanes|=a,ca|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wf(e){var t=Nr(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Vr(a,t.memoizedState)||(Bt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function kj(){}function Nj(e,t){var r=$e,n=Nr(),i=t(),a=!Vr(n.memoizedState,i);if(a&&(n.memoizedState=i,Bt=!0),n=n.queue,Ng(Cj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Zo(9,Ej.bind(null,r,n,i,t),void 0,null),lt===null)throw Error(W(349));la&30||Sj(r,t,i)}return i}function Sj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ej(e,t,r,n){t.value=r,t.getSnapshot=n,Pj(t)&&Oj(e)}function Cj(e,t,r){return r(function(){Pj(t)&&Oj(e)})}function Pj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vr(e,r)}catch{return!0}}function Oj(e){var t=An(e,1);t!==null&&Wr(t,e,1,-1)}function Ay(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=bO.bind(null,$e,e),[t.memoizedState,e]}function Zo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Aj(){return Nr().memoizedState}function Fc(e,t,r,n){var i=Zr();$e.flags|=e,i.memoizedState=Zo(1|t,r,void 0,n===void 0?null:n)}function vd(e,t,r,n){var i=Nr();n=n===void 0?null:n;var a=void 0;if(et!==null){var s=et.memoizedState;if(a=s.destroy,n!==null&&jg(n,s.deps)){i.memoizedState=Zo(t,r,a,n);return}}$e.flags|=e,i.memoizedState=Zo(1|t,r,a,n)}function Ty(e,t){return Fc(8390656,8,e,t)}function Ng(e,t){return vd(2048,8,e,t)}function Tj(e,t){return vd(4,2,e,t)}function Mj(e,t){return vd(4,4,e,t)}function Ij(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dj(e,t,r){return r=r!=null?r.concat([e]):null,vd(4,4,Ij.bind(null,t,e),r)}function Sg(){}function $j(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Lj(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Rj(e,t,r){return la&21?(Vr(r,t)||(r=q1(),$e.lanes|=r,ca|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=r)}function yO(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Ff.transition;Ff.transition={};try{e(!1),t()}finally{be=r,Ff.transition=n}}function zj(){return Nr().memoizedState}function xO(e,t,r){var n=pi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uj(e))Bj(t,r);else if(r=wj(e,t,r,n),r!==null){var i=It();Wr(r,e,n,i),Fj(r,t,n)}}function bO(e,t,r){var n=pi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uj(e))Bj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,Vr(l,s)){var c=t.interleaved;c===null?(i.next=i,vg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=wj(e,t,i,n),r!==null&&(i=It(),Wr(r,e,n,i),Fj(r,t,n))}}function Uj(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Bj(e,t){Co=pu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ng(e,r)}}var gu={readContext:kr,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},wO={readContext:kr,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:kr,useEffect:Ty,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fc(4194308,4,Ij.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fc(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xO.bind(null,$e,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Ay,useDebugValue:Sg,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Ay(!1),t=e[0];return e=yO.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=$e,i=Zr();if(Me){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),lt===null)throw Error(W(349));la&30||Sj(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ty(Cj.bind(null,n,a,e),[e]),n.flags|=2048,Zo(9,Ej.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Zr(),t=lt.identifierPrefix;if(Me){var r=jn,n=wn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jO={readContext:kr,useCallback:$j,useContext:kr,useEffect:Ng,useImperativeHandle:Dj,useInsertionEffect:Tj,useLayoutEffect:Mj,useMemo:Lj,useReducer:qf,useRef:Aj,useState:function(){return qf(Xo)},useDebugValue:Sg,useDeferredValue:function(e){var t=Nr();return Rj(t,et.memoizedState,e)},useTransition:function(){var e=qf(Xo)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:kj,useSyncExternalStore:Nj,useId:zj,unstable_isNewReconciler:!1},_O={readContext:kr,useCallback:$j,useContext:kr,useEffect:Ng,useImperativeHandle:Dj,useInsertionEffect:Tj,useLayoutEffect:Mj,useMemo:Lj,useReducer:Wf,useRef:Aj,useState:function(){return Wf(Xo)},useDebugValue:Sg,useDeferredValue:function(e){var t=Nr();return et===null?t.memoizedState=e:Rj(t,et.memoizedState,e)},useTransition:function(){var e=Wf(Xo)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:kj,useSyncExternalStore:Nj,useId:zj,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function hm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yd={isMounted:function(e){return(e=e._reactInternals)?ya(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=It(),i=pi(e),a=Nn(n,i);a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,i),t!==null&&(Wr(t,e,i,n),Uc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=It(),i=pi(e),a=Nn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=hi(e,a,i),t!==null&&(Wr(t,e,i,n),Uc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=It(),n=pi(e),i=Nn(r,n);i.tag=2,t!=null&&(i.callback=t),t=hi(e,i,n),t!==null&&(Wr(t,e,n,r),Uc(t,e,n))}};function My(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Vo(r,n)||!Vo(i,a):!0}function qj(e,t,r){var n=!1,i=bi,a=t.contextType;return typeof a=="object"&&a!==null?a=kr(a):(i=Wt(t)?sa:Pt.current,n=t.contextTypes,a=(n=n!=null)?os(e,i):bi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Iy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yd.enqueueReplaceState(t,t.state,null)}function mm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},yg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=kr(a):(a=Wt(t)?sa:Pt.current,i.context=os(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(hm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&yd.enqueueReplaceState(i,i.state,null),hu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ds(e,t){try{var r="",n=t;do r+=JC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Vf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var kO=typeof WeakMap=="function"?WeakMap:Map;function Wj(e,t,r){r=Nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yu||(yu=!0,Nm=n),pm(e,t)},r}function Vj(e,t,r){r=Nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){pm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){pm(e,t),typeof n!="function"&&(mi===null?mi=new Set([this]):mi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Dy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new kO;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=RO.bind(null,e,t,r),t.then(e,e))}function $y(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ly(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nn(-1,1),t.tag=2,hi(r,t,1))),r.lanes|=1),e)}var NO=zn.ReactCurrentOwner,Bt=!1;function Tt(e,t,r,n){t.child=e===null?bj(t,null,r,n):cs(t,e.child,r,n)}function Ry(e,t,r,n,i){r=r.render;var a=t.ref;return Za(t,i),n=_g(e,t,r,n,a,i),r=kg(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Me&&r&&dg(t),t.flags|=1,Tt(e,t,n,i),t.child)}function zy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ig(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Hj(e,t,a,n,i)):(e=Hc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(s,n)&&e.ref===t.ref)return Tn(e,t,i)}return t.flags|=1,e=gi(a,n),e.ref=t.ref,e.return=t,t.child=e}function Hj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Vo(a,n)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,Tn(e,t,i)}return gm(e,t,r,n,i)}function Kj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ka,Yt),Yt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ka,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Se(Ka,Yt),Yt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Se(Ka,Yt),Yt|=n;return Tt(e,t,i,r),t.child}function Gj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function gm(e,t,r,n,i){var a=Wt(r)?sa:Pt.current;return a=os(t,a),Za(t,i),r=_g(e,t,r,n,a,i),n=kg(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Tn(e,t,i)):(Me&&n&&dg(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Uy(e,t,r,n,i){if(Wt(r)){var a=!0;lu(t)}else a=!1;if(Za(t,i),t.stateNode===null)qc(e,t),qj(t,r,n),mm(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=kr(u):(u=Wt(r)?sa:Pt.current,u=os(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Iy(t,s,n,u),Jn=!1;var h=t.memoizedState;s.state=h,hu(t,n,s,i),c=t.memoizedState,l!==n||h!==c||qt.current||Jn?(typeof d=="function"&&(hm(t,r,d,n),c=t.memoizedState),(l=Jn||My(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,jj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lr(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=kr(c):(c=Wt(r)?sa:Pt.current,c=os(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Iy(t,s,n,c),Jn=!1,h=t.memoizedState,s.state=h,hu(t,n,s,i);var y=t.memoizedState;l!==f||h!==y||qt.current||Jn?(typeof m=="function"&&(hm(t,r,m,n),y=t.memoizedState),(u=Jn||My(t,r,u,n,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return vm(e,t,r,n,a,i)}function vm(e,t,r,n,i,a){Gj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Ny(t,r,!1),Tn(e,t,a);n=t.stateNode,NO.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=cs(t,e.child,null,a),t.child=cs(t,null,l,a)):Tt(e,t,l,a),t.memoizedState=n.state,i&&Ny(t,r,!0),t.child}function Yj(e){var t=e.stateNode;t.pendingContext?ky(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ky(e,t.context,!1),xg(e,t.containerInfo)}function By(e,t,r,n,i){return ls(),hg(i),t.flags|=256,Tt(e,t,r,n),t.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function xm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qj(e,t,r){var n=t.pendingProps,i=De.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(De,i&1),e===null)return dm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=wd(s,n,0,null),e=ea(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=xm(r),t.memoizedState=ym,e):Eg(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return SO(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=gi(l,a):(a=ea(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?xm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=ym,n}return a=e.child,e=a.sibling,n=gi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eg(e,t){return t=wd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cc(e,t,r,n){return n!==null&&hg(n),cs(t,e.child,null,r),e=Eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function SO(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Vf(Error(W(422))),cc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=wd({mode:"visible",children:n.children},i,0,null),a=ea(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&cs(t,e.child,null,s),t.child.memoizedState=xm(s),t.memoizedState=ym,a);if(!(t.mode&1))return cc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(W(419)),n=Vf(a,n,void 0),cc(e,t,s,n)}if(l=(s&e.childLanes)!==0,Bt||l){if(n=lt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,An(e,i),Wr(n,e,i,-1))}return Mg(),n=Vf(Error(W(421))),cc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Zt=fi(i.nextSibling),tr=t,Me=!0,Ur=null,e!==null&&(pr[gr++]=wn,pr[gr++]=jn,pr[gr++]=oa,wn=e.id,jn=e.overflow,oa=t),t=Eg(t,n.children),t.flags|=4096,t)}function Fy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fm(e.return,t,r)}function Hf(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Jj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Tt(e,t,n.children,r),n=De.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fy(e,r,t);else if(e.tag===19)Fy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(De,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&mu(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hf(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hf(t,!0,r,null,a);break;case"together":Hf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=gi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function EO(e,t,r){switch(t.tag){case 3:Yj(t),ls();break;case 5:_j(t);break;case 1:Wt(t.type)&&lu(t);break;case 4:xg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Se(du,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(De,De.current&1),t.flags|=128,null):r&t.child.childLanes?Qj(e,t,r):(Se(De,De.current&1),e=Tn(e,t,r),e!==null?e.sibling:null);Se(De,De.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Jj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(De,De.current),n)break;return null;case 22:case 23:return t.lanes=0,Kj(e,t,r)}return Tn(e,t,r)}var Xj,bm,Zj,e_;Xj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bm=function(){};Zj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Gi(an.current);var a=null;switch(r){case"input":i=Fh(e,i),n=Fh(e,n),a=[];break;case"select":i=Re({},i,{value:void 0}),n=Re({},n,{value:void 0}),a=[];break;case"textarea":i=Vh(e,i),n=Vh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=su)}Kh(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ro.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ro.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};e_=function(e,t,r,n){r!==n&&(t.flags|=4)};function no(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function CO(e,t,r){var n=t.pendingProps;switch(fg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Wt(t.type)&&ou(),Nt(t),null;case 3:return n=t.stateNode,us(),Oe(qt),Oe(Pt),wg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(oc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ur!==null&&(Cm(Ur),Ur=null))),bm(e,t),Nt(t),null;case 5:bg(t);var i=Gi(Qo.current);if(r=t.type,e!==null&&t.stateNode!=null)Zj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(W(166));return Nt(t),null}if(e=Gi(an.current),oc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[tn]=t,n[Go]=a,e=(t.mode&1)!==0,r){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(i=0;i<yo.length;i++)Ce(yo[i],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Jv(n,a),Ce("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ce("invalid",n);break;case"textarea":Zv(n,a),Ce("invalid",n)}Kh(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&sc(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&sc(n.textContent,l,e),i=["children",""+l]):Ro.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ce("scroll",n)}switch(r){case"input":Xl(n),Xv(n,a,!0);break;case"textarea":Xl(n),ey(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=su)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[tn]=t,e[Go]=n,Xj(e,t,!1,!1),t.stateNode=e;e:{switch(s=Gh(r,n),r){case"dialog":Ce("cancel",e),Ce("close",e),i=n;break;case"iframe":case"object":case"embed":Ce("load",e),i=n;break;case"video":case"audio":for(i=0;i<yo.length;i++)Ce(yo[i],e);i=n;break;case"source":Ce("error",e),i=n;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),i=n;break;case"details":Ce("toggle",e),i=n;break;case"input":Jv(e,n),i=Fh(e,n),Ce("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Re({},n,{value:void 0}),Ce("invalid",e);break;case"textarea":Zv(e,n),i=Vh(e,n),Ce("invalid",e);break;default:i=n}Kh(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?A1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&P1(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zo(e,c):typeof c=="number"&&zo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ro.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ce("scroll",e):c!=null&&Jp(e,a,c,s))}switch(r){case"input":Xl(e),Xv(e,n,!1);break;case"textarea":Xl(e),ey(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ya(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ya(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=su)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)e_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(r=Gi(Qo.current),Gi(an.current),oc(t)){if(n=t.stateNode,r=t.memoizedProps,n[tn]=t,(a=n.nodeValue!==r)&&(e=tr,e!==null))switch(e.tag){case 3:sc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[tn]=t,t.stateNode=n}return Nt(t),null;case 13:if(Oe(De),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Zt!==null&&t.mode&1&&!(t.flags&128))yj(),ls(),t.flags|=98560,a=!1;else if(a=oc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[tn]=t}else ls(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),a=!1}else Ur!==null&&(Cm(Ur),Ur=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?nt===0&&(nt=3):Mg())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return us(),bm(e,t),e===null&&Ho(t.stateNode.containerInfo),Nt(t),null;case 10:return gg(t.type._context),Nt(t),null;case 17:return Wt(t.type)&&ou(),Nt(t),null;case 19:if(Oe(De),a=t.memoizedState,a===null)return Nt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)no(a,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mu(e),s!==null){for(t.flags|=128,no(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(De,De.current&1|2),t.child}e=e.sibling}a.tail!==null&&We()>fs&&(t.flags|=128,n=!0,no(a,!1),t.lanes=4194304)}else{if(!n)if(e=mu(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),no(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Me)return Nt(t),null}else 2*We()-a.renderingStartTime>fs&&r!==1073741824&&(t.flags|=128,n=!0,no(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=We(),t.sibling=null,r=De.current,Se(De,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return Tg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function PO(e,t){switch(fg(t),t.tag){case 1:return Wt(t.type)&&ou(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return us(),Oe(qt),Oe(Pt),wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return bg(t),null;case 13:if(Oe(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));ls()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Oe(De),null;case 4:return us(),null;case 10:return gg(t.type._context),null;case 22:case 23:return Tg(),null;case 24:return null;default:return null}}var uc=!1,Et=!1,OO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Ha(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(e,t,n)}else r.current=null}function wm(e,t,r){try{r()}catch(n){Be(e,t,n)}}var qy=!1;function AO(e,t){if(im=nu,e=aj(),ug(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(am={focusedElem:e,selectionRange:r},nu=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Lr(t.type,b),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(j){Be(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return y=qy,qy=!1,y}function Po(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&wm(t,r,a)}i=i.next}while(i!==n)}}function xd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t_(e){var t=e.alternate;t!==null&&(e.alternate=null,t_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tn],delete t[Go],delete t[lm],delete t[hO],delete t[mO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r_(e){return e.tag===5||e.tag===3||e.tag===4}function Wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _m(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=su));else if(n!==4&&(e=e.child,e!==null))for(_m(e,t,r),e=e.sibling;e!==null;)_m(e,t,r),e=e.sibling}function km(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(km(e,t,r),e=e.sibling;e!==null;)km(e,t,r),e=e.sibling}var gt=null,Rr=!1;function Kn(e,t,r){for(r=r.child;r!==null;)n_(e,t,r),r=r.sibling}function n_(e,t,r){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(dd,r)}catch{}switch(r.tag){case 5:Et||Ha(r,t);case 6:var n=gt,i=Rr;gt=null,Kn(e,t,r),gt=n,Rr=i,gt!==null&&(Rr?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(Rr?(e=gt,r=r.stateNode,e.nodeType===8?zf(e.parentNode,r):e.nodeType===1&&zf(e,r),qo(e)):zf(gt,r.stateNode));break;case 4:n=gt,i=Rr,gt=r.stateNode.containerInfo,Rr=!0,Kn(e,t,r),gt=n,Rr=i;break;case 0:case 11:case 14:case 15:if(!Et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&wm(r,t,s),i=i.next}while(i!==n)}Kn(e,t,r);break;case 1:if(!Et&&(Ha(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Be(r,t,l)}Kn(e,t,r);break;case 21:Kn(e,t,r);break;case 22:r.mode&1?(Et=(n=Et)||r.memoizedState!==null,Kn(e,t,r),Et=n):Kn(e,t,r);break;default:Kn(e,t,r)}}function Vy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new OO),t.forEach(function(n){var i=UO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,Rr=!1;break e;case 3:gt=l.stateNode.containerInfo,Rr=!0;break e;case 4:gt=l.stateNode.containerInfo,Rr=!0;break e}l=l.return}if(gt===null)throw Error(W(160));n_(a,s,i),gt=null,Rr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i_(t,e),t=t.sibling}function i_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),Qr(e),n&4){try{Po(3,e,e.return),xd(3,e)}catch(b){Be(e,e.return,b)}try{Po(5,e,e.return)}catch(b){Be(e,e.return,b)}}break;case 1:Ir(t,e),Qr(e),n&512&&r!==null&&Ha(r,r.return);break;case 5:if(Ir(t,e),Qr(e),n&512&&r!==null&&Ha(r,r.return),e.flags&32){var i=e.stateNode;try{zo(i,"")}catch(b){Be(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&S1(i,a),Gh(l,s);var u=Gh(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?A1(i,f):d==="dangerouslySetInnerHTML"?P1(i,f):d==="children"?zo(i,f):Jp(i,d,f,u)}switch(l){case"input":qh(i,a);break;case"textarea":E1(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ya(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ya(i,!!a.multiple,a.defaultValue,!0):Ya(i,!!a.multiple,a.multiple?[]:"",!1))}i[Go]=a}catch(b){Be(e,e.return,b)}}break;case 6:if(Ir(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(W(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Be(e,e.return,b)}}break;case 3:if(Ir(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(t.containerInfo)}catch(b){Be(e,e.return,b)}break;case 4:Ir(t,e),Qr(e);break;case 13:Ir(t,e),Qr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Og=We())),n&4&&Vy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Et=(u=Et)||d,Ir(t,e),Et=u):Ir(t,e),Qr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,m=h.child,h.tag){case 0:case 11:case 14:case 15:Po(4,h,h.return);break;case 1:Ha(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Be(n,r,b)}}break;case 5:Ha(h,h.return);break;case 22:if(h.memoizedState!==null){Ky(f);continue}}m!==null?(m.return=h,Z=m):Ky(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O1("display",s))}catch(b){Be(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Be(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(t,e),Qr(e),n&4&&Vy(e);break;case 21:break;default:Ir(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r_(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zo(i,""),n.flags&=-33);var a=Wy(e);km(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Wy(e);_m(e,l,s);break;default:throw Error(W(161))}}catch(c){Be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function TO(e,t,r){Z=e,a_(e)}function a_(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||uc;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Et;l=uc;var u=Et;if(uc=s,(Et=c)&&!u)for(Z=i;Z!==null;)s=Z,c=s.child,s.tag===22&&s.memoizedState!==null?Gy(i):c!==null?(c.return=s,Z=c):Gy(i);for(;a!==null;)Z=a,a_(a),a=a.sibling;Z=i,uc=l,Et=u}Hy(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):Hy(e)}}function Hy(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||xd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Et)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Lr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Oy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Oy(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Et||t.flags&512&&jm(t)}catch(h){Be(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Ky(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Gy(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xd(4,t)}catch(c){Be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Be(t,i,c)}}var a=t.return;try{jm(t)}catch(c){Be(t,a,c)}break;case 5:var s=t.return;try{jm(t)}catch(c){Be(t,s,c)}}}catch(c){Be(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var MO=Math.ceil,vu=zn.ReactCurrentDispatcher,Cg=zn.ReactCurrentOwner,jr=zn.ReactCurrentBatchConfig,pe=0,lt=null,Ge=null,xt=0,Yt=0,Ka=Si(0),nt=0,el=null,ca=0,bd=0,Pg=0,Oo=null,zt=null,Og=0,fs=1/0,mn=null,yu=!1,Nm=null,mi=null,dc=!1,si=null,xu=0,Ao=0,Sm=null,Wc=-1,Vc=0;function It(){return pe&6?We():Wc!==-1?Wc:Wc=We()}function pi(e){return e.mode&1?pe&2&&xt!==0?xt&-xt:gO.transition!==null?(Vc===0&&(Vc=q1()),Vc):(e=be,e!==0||(e=window.event,e=e===void 0?16:Q1(e.type)),e):1}function Wr(e,t,r,n){if(50<Ao)throw Ao=0,Sm=null,Error(W(185));wl(e,r,n),(!(pe&2)||e!==lt)&&(e===lt&&(!(pe&2)&&(bd|=r),nt===4&&ri(e,xt)),Vt(e,n),r===1&&pe===0&&!(t.mode&1)&&(fs=We()+500,gd&&Ei()))}function Vt(e,t){var r=e.callbackNode;gP(e,t);var n=ru(e,e===lt?xt:0);if(n===0)r!==null&&ny(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ny(r),t===1)e.tag===0?pO(Yy.bind(null,e)):pj(Yy.bind(null,e)),dO(function(){!(pe&6)&&Ei()}),r=null;else{switch(W1(n)){case 1:r=rg;break;case 4:r=B1;break;case 16:r=tu;break;case 536870912:r=F1;break;default:r=tu}r=h_(r,s_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function s_(e,t){if(Wc=-1,Vc=0,pe&6)throw Error(W(327));var r=e.callbackNode;if(es()&&e.callbackNode!==r)return null;var n=ru(e,e===lt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bu(e,n);else{t=n;var i=pe;pe|=2;var a=l_();(lt!==e||xt!==t)&&(mn=null,fs=We()+500,Zi(e,t));do try{$O();break}catch(l){o_(e,l)}while(!0);pg(),vu.current=a,pe=i,Ge!==null?t=0:(lt=null,xt=0,t=nt)}if(t!==0){if(t===2&&(i=Zh(e),i!==0&&(n=i,t=Em(e,i))),t===1)throw r=el,Zi(e,0),ri(e,n),Vt(e,We()),r;if(t===6)ri(e,n);else{if(i=e.current.alternate,!(n&30)&&!IO(i)&&(t=bu(e,n),t===2&&(a=Zh(e),a!==0&&(n=a,t=Em(e,a))),t===1))throw r=el,Zi(e,0),ri(e,n),Vt(e,We()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(W(345));case 2:Ui(e,zt,mn);break;case 3:if(ri(e,n),(n&130023424)===n&&(t=Og+500-We(),10<t)){if(ru(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){It(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=om(Ui.bind(null,e,zt,mn),t);break}Ui(e,zt,mn);break;case 4:if(ri(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-qr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MO(n/1960))-n,10<n){e.timeoutHandle=om(Ui.bind(null,e,zt,mn),n);break}Ui(e,zt,mn);break;case 5:Ui(e,zt,mn);break;default:throw Error(W(329))}}}return Vt(e,We()),e.callbackNode===r?s_.bind(null,e):null}function Em(e,t){var r=Oo;return e.current.memoizedState.isDehydrated&&(Zi(e,t).flags|=256),e=bu(e,t),e!==2&&(t=zt,zt=r,t!==null&&Cm(t)),e}function Cm(e){zt===null?zt=e:zt.push.apply(zt,e)}function IO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Vr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ri(e,t){for(t&=~Pg,t&=~bd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function Yy(e){if(pe&6)throw Error(W(327));es();var t=ru(e,0);if(!(t&1))return Vt(e,We()),null;var r=bu(e,t);if(e.tag!==0&&r===2){var n=Zh(e);n!==0&&(t=n,r=Em(e,n))}if(r===1)throw r=el,Zi(e,0),ri(e,t),Vt(e,We()),r;if(r===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ui(e,zt,mn),Vt(e,We()),null}function Ag(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(fs=We()+500,gd&&Ei())}}function ua(e){si!==null&&si.tag===0&&!(pe&6)&&es();var t=pe;pe|=1;var r=jr.transition,n=be;try{if(jr.transition=null,be=1,e)return e()}finally{be=n,jr.transition=r,pe=t,!(pe&6)&&Ei()}}function Tg(){Yt=Ka.current,Oe(Ka)}function Zi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uO(r)),Ge!==null)for(r=Ge.return;r!==null;){var n=r;switch(fg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ou();break;case 3:us(),Oe(qt),Oe(Pt),wg();break;case 5:bg(n);break;case 4:us();break;case 13:Oe(De);break;case 19:Oe(De);break;case 10:gg(n.type._context);break;case 22:case 23:Tg()}r=r.return}if(lt=e,Ge=e=gi(e.current,null),xt=Yt=t,nt=0,el=null,Pg=bd=ca=0,zt=Oo=null,Ki!==null){for(t=0;t<Ki.length;t++)if(r=Ki[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ki=null}return e}function o_(e,t){do{var r=Ge;try{if(pg(),Bc.current=gu,pu){for(var n=$e.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pu=!1}if(la=0,ot=et=$e=null,Co=!1,Jo=0,Cg.current=null,r===null||r.return===null){nt=1,el=t,Ge=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=$y(s);if(m!==null){m.flags&=-257,Ly(m,s,l,a,t),m.mode&1&&Dy(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){Dy(a,u,t),Mg();break e}c=Error(W(426))}}else if(Me&&l.mode&1){var w=$y(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ly(w,s,l,a,t),hg(ds(c,l));break e}}a=c=ds(c,l),nt!==4&&(nt=2),Oo===null?Oo=[a]:Oo.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Wj(a,c,t);Py(a,x);break e;case 1:l=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(mi===null||!mi.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Vj(a,l,t);Py(a,j);break e}}a=a.return}while(a!==null)}u_(r)}catch(_){t=_,Ge===r&&r!==null&&(Ge=r=r.return);continue}break}while(!0)}function l_(){var e=vu.current;return vu.current=gu,e===null?gu:e}function Mg(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||!(ca&268435455)&&!(bd&268435455)||ri(lt,xt)}function bu(e,t){var r=pe;pe|=2;var n=l_();(lt!==e||xt!==t)&&(mn=null,Zi(e,t));do try{DO();break}catch(i){o_(e,i)}while(!0);if(pg(),pe=r,vu.current=n,Ge!==null)throw Error(W(261));return lt=null,xt=0,nt}function DO(){for(;Ge!==null;)c_(Ge)}function $O(){for(;Ge!==null&&!oP();)c_(Ge)}function c_(e){var t=f_(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?u_(e):Ge=t,Cg.current=null}function u_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=PO(r,t),r!==null){r.flags&=32767,Ge=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,Ge=null;return}}else if(r=CO(r,t,Yt),r!==null){Ge=r;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);nt===0&&(nt=5)}function Ui(e,t,r){var n=be,i=jr.transition;try{jr.transition=null,be=1,LO(e,t,r,n)}finally{jr.transition=i,be=n}return null}function LO(e,t,r,n){do es();while(si!==null);if(pe&6)throw Error(W(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(vP(e,a),e===lt&&(Ge=lt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||dc||(dc=!0,h_(tu,function(){return es(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jr.transition,jr.transition=null;var s=be;be=1;var l=pe;pe|=4,Cg.current=null,AO(e,r),i_(r,e),nO(am),nu=!!im,am=im=null,e.current=r,TO(r),lP(),pe=l,be=s,jr.transition=a}else e.current=r;if(dc&&(dc=!1,si=e,xu=i),a=e.pendingLanes,a===0&&(mi=null),dP(r.stateNode),Vt(e,We()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yu)throw yu=!1,e=Nm,Nm=null,e;return xu&1&&e.tag!==0&&es(),a=e.pendingLanes,a&1?e===Sm?Ao++:(Ao=0,Sm=e):Ao=0,Ei(),null}function es(){if(si!==null){var e=W1(xu),t=jr.transition,r=be;try{if(jr.transition=null,be=16>e?16:e,si===null)var n=!1;else{if(e=si,si=null,xu=0,pe&6)throw Error(W(331));var i=pe;for(pe|=4,Z=e.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Po(8,d,a)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,m=d.return;if(t_(d),d===u){Z=null;break}if(h!==null){h.return=m,Z=h;break}Z=m}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Po(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}var g=e.current;for(Z=g;Z!==null;){s=Z;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,Z=p;else e:for(s=g;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:xd(9,l)}}catch(_){Be(l,l.return,_)}if(l===s){Z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Z=j;break e}Z=l.return}}if(pe=i,Ei(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(dd,e)}catch{}n=!0}return n}finally{be=r,jr.transition=t}}return!1}function Qy(e,t,r){t=ds(r,t),t=Wj(e,t,1),e=hi(e,t,1),t=It(),e!==null&&(wl(e,1,t),Vt(e,t))}function Be(e,t,r){if(e.tag===3)Qy(e,e,r);else for(;t!==null;){if(t.tag===3){Qy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(mi===null||!mi.has(n))){e=ds(r,e),e=Vj(t,e,1),t=hi(t,e,1),e=It(),t!==null&&(wl(t,1,e),Vt(t,e));break}}t=t.return}}function RO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(xt&r)===r&&(nt===4||nt===3&&(xt&130023424)===xt&&500>We()-Og?Zi(e,0):Pg|=r),Vt(e,t)}function d_(e,t){t===0&&(e.mode&1?(t=tc,tc<<=1,!(tc&130023424)&&(tc=4194304)):t=1);var r=It();e=An(e,t),e!==null&&(wl(e,t,r),Vt(e,r))}function zO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d_(e,r)}function UO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(t),d_(e,r)}var f_;f_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Bt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bt=!1,EO(e,t,r);Bt=!!(e.flags&131072)}else Bt=!1,Me&&t.flags&1048576&&gj(t,uu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qc(e,t),e=t.pendingProps;var i=os(t,Pt.current);Za(t,r),i=_g(null,t,n,e,i,r);var a=kg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(a=!0,lu(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yg(t),i.updater=yd,t.stateNode=i,i._reactInternals=t,mm(t,n,e,r),t=vm(null,t,n,!0,a,r)):(t.tag=0,Me&&a&&dg(t),Tt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=FO(n),e=Lr(n,e),i){case 0:t=gm(null,t,n,e,r);break e;case 1:t=Uy(null,t,n,e,r);break e;case 11:t=Ry(null,t,n,e,r);break e;case 14:t=zy(null,t,n,Lr(n.type,e),r);break e}throw Error(W(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),gm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),Uy(e,t,n,i,r);case 3:e:{if(Yj(t),e===null)throw Error(W(387));n=t.pendingProps,a=t.memoizedState,i=a.element,jj(e,t),hu(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=ds(Error(W(423)),t),t=By(e,t,n,r,i);break e}else if(n!==i){i=ds(Error(W(424)),t),t=By(e,t,n,r,i);break e}else for(Zt=fi(t.stateNode.containerInfo.firstChild),tr=t,Me=!0,Ur=null,r=bj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ls(),n===i){t=Tn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return _j(t),e===null&&dm(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,sm(n,i)?s=null:a!==null&&sm(n,a)&&(t.flags|=32),Gj(e,t),Tt(e,t,s,r),t.child;case 6:return e===null&&dm(t),null;case 13:return Qj(e,t,r);case 4:return xg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cs(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),Ry(e,t,n,i,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Se(du,n._currentValue),n._currentValue=s,a!==null)if(Vr(a.value,s)){if(a.children===i.children&&!qt.current){t=Tn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Nn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),fm(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(W(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),fm(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Tt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Za(t,r),i=kr(i),n=n(i),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,i=Lr(n,t.pendingProps),i=Lr(n.type,i),zy(e,t,n,i,r);case 15:return Hj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),qc(e,t),t.tag=1,Wt(n)?(e=!0,lu(t)):e=!1,Za(t,r),qj(t,n,i),mm(t,n,i,r),vm(null,t,n,!0,e,r);case 19:return Jj(e,t,r);case 22:return Kj(e,t,r)}throw Error(W(156,t.tag))};function h_(e,t){return U1(e,t)}function BO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(e,t,r,n){return new BO(e,t,r,n)}function Ig(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FO(e){if(typeof e=="function")return Ig(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Zp)return 11;if(e===eg)return 14}return 2}function gi(e,t){var r=e.alternate;return r===null?(r=xr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Ig(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case La:return ea(r.children,i,a,t);case Xp:s=8,i|=8;break;case Rh:return e=xr(12,r,t,i|2),e.elementType=Rh,e.lanes=a,e;case zh:return e=xr(13,r,t,i),e.elementType=zh,e.lanes=a,e;case Uh:return e=xr(19,r,t,i),e.elementType=Uh,e.lanes=a,e;case _1:return wd(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w1:s=10;break e;case j1:s=9;break e;case Zp:s=11;break e;case eg:s=14;break e;case Qn:s=16,n=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=xr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ea(e,t,r,n){return e=xr(7,e,n,t),e.lanes=r,e}function wd(e,t,r,n){return e=xr(22,e,n,t),e.elementType=_1,e.lanes=r,e.stateNode={isHidden:!1},e}function Kf(e,t,r){return e=xr(6,e,null,t),e.lanes=r,e}function Gf(e,t,r){return t=xr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dg(e,t,r,n,i,a,s,l,c){return e=new qO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yg(a),e}function WO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$a,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function m_(e){if(!e)return bi;e=e._reactInternals;e:{if(ya(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var r=e.type;if(Wt(r))return mj(e,r,t)}return t}function p_(e,t,r,n,i,a,s,l,c){return e=Dg(r,n,!0,e,i,a,s,l,c),e.context=m_(null),r=e.current,n=It(),i=pi(r),a=Nn(n,i),a.callback=t??null,hi(r,a,i),e.current.lanes=i,wl(e,i,n),Vt(e,n),e}function jd(e,t,r,n){var i=t.current,a=It(),s=pi(i);return r=m_(r),t.context===null?t.context=r:t.pendingContext=r,t=Nn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hi(i,t,s),e!==null&&(Wr(e,i,s,a),Uc(e,i,s)),s}function wu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $g(e,t){Jy(e,t),(e=e.alternate)&&Jy(e,t)}function VO(){return null}var g_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lg(e){this._internalRoot=e}_d.prototype.render=Lg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));jd(e,t,null,null)};_d.prototype.unmount=Lg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ua(function(){jd(null,e,null,null)}),t[On]=null}};function _d(e){this._internalRoot=e}_d.prototype.unstable_scheduleHydration=function(e){if(e){var t=K1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ti.length&&t!==0&&t<ti[r].priority;r++);ti.splice(r,0,e),r===0&&Y1(e)}};function Rg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xy(){}function HO(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=wu(s);a.call(u)}}var s=p_(t,n,e,0,null,!1,!1,"",Xy);return e._reactRootContainer=s,e[On]=s.current,Ho(e.nodeType===8?e.parentNode:e),ua(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=wu(c);l.call(u)}}var c=Dg(e,0,!1,null,null,!1,!1,"",Xy);return e._reactRootContainer=c,e[On]=c.current,Ho(e.nodeType===8?e.parentNode:e),ua(function(){jd(t,c,r,n)}),c}function Nd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=wu(s);l.call(c)}}jd(t,s,e,i)}else s=HO(r,t,e,i,n);return wu(s)}V1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vo(t.pendingLanes);r!==0&&(ng(t,r|1),Vt(t,We()),!(pe&6)&&(fs=We()+500,Ei()))}break;case 13:ua(function(){var n=An(e,1);if(n!==null){var i=It();Wr(n,e,1,i)}}),$g(e,1)}};ig=function(e){if(e.tag===13){var t=An(e,134217728);if(t!==null){var r=It();Wr(t,e,134217728,r)}$g(e,134217728)}};H1=function(e){if(e.tag===13){var t=pi(e),r=An(e,t);if(r!==null){var n=It();Wr(r,e,t,n)}$g(e,t)}};K1=function(){return be};G1=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Qh=function(e,t,r){switch(t){case"input":if(qh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=pd(n);if(!i)throw Error(W(90));N1(n),qh(n,i)}}}break;case"textarea":E1(e,r);break;case"select":t=r.value,t!=null&&Ya(e,!!r.multiple,t,!1)}};I1=Ag;D1=ua;var KO={usingClientEntryPoint:!1,Events:[_l,Ba,pd,T1,M1,Ag]},io={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GO={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R1(e),e===null?null:e.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||VO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{dd=fc.inject(GO),nn=fc}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KO;ar.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(t))throw Error(W(200));return WO(e,t,null,r)};ar.createRoot=function(e,t){if(!Rg(e))throw Error(W(299));var r=!1,n="",i=g_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dg(e,1,!1,null,null,r,!1,n,i),e[On]=t.current,Ho(e.nodeType===8?e.parentNode:e),new Lg(t)};ar.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=R1(t),e=e===null?null:e.stateNode,e};ar.flushSync=function(e){return ua(e)};ar.hydrate=function(e,t,r){if(!kd(t))throw Error(W(200));return Nd(null,e,t,!0,r)};ar.hydrateRoot=function(e,t,r){if(!Rg(e))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=g_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=p_(t,null,e,1,r??null,i,!1,a,s),e[On]=t.current,Ho(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new _d(t)};ar.render=function(e,t,r){if(!kd(t))throw Error(W(200));return Nd(null,e,t,!1,r)};ar.unmountComponentAtNode=function(e){if(!kd(e))throw Error(W(40));return e._reactRootContainer?(ua(function(){Nd(null,null,e,!1,function(){e._reactRootContainer=null,e[On]=null})}),!0):!1};ar.unstable_batchedUpdates=Ag;ar.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kd(r))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Nd(e,t,r,!1,n)};ar.version="18.3.1-next-f1338f8080-20240426";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(e){console.error(e)}}v_(),v1.exports=ar;var zg=v1.exports,y_,Zy=zg;y_=Zy.createRoot,Zy.hydrateRoot;const YO="modulepreload",QO=function(e){return"/"+e},ex={},Nl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=QO(c),c in ex)return;ex[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":YO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},JO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ms);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ug extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class XO extends Ug{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tx extends Ug{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rx extends Ug{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pm||(Pm={}));var ZO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class eA{constructor(t,{headers:r={},customFetch:n,region:i=Pm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=JO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return ZO(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new XO(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new tx(f);if(!f.ok)throw new rx(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof rx||i instanceof tx?i.context:void 0}}})}}var Ut={},Bg={},Sd={},Sl={},Ed={},Cd={},tA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hs=tA();const rA=hs.fetch,x_=hs.fetch.bind(hs),b_=hs.Headers,nA=hs.Request,iA=hs.Response,Ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:b_,Request:nA,Response:iA,default:x_,fetch:rA},Symbol.toStringTag,{value:"Module"})),aA=jC(Ms);var Pd={};Object.defineProperty(Pd,"__esModule",{value:!0});let sA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pd.default=sA;var w_=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cd,"__esModule",{value:!0});const oA=w_(aA),lA=w_(Pd);let cA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,l,c,u;let d=null,f=null,h=null,m=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,y="OK")}catch{a.status===404&&w===""?(m=204,y="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new lA.default(d)}return{error:d,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,l,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Cd.default=cA;var uA=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ed,"__esModule",{value:!0});const dA=uA(Cd);let fA=class extends dA.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ed.default=fA;var hA=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sl,"__esModule",{value:!0});const mA=hA(Ed);let pA=class extends mA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Sl.default=pA;var gA=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sd,"__esModule",{value:!0});const ao=gA(Sl);let vA=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new ao.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ao.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ao.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ao.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ao.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Sd.default=vA;var j_=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bg,"__esModule",{value:!0});const yA=j_(Sd),xA=j_(Sl);let bA=class __{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new yA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new __(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new xA.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Bg.default=bA;var Is=_r&&_r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const k_=Is(Bg);Ut.PostgrestClient=k_.default;const N_=Is(Sd);Ut.PostgrestQueryBuilder=N_.default;const S_=Is(Sl);Ut.PostgrestFilterBuilder=S_.default;const E_=Is(Ed);Ut.PostgrestTransformBuilder=E_.default;const C_=Is(Cd);Ut.PostgrestBuilder=C_.default;const P_=Is(Pd);Ut.PostgrestError=P_.default;var wA=Ut.default={PostgrestClient:k_.default,PostgrestQueryBuilder:N_.default,PostgrestFilterBuilder:S_.default,PostgrestTransformBuilder:E_.default,PostgrestBuilder:C_.default,PostgrestError:P_.default};const{PostgrestClient:jA,PostgrestQueryBuilder:FW,PostgrestFilterBuilder:qW,PostgrestTransformBuilder:WW,PostgrestBuilder:VW,PostgrestError:HW}=wA;class _A{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kA="2.15.5",NA=`realtime-js/${kA}`,SA="1.0.0",Om=1e4,EA=1e3,CA=100;var To;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(To||(To={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var zr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(zr||(zr={}));var Am;(function(e){e.websocket="websocket"})(Am||(Am={}));var Vi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vi||(Vi={}));class PA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class O_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const nx=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=OA(s,e,t,i),a),{})},OA=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?A_(a,s):Tm(s)},A_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IA(t,r)}switch(e){case ke.bool:return AA(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return TA(t);case ke.json:case ke.jsonb:return MA(t);case ke.timestamp:return DA(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Tm(t);default:return Tm(t)}},Tm=e=>e,AA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},IA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>A_(t,l))}return e},DA=e=>typeof e=="string"?e.replace(" ","T"):e,T_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Yf{constructor(t,r,n={},i=Om){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ix;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ix||(ix={}));class Mo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Mo.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mo.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ax;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ax||(ax={}));var Io;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Io||(Io={}));var pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class Fg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yf(this,zr.join,this.params,this.timeout),this.rejoinTimer=new O_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Mo(this),this.broadcastEndpointURL=T_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Xe.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Io.PRESENCE]&&this.bindings[Io.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(pn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(pn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,x=[];for(let g=0;g<w;g++){const p=b[g],{filter:{event:j,schema:_,table:N,filter:k}}=p,E=m&&m[g];if(E&&E.event===j&&E.schema===_&&E.table===N&&E.filter===k)x.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=Xe.errored,t==null||t(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(pn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Xe.errored,t==null||t(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Xe.joined&&t===Io.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yf(this,zr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Xe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>CA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=zr;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,b,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var y,b,w,x,g,p;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:w,commit_timestamp:x,type:g,errors:p}=y;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Fg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(zr.close,{},t)}_onError(t){this._on(zr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=nx(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=nx(t.columns,t.old_record)),r}}const Qf=()=>{},hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$A=[1e3,2e3,5e3,1e4],LA=1e4,RA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Om,this.transport=null,this.heartbeatIntervalMs=hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qf,this.ref=0,this.reconnectTimer=null,this.logger=Qf,this.conn=null,this.sendBuffer=[],this.serializer=new PA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>Nl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ms);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Am.websocket}`,this.httpEndpoint=T_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_A.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:SA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case To.connecting:return Vi.Connecting;case To.open:return Vi.Open;case To.closing:return Vi.Closing;default:return Vi.Closed}}isConnected(){return this.connectionState()===Vi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Fg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(EA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(zr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([RA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:NA};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new O_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Om,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:hc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Qf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>$A[f-1]||LA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class qg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UA extends qg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mm extends qg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var BA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const M_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ms);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FA=()=>BA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nl(()=>Promise.resolve().then(()=>Ms),void 0)).Response:Response}),Im=e=>{if(Array.isArray(e))return e.map(r=>Im(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Im(n)}),t},qA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var xa=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Jf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),WA=(e,t,r)=>xa(void 0,void 0,void 0,function*(){const n=yield FA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new UA(Jf(i),a,s))}).catch(i=>{t(new Mm(Jf(i),i))}):t(new Mm(Jf(e),e))}),VA=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(qA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function El(e,t,r,n,i,a){return xa(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,VA(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>WA(c,l,n))})})}function ju(e,t,r,n){return xa(this,void 0,void 0,function*(){return El(e,"GET",t,r,n)})}function en(e,t,r,n,i){return xa(this,void 0,void 0,function*(){return El(e,"POST",t,n,i,r)})}function Dm(e,t,r,n,i){return xa(this,void 0,void 0,function*(){return El(e,"PUT",t,n,i,r)})}function HA(e,t,r,n){return xa(this,void 0,void 0,function*(){return El(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function I_(e,t,r,n,i){return xa(this,void 0,void 0,function*(){return El(e,"DELETE",t,n,i,r)})}var At=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const KA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GA{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=M_(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return At(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},sx),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Dm:en)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}})}upload(t,r,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return At(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:sx.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Dm(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return At(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new qg("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}update(t,r,n){return At(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return At(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}copy(t,r,n){return At(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return At(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield en(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return At(this,void 0,void 0,function*(){try{const i=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}download(t,r){return At(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ju(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}})}info(t){return At(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ju(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Im(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}exists(t){return At(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield HA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n)&&n instanceof Mm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return At(this,void 0,void 0,function*(){try{return{data:yield I_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}list(t,r,n){return At(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},KA),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ze(i))return{data:null,error:i};throw i}})}listV2(t,r){return At(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const YA="2.12.1",QA={"X-Client-Info":`storage-js/${YA}`};var Ea=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class JA{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},QA),r),this.fetch=M_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ea(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield ju(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ea(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ea(this,void 0,void 0,function*(){try{return{data:yield Dm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield I_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}class XA extends JA{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new GA(this.url,this.headers,t,this.fetch)}}const ZA="2.57.4";let xo="";typeof Deno<"u"?xo="deno":typeof document<"u"?xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xo="react-native":xo="node";const eT={"X-Client-Info":`supabase-js-${xo}/${ZA}`},tT={headers:eT},rT={schema:"public"},nT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iT={};var aT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sT=e=>{let t;return e?t=e:typeof fetch>"u"?t=x_:t=fetch,(...r)=>t(...r)},oT=()=>typeof Headers>"u"?b_:Headers,lT=(e,t,r)=>{const n=sT(r),i=oT();return(a,s)=>aT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var cT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function uT(e){return e.endsWith("/")?e:e+"/"}function dT(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>cT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function fT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const D_="2.71.1",Ia=30*1e3,$m=3,Xf=$m*Ia,hT="http://localhost:9999",mT="supabase.auth.token",pT={"X-Client-Info":`gotrue-js/${D_}`},Lm="X-Supabase-Api-Version",$_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vT=10*60*1e3;class Wg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class yT extends Wg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function xT(e){return fe(e)&&e.name==="AuthApiError"}class L_ extends Wg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ci extends Wg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Yn extends Ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bT(e){return fe(e)&&e.name==="AuthSessionMissingError"}class mc extends Ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends Ci{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gc extends Ci{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wT(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class ox extends Ci{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rm extends Ci{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Zf(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class lx extends Ci{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class zm extends Ci{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cx=` 	
\r=`.split(""),jT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cx.length;t+=1)e[cx[t].charCodeAt(0)]=-2;for(let t=0;t<_u.length;t+=1)e[_u[t].charCodeAt(0)]=t;return e})();function ux(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_u[n]),t.queuedBits-=6}}function R_(e,t,r){const n=jT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dx(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{NT(s,n,r)};for(let s=0;s<e.length;s+=1)R_(e.charCodeAt(s),i,a);return t.join("")}function _T(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}_T(n,t)}}function NT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ST(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)R_(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ET(e){const t=[];return kT(e,r=>t.push(r)),new Uint8Array(t)}function CT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>ux(i,r,n)),ux(null,r,n),t.join("")}function PT(e){return Math.round(Date.now()/1e3)+e}function OT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dr=()=>typeof window<"u"&&typeof document<"u",$i={tested:!1,writable:!1},z_=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($i.tested)return $i.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),$i.tested=!0,$i.writable=!0}catch{$i.tested=!0,$i.writable=!1}return $i.writable};function AT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const U_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ms);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Da=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Li=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gn=async(e,t)=>{await e.removeItem(t)};class Od{constructor(){this.promise=new Od.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Od.promiseConstructor=Promise;function eh(e){const t=e.split(".");if(t.length!==3)throw new zm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!gT.test(t[n]))throw new zm("JWT not in base64url format");return{header:JSON.parse(dx(t[0])),payload:JSON.parse(dx(t[1])),signature:ST(t[2]),raw:{header:t[0],payload:t[1]}}}async function MT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function IT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function DT(e){return("0"+e.toString(16)).substr(-2)}function $T(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,DT).join("")}async function LT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function RT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await LT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ca(e,t,r=!1){const n=$T();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Da(e,`${t}-code-verifier`,i);const a=await RT(n);return[a,n===a?"plain":"s256"]}const zT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UT(e){const t=e.headers.get(Lm);if(!t||!t.match(zT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function FT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pa(e){if(!qT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function th(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fx(e){return JSON.parse(JSON.stringify(e))}var WT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Bi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VT=[502,503,504];async function hx(e){var t;if(!TT(e))throw new Rm(Bi(e),0);if(VT.includes(e.status))throw new Rm(Bi(e),e.status);let r;try{r=await e.json()}catch(a){throw new L_(Bi(a),a)}let n;const i=UT(e);if(i&&i.getTime()>=$_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lx(Bi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new lx(Bi(r),e.status,r.weak_password.reasons);throw new yT(Bi(r),e.status||500,n)}const HT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function he(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Lm]||(a[Lm]=$_["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await KT(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function KT(e,t,r,n,i,a){const s=HT(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Rm(Bi(c),0)}if(l.ok||await hx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await hx(c)}}function hn(e){var t;let r=null;JT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=PT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function mx(e){const t=hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function GT(e){return{data:e,error:null}}function YT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=WT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function QT(e){return e}function JT(e){return e.access_token&&e.refresh_token&&e.expires_in}const rh=["global","local","others"];var XT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class ZT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=U_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=rh[0]){if(rh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rh.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=XT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:YT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:QT});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Pa(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Pa(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Pa(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Pa(t.userId);try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Pa(t.userId),Pa(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function px(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function e4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oa={debug:!!(globalThis&&z_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class t4 extends B_{}async function r4(e,t,r){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}e4();const n4={url:hT,storageKey:mT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gx(e,t,r){return await r()}const Aa={};class tl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tl.nextInstanceID,tl.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},n4),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ZT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=U_(i.fetch),this.lock=i.lock||gx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Dr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r4:this.lock=gx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:z_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=px(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=px(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Aa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Aa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Aa[this.storageKey]=Object.assign(Object.assign({},Aa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${D_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=AT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Dr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),wT(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new L_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:hn}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ca(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:hn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:hn})}else throw new pc("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mx})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:mx})}else throw new pc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,l,c,u,d,f,h,m;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:w,wallet:x,statement:g,options:p}=t;let j;if(Dr())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:w,error:x}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:CT(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:hn});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new mc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hn});if(await Gn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(fe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:hn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ca(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new pc("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:hn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ca(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:GT})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yn;const{error:i}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new pc("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Li(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Li(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=th()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ni}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ni})})}catch(r){if(fe(r))return bT(r)&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Yn;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ca(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:ni});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=eh(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Dr())throw new gc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ox("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ox("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new gc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ia&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Li(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(xT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=OT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ca(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(fe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await IT(async i=>(i>0&&await MT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Zf(a)&&Date.now()+s-n<Ia})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Li(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Li(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Da(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:th()}else if(i&&!i.user&&!i.user){const s=await Li(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Gn(this.storage,this.storageKey+"-user"),await Da(this.storage,this.storageKey,i)):i.user=th()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Xf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Zf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Od;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),fe(a)){const s={session:null,error:a};return Zf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Da(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=fx(i);await Da(this.storage,this.storageKey,a)}else{const i=fx(r);await Da(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gn(this.storage,this.storageKey),await Gn(this.storage,this.storageKey+"-code-verifier"),await Gn(this.storage,this.storageKey+"-user"),this.userStorage&&await Gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ia);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ia);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ia}ms, refresh threshold is ${$m} ticks`),i<=$m&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof B_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ca(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=eh(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+vT>i)return n;const{data:a,error:s}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=eh(n);r!=null&&r.allowExpired||BT(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const d=FT(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,ET(`${l}.${c}`)))throw new zm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}tl.nextInstanceID=0;const i4=tl;class a4 extends i4{constructor(t){super(t)}}var s4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class o4{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const l=fT(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:rT,realtime:iT,auth:Object.assign(Object.assign({},nT),{storageKey:c}),global:tT},d=dT(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=lT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jA(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new XA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new eA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return s4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new zA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const l4=(e,t,r)=>new o4(e,t,r);function c4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}c4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const u4="https://dpbohbsxstthvhzgqxje.supabase.co",d4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0",B=l4(u4,d4,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),oi=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ms=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:i,error:a}=await B.storage.from("cloudmenu").upload(n,e);if(a)return{url:"",error:a.message};const{data:s}=B.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},ts=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await B.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},f4=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await B.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},F_=v.createContext(void 0);function or(){const e=v.useContext(F_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function h4({children:e}){const[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{const b=new URLSearchParams(window.location.search),w=b.has("code")||b.has("access_token")||b.has("token_type");d(w)},[]),v.useEffect(()=>{const b=()=>{const w=!document.hidden,x=a;if(x!==w&&s(w),w&&!x&&t&&!u){const g=Date.now(),p=sessionStorage.getItem("lastSessionCheck");g-(p?parseInt(p):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",g.toString()),B.auth.getSession().then(({data:{session:_}})=>{!_&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(_=>{console.error("Error checking session on tab visibility change:",_)}))}};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[t,u]),v.useEffect(()=>{let b=!0,w=null;const x=u?15e3:8e3,g=setTimeout(()=>{b&&n&&(console.warn(`Auth initialization timeout after ${x}ms - forcing completion`),i(!1),B.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&b&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},x);return c(g),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),_=sessionStorage.getItem("lastAuthInit");if(j-(_?parseInt(_):0)<60*60*1e3&&t&&!u){i(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:k}}=await B.auth.getSession();g&&clearTimeout(g),b&&r((k==null?void 0:k.user)??null)}catch(k){console.error("Error initializing auth:",k),g&&clearTimeout(g),b&&r(null)}finally{b&&(i(!1),g&&clearTimeout(g))}})(),w=B.auth.onAuthStateChange(async(j,_)=>{var N;if(b&&!(!a&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((N=_==null?void 0:_.user)==null?void 0:N.id)===t.id))try{r((_==null?void 0:_.user)??null)}catch(k){console.error("Error in auth state change:",k)}finally{b&&i(!1)}}),()=>{b=!1,l&&clearTimeout(l),w&&w.data.subscription.unsubscribe()}},[a,u]);const f=async(b,w)=>{const{error:x}=await B.auth.signInWithPassword({email:b,password:w});return{error:x??void 0}},h=async(b,w)=>{const{error:x}=await B.auth.signUp({email:b,password:w});return{error:x??void 0}},m=async()=>{try{const{error:b}=await B.auth.signOut();b?console.error("Erreur lors de la dconnexion:",b):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},y={user:t,loading:n,signIn:f,signUp:h,signOut:m};return o.jsx(F_.Provider,{value:y,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...m4,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${p4(e)}`,l].join(" "),...u},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=te("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=te("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=te("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=te("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=te("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class I4 extends v.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(g4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontr une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner  l'accueil."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(A4,{className:"w-4 h-4"}),o.jsx("span",{children:"Recharger"})]}),o.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Si le problme persiste:"}),o.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[o.jsx("li",{children:" Vrifiez votre connexion internet"}),o.jsx("li",{children:" Effacez le cache de votre navigateur"}),o.jsx("li",{children:" Contactez le support si ncessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wx="popstate";function D4(e={}){function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return Km("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ol(i)}return L4(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $4(){return Math.random().toString(36).substring(2,10)}function jx(e,t){return{usr:e.state,key:e.key,idx:t}}function Km(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ds(t):t,state:r,key:t&&t.key||n||$4()}}function ol({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ds(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function L4(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let w=d(),x=w==null?null:w-u;u=w,c&&c({action:l,location:b.location,delta:x})}function h(w,x){l="PUSH";let g=Km(b.location,w,x);u=d()+1;let p=jx(g,u),j=b.createHref(g);try{s.pushState(p,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&c&&c({action:l,location:b.location,delta:1})}function m(w,x){l="REPLACE";let g=Km(b.location,w,x);u=d();let p=jx(g,u),j=b.createHref(g);s.replaceState(p,"",j),a&&c&&c({action:l,location:b.location,delta:0})}function y(w){return R4(w)}let b={get action(){return l},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(wx,f),c=w,()=>{i.removeEventListener(wx,f),c=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let x=y(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(w){return s.go(w)}};return b}function R4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ol(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function H_(e,t,r="/"){return z4(e,t,r,!1)}function z4(e,t,r,n){let i=typeof t=="string"?Ds(t):t,a=In(i.pathname||"/",r);if(a==null)return null;let s=K_(e);U4(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=J4(a);l=Y4(s[c],u,n)}return l}function K_(e,t=[],r=[],n="",i=!1){let a=(s,l,c=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Le(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=Sn([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),K_(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:K4(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let u of G_(s.path))a(s,l,!0,u)}),t}function G_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=G_(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function U4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var B4=/^:[\w-]+$/,F4=3,q4=2,W4=1,V4=10,H4=-2,_x=e=>e==="*";function K4(e,t){let r=e.split("/"),n=r.length;return r.some(_x)&&(n+=H4),t&&(n+=q4),r.filter(i=>!_x(i)).reduce((i,a)=>i+(B4.test(a)?F4:a===""?W4:V4),n)}function G4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Y4(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Nu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Nu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Sn([a,f.pathname]),pathnameBase:tM(Sn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=Sn([a,f.pathnameBase]))}return s}function Nu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Q4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function Q4(e,t=!1,r=!0){Hr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function J4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function In(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function X4(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ds(e):e;return{pathname:r?r.startsWith("/")?r:Z4(r,t):t,search:rM(n),hash:nM(i)}}function Z4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ah(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Y_(e){let t=eM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Q_(e,t,r,n=!1){let i;typeof e=="string"?i=Ds(e):(i={...e},Le(!i.pathname||!i.pathname.includes("?"),ah("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),ah("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),ah("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=X4(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var Sn=e=>e.join("/").replace(/\/\/+/g,"/"),tM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,nM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var J_=["POST","PUT","PATCH","DELETE"];new Set(J_);var aM=["GET",...J_];new Set(aM);var $s=v.createContext(null);$s.displayName="DataRouter";var Ad=v.createContext(null);Ad.displayName="DataRouterState";v.createContext(!1);var X_=v.createContext({isTransitioning:!1});X_.displayName="ViewTransition";var sM=v.createContext(new Map);sM.displayName="Fetchers";var oM=v.createContext(null);oM.displayName="Await";var un=v.createContext(null);un.displayName="Navigation";var Ol=v.createContext(null);Ol.displayName="Location";var dn=v.createContext({outlet:null,matches:[],isDataRoute:!1});dn.displayName="Route";var Yg=v.createContext(null);Yg.displayName="RouteError";function lM(e,{relative:t}={}){Le(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(un),{hash:i,pathname:a,search:s}=Tl(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:Sn([r,a])),n.createHref({pathname:l,search:s,hash:i})}function Al(){return v.useContext(Ol)!=null}function Un(){return Le(Al(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ol).location}var Z_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e2(e){v.useContext(un).static||v.useLayoutEffect(e)}function Gr(){let{isDataRoute:e}=v.useContext(dn);return e?wM():cM()}function cM(){Le(Al(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext($s),{basename:t,navigator:r}=v.useContext(un),{matches:n}=v.useContext(dn),{pathname:i}=Un(),a=JSON.stringify(Y_(n)),s=v.useRef(!1);return e2(()=>{s.current=!0}),v.useCallback((c,u={})=>{if(Hr(s.current,Z_),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=Q_(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Sn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}v.createContext(null);function ba(){let{matches:e}=v.useContext(dn),t=e[e.length-1];return t?t.params:{}}function Tl(e,{relative:t}={}){let{matches:r}=v.useContext(dn),{pathname:n}=Un(),i=JSON.stringify(Y_(r));return v.useMemo(()=>Q_(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function uM(e,t){return t2(e,t)}function t2(e,t,r,n,i){var g;Le(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(un),{matches:s}=v.useContext(dn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let p=f&&f.path||"";r2(u,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Un(),m;if(t){let p=typeof t=="string"?Ds(t):t;Le(d==="/"||((g=p.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let y=m.pathname||"/",b=y;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=H_(e,{pathname:b});Hr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Hr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=pM(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Sn([d,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:Sn([d,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n,i);return t&&x?v.createElement(Ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function dM(){let e=bM(),t=iM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,s)}var fM=v.createElement(dM,null),hM=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(dn.Provider,{value:this.props.routeContext},v.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mM({routeContext:e,match:t,children:r}){let n=v.useContext($s);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(dn.Provider,{value:e},r)}function pM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Le(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,m=!1,y=null,b=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||fM,l&&(c<0&&f===0?(r2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),x=()=>{let g;return h?g=y:m?g=b:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,v.createElement(mM,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(hM,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):x()},null)}function Qg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gM(e){let t=v.useContext($s);return Le(t,Qg(e)),t}function vM(e){let t=v.useContext(Ad);return Le(t,Qg(e)),t}function yM(e){let t=v.useContext(dn);return Le(t,Qg(e)),t}function Jg(e){let t=yM(e),r=t.matches[t.matches.length-1];return Le(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function xM(){return Jg("useRouteId")}function bM(){var n;let e=v.useContext(Yg),t=vM("useRouteError"),r=Jg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function wM(){let{router:e}=gM("useNavigate"),t=Jg("useNavigate"),r=v.useRef(!1);return e2(()=>{r.current=!0}),v.useCallback(async(i,a={})=>{Hr(r.current,Z_),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var kx={};function r2(e,t,r){!t&&!kx[e]&&(kx[e]=!0,Hr(!1,r))}v.memo(jM);function jM({routes:e,future:t,state:r,unstable_onError:n}){return t2(e,void 0,r,n,t)}function mt(e){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _M({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Le(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=Ds(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=v.useMemo(()=>{let y=In(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Hr(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(un.Provider,{value:l},v.createElement(Ol.Provider,{children:t,value:m}))}function kM({children:e,location:t}){return uM(Gm(e),t)}function Gm(e,t=[]){let r=[];return v.Children.forEach(e,(n,i)=>{if(!v.isValidElement(n))return;let a=[...t,i];if(n.type===v.Fragment){r.push.apply(r,Gm(n.props.children,a));return}Le(n.type===mt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Gm(n.props.children,a)),r.push(s)}),r}var Gc="get",Yc="application/x-www-form-urlencoded";function Td(e){return e!=null&&typeof e.tagName=="string"}function NM(e){return Td(e)&&e.tagName.toLowerCase()==="button"}function SM(e){return Td(e)&&e.tagName.toLowerCase()==="form"}function EM(e){return Td(e)&&e.tagName.toLowerCase()==="input"}function CM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function PM(e,t){return e.button===0&&(!t||t==="_self")&&!CM(e)}function Ym(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function OM(e,t){let r=Ym(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var vc=null;function AM(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var TM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sh(e){return e!=null&&!TM.has(e)?(Hr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):e}function MM(e,t){let r,n,i,a,s;if(SM(e)){let l=e.getAttribute("action");n=l?In(l,t):null,r=e.getAttribute("method")||Gc,i=sh(e.getAttribute("enctype"))||Yc,a=new FormData(e)}else if(NM(e)||EM(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?In(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Gc,i=sh(e.getAttribute("formenctype"))||sh(l.getAttribute("enctype"))||Yc,a=new FormData(l,e),!AM()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Td(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Gc,n=null,i=Yc,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function IM(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&In(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function DM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $M(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function LM(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await DM(a,r);return s.links?s.links():[]}return[]}));return BM(n.flat(1).filter($M).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Nx(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function RM(e,t,{includeHydrateFallback:r}={}){return zM(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function zM(e){return[...new Set(e)]}function UM(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function BM(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(UM(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function n2(){let e=v.useContext($s);return Xg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FM(){let e=v.useContext(Ad);return Xg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zg=v.createContext(void 0);Zg.displayName="FrameworkContext";function i2(){let e=v.useContext(Zg);return Xg(e,"You must render this element inside a <HydratedRouter> element"),e}function qM(e,t){let r=v.useContext(Zg),[n,i]=v.useState(!1),[a,s]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=x=>{x.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:so(l,m),onBlur:so(c,y),onMouseEnter:so(u,m),onMouseLeave:so(d,y),onTouchStart:so(f,m)}]:[!1,h,{}]}function so(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function WM({page:e,...t}){let{router:r}=n2(),n=v.useMemo(()=>H_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(HM,{page:e,matches:n,...t}):null}function VM(e){let{manifest:t,routeModules:r}=i2(),[n,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return LM(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function HM({page:e,matches:t,...r}){let n=Un(),{manifest:i,routeModules:a}=i2(),{basename:s}=n2(),{loaderData:l,matches:c}=FM(),u=v.useMemo(()=>Nx(e,t,c,i,n,"data"),[e,t,c,i,n]),d=v.useMemo(()=>Nx(e,t,c,i,n,"assets"),[e,t,c,i,n]),f=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(t.forEach(x=>{var p;let g=i.routes[x.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===x.route.id)&&x.route.id in l&&((p=a[x.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?b=!0:y.add(x.route.id))}),y.size===0)return[];let w=IM(e,s,"data");return b&&y.size>0&&w.searchParams.set("_routes",t.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[s,l,n,i,u,t,e,a]),h=v.useMemo(()=>RM(d,i),[d,i]),m=VM(d);return v.createElement(v.Fragment,null,f.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),h.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:b})=>v.createElement("link",{key:y,nonce:r.nonce,...b})))}function KM(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var a2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a2&&(window.__reactRouterVersion="7.9.1")}catch{}function GM({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=D4({window:r,v5Compat:!0}));let i=n.current,[a,s]=v.useState({action:i.action,location:i.location}),l=v.useCallback(c=>{v.startTransition(()=>s(c))},[s]);return v.useLayoutEffect(()=>i.listen(l),[i,l]),v.createElement(_M,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var s2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=v.useContext(un),b=typeof u=="string"&&s2.test(u),w,x=!1;if(typeof u=="string"&&b&&(w=u,a2))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),P=In(C.pathname,y);C.origin===S.origin&&P!=null?u=P+C.search+C.hash:x=!0}catch{Hr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=lM(u,{relative:i}),[p,j,_]=qM(n,h),N=XM(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function k(S){t&&t(S),S.defaultPrevented||N(S)}let E=v.createElement("a",{...h,..._,href:w||g,onClick:x||a?t:k,ref:KM(m,j),target:c,"data-discover":!b&&r==="render"?"true":void 0});return p&&!b?v.createElement(v.Fragment,null,E,v.createElement(WM,{page:g})):E});rt.displayName="Link";var YM=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let f=Tl(s,{relative:u.relative}),h=Un(),m=v.useContext(Ad),{navigator:y,basename:b}=v.useContext(un),w=m!=null&&i3(f)&&l===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),p=p?p.toLowerCase():null,x=x.toLowerCase()),p&&b&&(p=In(p,b)||p);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=g===x||!i&&g.startsWith(x)&&g.charAt(j)==="/",N=p!=null&&(p===x||!i&&p.startsWith(x)&&p.charAt(x.length)==="/"),k={isActive:_,isPending:N,isTransitioning:w},E=_?t:void 0,S;typeof n=="function"?S=n(k):S=[n,_?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(k):a;return v.createElement(rt,{...u,"aria-current":E,className:S,ref:d,style:C,to:s,viewTransition:l},typeof c=="function"?c(k):c)});YM.displayName="NavLink";var QM=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=Gc,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=r3(),b=n3(l,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&s2.test(l),g=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let j=p.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||s;y(j||p.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:m,method:w,action:b,onSubmit:n?c:g,...h,"data-discover":!x&&e==="render"?"true":void 0})});QM.displayName="Form";function JM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o2(e){let t=v.useContext($s);return Le(t,JM(e)),t}function XM(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=Gr(),c=Un(),u=Tl(e,{relative:a});return v.useCallback(d=>{if(PM(d,t)){d.preventDefault();let f=r!==void 0?r:ol(c)===ol(u);l(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,r,n,t,e,i,a,s])}function ZM(e){Hr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Ym(e)),r=v.useRef(!1),n=Un(),i=v.useMemo(()=>OM(n.search,r.current?null:t.current),[n.search]),a=Gr(),s=v.useCallback((l,c)=>{const u=Ym(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var e3=0,t3=()=>`__${String(++e3)}__`;function r3(){let{router:e}=o2("useSubmit"),{basename:t}=v.useContext(un),r=xM();return v.useCallback(async(n,i={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=MM(n,t);if(i.navigate===!1){let d=i.fetcherKey||t3();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function n3(e,{relative:t}={}){let{basename:r}=v.useContext(un),n=v.useContext(dn);Le(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Tl(e||".",{relative:t})},s=Un();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Sn([r,a.pathname])),ol(a)}function i3(e,{relative:t}={}){let r=v.useContext(X_);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=o2("useViewTransitionState"),i=Tl(e,{relative:t});if(!r.isTransitioning)return!1;let a=In(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=In(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nu(i.pathname,s)!=null||Nu(i.pathname,a)!=null}const a3=()=>{const[e,t]=v.useState("classic"),[r,n]=v.useState(""),[i,a]=v.useState(""),[s,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[y,b]=v.useState(""),[w,x]=v.useState(!1),[g,p]=v.useState(!1),[j,_]=v.useState(""),[N,k]=v.useState(!1),{signIn:E,signUp:S}=or(),C=async Y=>{if(Y.preventDefault(),!r.trim()||!i.trim()){P("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:H}=await E(r,i);H&&P("error",H.message==="Invalid login credentials"?"Email ou mot de passe incorrect":H.message)}catch{P("error","Une erreur est survenue")}finally{u(!1)}},P=(Y,H)=>{m({type:Y,text:H}),setTimeout(()=>m(null),5e3)},M=async Y=>{if(Y.preventDefault(),!j.trim()){P("error","Veuillez entrer votre adresse email");return}k(!0);try{const{error:H}=await B.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});H?P("error",H.message):(P("success","Un email de rinitialisation a t envoy  votre adresse email."),p(!1),_(""))}catch{P("error","Une erreur est survenue")}finally{k(!1)}},I=async Y=>{if(Y.preventDefault(),!y.trim()){P("error","Veuillez entrer votre adresse email");return}x(!0);try{const{error:H}=await B.auth.signInWithOtp({email:y,options:{emailRedirectTo:`${window.location.origin}/`}});H?P("error",H.message):(P("success","Un lien de connexion a t envoy  votre adresse email ! Cliquez sur le lien pour vous connecter."),b(""))}catch{P("error","Une erreur est survenue")}finally{x(!1)}},$=async()=>{try{const{error:Y}=await B.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});Y&&P("error",Y.message)}catch{P("error","Erreur lors de la connexion avec Google")}},J=async()=>{if(!r.trim()||!i.trim()){P("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:Y}=await S(r,i);Y?P("error",Y.message):(P("success","Compte cr avec succs ! Vous pouvez maintenant vous connecter."),a(""))}catch{P("error","Une erreur est survenue")}finally{f(!1)}};return g?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oubli"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de rinitialisation"})]}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Um,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Mn,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:o.jsxs("form",{onSubmit:M,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(qm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:Y=>_(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:N,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:N?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Envoyer le lien de rinitialisation"}),o.jsx(nh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{p(!1),_(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour  la connexion"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Um,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Mn,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"flex bg-gray-50",children:[o.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Email & Mot de passe"})]})}),o.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ih,{className:"w-4 h-4"}),o.jsx("span",{children:"Connexion magique"})]})})]}),o.jsxs("div",{className:"p-8",children:[e==="classic"&&o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(sl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:Y=>n(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(rs,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:Y=>a(Y.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>l(!s),children:s?o.jsx(ta,{size:20}):o.jsx(sn,{size:20})})]})]}),o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oubli ?"})}),o.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[o.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Se connecter"}),o.jsx(nh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("button",{type:"button",onClick:J,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsx("span",{children:"Crer un compte"})})]})]}),e==="magic"&&o.jsxs("form",{onSubmit:I,className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ih,{className:"w-8 h-8 text-orange-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanment."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(qm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:y,onChange:Y=>b(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(ih,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Envoyer le lien magique"}),o.jsx(nh,{className:"ml-2 w-4 h-4"})]})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),o.jsxs("button",{type:"button",onClick:$,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(sl,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de dmonstration"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function Jr({children:e}){const{user:t,loading:r}=or(),n=Gr(),[i,a]=v.useState(!1),[s,l]=v.useState(null),[c,u]=v.useState(!0),[d,f]=v.useState(!document.hidden),[h,m]=v.useState(null),[y,b]=v.useState(!1);v.useEffect(()=>{const g=new URLSearchParams(window.location.search),p=g.has("code")||g.has("access_token")||g.has("token_type");b(p)},[]),v.useEffect(()=>{if(y)return;const g=setTimeout(()=>{(i||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),a(!1))},1e4);return m(g),()=>{clearTimeout(g),m(null)}},[i,r,c,y]),v.useEffect(()=>{const g=()=>{const p=!document.hidden;p!==d&&f(p)};return document.addEventListener("visibilitychange",g),()=>document.removeEventListener("visibilitychange",g)},[d]),v.useEffect(()=>{let g=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){g&&l(!1);return}const j=Date.now(),_=sessionStorage.getItem("lastMenuCheck");if(j-(_?parseInt(_):0)<5*60*1e3&&s!==null)return;const k=s===null&&window.location.pathname!=="/onboarding";k&&a(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:E,error:S}=await B.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!g)return;if(S&&S.code!=="PGRST116"){console.error("Error checking restaurant profile:",S),l(!1),n("/onboarding",{replace:!0});return}const C=!!E;l(C),!C&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(E){if(!g)return;console.error("Exception during profile check:",E),l(!1),n("/onboarding",{replace:!0})}finally{g&&k&&a(!1)}})(),()=>{g=!1})},[t,r,n,s,d,y]),v.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),x=i&&s===null;if(w||x){const g=y?"Finalisation de la connexion...":w?"Chargement...":x?"Vrification du compte...":"Initialisation...";return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:g})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vrification du compte..."})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(a3,{})}const s3=()=>{const{user:e,loading:t}=or(),r=Gr(),[n,i]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState(!1),x=3;v.useEffect(()=>{e&&g()},[e]),v.useEffect(()=>{const P=setTimeout(()=>{if(u.restaurant_name.trim()){const M=oi(u.restaurant_name);d(I=>({...I,slug:M})),y(!0)}else d(M=>({...M,slug:""})),y(null)},500);return()=>clearTimeout(P)},[u.restaurant_name]);const g=async()=>{try{const{data:C,error:P}=await B.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(P&&P.code!=="PGRST116"){console.error("Erreur lors de la vrification du profil:",P);return}C&&r("/",{replace:!0})}catch(C){console.error("Erreur lors de la vrification du profil:",C)}},p=(C,P)=>{c({type:C,text:P}),setTimeout(()=>c(null),5e3)},j=(C,P)=>{d(M=>({...M,[C]:P}))},_=async(C,P)=>{if(!C||!e)return;const M=5*1024*1024;if(C.size>M){p("error","Le fichier est trop volumineux (max 5MB)");return}if(!C.type.startsWith("image/")){p("error","Veuillez slectionner une image valide");return}w(!0);try{const I=P==="banner"?"banners":"logos",$=await ms(C,e.id,I);j(P==="banner"?"banner_url":"logo_url",$),p("success",`${P==="banner"?"Bannire":"Logo"} upload avec succs`)}catch{p("error","Erreur lors de l'upload")}finally{w(!1)}},N=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},k=()=>{N()&&n<x&&i(n+1)},E=()=>{n>1&&i(n-1)},S=async()=>{if(e){s(!0);try{const C={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:P}=await B.from("restaurant_profiles").insert([C]);if(P)throw P;p("success","Restaurant cr avec succs ! Bienvenue sur CloudMenu ! "),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(C){console.error("Erreur lors de la cration du restaurant:",C),p("error","Erreur lors de la cration du restaurant")}finally{s(!1)}}};return t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 relative",children:[o.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette tape"}),o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! "}),o.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques tapes simples"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(x)].map((C,P)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${P+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:P+1}),P<x-1&&o.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${P+1<n?"bg-orange-600":"bg-gray-200"}`})]},P))}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Informations de base"}),o.jsx("span",{children:"Images"}),o.jsx("span",{children:"Contact"})]})]}),l&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[l.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ae,{className:"w-5 h-5"}),o.jsx("span",{children:l.text})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre tablissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Commenons par les informations essentielles de votre restaurant."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),o.jsx("input",{type:"text",value:u.restaurant_name,onChange:C=>j("restaurant_name",C.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?o.jsx(ye,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?o.jsx(Fe,{className:"w-5 h-5 text-green-600"}):m===!1?o.jsx(Mn,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom diffrent."}),m===!0&&o.jsx("p",{className:"mt-2 text-sm text-green-600",children:" Cette URL est disponible et sera rserve pour votre tablissement."}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:" Cette URL sera dfinitive et servira  gnrer votre QR code."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),o.jsx("textarea",{value:u.description,onChange:C=>j("description",C.target.value),placeholder:"Dcrivez votre tablissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre tablissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannire pour personnaliser votre menu (optionnel)."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannire du restaurant"}),o.jsxs("div",{className:"space-y-3",children:[u.banner_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:u.banner_url,alt:"Bannire",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),o.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ae,{size:12})})]}),o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var M;const P=(M=C.target.files)==null?void 0:M[0];P&&_(P,"banner")},className:"hidden",disabled:b}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:b?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin text-orange-600"}),o.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(gs,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannire"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu' 5MB"})]})})]})]})]})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(er,{className:"inline w-4 h-4 mr-1"}),"Tlphone"]}),o.jsx("input",{type:"tel",value:u.telephone,onChange:C=>j("telephone",C.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(vi,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),o.jsx("input",{type:"tel",value:u.whatsapp,onChange:C=>j("whatsapp",C.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Rseaux sociaux"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ji,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:u.instagram,onChange:C=>j("instagram",C.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(wi,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:u.facebook,onChange:C=>j("facebook",C.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),o.jsx("input",{type:"url",value:u.tiktok,onChange:C=>j("tiktok",C.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),o.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[o.jsxs("button",{onClick:E,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(q_,{size:20}),o.jsx("span",{children:"Prcdent"})]}),n<x?o.jsxs("button",{onClick:k,disabled:!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx("span",{children:"Suivant"}),o.jsx(Vg,{size:20})]}):o.jsxs("button",{onClick:S,disabled:a||!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsx(Fe,{size:20}),o.jsx("span",{children:a?"Cration...":"Crer mon restaurant"})]})]})]}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En crant votre menu, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},o3=()=>{var p;const{user:e}=or();v.useState(!1);const[t,r]=v.useState(null),[n,i]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=v.useState({current:!1,new:!1,confirm:!1}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(""),[m,y]=v.useState(!1),b=(j,_)=>{r({type:j,text:_}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){b("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){b("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){b("error","Le nouveau mot de passe doit contenir au moins 6 caractres");return}c(!0);try{const{error:_}=await B.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(_){b("error","Mot de passe actuel incorrect");return}const{error:N}=await B.auth.updateUser({password:n.newPassword});if(N){b("error","Erreur lors de la mise  jour du mot de passe");return}i({currentPassword:"",newPassword:"",confirmPassword:""}),b("success","Mot de passe mis  jour avec succs")}catch(_){console.error("Erreur lors du changement de mot de passe:",_),b("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},x=async()=>{if(f!=="SUPPRIMER"){b("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}y(!0);try{const{data:j,error:_}=await B.from("menus").select("id").eq("user_id",e.id);_&&console.error("Erreur lors de la rcupration des menus:",_);const{error:N}=await B.auth.admin.deleteUser(e.id);if(N){b("error","Erreur lors de la suppression du compte");return}b("success","Compte supprim avec succs")}catch(j){console.error("Erreur lors de la suppression du compte:",j),b("error","Erreur lors de la suppression du compte")}finally{y(!1),d(!1),h("")}};if(!e)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const g=((p=e.email)==null?void 0:p.split("@")[0])||"Utilisateur";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?o.jsx(Fe,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Ae,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:t.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramtres du compte"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Grez vos informations personnelles et paramtres de scurit"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(sl,{size:20}),o.jsx("span",{children:"Informations du profil"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(sl,{size:20,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:g}),o.jsx("div",{className:"text-sm text-gray-500",children:"Gnr automatiquement depuis votre email"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas tre modifi pour des raisons de scurit"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte cr le"}),o.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(rs,{size:20}),o.jsx("span",{children:"Changer le mot de passe"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.current?"text":"password",value:n.currentPassword,onChange:j=>i(_=>({..._,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.current?o.jsx(ta,{size:16}):o.jsx(sn,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.new?"text":"password",value:n.newPassword,onChange:j=>i(_=>({..._,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.new?o.jsx(ta,{size:16}):o.jsx(sn,{size:16})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.confirm?"text":"password",value:n.confirmPassword,onChange:j=>i(_=>({..._,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.confirm?o.jsx(ta,{size:16}):o.jsx(sn,{size:16})})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:l,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[l?o.jsx(ye,{className:"w-4 h-4 animate-spin"}):o.jsx(Pl,{size:16}),o.jsx("span",{children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[o.jsx(Mn,{size:20}),o.jsx("span",{children:"Zone de danger"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer dfinitivement le compte"}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irrversible. Tous vos menus, catgories, plats et donnes analytiques seront supprims dfinitivement."}),u?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",o.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),o.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:x,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?o.jsx(ye,{className:"w-4 h-4 animate-spin"}):o.jsx(da,{size:16}),o.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),o.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(da,{size:16}),o.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},l3=()=>{ZM();const e=Gr(),[t,r]=v.useState(""),[n,i]=v.useState(""),[a,s]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,y]=v.useState(null);v.useEffect(()=>{(async()=>{try{const{data:{session:g},error:p}=await B.auth.getSession();if(p){console.error("Session error:",p),y(!1);return}g&&g.user?y(!0):y(!1)}catch(g){console.error("Error checking session:",g),y(!1)}})()},[]);const b=(x,g)=>{h({type:x,text:g}),setTimeout(()=>h(null),5e3)},w=async x=>{if(x.preventDefault(),!t.trim()||!n.trim()){b("error","Veuillez remplir tous les champs");return}if(t!==n){b("error","Les mots de passe ne correspondent pas");return}if(t.length<6){b("error","Le mot de passe doit contenir au moins 6 caractres");return}d(!0);try{const{error:g}=await B.auth.updateUser({password:t});g?b("error",g.message):(b("success","Mot de passe mis  jour avec succs ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{b("error","Une erreur est survenue")}finally{d(!1)}};return m===null?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vrification du lien..."})]})}):m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe scuris pour votre compte"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(rs,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:" Rinitialisation de mot de passe"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Vous tes dans le processus de rinitialisation de votre mot de passe. Une fois votre nouveau mot de passe dfini, vous serez automatiquement connect  votre tableau de bord."})]})]})}),f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Um,{className:"w-5 h-5"}):o.jsx(Mn,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:f.text})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:x=>r(x.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!a),children:a?o.jsx(ta,{size:20}):o.jsx(sn,{size:20})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractres"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(rs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:x=>i(x.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!l),children:l?o.jsx(ta,{size:20}):o.jsx(sn,{size:20})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):"Mettre  jour le mot de passe"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour  la connexion"})})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:" Scurit"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et scuris. Une fois modifi, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full space-y-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx(Mn,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expir"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de rinitialisation de mot de passe n'est plus valide ou a expir."}),o.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour  la connexion"})]})})})},l2=v.memo(({onMenuToggle:e})=>{var c;const[t,r]=v.useState(!1),{user:n,signOut:i}=or(),a=async()=>{r(!1);try{await i()}catch(u){console.error("Erreur lors de la dconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",l=(n==null?void 0:n.email)||"";return o.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(ku,{size:20})}),o.jsx("div",{className:"flex items-center",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(v4,{size:18,className:"sm:w-5 sm:h-5"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(sl,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),o.jsxs("div",{className:"text-left hidden sm:block",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:l})]}),o.jsx(rl,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-sm text-gray-500",children:l}),o.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configur"})]}),o.jsxs("div",{className:"py-1",children:[o.jsxs(rt,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(al,{size:16}),o.jsx("span",{children:"Paramtres du compte"})]}),o.jsxs("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(O4,{size:16}),o.jsx("span",{children:"Se dconnecter"})]})]})]})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});l2.displayName="Header";const c2=v.memo(({isOpen:e,onClose:t})=>{const r=Un(),n=[{section:"Tableau de bord",items:[{icon:S4,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:Gg,label:"Identit Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:C4,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:ns,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:yr,label:"Rservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:al,label:"Paramtres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return o.jsx(o.Fragment,{children:o.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[o.jsx("div",{className:"lg:hidden flex justify-end p-4",children:o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:o.jsx(Ae,{size:20})})}),o.jsx("div",{className:"p-4 lg:pt-4",children:n.map((i,a)=>o.jsxs("div",{className:"mb-6 lg:mb-8",children:[o.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:i.section}),o.jsx("nav",{className:"space-y-1",children:i.items.map((s,l)=>s.path?o.jsxs(rt,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l):o.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l))})]},a))})]})})});c2.displayName="Sidebar";const c3=({children:e})=>o.jsx("div",{className:"animate-fadeIn",children:e}),$r=v.memo(({children:e,currentPage:t})=>{const[r,n]=v.useState(!1),i=v.useCallback(()=>n(l=>!l),[]),a=v.useCallback(()=>n(!1),[]),s=v.useCallback(()=>{r&&a()},[r,a]);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(l2,{onMenuToggle:i}),o.jsx(c2,{currentPage:t,isOpen:r,onClose:a}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),o.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:o.jsx(c3,{children:e})})})]})});$r.displayName="MainLayout";const wa=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?o.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},Sx=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"ar",name:"",flag:""},{code:"zh",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"ru",name:"",flag:""},{code:"nl",name:"Nederlands",flag:""}],u3=({menuId:e,defaultLanguage:t,menuName:r})=>{const[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState("");v.useEffect(()=>{x()},[e]);const x=async()=>{try{const{data:S,error:C}=await B.from("menu_languages").select("*").eq("menu_id",e).order("created_at",{ascending:!0});if(C)throw C;i(S||[])}catch(S){console.error("Error loading languages:",S)}finally{s(!1)}},g=(S,C)=>{d({type:S,text:C}),setTimeout(()=>d(null),3e3)},p=async(S,C)=>{c(S);try{const{data:{session:P}}=await B.auth.getSession();if(!P)throw new Error("Not authenticated");const M=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-menu",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({menuId:e,targetLanguage:S,languageName:C})});if(!M.ok){const $=await M.json();throw new Error($.error||"Translation failed")}try{const $=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-interface",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({languageCode:S,languageName:C})});$.ok||console.warn("Interface translation warning:",await $.text())}catch($){console.warn("Interface translation failed:",$)}const I=await M.json();g("success",`Traduction en ${C} russie`),await x(),h(!1)}catch(P){console.error("Translation error:",P),g("error",P.message||"Erreur lors de la traduction")}finally{c(null)}},j=(S,C)=>{y(S),w(C)},_=()=>{y(null),w("")},N=async S=>{if(!b.trim()){g("error","Le titre ne peut pas tre vide");return}try{const{error:C}=await B.from("menu_languages").update({menu_title:b.trim()}).eq("id",S);if(C)throw C;g("success","Titre mis  jour"),await x(),y(null),w("")}catch(C){console.error("Error updating menu title:",C),g("error","Erreur lors de la mise  jour")}},k=async(S,C)=>{if(confirm("Voulez-vous vraiment supprimer cette traduction ?"))try{const{data:P}=await B.from("categories").select("id").eq("menu_id",e);if(P){const I=P.map(J=>J.id);await B.from("category_translations").delete().in("category_id",I).eq("language_code",C);const{data:$}=await B.from("menu_items").select("id").in("category_id",I);$&&await B.from("menu_item_translations").delete().in("menu_item_id",$.map(J=>J.id)).eq("language_code",C)}const{error:M}=await B.from("menu_languages").delete().eq("id",S);if(M)throw M;g("success","Traduction supprime"),await x()}catch(P){console.error("Error deleting language:",P),g("error","Erreur lors de la suppression")}},E=Sx.filter(S=>!n.some(C=>C.language_code===S.code)&&S.code!==t);return a?o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(ye,{className:"w-6 h-6 animate-spin text-gray-400"})})}):o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(Kg,{size:20}),o.jsx("span",{children:"Traductions"})]}),!f&&E.length>0&&o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:[o.jsx(il,{size:16}),o.jsx("span",{children:"Ajouter une langue"})]})]}),u&&o.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[u.type==="success"?o.jsx(Fe,{size:16}):o.jsx(Ae,{size:16}),o.jsx("span",{className:"text-sm",children:u.text})]}),f&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Slectionner une langue"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ae,{size:18})})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(S=>o.jsxs("button",{onClick:()=>p(S.code,S.name),disabled:l!==null,className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-white hover:border-orange-300 transition-colors disabled:opacity-50",children:[o.jsx("span",{className:"text-2xl",children:S.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.name}),l===S.code&&o.jsx(ye,{className:"w-4 h-4 animate-spin text-orange-600"})]},S.code))})]}),o.jsx("div",{className:"space-y-3",children:n.length===0?o.jsx("p",{className:"text-sm text-gray-600 py-4 text-center",children:"Aucune traduction ajoute. Ajoutez des langues pour traduire automatiquement votre menu."}):n.map(S=>{const C=Sx.find(M=>M.code===S.language_code),P=m===S.id;return o.jsx("div",{className:"p-3 sm:p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:(C==null?void 0:C.flag)||""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-gray-900 mb-1",children:(C==null?void 0:C.name)||S.language_code}),P?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:b,onChange:M=>w(M.target.value),placeholder:"Titre du menu",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",autoFocus:!0}),o.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Sauvegarder",children:o.jsx(Pl,{size:16})}),o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Annuler",children:o.jsx(Ae,{size:16})})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("span",{className:"truncate",children:S.menu_title||r}),o.jsx("button",{onClick:()=>j(S.id,S.menu_title||r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",title:"Modifier le titre",children:o.jsx(Wm,{size:14})})]})]})]}),!P&&o.jsx("button",{onClick:()=>k(S.id,S.language_code),className:"text-red-600 hover:text-red-700 p-2 rounded hover:bg-red-50 flex-shrink-0",title:"Supprimer cette traduction",children:o.jsx(da,{size:16})})]})},S.id)})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[o.jsx("strong",{children:"Note :"})," Les traductions sont gnres automatiquement par IA. Vous pouvez ensuite les modifier directement dans la page de gestion des articles."]})})]})},Ex=()=>{const{menuId:e}=ba(),t=Gr(),r=e===void 0,[n,i]=v.useState(!1),[a,s]=v.useState(!0),[l,c]=v.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0,currency_symbol:""}),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:{user:E}}=await B.auth.getUser();if(E){const{data:S}=await B.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",E.id).maybeSingle();i(!!S),S&&r&&c(C=>({...C,nom:S.restaurant_name,slug:S.slug}))}s(!1)})()},[r]),v.useEffect(()=>{!r&&e?x(e):d(!1)},[e,r]);const x=async k=>{d(!0);try{const{data:{user:E}}=await B.auth.getUser();if(!E)return;const{data:S,error:C}=await B.from("menus").select("*").eq("id",k).eq("user_id",E.id).maybeSingle();if(C){console.error("Erreur lors du chargement du menu:",C),j("error","Erreur lors du chargement du menu");return}if(!S){j("error","Menu non trouv"),t("/mes-menus");return}w(S),c({nom:S.nom,menu_name:S.menu_name||"",description:S.description,slug:S.slug,banniere_url:S.banniere_url,language:S.language||"fr",status:S.status||"published",couleur_primaire:S.couleur_primaire,couleur_secondaire:S.couleur_secondaire,couleur_texte:S.couleur_texte,couleur_fond:S.couleur_fond,afficher_powered_by:S.afficher_powered_by,lien_cloudmenu:S.lien_cloudmenu,currency_symbol:S.currency_symbol||""})}catch(E){console.error("Erreur lors du chargement du menu:",E),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},g=(k,E)=>{c(S=>{const C={...S,[k]:E};return k==="nom"&&typeof E=="string"&&r&&!n&&(C.slug=oi(E)),C})},p=async(k,E)=>{if(!k)return;const S=5*1024*1024;if(k.size>S){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!k.type.startsWith("image/")){j("error","Veuillez slectionner une image valide");return}d(!0);try{const C=l.banniere_url;C&&await ts(C);const M=await ms(k,"bannieres");if(M.error){j("error",M.error);return}g("banniere_url",M.url),j("success","Bannire uploade avec succs")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(k,E)=>{y({type:k,text:E}),setTimeout(()=>y(null),5e3)},_=async()=>{if(!n&&!l.nom.trim()){j("error","Le nom de l'tablissement est obligatoire");return}h(!0);try{const{data:{user:k}}=await B.auth.getUser();if(!k){j("error","Vous devez tre connect");return}if(b){let E=l.slug;if(l.status==="published"&&!b.slug){const{data:P}=await B.from("restaurant_profiles").select("slug").eq("user_id",k.id).maybeSingle(),M=(P==null?void 0:P.slug)||oi(l.nom),I=oi(l.menu_name||l.nom);E=`${M}/${I}`}const S={nom:l.nom,menu_name:l.menu_name,description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{error:C}=await B.from("menus").update(S).eq("id",b.id);if(C)throw C;j("success","Menu mis  jour avec succs"),setTimeout(()=>{t(`/categories/${b.id}`)},1500)}else{let E=l.slug;if(l.status==="published"){const M=l.slug,I=oi(l.menu_name||"menu");E=`${M}/${I}`}else l.status==="draft"&&(E="");const S={user_id:k.id,nom:l.nom,menu_name:l.menu_name||"Menu principal",description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{data:C,error:P}=await B.from("menus").insert([S]).select().single();if(P)throw P;w(C),j("success","Menu cr avec succs"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(k){console.error("Erreur lors de la sauvegarde:",k),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},N=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!b||a?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(wa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ae,{className:"w-5 h-5"}),o.jsx("span",{children:m.text})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("button",{onClick:()=>t(r?"/mes-menus":`/categories/${e}`),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Cl,{size:20}),o.jsx("span",{children:r?"Retour  mes menus":"Retour aux articles"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Crer un nouveau menu":"Modifier le menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identit visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le rsultat en temps rel"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(E4,{size:20}),o.jsx("span",{children:"Informations gnrales"})]}),o.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'tablissement"}),o.jsx("input",{type:"text",value:l.nom,onChange:k=>g("nom",k.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'tablissement est partag entre tous vos menus"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),o.jsx("input",{type:"text",value:l.menu_name,onChange:k=>g("menu_name",k.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom  ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos diffrents menus (boissons, plats, desserts...)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:l.description,onChange:k=>g("description",k.target.value),placeholder:"Dcrivez votre tablissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Symbole de devise"}),o.jsx("input",{type:"text",value:l.currency_symbol,onChange:k=>g("currency_symbol",k.target.value),placeholder:"",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Symbole qui s'affichera  ct des prix (ex: , $, , CHF, DH)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannire"}),o.jsxs("div",{className:"space-y-3",children:[l.banniere_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l.banniere_url,alt:"Bannire",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),o.jsx("button",{onClick:()=>g("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:o.jsx(Ae,{size:10,className:"sm:w-3 sm:h-3"})})]}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var S;const E=(S=k.target.files)==null?void 0:S[0];E&&p(E)},className:"hidden"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[o.jsx(gs,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),o.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu' 5MB"})]})]})]})]})]})]}),!r&&b&&o.jsx(u3,{menuId:b.id,defaultLanguage:b.default_language||"fr",menuName:b.nom}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Gg,{size:20}),o.jsx("span",{children:"Design"})]}),o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:N.map((k,E)=>o.jsxs("button",{onClick:()=>{g("couleur_primaire",k.primary),g("couleur_secondaire",k.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.primary}}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.secondary}})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:k.name})]},E))}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_primaire,onChange:k=>g("couleur_primaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_primaire,onChange:k=>g("couleur_primaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_secondaire,onChange:k=>g("couleur_secondaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_secondaire,onChange:k=>g("couleur_secondaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),o.jsxs("button",{onClick:_,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?o.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):o.jsx(Pl,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),o.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},Ta={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},pt:{name:"Portugus",flag:""},ar:{name:"",flag:""},zh:{name:"",flag:""},ja:{name:"",flag:""},ru:{name:"",flag:""},nl:{name:"Nederlands",flag:""}};function d3(){var ze,Gs,Ys;const{user:e}=or(),{menuId:t}=ba(),r=Gr(),[n,i]=v.useState(null),[a,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(null),[b,w]=v.useState(null),[x,g]=v.useState(null),[p,j]=v.useState(""),[_,N]=v.useState([]),[k,E]=v.useState({}),[S,C]=v.useState({}),[P,M]=v.useState(""),[I,$]=v.useState({}),[J,Y]=v.useState(""),[H,U]=v.useState(""),[O,A]=v.useState({nom:"",description:""}),[R,z]=v.useState({});v.useEffect(()=>{e&&t&&ie()},[e,t]),v.useEffect(()=>{n&&(de(),ce())},[n]),v.useEffect(()=>{n&&p&&p!==n.default_language&&Ee()},[p,n]);const ie=async()=>{if(!t){ne("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:T,error:re}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(re){console.error("Erreur lors du chargement du menu:",re),ne("error","Erreur lors du chargement du menu");return}if(!T){ne("error","Menu non trouv"),r("/mes-menus");return}i(T)}catch(T){console.error("Erreur lors du chargement du menu:",T),ne("error","Erreur lors du chargement du menu")}finally{d(!1)}},ce=async()=>{d(!0);try{const{data:T,error:re}=await B.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(re)throw re;if(s(T||[]),T&&T.length>0){const{data:X,error:q}=await B.from("menu_items").select("*").in("category_id",T.map(le=>le.id)).order("ordre",{ascending:!0});if(q)throw q;const K={};T.forEach(le=>{K[le.id]=(X==null?void 0:X.filter(D=>D.category_id===le.id))||[]}),c(K)}}catch(T){console.error("Erreur lors du chargement:",T),ne("error","Erreur lors du chargement des donnes")}finally{d(!1)}},de=async()=>{if(n)try{const{data:T,error:re}=await B.from("menu_languages").select("*").eq("menu_id",n.id).order("created_at",{ascending:!0});if(re)throw re;N(T||[]),!p&&n.default_language&&j(n.default_language)}catch(T){console.error("Error loading languages:",T)}},Ee=async()=>{if(!n||!p||p===n.default_language){E({}),C({}),M((n==null?void 0:n.menu_name)||"");return}try{const T=_.find(le=>le.language_code===p);T!=null&&T.menu_title?M(T.menu_title):M(n.menu_name||"Menu");const re=a.map(le=>le.id),{data:X}=await B.from("category_translations").select("*").in("category_id",re).eq("language_code",p),q={};X==null||X.forEach(le=>{q[le.category_id]=le}),E(q);const K=[];if(Object.values(l).forEach(le=>{le.forEach(D=>K.push(D.id))}),K.length>0){const{data:le}=await B.from("menu_item_translations").select("*").in("menu_item_id",K).eq("language_code",p),D={};le==null||le.forEach(Q=>{D[Q.menu_item_id]=Q}),C(D)}}catch(T){console.error("Error loading translations:",T)}},ne=(T,re)=>{g({type:T,text:re}),setTimeout(()=>g(null),5e3)},_t=async()=>{if(J.trim())try{const T={menu_id:n.id,nom:J,description:H||"",ordre:a.length},{data:re,error:X}=await B.from("categories").insert([T]).select().single();if(X)throw X;s([...a,re]),c({...l,[re.id]:[]}),Y(""),U(""),ne("success","Catgorie ajoute avec succs")}catch(T){console.error("Erreur lors de l'ajout de la catgorie:",T),ne("error","Erreur lors de l'ajout de la catgorie")}},G=async T=>{if(O.nom.trim())try{if(p!==n.default_language){const X=k[T];if(X){const{error:q}=await B.from("category_translations").update({nom:O.nom,description:O.description||""}).eq("id",X.id);if(q)throw q}else{const{error:q}=await B.from("category_translations").insert({category_id:T,language_code:p,nom:O.nom,description:O.description||""});if(q)throw q}E({...k,[T]:{id:(X==null?void 0:X.id)||crypto.randomUUID(),category_id:T,language_code:p,nom:O.nom,description:O.description||""}}),ne("success","Traduction de catgorie modifie avec succs")}else{const{error:X}=await B.from("categories").update({nom:O.nom,description:O.description||""}).eq("id",T);if(X)throw X;s(a.map(q=>q.id===T?{...q,nom:O.nom,description:O.description||""}:q)),ne("success","Catgorie modifie avec succs")}y(null),A({nom:"",description:""})}catch(re){console.error("Erreur lors de la modification de la catgorie:",re),ne("error","Erreur lors de la modification de la catgorie")}},se=async T=>{if(confirm("tes-vous sr de vouloir supprimer cette catgorie et tous ses lments ?"))try{const re=l[T]||[];for(const K of re)if(K.image_url)try{await ts(K.image_url)}catch(le){console.warn(`Failed to delete image for item ${K.nom}:`,le)}const{error:X}=await B.from("categories").delete().eq("id",T);if(X)throw X;s(a.filter(K=>K.id!==T));const q={...l};delete q[T],c(q),ne("success","Catgorie supprime avec succs")}catch(re){console.error("Erreur lors de la suppression:",re),ne("error","Erreur lors de la suppression")}},oe=async(T,re,X)=>{if(!T)return;if(T.size>5*1024*1024){ne("error","Le fichier est trop volumineux (max 5MB)");return}if(!T.type.startsWith("image/")){ne("error","Veuillez slectionner une image valide");return}const q=re||`new-item-${X}`;h(q);try{const K=await ms(T,"menu-items");if(K.error){ne("error",K.error);return}const{data:le,error:D}=await B.from("menu_items").update({image_url:K.url}).eq("id",re).select().single();if(D)throw D;c({...l,[X]:l[X].map(Q=>Q.id===re?le:Q)}),ne("success","Image mise  jour avec succs")}catch(K){console.error("Erreur lors de l'upload:",K),ne("error","Erreur lors de l'upload")}finally{h(null)}},F=async(T,re,X)=>{try{X&&await ts(X);const{data:q,error:K}=await B.from("menu_items").update({image_url:""}).eq("id",T).select().single();if(K)throw K;c({...l,[re]:l[re].map(le=>le.id===T?q:le)}),ne("success","Image supprime avec succs")}catch(q){console.error("Erreur lors de la suppression:",q),ne("error","Erreur lors de la suppression")}},Ve=async(T,re)=>{if(T){if(T.size>5*1024*1024){ne("error","Le fichier est trop volumineux (max 5MB)");return}if(!T.type.startsWith("image/")){ne("error","Veuillez slectionner une image valide");return}h(`new-item-${re}`);try{const X=await ms(T,"menu-items");if(X.error){ne("error",X.error);return}z({...R,[re]:{...R[re],image_url:X.url}}),ne("success","Image uploade avec succs")}catch(X){console.error("Erreur lors de l'upload:",X),ne("error","Erreur lors de l'upload")}finally{h(null)}}},ge=T=>R[T]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},He=(T,re)=>{z({...R,[T]:{...ge(T),...re}})},ht=async T=>{var X,q;const re=ge(T);if(!((X=re.nom)!=null&&X.trim())||!re.prix){ne("error","Le nom et le prix sont obligatoires");return}try{const K={...re,category_id:T,ordre:((q=l[T])==null?void 0:q.length)||0},{data:le,error:D}=await B.from("menu_items").insert([K]).select().single();if(D)throw D;c({...l,[T]:[...l[T]||[],le]});const Q={...R};delete Q[T],z(Q),ne("success","Plat ajout avec succs")}catch(K){console.error("Erreur lors de l'ajout du plat:",K),ne("error","Erreur lors de l'ajout du plat")}},Tr=async(T,re)=>{if(confirm("tes-vous sr de vouloir supprimer ce plat ?"))try{const X=l[re].find(K=>K.id===T);X!=null&&X.image_url&&await ts(X.image_url);const{error:q}=await B.from("menu_items").delete().eq("id",T);if(q)throw q;c({...l,[re]:l[re].filter(K=>K.id!==T)}),ne("success","Plat supprim avec succs")}catch(X){console.error("Erreur lors de la suppression:",X),ne("error","Erreur lors de la suppression")}},Di=async(T,re)=>{try{const{data:X,error:q}=await B.from("menu_items").update({disponible:!T.disponible}).eq("id",T.id).select().single();if(q)throw q;c({...l,[re]:l[re].map(K=>K.id===T.id?X:K)})}catch(X){console.error("Erreur lors de la mise  jour:",X),ne("error","Erreur lors de la mise  jour")}},Yl=T=>{w(T.id);const X=p!==n.default_language?S[T.id]:null;$({nom:(X==null?void 0:X.nom)||T.nom,description:(X==null?void 0:X.description)||T.description,prix:T.prix,allergenes:T.allergenes,vegetarien:T.vegetarien,vegan:T.vegan,sans_gluten:T.sans_gluten,epice:T.epice})},Ks=()=>{w(null),$({})},xf=async(T,re)=>{var X;if(!((X=I.nom)!=null&&X.trim())){ne("error","Le nom du plat est obligatoire");return}try{if(p!==n.default_language){const K=S[T];if(K){const{error:le}=await B.from("menu_item_translations").update({nom:I.nom,description:I.description||""}).eq("id",K.id);if(le)throw le}else{const{error:le}=await B.from("menu_item_translations").insert({menu_item_id:T,language_code:p,nom:I.nom,description:I.description||""});if(le)throw le}C({...S,[T]:{id:(K==null?void 0:K.id)||crypto.randomUUID(),menu_item_id:T,language_code:p,nom:I.nom,description:I.description||""}}),ne("success","Traduction modifie avec succs")}else{const{data:K,error:le}=await B.from("menu_items").update(I).eq("id",T).select().single();if(le)throw le;c({...l,[re]:l[re].map(D=>D.id===T?K:D)}),ne("success","Plat modifi avec succs")}w(null),$({})}catch(q){console.error("Erreur lors de la modification:",q),ne("error","Erreur lors de la modification")}},bf=async(T,re,X)=>{if(re!==X)try{const{data:q,error:K}=await B.from("menu_items").update({category_id:X}).eq("id",T).select().single();if(K)throw K;const le=l[re].filter(Q=>Q.id!==T),D=[...l[X]||[],q];c({...l,[re]:le,[X]:D}),ne("success","Plat dplac avec succs")}catch(q){console.error("Erreur lors du dplacement:",q),ne("error","Erreur lors du dplacement")}};return u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(wa,{size:"lg"})}):n?o.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[x&&o.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${x.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:x.text})}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Cl,{size:20}),o.jsx("span",{children:"Retour  mes menus"})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:P||n.menu_name||"Menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catgories et plats"})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx(rt,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white p-2.5 rounded-lg hover:bg-purple-700 transition-colors",title:"Import IA",children:o.jsx(Hm,{size:20})}),o.jsx(rt,{to:`/mon-menu/${t}`,className:"bg-gray-600 text-white p-2.5 rounded-lg hover:bg-gray-700 transition-colors",title:"Paramtres",children:o.jsx(al,{size:20})}),o.jsx("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white p-2.5 rounded-lg hover:bg-orange-700 transition-colors",title:"Prvisualiser",children:o.jsx(sn,{size:20})})]})]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>j(n.default_language||"fr"),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p===n.default_language?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ze=Ta[n.default_language||"fr"])==null?void 0:ze.name)||"Franais",children:[o.jsx("span",{className:"text-base sm:text-lg",children:((Gs=Ta[n.default_language||"fr"])==null?void 0:Gs.flag)||""}),o.jsx("span",{className:"hidden sm:inline",children:((Ys=Ta[n.default_language||"fr"])==null?void 0:Ys.name)||"Franais"})]}),_.map(T=>{var re,X,q;return o.jsxs("button",{onClick:()=>j(T.language_code),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p===T.language_code?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((re=Ta[T.language_code])==null?void 0:re.name)||T.language_code,children:[o.jsx("span",{className:"text-base sm:text-lg",children:((X=Ta[T.language_code])==null?void 0:X.flag)||""}),o.jsx("span",{className:"hidden sm:inline",children:((q=Ta[T.language_code])==null?void 0:q.name)||T.language_code})]},T.id)})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catgorie"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("input",{type:"text",value:J,onChange:T=>Y(T.target.value),placeholder:"Nom de la catgorie (ex: Entres, Plats, Desserts...)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:T=>T.key==="Enter"&&!T.shiftKey&&_t()}),o.jsx("textarea",{value:H,onChange:T=>U(T.target.value),placeholder:"Description de la catgorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base resize-none",rows:2}),o.jsxs("button",{onClick:_t,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base self-end",children:[o.jsx(il,{size:18}),o.jsx("span",{children:"Ajouter"})]})]})]}),a.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(M4,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),o.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catgorie"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catgorie pour organiser votre menu."})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.map(T=>{var re,X;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m===T.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:O.nom,onChange:q=>A({...O,nom:q.target.value}),placeholder:"Nom de la catgorie",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"}),o.jsx("textarea",{value:O.description,onChange:q=>A({...O,description:q.target.value}),placeholder:"Description de la catgorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 resize-none",rows:2}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>G(T.id),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[o.jsx(Pl,{size:16}),o.jsx("span",{children:"Enregistrer"})]}),o.jsxs("button",{onClick:()=>{y(null),A({nom:"",description:""})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2",children:[o.jsx(Ae,{size:16}),o.jsx("span",{children:"Annuler"})]})]})]}):o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx(N4,{className:"text-gray-400 hidden sm:block mt-1",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:p!==n.default_language&&k[T.id]?k[T.id].nom:T.nom}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((re=l[T.id])==null?void 0:re.length)||0," plats"]})]}),T.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p!==n.default_language&&k[T.id]?k[T.id].description:T.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{y(T.id);const K=p!==n.default_language?k[T.id]:null;A({nom:(K==null?void 0:K.nom)||T.nom,description:(K==null?void 0:K.description)||T.description||""})},className:"text-orange-600 hover:text-orange-700 p-2 rounded-lg hover:bg-orange-50",children:o.jsx(Wm,{size:18})}),o.jsx("button",{onClick:()=>se(T.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:o.jsx(da,{size:18})})]})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4",children:[(X=l[T.id])==null?void 0:X.map(q=>o.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${b===q.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[o.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:q.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:q.image_url,alt:q.nom,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var D;const le=(D=K.target.files)==null?void 0:D[0];le&&oe(le,q.id,T.id)},className:"hidden"}),f===q.id?o.jsx(ye,{className:"w-4 h-4 text-white animate-spin"}):o.jsx(yx,{className:"w-4 h-4 text-white hover:scale-110"})]}),o.jsx("button",{onClick:()=>F(q.id,T.id,q.image_url),className:"text-white hover:text-red-300",children:o.jsx(Ae,{className:"w-4 h-4"})})]})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var D;const le=(D=K.target.files)==null?void 0:D[0];le&&oe(le,q.id,T.id)},className:"hidden"}),f===q.id?o.jsx(ye,{className:"text-gray-400 animate-spin",size:24}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(yx,{className:"text-gray-400",size:20}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),o.jsx("div",{className:"flex-1",children:b===q.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),o.jsx("input",{type:"text",value:I.nom||"",onChange:K=>$({...I,nom:K.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Prix (",n.currency_symbol||"",")"]}),o.jsx("input",{type:"number",value:I.prix||"",onChange:K=>$({...I,prix:parseFloat(K.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:I.description||"",onChange:K=>$({...I,description:K.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.vegetarien||!1,onChange:K=>$({...I,vegetarien:K.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vgtarien"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.vegan||!1,onChange:K=>$({...I,vegan:K.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vegan"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.sans_gluten||!1,onChange:K=>$({...I,sans_gluten:K.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.epice||!1,onChange:K=>$({...I,epice:K.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"pic"})]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:p!==n.default_language&&S[q.id]?S[q.id].nom:q.nom}),q.vegetarien&&o.jsx(Xn,{className:"text-green-600",size:16}),q.vegan&&o.jsx(Xn,{className:"text-green-700",size:16}),q.epice&&o.jsx(Kc,{className:"text-red-600",size:16})]}),(p!==n.default_language&&S[q.id]?S[q.id].description:q.description)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:p!==n.default_language&&S[q.id]?S[q.id].description:q.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[q.prix.toFixed(2)," ",n.currency_symbol||""]}),q.allergenes.length>0&&o.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergnes: ",q.allergenes.join(", ")]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[a.length>1&&b!==q.id&&o.jsx("select",{value:T.id,onChange:K=>bf(q.id,T.id,K.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Dplacer vers une autre catgorie",children:a.map(K=>o.jsx("option",{value:K.id,children:p!==n.default_language&&k[K.id]?k[K.id].nom:K.nom},K.id))}),b===q.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>xf(q.id,T.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:o.jsx(Fe,{size:18})}),o.jsx("button",{onClick:Ks,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:o.jsx(Ae,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Yl(q),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:o.jsx(Wm,{size:18})}),o.jsx("button",{onClick:()=>Di(q,T.id),className:`p-2 rounded-lg ${q.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:q.disponible?"Disponible":"Non disponible",children:q.disponible?o.jsx(sn,{size:18}):o.jsx(ta,{size:18})}),o.jsx("button",{onClick:()=>Tr(q.id,T.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:o.jsx(da,{size:18})})]})]})]},q.id)),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const q=ge(T.id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),o.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:q.image_url?o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("img",{src:q.image_url,alt:"Aperu",className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>He(T.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Ae,{size:12})})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:K=>{var D;const le=(D=K.target.files)==null?void 0:D[0];le&&Ve(le,T.id)},className:"hidden"}),f===`new-item-${T.id}`?o.jsx(ye,{className:"text-gray-400 animate-spin",size:20}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(gs,{className:"text-gray-400",size:16}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),o.jsx("input",{type:"text",value:q.nom||"",onChange:K=>He(T.id,{nom:K.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:q.description||"",onChange:K=>He(T.id,{description:K.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Prix (",n.currency_symbol||"",")"]}),o.jsx("input",{type:"number",value:q.prix||"",onChange:K=>He(T.id,{prix:parseFloat(K.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),o.jsxs("button",{onClick:()=>ht(T.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[o.jsx(il,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},T.id)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouv"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accs  celui-ci."}),o.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour  mes menus"})]})}const Cx={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},ar:{name:"",flag:""}};function f3(){const{user:e}=or(),[t,r]=v.useState([]),[n,i]=v.useState(!0),[a,s]=v.useState(null);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{i(!0);try{const{data:h,error:m}=await B.from("menus").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Erreur lors du chargement des menus:",h),c("error","Erreur lors du chargement des menus")}finally{i(!1)}},c=(h,m)=>{s({type:h,text:m}),setTimeout(()=>s(null),5e3)},u=async h=>{if(confirm("tes-vous sr de vouloir supprimer ce menu ? Toutes les catgories et plats associs seront galement supprims."))try{const{error:m}=await B.from("menus").delete().eq("id",h);if(m)throw m;r(t.filter(y=>y.id!==h)),c("success","Menu supprim avec succs")}catch(m){console.error("Erreur lors de la suppression:",m),c("error","Erreur lors de la suppression du menu")}},d=async h=>{try{const{id:m,created_at:y,updated_at:b,slug:w,...x}=h,g={...x,menu_name:`${h.menu_name||h.nom} (Copie)`,slug:"",status:"draft"},{data:p,error:j}=await B.from("menus").insert([g]).select().single();if(j)throw j;r([p,...t]),c("success","Menu dupliqu avec succs (brouillon)")}catch(m){console.error("Erreur lors de la duplication:",m),c("error","Erreur lors de la duplication du menu")}},f=async(h,m)=>{try{let y;if(m==="actif")y={actif:!h.actif};else{const w=h.status==="draft";if(y={status:w?"published":"draft"},w&&!h.slug){const{data:x}=await B.from("restaurant_profiles").select("slug").eq("user_id",h.user_id).maybeSingle(),g=(x==null?void 0:x.slug)||oi(h.nom),p=oi(h.menu_name||h.nom);y.slug=`${g}/${p}`}}const{error:b}=await B.from("menus").update(y).eq("id",h.id);if(b)throw b;r(t.map(w=>w.id===h.id?{...w,...y}:w)),c("success","Statut mis  jour avec succs")}catch(y){console.error("Erreur lors de la mise  jour:",y),c("error","Erreur lors de la mise  jour du statut")}};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(wa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[a&&o.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:a.text})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Grez tous vos menus de restaurant"})]}),o.jsxs(rt,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[o.jsx(il,{size:18}),o.jsx("span",{children:"Crer un nouveau menu"})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(j4,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par crer votre premier menu pour votre restaurant."}),o.jsxs(rt,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[o.jsx(il,{size:18}),o.jsx("span",{children:"Crer mon premier menu"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(h=>{var m,y;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.banniere_url?o.jsx("div",{className:"h-32 bg-gray-200",children:o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-full h-full object-cover"})}):o.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-4xl font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.menu_name||h.nom}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(m=Cx[h.language||"fr"])==null?void 0:m.flag}),o.jsx("span",{className:"text-xs text-gray-500",children:(y=Cx[h.language||"fr"])==null?void 0:y.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("button",{onClick:()=>f(h,"status"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publi":"Brouillon"}),o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(rt,{to:`/categories/${h.id}`,className:"w-full flex items-center justify-center gap-2 text-sm bg-orange-600 text-white hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium shadow-sm transition-colors",children:[o.jsx(Fm,{size:18}),o.jsx("span",{children:"Grer les articles"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(rt,{to:`/mon-menu/${h.id}`,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Paramtres",children:o.jsx(al,{size:20})}),o.jsx("button",{onClick:()=>d(h),className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Dupliquer",children:o.jsx(Bm,{size:20})}),o.jsx("button",{onClick:()=>u(h.id),className:"flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 p-2.5 rounded-lg border border-red-200 transition-colors",title:"Supprimer",children:o.jsx(da,{size:20})})]})]})]})]},h.id)})}),o.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilit"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[h.banniere_url?o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsx("div",{children:o.jsx("div",{className:"font-medium text-gray-900",children:h.menu_name||h.nom})})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publi":"Brouillon"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(rt,{to:`/categories/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Grer les articles",children:o.jsx(Fm,{size:18})}),o.jsx(rt,{to:`/mon-menu/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramtres du menu",children:o.jsx(al,{size:18})}),o.jsx("button",{onClick:()=>d(h),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:o.jsx(Bm,{size:18})}),o.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:o.jsx(da,{size:18})})]})})]},h.id))})]})})]})]})})}const h3=()=>{const{user:e}=or(),{menuId:t}=ba(),r=Gr(),[n,i]=v.useState(null),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,y]=v.useState(""),[b,w]=v.useState(!0);v.useEffect(()=>{e&&t&&x()},[e,t]);const x=async()=>{if(!t){g("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:_,error:N}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(N){console.error("Erreur lors du chargement du menu:",N),g("error","Erreur lors du chargement du menu");return}if(!_){g("error","Menu non trouv"),r("/mes-menus");return}i(_)}catch(_){console.error("Erreur lors du chargement du menu:",_),g("error","Erreur lors du chargement du menu")}finally{s(!1)}},g=(_,N)=>{h({type:_,text:N}),setTimeout(()=>h(null),5e3)},p=async _=>{if(_){if(_.size>10*1024*1024){g("error","Le fichier est trop volumineux (max 10MB)");return}if(!_.type.startsWith("image/")){g("error","Veuillez slectionner une image valide");return}c(!0);try{g("success","Upload de l'image en cours...");const N=await ms(_,"menu-items");if(N.error){g("error",N.error);return}y("Analyse de l'image avec l'IA..."),g("success","Analyse de l'image avec l'IA...");const k=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0"},body:JSON.stringify({imageUrl:N.url,menuId:n.id,importImages:b})});if(y("Traitement de la rponse..."),!k.ok){const S=await k.json();g("error",S.error||"Erreur lors de l'analyse");return}const E=await k.json();if(!E.success){g("error",E.error||"Erreur lors de l'analyse");return}y("Insertion des donnes en base..."),g("success","Insertion des donnes et images en base..."),await j(E.data);try{await ts(N.url)}catch(S){console.warn("Failed to cleanup analysis image:",S)}g("success","Menu import avec succs !  Vous pouvez maintenant retourner  la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(N){console.error("Erreur lors du traitement:",N),g("error","Erreur lors du traitement de l'image")}finally{c(!1),y(""),d(null)}}},j=async _=>{try{const{data:N}=await B.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),k=N&&N.length>0?N[0].ordre+1:0;for(const E of _.categories){const{data:S,error:C}=await B.from("categories").insert([{menu_id:n.id,nom:E.name,description:E.description||"",ordre:k+_.categories.indexOf(E)}]).select().single();if(C)throw C;for(const P of E.items){const{error:M}=await B.from("menu_items").insert([{category_id:S.id,nom:P.name,description:P.description||"",prix:P.price||0,image_url:P.image_url||"",allergenes:P.allergenes||[],vegetarien:P.vegetarian||!1,vegan:P.vegan||!1,sans_gluten:P.gluten_free||!1,epice:P.spicy||!1,ordre:E.items.indexOf(P)}]);if(M)throw M}}}catch(N){throw console.error("Erreur lors de l'insertion:",N),N}};return a?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(wa,{size:"lg"})}):n?o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(rt,{to:"/categories",className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Cl,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),o.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5"}):o.jsx(Ae,{className:"w-5 h-5 mt-0.5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Hm,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie oprer !"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var k;const N=(k=_.target.files)==null?void 0:k[0];N&&d(N)},className:"hidden",disabled:l}),o.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(w4,{className:"w-6 h-6 text-purple-600"})}),u?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour slectionner une image de votre menu"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu' 10MB - Plus la photo est claire, meilleur sera le rsultat"})]})]})})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[o.jsx("input",{type:"checkbox",id:"importImages",checked:b,onChange:_=>w(_.target.checked),disabled:l,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),o.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>u&&p(u),disabled:!u||l,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:l?o.jsxs(o.Fragment,{children:[o.jsx(ye,{className:"animate-spin",size:24}),o.jsx("span",{children:"Analyse en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{size:24}),o.jsx("span",{children:"Analyser le menu"})]})})})]}),l&&o.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[o.jsx(ye,{className:"animate-spin",size:20}),o.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),o.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),o.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexit de votre menu et le nombre de plats",b&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),o.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur rsultat"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-green-600 font-bold",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien claire et nette"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-blue-600 font-bold",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),o.jsx(rt,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller  la configuration"})]})})};var Pi={},m3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},u2={},lr={};let e0;const p3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];lr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};lr.getSymbolTotalCodewords=function(t){return p3[t]};lr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};lr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');e0=t};lr.isKanjiModeEnabled=function(){return typeof e0<"u"};lr.toSJIS=function(t){return e0(t)};var Md={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Md);function d2(){this.buffer=[],this.length=0}d2.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var g3=d2;function Ml(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ml.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Ml.prototype.get=function(e,t){return this.data[e*this.size+t]};Ml.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ml.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var v3=Ml,f2={};(function(e){const t=lr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),s=a.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||i.push([a[l],a[c]]);return i}})(f2);var h2={};const y3=lr.getSymbolSize,Px=7;h2.getPositions=function(t){const r=y3(t);return[[0,0],[r-Px,0],[0,r-Px]]};var m2={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let s=0,l=0,c=0,u=null,d=null;for(let f=0;f<a;f++){l=c=0,u=d=null;for(let h=0;h<a;h++){let m=i.get(f,h);m===u?l++:(l>=5&&(s+=t.N1+(l-5)),u=m,l=1),m=i.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const a=i.size;let s=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const a=i.size;let s=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const s=a.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},e.getBestMask=function(i,a){const s=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<s;u++){a(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(m2);var Id={};const li=Md,yc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],xc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Id.getBlocksCount=function(t,r){switch(r){case li.L:return yc[(t-1)*4+0];case li.M:return yc[(t-1)*4+1];case li.Q:return yc[(t-1)*4+2];case li.H:return yc[(t-1)*4+3];default:return}};Id.getTotalCodewordsCount=function(t,r){switch(r){case li.L:return xc[(t-1)*4+0];case li.M:return xc[(t-1)*4+1];case li.Q:return xc[(t-1)*4+2];case li.H:return xc[(t-1)*4+3];default:return}};var p2={},Dd={};const Do=new Uint8Array(512),Su=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Do[r]=t,Su[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Do[r]=Do[r-255]})();Dd.log=function(t){if(t<1)throw new Error("log("+t+")");return Su[t]};Dd.exp=function(t){return Do[t]};Dd.mul=function(t,r){return t===0||r===0?0:Do[Su[t]+Su[r]]};(function(e){const t=Dd;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<i.length;l++)a[s+l]^=t.mul(n[s],i[l]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(p2);const g2=p2;function t0(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}t0.prototype.initialize=function(t){this.degree=t,this.genPoly=g2.generateECPolynomial(this.degree)};t0.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=g2.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var x3=t0,v2={},Oi={},r0={};r0.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var fn={};const y2="[0-9]+",b3="[A-Z $%*+\\-./:]+";let ll="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ll=ll.replace(/u/g,"\\u");const w3="(?:(?![A-Z0-9 $%*+\\-./:]|"+ll+`)(?:.|[\r
]))+`;fn.KANJI=new RegExp(ll,"g");fn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");fn.BYTE=new RegExp(w3,"g");fn.NUMERIC=new RegExp(y2,"g");fn.ALPHANUMERIC=new RegExp(b3,"g");const j3=new RegExp("^"+ll+"$"),_3=new RegExp("^"+y2+"$"),k3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");fn.testKanji=function(t){return j3.test(t)};fn.testNumeric=function(t){return _3.test(t)};fn.testAlphanumeric=function(t){return k3.test(t)};(function(e){const t=r0,r=fn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,s){if(e.isValid(a))return a;try{return n(a)}catch{return s}}})(Oi);(function(e){const t=lr,r=Id,n=Md,i=Oi,a=r0,s=7973,l=t.getBCHDigit(s);function c(h,m,y){for(let b=1;b<=40;b++)if(m<=e.getCapacity(b,y,h))return b}function u(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let y=0;return h.forEach(function(b){const w=u(b.mode,m);y+=w+b.getBitsLength()}),y}function f(h,m){for(let y=1;y<=40;y++)if(d(h,y)<=e.getCapacity(y,m,i.MIXED))return y}e.from=function(m,y){return a.isValid(m)?parseInt(m,10):y},e.getCapacity=function(m,y,b){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const w=t.getSymbolTotalCodewords(m),x=r.getTotalCodewordsCount(m,y),g=(w-x)*8;if(b===i.MIXED)return g;const p=g-u(b,m);switch(b){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(m,y){let b;const w=n.from(y,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;b=m[0]}else b=m;return c(b.mode,b.getLength(),w)},e.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;t.getBCHDigit(y)-l>=0;)y^=s<<t.getBCHDigit(y)-l;return m<<12|y}})(v2);var x2={};const Qm=lr,b2=1335,N3=21522,Ox=Qm.getBCHDigit(b2);x2.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;Qm.getBCHDigit(i)-Ox>=0;)i^=b2<<Qm.getBCHDigit(i)-Ox;return(n<<10|i)^N3};var w2={};const S3=Oi;function vs(e){this.mode=S3.NUMERIC,this.data=e.toString()}vs.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};vs.prototype.getLength=function(){return this.data.length};vs.prototype.getBitsLength=function(){return vs.getBitsLength(this.data.length)};vs.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var E3=vs;const C3=Oi,oh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ys(e){this.mode=C3.ALPHANUMERIC,this.data=e}ys.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ys.prototype.getLength=function(){return this.data.length};ys.prototype.getBitsLength=function(){return ys.getBitsLength(this.data.length)};ys.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=oh.indexOf(this.data[r])*45;n+=oh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(oh.indexOf(this.data[r]),6)};var P3=ys;const O3=Oi;function xs(e){this.mode=O3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}xs.getBitsLength=function(t){return t*8};xs.prototype.getLength=function(){return this.data.length};xs.prototype.getBitsLength=function(){return xs.getBitsLength(this.data.length)};xs.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var A3=xs;const T3=Oi,M3=lr;function bs(e){this.mode=T3.KANJI,this.data=e}bs.getBitsLength=function(t){return t*13};bs.prototype.getLength=function(){return this.data.length};bs.prototype.getBitsLength=function(){return bs.getBitsLength(this.data.length)};bs.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=M3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var I3=bs,j2={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},s={};s[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,y,b,w;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],y=f+m,b=s[d],w=typeof s[d]>"u",(w||b>y)&&(s[d]=y,l.push(d,y),a[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var x=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(x)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(j2);var D3=j2.exports;(function(e){const t=Oi,r=E3,n=P3,i=A3,a=I3,s=fn,l=lr,c=D3;function u(x){return unescape(encodeURIComponent(x)).length}function d(x,g,p){const j=[];let _;for(;(_=x.exec(p))!==null;)j.push({data:_[0],index:_.index,mode:g,length:_[0].length});return j}function f(x){const g=d(s.NUMERIC,t.NUMERIC,x),p=d(s.ALPHANUMERIC,t.ALPHANUMERIC,x);let j,_;return l.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,x),_=d(s.KANJI,t.KANJI,x)):(j=d(s.BYTE_KANJI,t.BYTE,x),_=[]),g.concat(p,j,_).sort(function(k,E){return k.index-E.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(x,g){switch(g){case t.NUMERIC:return r.getBitsLength(x);case t.ALPHANUMERIC:return n.getBitsLength(x);case t.KANJI:return a.getBitsLength(x);case t.BYTE:return i.getBitsLength(x)}}function m(x){return x.reduce(function(g,p){const j=g.length-1>=0?g[g.length-1]:null;return j&&j.mode===p.mode?(g[g.length-1].data+=p.data,g):(g.push(p),g)},[])}function y(x){const g=[];for(let p=0;p<x.length;p++){const j=x[p];switch(j.mode){case t.NUMERIC:g.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:g.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:g.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:g.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return g}function b(x,g){const p={},j={start:{}};let _=["start"];for(let N=0;N<x.length;N++){const k=x[N],E=[];for(let S=0;S<k.length;S++){const C=k[S],P=""+N+S;E.push(P),p[P]={node:C,lastCount:0},j[P]={};for(let M=0;M<_.length;M++){const I=_[M];p[I]&&p[I].node.mode===C.mode?(j[I][P]=h(p[I].lastCount+C.length,C.mode)-h(p[I].lastCount,C.mode),p[I].lastCount+=C.length):(p[I]&&(p[I].lastCount=C.length),j[I][P]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,g))}}_=E}for(let N=0;N<_.length;N++)j[_[N]].end=0;return{map:j,table:p}}function w(x,g){let p;const j=t.getBestModeForData(x);if(p=t.from(g,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!l.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new r(x);case t.ALPHANUMERIC:return new n(x);case t.KANJI:return new a(x);case t.BYTE:return new i(x)}}e.fromArray=function(g){return g.reduce(function(p,j){return typeof j=="string"?p.push(w(j,null)):j.data&&p.push(w(j.data,j.mode)),p},[])},e.fromString=function(g,p){const j=f(g,l.isKanjiModeEnabled()),_=y(j),N=b(_,p),k=c.find_path(N.map,"start","end"),E=[];for(let S=1;S<k.length-1;S++)E.push(N.table[k[S]].node);return e.fromArray(m(E))},e.rawSplit=function(g){return e.fromArray(f(g,l.isKanjiModeEnabled()))}})(w2);const $d=lr,lh=Md,$3=g3,L3=v3,R3=f2,z3=h2,Jm=m2,Xm=Id,U3=x3,Eu=v2,B3=x2,F3=Oi,ch=w2;function q3(e,t){const r=e.size,n=z3.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],s=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(a+l,s+c,!0,!0):e.set(a+l,s+c,!1,!0))}}function W3(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function V3(e,t){const r=R3.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?e.set(i+s,a+l,!0,!0):e.set(i+s,a+l,!1,!0)}}function H3(e,t){const r=e.size,n=Eu.getEncodedBits(t);let i,a,s;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,s=(n>>l&1)===1,e.set(i,a,s,!0),e.set(a,i,s,!0)}function uh(e,t,r){const n=e.size,i=B3.getEncodedBits(t,r);let a,s;for(a=0;a<15;a++)s=(i>>a&1)===1,a<6?e.set(a,8,s,!0):a<8?e.set(a+1,8,s,!0):e.set(n-15+a,8,s,!0),a<8?e.set(8,n-a-1,s,!0):a<9?e.set(8,15-a-1+1,s,!0):e.set(8,15-a-1,s,!0);e.set(n-8,8,1,!0)}function K3(e,t){const r=e.size;let n=-1,i=r-1,a=7,s=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let u=!1;s<t.length&&(u=(t[s]>>>a&1)===1),e.set(i,l-c,u),a--,a===-1&&(s++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function G3(e,t,r){const n=new $3;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),F3.getCharCountIndicator(c.mode,e)),c.write(n)});const i=$d.getSymbolTotalCodewords(e),a=Xm.getTotalCodewordsCount(e,t),s=(i-a)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(s-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return Y3(n,e,t)}function Y3(e,t,r){const n=$d.getSymbolTotalCodewords(t),i=Xm.getTotalCodewordsCount(t,r),a=n-i,s=Xm.getBlocksCount(t,r),l=n%s,c=s-l,u=Math.floor(n/s),d=Math.floor(a/s),f=d+1,h=u-d,m=new U3(h);let y=0;const b=new Array(s),w=new Array(s);let x=0;const g=new Uint8Array(e.buffer);for(let k=0;k<s;k++){const E=k<c?d:f;b[k]=g.slice(y,y+E),w[k]=m.encode(b[k]),y+=E,x=Math.max(x,E)}const p=new Uint8Array(n);let j=0,_,N;for(_=0;_<x;_++)for(N=0;N<s;N++)_<b[N].length&&(p[j++]=b[N][_]);for(_=0;_<h;_++)for(N=0;N<s;N++)p[j++]=w[N][_];return p}function Q3(e,t,r,n){let i;if(Array.isArray(e))i=ch.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=ch.rawSplit(e);u=Eu.getBestVersionForData(d,r)}i=ch.fromString(e,u||40)}else throw new Error("Invalid data");const a=Eu.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const s=G3(t,r,i),l=$d.getSymbolSize(t),c=new L3(l);return q3(c,t),W3(c),V3(c,t),uh(c,r,0),t>=7&&H3(c,t),K3(c,s),isNaN(n)&&(n=Jm.getBestMask(c,uh.bind(null,c,r))),Jm.applyMask(n,c),uh(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}u2.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=lh.M,i,a;return typeof r<"u"&&(n=lh.from(r.errorCorrectionLevel,lh.M),i=Eu.from(r.version),a=Jm.from(r.maskPattern),r.toSJISFunc&&$d.setToSJISFunction(r.toSJISFunc)),Q3(t,i,n,a)};var _2={},n0={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const s=i.modules.size,l=i.modules.data,c=e.getScale(s,a),u=Math.floor((s+a.margin*2)*c),d=a.margin*c,f=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let y=(h*u+m)*4,b=a.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),x=Math.floor((m-d)/c);b=f[l[w*s+x]?1:0]}n[y++]=b.r,n[y++]=b.g,n[y++]=b.b,n[y]=b.a}}})(n0);(function(e){const t=n0;function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,s,l){let c=l,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(a.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,a,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(a,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(a,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(_2);var k2={};const J3=n0;function Ax(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function dh(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function X3(e,t,r){let n="",i=0,a=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!a&&(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=a?dh("M",c+r,.5+u+r):dh("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(n+=dh("h",s),s=0)):i++}return n}k2.render=function(t,r,n){const i=J3.getOptions(r),a=t.modules.size,s=t.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+Ax(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Ax(i.color.dark,"stroke")+' d="'+X3(s,a,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Z3=m3,Zm=u2,N2=_2,e5=k2;function i0(e,t,r,n,i){const a=[].slice.call(arguments,1),s=a.length,l=typeof a[s-1]=="function";if(!l&&!Z3())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=Zm.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=Zm.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}Pi.create=Zm.create;Pi.toCanvas=i0.bind(null,N2.render);Pi.toDataURL=i0.bind(null,N2.renderToDataURL);Pi.toString=i0.bind(null,function(e,t,r){return e5.render(e,r)});const t5=()=>{const{user:e}=or(),t=Gr(),[r,n]=v.useState(null),[i,a]=v.useState(!0),[s,l]=v.useState(""),[c,u]=v.useState("#000000"),[d,f]=v.useState("#ffffff"),[h,m]=v.useState(!1),[y,b]=v.useState(!1),[w,x]=v.useState(""),[g,p]=v.useState(!1);v.useRef(null);const j=v.useRef(null),_=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert fonc",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];v.useEffect(()=>{e&&N()},[e]),v.useEffect(()=>{r&&k()},[r,c,d,w]);const N=async()=>{if(e){a(!0);try{const{data:$,error:J}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(J&&J.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",J),J;n($)}catch($){console.error("Erreur lors du chargement:",$)}finally{a(!1)}}},k=async()=>{if(r){b(!0);try{const $=`https://a.cloudmenu.fr/m/${r.slug}?ref=qr`,J=document.createElement("canvas");if(await Pi.toCanvas(J,$,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"H"}),w){const H=J.getContext("2d");if(H){const U=new Image;U.crossOrigin="anonymous",await new Promise((O,A)=>{U.onload=()=>{const R=J.width*.2,z=(J.width-R)/2,ie=(J.height-R)/2;H.fillStyle="white",H.fillRect(z-5,ie-5,R+10,R+10),H.drawImage(U,z,ie,R,R),O(null)},U.onerror=A,U.src=w})}}const Y=J.toDataURL("image/png");l(Y)}catch($){console.error("Erreur lors de la gnration du QR code:",$)}finally{b(!1)}}},E=()=>{if(!s||!r)return;const $=document.createElement("a");$.download=`qr-code-${r.slug}.png`,$.href=s,$.click()},S=async()=>{if(r)try{await navigator.clipboard.writeText(`${I}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch($){console.error("Erreur lors de la copie:",$)}},C=$=>{u($.color),f($.bg)},P=async $=>{var Y;const J=(Y=$.target.files)==null?void 0:Y[0];if(J){if(!J.type.startsWith("image/")){alert("Veuillez slectionner un fichier image valide");return}if(J.size>2*1024*1024){alert("Le fichier doit faire moins de 2MB");return}p(!0);try{const H=J.name.split(".").pop(),U=`qr-logos/${e==null?void 0:e.id}-${Date.now()}.${H}`,{data:O,error:A}=await B.storage.from("cloudmenu").upload(U,J,{cacheControl:"3600",upsert:!1});if(A)throw A;const{data:R}=B.storage.from("cloudmenu").getPublicUrl(U);x(R.publicUrl)}catch(H){console.error("Erreur lors du tlchargement du logo:",H),alert("Erreur lors du tlchargement du logo")}finally{p(!1)}}},M=()=>{x(""),j.current&&(j.current.value="")};if(i)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})});if(!r)return o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ns,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configur"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identit visuelle de votre restaurant pour gnrer un QR code."}),o.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const I=r?`https://a.cloudmenu.fr/m/${r.slug}`:"";return o.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tlchargez votre QR code personnalis pour afficher dans votre tablissement. Il permet d'accder  tous vos menus."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(P4,{className:"w-5 h-5"}),o.jsx("span",{children:"URL de votre restaurant"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[o.jsx("input",{type:"text",value:`${I}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),o.jsx("button",{onClick:S,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?o.jsxs(o.Fragment,{children:[o.jsx(Fe,{className:"w-4 h-4"}),o.jsx("span",{children:"Copi !"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Bm,{className:"w-4 h-4"}),o.jsx("span",{children:"Copier"})]})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramtre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Gg,{className:"w-5 h-5"}),o.jsx("span",{children:"Personnalisation"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prdfinies"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_.map(($,J)=>o.jsxs("button",{onClick:()=>C($),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===$.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:$.color}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:$.bg}})]}),o.jsx("span",{className:"text-xs font-medium text-gray-700",children:$.name})]},J))})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:c,onChange:$=>u($.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:c,onChange:$=>u($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrire-plan"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:d,onChange:$=>f($.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:d,onChange:$=>f($.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Logo au centre du QR code"}),w?o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("img",{src:w,alt:"Logo preview",className:"w-12 h-12 object-contain rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Logo ajout"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Le logo apparatra au centre du QR code"})]}),o.jsx("button",{onClick:M,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Retirer le logo",children:o.jsx(Ae,{className:"w-4 h-4"})})]})}):o.jsxs("div",{children:[o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:P,className:"hidden",id:"logo-upload"}),o.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${g?"border-gray-300 bg-gray-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"}`,children:g?o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Tlchargement..."})]}):o.jsxs("div",{className:"flex flex-col items-center space-y-2 text-gray-600",children:[o.jsx(gs,{className:"w-8 h-8"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:"Ajouter un logo"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu' 2MB"})]})]})})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(ns,{className:"w-5 h-5"}),o.jsx("span",{children:"Aperu du QR Code"})]}),o.jsx("div",{className:"text-center",children:y?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Gnration..."})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&o.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:E,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[o.jsx(b4,{className:"w-5 h-5"}),o.jsx("span",{children:"Tlcharger le QR Code"})]})})]})})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Comment utiliser votre QR Code"}),o.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("span",{children:"Tlchargez le QR code en cliquant sur le bouton ci-dessus"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("span",{children:"Vos clients scannent le QR code avec leur tlphone"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("span",{children:"Ils accdent directement  votre menu en ligne !"})]})]})]})]})]})]})},fh={};function a0(e,t){const[r,n]=v.useState({}),[i,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(fh[e]){n(fh[e]),a(!1);return}try{const{data:l,error:c}=await B.from("interface_translations").select("translation_key, translated_text").eq("language_code",e).in("translation_key",t);if(c){console.error("Error fetching interface translations:",c),a(!1);return}const u={};l==null||l.forEach(d=>{u[d.translation_key]=d.translated_text}),fh[e]=u,n(u)}catch(l){console.error("Error:",l)}finally{a(!1)}})()},[e,t.join(",")]),{translations:r,loading:i}}function vn(e,t,r=""){return e[t]||r}function r5({googleBusinessUrl:e,selectedLanguage:t}){if(!e)return null;const{translations:r}=a0(t,["leave_review","write_review_google"]),n=l=>l.includes("g.page")?l.endsWith("/")?`${l}review`:`${l}/review`:l.includes("maps")?l.includes("?")?`${l}&reviews=true`:`${l}?reviews=true`:l.endsWith("/")?`${l}review`:`${l}/review`,i=vn(r,"leave_review","Laissez-nous un avis"),a=vn(r,"write_review_google","crire un avis sur Google"),s=n(e);return o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-5",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>o.jsx(Vm,{size:20,className:"text-yellow-400 fill-yellow-400"},c))}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Google"})]})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i}),o.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[o.jsx(Vm,{size:18}),o.jsx("span",{children:a}),o.jsx(Hg,{size:16})]})]})}function n5({restaurant:e,selectedLanguage:t}){const{translations:r}=a0(t,["contact","follow_us","powered_by","our_location","all_rights_reserved"]),n=f=>`https://wa.me/${f.replace(/\D/g,"")}`,i=vn(r,"contact","Contact"),a=vn(r,"follow_us","Suivez-nous"),s=vn(r,"powered_by","Propuls par"),l=vn(r,"our_location","Notre emplacement"),c=vn(r,"all_rights_reserved","Tous droits rservs."),u=e.telephone||e.whatsapp||e.address||e.hours,d=e.instagram||e.facebook||e.tiktok;return o.jsxs("footer",{className:"bg-gray-900 text-white mt-12",children:[o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[u&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:i}),o.jsxs("div",{className:"space-y-3",children:[e.telephone&&o.jsxs("a",{href:`tel:${e.telephone}`,className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(er,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.telephone})]}),e.whatsapp&&o.jsxs("a",{href:n(e.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(vi,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.whatsapp})]}),e.address&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(nl,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.address})]}),e.hours&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(ps,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.hours})]})]})]}),d&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:a}),o.jsxs("div",{className:"space-y-3",children:[e.instagram&&o.jsxs("a",{href:e.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(ji,{size:18}),o.jsx("span",{className:"text-sm",children:"Instagram"})]}),e.facebook&&o.jsxs("a",{href:e.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(wi,{size:18}),o.jsx("span",{className:"text-sm",children:"Facebook"})]}),e.tiktok&&o.jsxs("a",{href:e.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(W_,{size:18}),o.jsx("span",{className:"text-sm",children:"TikTok"})]})]})]}),e.location&&o.jsxs("div",{className:`${!d&&u?"md:col-span-2 lg:col-span-1":""}`,children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:l}),o.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden",children:o.jsx("iframe",{src:e.location,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-full"})})]})]})}),o.jsx("div",{className:"border-t border-gray-800",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," ",e.restaurant_name,". ",c]}),e.show_footer_branding&&o.jsxs("a",{href:"https://cloudmenu.fr",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-400 hover:text-orange-500 transition-colors",children:[s," ",o.jsx("span",{className:"font-semibold text-orange-500",children:"CloudMenu"})]})]})})})]})}const Xr={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},ar:{name:"",flag:""},ja:{name:"",flag:""},zh:{name:"",flag:""},pt:{name:"Portugus",flag:""},ru:{name:"",flag:""},hi:{name:"",flag:""},ko:{name:"",flag:""}},i5=()=>{const e=navigator.language.split("-")[0];return Object.keys(Xr).includes(e)?e:"fr"};function a5(){var H,U,O;const{slug:e}=ba(),[t,r]=v.useState(null),[n,i]=v.useState([]),[a,s]=v.useState("fr"),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[f,h]=v.useState(""),[m,y]=v.useState(!1),[b,w]=v.useState(!1),[x,g]=v.useState(!1),[p,j]=v.useState([]),[_,N]=v.useState({}),{translations:k,loading:E}=a0(a,["our_menus","no_menus_available"]);v.useEffect(()=>{const A=()=>{y(window.innerWidth<768)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),v.useEffect(()=>{e&&(C(),S())},[e]);const S=async()=>{try{const A=window.location.href,R=await Pi.toDataURL(A,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(R)}catch(A){console.error("Error generating QR code:",A)}},C=async()=>{d(!0);try{const{data:A,error:R}=await B.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(R||!A){console.error("Erreur lors du chargement du restaurant:",R),d(!1);return}r(A);const{data:z,error:ie}=await B.from("menus").select("*").eq("user_id",A.user_id).eq("actif",!0).eq("status","published").order("created_at",{ascending:!0});if(ie)console.error("Erreur lors du chargement des menus:",ie),i([]);else if(i(z||[]),z&&z.length>0){const ce=z.map(Ee=>Ee.id),{data:de}=await B.from("menu_languages").select("language_code, menu_id, menu_title").in("menu_id",ce);if(de){const Ee=Array.from(new Set(de.map(oe=>oe.language_code))),ne=z.map(oe=>oe.default_language||"fr"),_t=Array.from(new Set([...ne,...Ee]));j(_t);const G=i5();_t.includes(G)?s(G):_t.length>0&&s(_t[0]);const se={};de.forEach(oe=>{se[oe.menu_id]||(se[oe.menu_id]={}),se[oe.menu_id][oe.language_code]=oe.menu_title||""}),N(se)}}}catch(A){console.error("Erreur:",A)}finally{d(!1)}},M=n.reduce((A,R)=>{const z=A.find(ie=>ie.menu_name===R.menu_name);return z?z.languages.push(R):A.push({menu_name:R.menu_name||R.nom,description:R.description,languages:[R]}),A},[]);Array.from(new Set(n.map(A=>A.language||"fr")));const I=A=>A.languages[0],$=A=>`https://wa.me/${A.replace(/\D/g,"")}`,J=(A,R,z)=>{var ce;const ie=n.find(de=>de.id===A);return ie&&ie.default_language===R?z:((ce=_[A])==null?void 0:ce[R])||z},Y=(A,R)=>{var ie;const z=n.find(ce=>ce.id===A);return z&&z.default_language===R?!0:!!((ie=_[A])!=null&&ie[R])};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(wa,{size:"lg"})}):t?m?o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",dir:a==="ar"?"rtl":"ltr",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate text-black",children:t.restaurant_name}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[p.length>1&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Kg,{size:18}),o.jsx("span",{className:"text-xl",children:((H=Xr[a])==null?void 0:H.flag)||""}),o.jsx("span",{className:"text-sm font-medium",children:((U=Xr[a])==null?void 0:U.name)||a}),o.jsx(rl,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(A=>{var R,z;return o.jsx("button",{onClick:()=>{s(A),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${a===A?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(R=Xr[A])==null?void 0:R.flag}),o.jsx("span",{className:"text-sm",children:(z=Xr[A])==null?void 0:z.name})]}),a===A&&o.jsx(Fe,{size:16})]})},A)})})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[t.telephone&&o.jsx("a",{href:`tel:${t.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${t.telephone}`,children:o.jsx(er,{size:20})}),t.whatsapp&&o.jsx("a",{href:$(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${t.whatsapp}`,children:o.jsx(vi,{size:20})}),t.instagram&&o.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(ji,{size:20})}),t.facebook&&o.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(wi,{size:20})}),t.tiktok&&o.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",children:[o.jsx(yr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Rserver"})]}),p.length>1&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((O=Xr[a])==null?void 0:O.flag)||""}),o.jsx(rl,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(A=>{var R,z;return o.jsx("button",{onClick:()=>{s(A),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${A===a?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(R=Xr[A])==null?void 0:R.flag}),o.jsx("span",{className:"text-sm",children:(z=Xr[A])==null?void 0:z.name})]}),a===A&&o.jsx(Fe,{size:16})]})},A)})})]}),(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsx("button",{onClick:A=>{A.stopPropagation(),w(!b)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(ku,{size:24,className:"text-black"})})]}),b&&(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[t.telephone&&o.jsxs("a",{href:`tel:${t.telephone}`,className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(er,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Tlphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.telephone})]})]}),t.whatsapp&&o.jsxs("a",{href:$(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(vi,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.whatsapp})]})]}),t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(ji,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(wi,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]})]})]})]})}),o.jsxs("div",{className:"pt-16",children:[o.jsx("div",{className:"h-48 flex items-center justify-center overflow-hidden",style:{backgroundColor:t.hero_background_color||"#f3f4f6"},children:t.logo_url?o.jsx("div",{className:"flex items-center justify-center h-full px-4",children:o.jsx("img",{src:t.logo_url,alt:t.restaurant_name,className:"max-h-32 max-w-full object-contain"})}):t.banner_url?o.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"text-center px-4",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name})})}),o.jsx("div",{className:"px-4 py-6",children:(t.description||t.address||t.hours)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 mb-6",children:[t.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),o.jsxs("div",{className:"space-y-2",children:[t.address&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(nl,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.address})]}),t.hours&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(ps,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.hours})]})]})]})}),o.jsxs("div",{className:"px-4 py-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:vn(k,"our_menus","Nos Menus")}),M.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx(ku,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600",children:vn(k,"no_menus_available","Aucun menu disponible pour le moment.")})]}):o.jsx("div",{className:"space-y-3",children:M.map(A=>{var Ee,ne;const R=I(A),z=R.slug.split("/").pop(),ie=J(R.id,a,A.menu_name),ce=Y(R.id,a),de=R.default_language||"fr";return o.jsx(rt,{to:`/m/${e}/${z}?lang=${a}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ie}),!ce&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200",children:[((Ee=Xr[de])==null?void 0:Ee.flag)||""," ",((ne=Xr[de])==null?void 0:ne.name)||de.toUpperCase()]})]}),A.description&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description})]}),o.jsx(Vg,{className:"flex-shrink-0 ml-3 text-gray-400",size:20})]})},A.menu_name)})})]}),t.google_business_url&&o.jsx("div",{className:"px-4 mb-6",children:o.jsx(r5,{googleBusinessUrl:t.google_business_url,selectedLanguage:a})})]}),o.jsx(n5,{restaurant:t,selectedLanguage:a}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Rserver une table"}),o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ae,{size:24,className:"text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Pour rserver une table, veuillez nous contacter directement :"}),o.jsxs("div",{className:"space-y-3",children:[t.telephone&&o.jsxs("a",{href:`tel:${t.telephone}`,className:"flex items-center gap-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(er,{size:20,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Tlphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.telephone})]})]}),t.whatsapp&&o.jsxs("a",{href:$(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(vi,{size:20,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.whatsapp})]})]})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(V_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&o.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Dcouvrez notre menu interactif"})]})]}),t.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&o.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(nl,{size:16}),o.jsx("span",{children:t.address})]}),t.telephone&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(er,{size:16}),o.jsx("span",{children:t.telephone})]}),t.hours&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(ps,{size:16}),o.jsx("span",{children:t.hours})]})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a t dsactiv."})]})})}const ur={fr:{name:"Franais",flag:"",rtl:!1},en:{name:"English",flag:"",rtl:!1},es:{name:"Espaol",flag:"",rtl:!1},de:{name:"Deutsch",flag:"",rtl:!1},it:{name:"Italiano",flag:"",rtl:!1},pt:{name:"Portugus",flag:"",rtl:!1},ar:{name:"",flag:"",rtl:!0},zh:{name:"",flag:"",rtl:!1},ja:{name:"",flag:"",rtl:!1},ru:{name:"",flag:"",rtl:!1},nl:{name:"Nederlands",flag:"",rtl:!1}},s5=()=>{var Gs,Ys,T,re,X,q,K,le;const e=Gr(),{slug:t,menuSlug:r}=ba(),[n,i]=v.useState(null),[a,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(""),[b,w]=v.useState(!1),[x,g]=v.useState([]),[p,j]=v.useState(null),[_,N]=v.useState(""),[k,E]=v.useState(!1),[S,C]=v.useState(!1);v.useState(!1);const[P,M]=v.useState(!1),[I,$]=v.useState(""),[J,Y]=v.useState([]),[H,U]=v.useState({}),[O,A]=v.useState({}),[R,z]=v.useState(""),[ie,ce]=v.useState(!1),[de,Ee]=v.useState(!1),[ne,_t]=v.useState(null),[G,se]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),oe=v.useRef({}),F=v.useRef(null),Ve=v.useRef({});v.useEffect(()=>{const D=()=>{E(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),v.useEffect(()=>{t&&r&&(He(),ge())},[t,r]),v.useEffect(()=>{n&&I&&Tr(I)},[I,n,a,l]);const ge=async()=>{try{const D=window.location.href,Q=await Pi.toDataURL(D,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});N(Q)}catch(D){console.error("Error generating QR code:",D)}};v.useEffect(()=>{if(n&&!b){const Q=new URLSearchParams(window.location.search).get("ref");let V="direct_link";Q==="qr"?V="qr_scan":Q==="gmb"&&(V="gmb"),f4(n.id,V),w(!0)}},[n,b]),v.useEffect(()=>{a.length>0&&!m&&y(a[0].id)},[a]),v.useEffect(()=>{if(m&&Ve.current[m]&&F.current){const D=Ve.current[m],Q=F.current;D.getBoundingClientRect(),Q.getBoundingClientRect();const V=D.offsetLeft,Je=D.offsetWidth,Ue=Q.scrollLeft,Ke=Q.offsetWidth;V<Ue?Q.scrollTo({left:V-20,behavior:"smooth"}):V+Je>Ue+Ke&&Q.scrollTo({left:V+Je-Ke+20,behavior:"smooth"})}},[m]);const He=async()=>{if(!t||!r){h("Paramtres manquants"),d(!1);return}try{const{data:D,error:Q}=await B.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(Q||!D){h("Restaurant non trouv"),d(!1);return}j(D);const{data:V,error:Je}=await B.from("menus").select("*").eq("user_id",D.user_id).eq("actif",!0).eq("status","published");if(Je){h("Erreur lors du chargement des menus"),d(!1);return}g(V||[]);const Ue=V==null?void 0:V.find(Ke=>Ke.slug.split("/").pop()===r);if(!Ue){h("Menu non trouv"),d(!1);return}i(Ue),await ht(Ue.id,Ue)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},ht=async(D,Q)=>{try{const{data:V,error:Je}=await B.from("categories").select("*").eq("menu_id",D).eq("actif",!0).order("ordre",{ascending:!0});if(Je)throw Je;if(s(V||[]),V&&V.length>0){const{data:Ke,error:we}=await B.from("menu_items").select("*").in("category_id",V.map(Mr=>Mr.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(we)throw we;const Ot={};V.forEach(Mr=>{Ot[Mr.id]=(Ke==null?void 0:Ke.filter(Qs=>Qs.category_id===Mr.id))||[]}),c(Ot)}const{data:Ue}=await B.from("menu_languages").select("*").eq("menu_id",D);if(Y(Ue||[]),!I){const we=new URLSearchParams(window.location.search).get("lang");if(we){const Ot=Ue==null?void 0:Ue.some(Qs=>Qs.language_code===we),Mr=we===Q.default_language;if(Ot||Mr){$(we);return}}$(Q.default_language||"fr")}}catch(V){console.error("Erreur lors du chargement du contenu:",V)}},Tr=async D=>{if(!n||!D||D===(n.default_language||"fr")){U({}),A({}),z((n==null?void 0:n.menu_name)||"");return}try{const Q=J.find(we=>we.language_code===D);Q!=null&&Q.menu_title?z(Q.menu_title):z(n.menu_name||"");const V=a.map(we=>we.id),{data:Je}=await B.from("category_translations").select("*").in("category_id",V).eq("language_code",D),Ue={};Je==null||Je.forEach(we=>{Ue[we.category_id]=we}),U(Ue);const Ke=[];if(Object.values(l).forEach(we=>{we.forEach(Ot=>Ke.push(Ot.id))}),Ke.length>0){const{data:we}=await B.from("menu_item_translations").select("*").in("menu_item_id",Ke).eq("language_code",D),Ot={};we==null||we.forEach(Mr=>{Ot[Mr.menu_item_id]=Mr}),A(Ot)}}catch(Q){console.error("Error loading translations:",Q)}},Di=D=>{y(D);const Q=oe.current[D];if(Q){const Je=Q.offsetTop-140;window.scrollTo({top:Je,behavior:"smooth"})}};v.useEffect(()=>{const D=()=>{const Q=window.scrollY+250;let V="",Je=1/0;for(const Ue of a){const Ke=oe.current[Ue.id];if(Ke){const we=Ke.offsetTop,Ot=we+Ke.offsetHeight,Mr=Math.max(we,Q-150),Qs=Math.min(Ot,Q+200),vC=Math.max(0,Qs-Mr),yC=Ot-we;if(vC/Math.min(yC,350)>.4){V=Ue.id;break}const wf=we-Q;wf>0&&wf<Je&&(Je=wf,V=Ue.id)}}if(!V){Je=1/0;for(const Ue of a){const Ke=oe.current[Ue.id];if(Ke){const we=Ke.offsetTop,Ot=Math.abs(we-Q);Ot<Je&&(Je=Ot,V=Ue.id)}}}V&&V!==m&&y(V)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[a,m]),v.useEffect(()=>{const D=Q=>{S&&C(!1)};if(S)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[S]);const Yl=D=>{const Q=D.replace(/\D/g,"");return`https://wa.me/${Q.startsWith("33")?Q:`33${Q.substring(1)}`}`},Ks=(D,Q)=>{_t({type:D,text:Q}),setTimeout(()=>_t(null),5e3)},xf=async D=>{if(D.preventDefault(),!G.customer_name.trim()||!G.customer_phone.trim()||!G.reservation_date||!G.reservation_time){Ks("error","Veuillez remplir tous les champs obligatoires");return}Ee(!0);try{const{error:Q}=await B.from("reservations").insert([{menu_id:n.id,customer_name:G.customer_name,customer_email:null,customer_phone:G.customer_phone,party_size:G.party_size,reservation_date:G.reservation_date,reservation_time:G.reservation_time,special_requests:G.special_requests||null,status:"pending"}]);if(Q)throw Q;Ks("success","Votre rservation a t envoye avec succs ! Le restaurant vous contactera pour confirmer."),se({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{ce(!1)},3e3)}catch(Q){console.error("Erreur lors de la rservation:",Q),Ks("error","Erreur lors de l'envoi de la rservation. Veuillez ressayer.")}finally{Ee(!1)}},bf=()=>{const D=new Date;return D.setDate(D.getDate()+1),D.toISOString().split("T")[0]},ze=()=>{var D;return((D=ur[I])==null?void 0:D.rtl)||!1};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Mn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouv"}),o.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):k?o.jsxs("div",{className:"min-h-screen",dir:ze()?"rtl":"ltr",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:n.nom}),o.jsxs("div",{className:`hidden lg:flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[J.length>0&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{M(!P)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Kg,{size:18}),o.jsx("span",{className:"text-xl",children:((Gs=ur[I])==null?void 0:Gs.flag)||""}),o.jsx("span",{className:"text-sm font-medium",children:((Ys=ur[I])==null?void 0:Ys.name)||I}),o.jsx(rl,{size:16})]}),P&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{$(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(T=ur[n.default_language||"fr"])==null?void 0:T.flag}),o.jsx("span",{className:"text-sm",children:(re=ur[n.default_language||"fr"])==null?void 0:re.name})]}),I===n.default_language&&o.jsx(Fe,{size:16})]})}),J.map(D=>{var Q,V;return o.jsx("button",{onClick:()=>{$(D.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((Q=ur[D.language_code])==null?void 0:Q.flag)||""}),o.jsx("span",{className:"text-sm",children:((V=ur[D.language_code])==null?void 0:V.name)||D.language_code})]}),I===D.language_code&&o.jsx(Fe,{size:16})]})},D.id)})]})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:`flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[(p==null?void 0:p.telephone)&&o.jsx("a",{href:`tel:${p==null?void 0:p.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${p==null?void 0:p.telephone}`,children:o.jsx(er,{size:20})}),(p==null?void 0:p.whatsapp)&&o.jsx("a",{href:Yl(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${p==null?void 0:p.whatsapp}`,children:o.jsx(vi,{size:20})}),(p==null?void 0:p.instagram)&&o.jsx("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(ji,{size:20})}),(p==null?void 0:p.facebook)&&o.jsx("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(wi,{size:20})}),(p==null?void 0:p.tiktok)&&o.jsx("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:`lg:hidden flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[o.jsxs("button",{onClick:()=>ce(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",style:{backgroundColor:n.couleur_primaire},children:[o.jsx(yr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Rserver"})]}),J.length>0&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{M(!P)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((X=ur[I])==null?void 0:X.flag)||""}),o.jsx(rl,{size:16})]}),P&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{$(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(q=ur[n.default_language||"fr"])==null?void 0:q.flag}),o.jsx("span",{className:"text-sm",children:(K=ur[n.default_language||"fr"])==null?void 0:K.name})]}),I===n.default_language&&o.jsx(Fe,{size:16})]})}),J.map(D=>{var Q,V;return o.jsx("button",{onClick:()=>{$(D.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((Q=ur[D.language_code])==null?void 0:Q.flag)||""}),o.jsx("span",{className:"text-sm",children:((V=ur[D.language_code])==null?void 0:V.name)||D.language_code})]}),I===D.language_code&&o.jsx(Fe,{size:16})]})},D.id)})]})]}),((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&o.jsx("button",{onClick:D=>{D.stopPropagation(),C(!S)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(ku,{size:24,className:"text-black"})})]}),S&&((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&o.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[(p==null?void 0:p.telephone)&&o.jsxs("a",{href:`tel:${p==null?void 0:p.telephone}`,className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(er,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Tlphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.telephone})]})]}),(p==null?void 0:p.whatsapp)&&o.jsxs("a",{href:Yl(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(vi,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.whatsapp})]})]}),(p==null?void 0:p.instagram)&&o.jsxs("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(ji,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",p==null?void 0:p.instagram.split("/").pop()]})]})]}),(p==null?void 0:p.facebook)&&o.jsxs("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(wi,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Voir la page"})]})]}),(p==null?void 0:p.tiktok)&&o.jsxs("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",(le=p==null?void 0:p.tiktok.split("/").pop())==null?void 0:le.replace("@","")]})]})]}),!(p!=null&&p.telephone)&&!(p!=null&&p.whatsapp)&&!(p!=null&&p.instagram)&&!(p!=null&&p.facebook)&&!(p!=null&&p.tiktok)&&o.jsx("div",{className:"px-4 py-8 text-gray-500 text-center",children:"Aucune information de contact configure"})]})]})]})}),n.banniere_url&&o.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:o.jsx("img",{src:n.banniere_url,alt:"Bannire du restaurant",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"px-4 lg:pt-20",children:[a.length>0&&o.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:o.jsx("div",{ref:F,className:`flex ${ze()?"space-x-reverse":""} space-x-8 overflow-x-auto scrollbar-hide items-center`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.map(D=>o.jsx("button",{ref:Q=>Ve.current[D.id]=Q,onClick:()=>Di(D.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===D.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===D.id?n.couleur_primaire:void 0,borderColor:m===D.id?n.couleur_primaire:void 0},children:I!==(n.default_language||"fr")&&H[D.id]?H[D.id].nom:D.nom},D.id))})}),o.jsx("div",{className:"hidden lg:block mb-8",children:o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>ce(!0),className:`bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center ${ze()?"space-x-reverse":""} space-x-3 font-medium text-lg mx-auto`,style:{backgroundColor:n.couleur_primaire},children:[o.jsx(yr,{size:24}),o.jsx("span",{children:"Rserver une table"})]})})}),o.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[a.length>0&&o.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),o.jsx("nav",{className:"py-2",children:a.map(D=>{const Q=l[D.id]||[];return Q.length===0?null:o.jsxs("button",{onClick:()=>Di(D.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===D.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===D.id?n.couleur_primaire:n.couleur_texte,borderColor:m===D.id?n.couleur_primaire:void 0},children:[o.jsx("div",{className:"font-medium text-base",children:D.nom}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[Q.length," plat",Q.length>1?"s":""]})]},D.id)})})]})}),o.jsx("div",{className:"lg:min-h-screen",children:a.length===0?o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:o.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de cration"}),o.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propritaire de ce restaurant configure actuellement son menu.",o.jsx("br",{}),"Revenez bientt pour dcouvrir nos dlicieux plats !"]})]})}):o.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:a.map(D=>{const Q=l[D.id]||[];return Q.length===0?null:o.jsxs("div",{ref:V=>oe.current[D.id]=V,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[o.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[o.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&H[D.id]?H[D.id].nom:D.nom}),D.description&&o.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:D.description}),o.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),o.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[o.jsx("div",{className:"lg:hidden",children:Q.map(V=>o.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:o.jsxs("div",{className:`flex items-start ${ze()?"space-x-reverse":""} space-x-4`,children:[V.image_url&&o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100",children:o.jsx("img",{src:V.image_url,alt:V.nom,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:`flex-1 ${ze()?"pl-2":"pr-2"}`,children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&O[V.id]?O[V.id].nom:V.nom}),o.jsxs("div",{className:`flex items-center ${ze()?"space-x-reverse":""} space-x-1 mt-1`,children:[V.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Vgtarien",children:o.jsx(Xn,{className:"w-3 h-3"})}),V.vegan&&o.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:o.jsx(Xn,{className:"w-3 h-3"})}),V.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"pic",children:o.jsx(Kc,{className:"w-3 h-3"})})]})]}),o.jsxs("span",{className:`text-xl font-bold flex-shrink-0 ${ze()?"mr-2":"ml-2"}`,style:{color:n.couleur_primaire},children:[V.prix.toFixed(2)," ",n.currency_symbol||""]})]}),(I!==(n.default_language||"fr")&&O[V.id]?O[V.id].description:V.description)&&o.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:I!==(n.default_language||"fr")&&O[V.id]?O[V.id].description:V.description}),V.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["Allergnes: ",V.allergenes.join(", ")]})]})]})},V.id))}),Q.map(V=>o.jsx("div",{className:"hidden lg:block",children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[V.image_url&&o.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[o.jsx("img",{src:V.image_url,alt:V.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsxs("div",{className:`absolute top-3 ${ze()?"right-3":"left-3"} flex ${ze()?"space-x-reverse":""} space-x-1`,children:[V.vegetarien&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Vgtarien",children:o.jsx(Xn,{className:"w-4 h-4"})}),V.vegan&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:o.jsx(Xn,{className:"w-4 h-4"})}),V.sans_gluten&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"pic",children:o.jsx(Kc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[!V.image_url&&(V.vegetarien||V.vegan||V.sans_gluten||V.epice)&&o.jsxs("div",{className:`flex ${ze()?"space-x-reverse":""} space-x-1 mb-3`,children:[V.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-600 p-1.5 rounded-full",title:"Vgtarien",children:o.jsx(Xn,{className:"w-4 h-4"})}),V.vegan&&o.jsx("span",{className:"bg-green-200 text-green-700 p-1.5 rounded-full",title:"Vegan",children:o.jsx(Xn,{className:"w-4 h-4"})}),V.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-bold",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-red-100 text-red-600 p-1.5 rounded-full",title:"pic",children:o.jsx(Kc,{className:"w-4 h-4"})})]}),o.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&O[V.id]?O[V.id].nom:V.nom}),(I!==(n.default_language||"fr")&&O[V.id]?O[V.id].description:V.description)&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:I!==(n.default_language||"fr")&&O[V.id]?O[V.id].description:V.description}),V.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:["Allergnes: ",V.allergenes.join(", ")]}),o.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:o.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[V.prix.toFixed(2)," "]})})]})]})},V.id))]})]},D.id)})})})]}),(n.afficher_powered_by||n.lien_cloudmenu)&&o.jsxs("footer",{className:"text-center py-8 border-t border-gray-200 bg-gray-50 mx-4 lg:mx-0 lg:rounded-t-2xl",children:[n.afficher_powered_by&&o.jsx("p",{className:"text-base text-gray-500 mb-3",children:"Propuls par CloudMenu"}),n.lien_cloudmenu&&o.jsx("a",{href:"https://cloudmenu.com",target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",style:{color:n.couleur_primaire},children:"Crer mon menu gratuitement avec CloudMenu"})]})]}),ie&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Rserver une table"}),o.jsx("button",{onClick:()=>ce(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Ae,{size:20})})]})}),ne&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${ne.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[ne.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Ae,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:ne.text})]}),o.jsxs("form",{onSubmit:xf,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:G.customer_name,onChange:D=>se(Q=>({...Q,customer_name:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone *"}),o.jsx("input",{type:"tel",value:G.customer_phone,onChange:D=>se(Q=>({...Q,customer_phone:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:G.reservation_date,onChange:D=>se(Q=>({...Q,reservation_date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:bf(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:G.reservation_time,onChange:D=>se(Q=>({...Q,reservation_time:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:G.party_size,onChange:D=>se(Q=>({...Q,party_size:parseInt(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(D=>o.jsxs("option",{value:D,children:[D," personne",D>1?"s":""]},D))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spciales (optionnel)"}),o.jsx("textarea",{value:G.special_requests,onChange:D=>se(Q=>({...Q,special_requests:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, prfrences de table, occasion spciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>ce(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:de,className:`flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center ${ze()?"space-x-reverse":""} space-x-2`,style:{backgroundColor:n.couleur_primaire},children:de?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(yr,{className:"w-5 h-5"}),o.jsx("span",{children:"Rserver"})]})})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(V_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(p==null?void 0:p.restaurant_name)||n.nom}),o.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:R||n.menu_name||n.nom}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:_&&o.jsx("img",{src:_,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Dcouvrez notre menu interactif"})]})]}),n.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},o5=()=>{const{slug:e}=ba(),[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});v.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:x,error:g}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(g){s("Erreur lors du chargement du menu");return}if(!x){s("Restaurant non trouv");return}r(x)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},y=(x,g)=>{d({type:x,text:g}),setTimeout(()=>d(null),5e3)},b=async x=>{if(x.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){y("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:g}=await B.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(g)throw g;y("success","Votre rservation a t envoye avec succs ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(g){console.error("Erreur lors de la rservation:",g),y("error","Erreur lors de l'envoi de la rservation. Veuillez ressayer.")}finally{c(!1)}},w=()=>{const x=new Date;return x.setDate(x.getDate()+1),x.toISOString().split("T")[0]};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):a||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Mn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs(rt,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Cl,{size:20}),o.jsx("span",{children:"Retour  l'accueil"})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Rserver une table"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?o.jsx(Fe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Ae,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:u.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:f.customer_name,onChange:x=>h(g=>({...g,customer_name:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone *"}),o.jsx("input",{type:"tel",value:f.customer_phone,onChange:x=>h(g=>({...g,customer_phone:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),o.jsx("input",{type:"email",value:f.customer_email,onChange:x=>h(g=>({...g,customer_email:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:f.reservation_date,onChange:x=>h(g=>({...g,reservation_date:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:f.reservation_time,onChange:x=>h(g=>({...g,reservation_time:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:f.party_size,onChange:x=>h(g=>({...g,party_size:parseInt(x.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(x=>o.jsxs("option",{value:x,children:[x," personne",x>1?"s":""]},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spciales (optionnel)"}),o.jsx("textarea",{value:f.special_requests,onChange:x=>h(g=>({...g,special_requests:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, prfrences de table, occasion spciale..."})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:l?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(yr,{className:"w-5 h-5"}),o.jsx("span",{children:"Envoyer la rservation"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Information :"})," Votre rservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},l5=()=>{var u;const{slug:e}=ba(),[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null);v.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:d,error:f}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouv");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):a||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Mn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs(rt,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Cl,{size:20}),o.jsx("span",{children:"Retour  l'accueil"})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(er,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Tlphone"}),o.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),o.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(vi,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-gray-600",children:"Messagerie instantane"})]})]}),o.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[o.jsx("span",{children:t.whatsapp}),o.jsx(Hg,{size:16})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(er,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Rservation"}),o.jsx("p",{className:"text-gray-600",children:"Rservez en ligne"})]})]}),o.jsx(rt,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Rserver une table"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(er,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),o.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos plats"})]})]}),o.jsx(rt,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"mt-12",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les rseaux sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[o.jsx(ji,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Instagram"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[o.jsx(wi,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Facebook"}),o.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-black font-bold",children:"T"})}),o.jsx("span",{className:"font-medium",children:"TikTok"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),o.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:o.jsxs("p",{className:"text-blue-700 text-center",children:[" ",o.jsx("strong",{children:"Besoin d'aide ?"})," N'hsitez pas  nous contacter pour toute question ou demande spciale. Nous sommes l pour vous aider !"]})})]})})};function c5(){const{user:e}=or();Gr();const[t,r]=v.useState(!0),[n,i]=v.useState(!1),[a,s]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",hero_background_color:"#f3f4f6",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:"",google_business_url:"",location:"",show_footer_branding:!0});v.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:g,error:p}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&(c(g),h({restaurant_name:g.restaurant_name,slug:g.slug,description:g.description||"",banner_url:g.banner_url||"",logo_url:g.logo_url||"",hero_background_color:g.hero_background_color||"#f3f4f6",telephone:g.telephone||"",whatsapp:g.whatsapp||"",instagram:g.instagram||"",facebook:g.facebook||"",tiktok:g.tiktok||"",address:g.address||"",hours:g.hours||"",google_business_url:g.google_business_url||"",location:g.location||"",show_footer_branding:g.show_footer_branding!==void 0?g.show_footer_branding:!0}))}catch(g){console.error("Erreur lors du chargement du profil:",g),y("error","Erreur lors du chargement du profil")}finally{r(!1)}}},y=(g,p)=>{s({type:g,text:p}),setTimeout(()=>s(null),5e3)},b=(g,p)=>{if(h(g==="show_footer_branding"?j=>({...j,[g]:p==="true"}):j=>({...j,[g]:p})),g==="restaurant_name"&&!l){const j=oi(p);h(_=>({..._,slug:j}))}},w=async(g,p)=>{if(e){d(!0);try{const j=f[p],N=await ms(g,p==="banner_url"?"bannieres":"logos");if(N.error){y("error",N.error);return}j&&await ts(j),h(k=>({...k,[p]:N.url})),y("success","Image tlcharge avec succs")}catch(j){console.error("Erreur lors du tlchargement:",j),y("error","Erreur lors du tlchargement de l'image")}finally{d(!1)}}},x=async()=>{if(e){if(!f.restaurant_name.trim()){y("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){y("error","Le slug est requis");return}i(!0);try{if(l){const g={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{error:p}=await B.from("restaurant_profiles").update(g).eq("id",l.id);if(p)throw p;y("success","Profil mis  jour avec succs")}else{const g={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{data:p,error:j}=await B.from("restaurant_profiles").insert([g]).select().single();if(j)throw j;c(p),y("success","Profil cr avec succs")}await m()}catch(g){console.error("Erreur lors de la sauvegarde:",g),y("error","Erreur lors de la sauvegarde du profil")}finally{i(!1)}}};return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(wa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[a&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[a.type==="success"?o.jsx(Fe,{size:20}):o.jsx(Ae,{size:20}),o.jsx("span",{children:a.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identit Visuelle"}),o.jsx("p",{className:"text-gray-600",children:"Configurez l'identit visuelle et les informations de votre restaurant"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(y4,{size:20}),o.jsx("span",{children:"Informations gnrales"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),o.jsx("input",{type:"text",value:f.restaurant_name,onChange:g=>b("restaurant_name",g.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),o.jsx("input",{type:"text",value:f.slug,onChange:g=>b("slug",g.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!l})]}),l&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas tre modifie aprs la cration"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:f.description,onChange:g=>b("description",g.target.value),placeholder:"Dcrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(nl,{size:16,className:"inline mr-1"}),"Adresse"]}),o.jsx("input",{type:"text",value:f.address,onChange:g=>b("address",g.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ps,{size:16,className:"inline mr-1"}),"Horaires"]}),o.jsx("input",{type:"text",value:f.hours,onChange:g=>b("hours",g.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(nl,{size:16,className:"inline mr-1"}),"Localisation (Google Maps)"]}),o.jsx("input",{type:"url",value:f.location,onChange:g=>b("location",g.target.value),placeholder:"https://maps.google.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lien Google Maps pour afficher la carte dans le footer"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannire"}),f.banner_url?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:f.banner_url,alt:"Bannire",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(g=>({...g,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:o.jsx(Ae,{size:16})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(gs,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour tlcharger une bannire"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"banner_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(g=>({...g,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:o.jsx(Ae,{size:14})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(gs,{className:"w-8 h-8 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"logo_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur de fond du hero"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.hero_background_color,onChange:g=>b("hero_background_color",g.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.hero_background_color,onChange:g=>b("hero_background_color",g.target.value),placeholder:"#f3f4f6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur d'arrire-plan pour la section hero"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Rseaux Sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(er,{size:16,className:"inline mr-1"}),"Tlphone"]}),o.jsx("input",{type:"tel",value:f.telephone,onChange:g=>b("telephone",g.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),o.jsx("input",{type:"tel",value:f.whatsapp,onChange:g=>b("whatsapp",g.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(ji,{size:16,className:"inline mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:f.instagram,onChange:g=>b("instagram",g.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(wi,{size:16,className:"inline mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:f.facebook,onChange:g=>b("facebook",g.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(W_,{size:16,className:"inline mr-1"}),"TikTok"]}),o.jsx("input",{type:"url",value:f.tiktok,onChange:g=>b("tiktok",g.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Vm,{size:16,className:"inline mr-1"}),"Google My Business"]}),o.jsx("input",{type:"url",value:f.google_business_url,onChange:g=>b("google_business_url",g.target.value),placeholder:"https://g.page/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Les clients pourront voir vos avis Google et laisser un avis depuis votre page"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Paramtres du Footer"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Afficher le branding CloudMenu"}),o.jsx("p",{className:"text-xs text-gray-500",children:'Afficher "Propuls par CloudMenu" dans le footer'})]}),o.jsx("button",{type:"button",onClick:()=>b("show_footer_branding",(!f.show_footer_branding).toString()),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f.show_footer_branding?"bg-orange-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${f.show_footer_branding?"translate-x-6":"translate-x-1"}`})})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:x,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx(ye,{className:"animate-spin",size:20}),o.jsx("span",{children:"Enregistrement..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Pl,{size:20}),o.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function S2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=S2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _e(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=S2(e))&&(n&&(n+=" "),n+=t);return n}var Ld={},E2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(E2);var s0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(s0);var o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(o0);var Rd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];l?u==="\\"&&a+1<i?(a++,s+=r[a]):u===l?l="":s+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,a++}return s&&n.push(s),n}e.toPath=t})(Rd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E2,r=s0,n=o0,i=Rd;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Ld);var u5=Ld.get;const zd=ki(u5);var br=e=>e===0?0:e>0?1:-1,Sr=e=>typeof e=="number"&&e!=+e,Yi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ue=e=>(typeof e=="number"||e instanceof Number)&&!Sr(e),ln=e=>ue(e)||typeof e=="string",d5=0,cl=e=>{var t=++d5;return"".concat(e||"").concat(t)},_i=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&typeof t!="string")return n;var a;if(Yi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Sr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},C2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function yn(e,t,r){return ue(e)&&ue(t)?e+r*(t-e):t}function P2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):zd(n,t))===r)}var ct=e=>e===null||typeof e>"u",Il=e=>ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),f5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function l0(e){if(typeof e!="string")return!1;var t=f5;return t.includes(e)}var h5=["viewBox","children"],Tx=["points","pathLength"],hh={svg:h5,polygon:Tx,polyline:Tx},c0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{l0(i)&&(n[i]=a=>r[i](r,a))}),n},m5=(e,t,r)=>n=>(e(t,r,n),null),O2=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];l0(i)&&typeof a=="function"&&(n||(n={}),n[i]=m5(a,t,r))}),n},p5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function A2(e){if(typeof e!="string")return!1;var t=p5;return t.includes(e)}function ja(e){var t=Object.entries(e).filter(r=>{var[n]=r;return A2(n)});return Object.fromEntries(t)}var T2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,g5=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(hh==null?void 0:hh[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&a.includes(t)||A2(t)),c=!!r&&l0(t);return s||l||c},ut=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;g5((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},v5=["children","width","height","viewBox","className","style","title","desc"];function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ep.apply(null,arguments)}function y5(e,t){if(e==null)return{};var r,n,i=x5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var u0=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:l,title:c,desc:u}=e,d=y5(e,v5),f=a||{width:n,height:i,x:0,y:0},h=_e("recharts-surface",s);return v.createElement("svg",ep({},ut(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),r)}),b5=["children","className"];function tp(){return tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tp.apply(null,arguments)}function w5(e,t){if(e==null)return{};var r,n,i=j5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function j5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ls=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=w5(e,b5),a=_e("recharts-layer",n);return v.createElement("g",tp({className:a},ut(i,!0),{ref:t}),r)}),M2=v.createContext(null),_5=()=>v.useContext(M2);function Ne(e){return function(){return e}}const I2=Math.cos,Cu=Math.sin,Yr=Math.sqrt,Pu=Math.PI,Ud=2*Pu,rp=Math.PI,np=2*rp,Fi=1e-6,k5=np-Fi;function D2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function N5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return D2;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class S5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?D2:N5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Fi)if(!(Math.abs(f*c-u*d)>Fi)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,y=i-l,b=c*c+u*u,w=m*m+y*y,x=Math.sqrt(b),g=Math.sqrt(h),p=a*Math.tan((rp-Math.acos((b+h-w)/(2*x*g)))/2),j=p/g,_=p/x;Math.abs(j-1)>Fi&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Fi||Math.abs(this._y1-d)>Fi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%np+np),h>k5?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Fi&&this._append`A${n},${n},0,${+(h>=rp)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function d0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new S5(t)}function f0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $2(e){this._context=e}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bd(e){return new $2(e)}function L2(e){return e[0]}function R2(e){return e[1]}function z2(e,t){var r=Ne(!0),n=null,i=Bd,a=null,s=d0(l);e=typeof e=="function"?e:e===void 0?L2:Ne(e),t=typeof t=="function"?t:t===void 0?R2:Ne(t);function l(c){var u,d=(c=f0(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ne(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ne(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ne(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function bc(e,t,r){var n=null,i=Ne(!0),a=null,s=Bd,l=null,c=d0(u);e=typeof e=="function"?e:e===void 0?L2:Ne(+e),t=typeof t=="function"?t:Ne(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?R2:Ne(+r);function u(f){var h,m,y,b=(f=f0(f)).length,w,x=!1,g,p=new Array(b),j=new Array(b);for(a==null&&(l=s(g=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(p[y],j[y]);l.lineEnd(),l.areaEnd()}x&&(p[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):p[h],r?+r(w,h,f):j[h]))}if(g)return l=null,g+""||null}function d(){return z2().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ne(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ne(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ne(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ne(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ne(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ne(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ne(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class U2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function E5(e){return new U2(e,!0)}function C5(e){return new U2(e,!1)}const h0={draw(e,t){const r=Yr(t/Pu);e.moveTo(r,0),e.arc(0,0,r,0,Ud)}},P5={draw(e,t){const r=Yr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},B2=Yr(1/3),O5=B2*2,A5={draw(e,t){const r=Yr(t/O5),n=r*B2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},T5={draw(e,t){const r=Yr(t),n=-r/2;e.rect(n,n,r,r)}},M5=.8908130915292852,F2=Cu(Pu/10)/Cu(7*Pu/10),I5=Cu(Ud/10)*F2,D5=-I2(Ud/10)*F2,$5={draw(e,t){const r=Yr(t*M5),n=I5*r,i=D5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Ud*a/5,l=I2(s),c=Cu(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},mh=Yr(3),L5={draw(e,t){const r=-Yr(t/(mh*3));e.moveTo(0,r*2),e.lineTo(-mh*r,-r),e.lineTo(mh*r,-r),e.closePath()}},dr=-.5,fr=Yr(3)/2,ip=1/Yr(12),R5=(ip/2+1)*3,z5={draw(e,t){const r=Yr(t/R5),n=r/2,i=r*ip,a=n,s=r*ip+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(dr*n-fr*i,fr*n+dr*i),e.lineTo(dr*a-fr*s,fr*a+dr*s),e.lineTo(dr*l-fr*c,fr*l+dr*c),e.lineTo(dr*n+fr*i,dr*i-fr*n),e.lineTo(dr*a+fr*s,dr*s-fr*a),e.lineTo(dr*l+fr*c,dr*c-fr*l),e.closePath()}};function U5(e,t){let r=null,n=d0(i);e=typeof e=="function"?e:Ne(e||h0),t=typeof t=="function"?t:Ne(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ne(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ne(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Ou(){}function Au(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function q2(e){this._context=e}q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Au(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function B5(e){return new q2(e)}function W2(e){this._context=e}W2.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function F5(e){return new W2(e)}function V2(e){this._context=e}V2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Au(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q5(e){return new V2(e)}function H2(e){this._context=e}H2.prototype={areaStart:Ou,areaEnd:Ou,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function W5(e){return new H2(e)}function Mx(e){return e<0?-1:1}function Ix(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(Mx(a)+Mx(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function Dx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ph(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function Tu(e){this._context=e}Tu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ph(this,this._t0,Dx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ph(this,Dx(this,r=Ix(this,e,t)),r);break;default:ph(this,this._t0,r=Ix(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function K2(e){this._context=new G2(e)}(K2.prototype=Object.create(Tu.prototype)).point=function(e,t){Tu.prototype.point.call(this,t,e)};function G2(e){this._context=e}G2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function V5(e){return new Tu(e)}function H5(e){return new K2(e)}function Y2(e){this._context=e}Y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$x(e),i=$x(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $x(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function K5(e){return new Y2(e)}function Fd(e,t){this._context=e,this._t=t}Fd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function G5(e){return new Fd(e,.5)}function Y5(e){return new Fd(e,0)}function Q5(e){return new Fd(e,1)}function ws(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ap(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function J5(e,t){return e[t]}function X5(e){const t=[];return t.key=e,t}function Z5(){var e=Ne([]),t=ap,r=ws,n=J5;function i(a){var s=Array.from(e.apply(this,arguments),X5),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=f0(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ne(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ne(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?ap:typeof a=="function"?a:Ne(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ws,i):r},i}function e6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}ws(e,t)}}function t6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}ws(e,t)}}function r6(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var b=e[t[y]],w=b[n][1]||0,x=b[n-1][1]||0;m+=w-x}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ws(e,t)}}var n6=["type","size","sizeType"];function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function Lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(r),!0).forEach(function(n){i6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6(e,t,r){return(t=a6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=s6(e,"string");return typeof t=="symbol"?t:t+""}function s6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o6(e,t){if(e==null)return{};var r,n,i=l6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q2={symbolCircle:h0,symbolCross:P5,symbolDiamond:A5,symbolSquare:T5,symbolStar:$5,symbolTriangle:L5,symbolWye:z5},c6=Math.PI/180,u6=e=>{var t="symbol".concat(Il(e));return Q2[t]||h0},d6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*c6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f6=(e,t)=>{Q2["symbol".concat(Il(e))]=t},J2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=o6(e,n6),a=Rx(Rx({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=u6(s),m=U5().type(h).size(d6(r,n,s));return m()},{className:c,cx:u,cy:d}=a,f=ut(a,!0);return u===+u&&d===+d&&r===+r?v.createElement("path",sp({},f,{className:_e("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};J2.registerSymbol=f6;function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zx(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return(t=m6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=p6(e,"string");return typeof t=="symbol"?t:t+""}function p6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hr=32;class p0 extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=hr/2,a=hr/6,s=hr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:hr,y2:i,className:"recharts-legend-icon"});if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(hr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(hr/8,"h").concat(hr,"v").concat(hr*3/4,"h").concat(-hr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=h6({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(J2,{fill:l,cx:i,cy:i,size:hr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,l={x:0,y:0,width:hr,height:hr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=_e({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?a:d.color,b=h?h(d.value,d,f):d.value;return v.createElement("li",op({className:m,style:c,key:"legend-item-".concat(f)},O2(this.props,d,f)),v.createElement(u0,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,s)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}m0(p0,"displayName","Legend");m0(p0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var X2={},Z2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],l=n(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(Z2);var g0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(g0);var ek={},qd={},tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(tk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tk;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(qd);var rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qd,r=rk;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(ek);var nk={},ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ld;function r(n){return function(i){return t.get(i,n)}}e.property=r})(ik);var ak={},gh={},vh={},v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(v0);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(y0);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(x0);var Ux;function g6(){return Ux||(Ux=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0(),r=v0,n=y0,i=x0;function a(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function y(b,w,x,g,p,j){const _=m(b,w,x,g,p,j);return _!==void 0?!!_:s(b,w,y,j)},new Map)}function s(f,h,m,y){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,y);case"function":return Object.keys(h).length>0?s(f,{...h},m,y):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,y);if(h instanceof Map)return c(f,h,m,y);if(h instanceof Set)return d(f,h,m,y);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let w=0;w<b.length;w++){const x=b[w];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!m(f[x],h[x],x,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function c(f,h,m,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const x=f.get(b);if(m(x,w,b,f,h,y)===!1)return!1}return!0}function u(f,h,m,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const x=h[w];let g=!1;for(let p=0;p<f.length;p++){if(b.has(p))continue;const j=f[p];let _=!1;if(m(j,x,w,f,h,y)&&(_=!0),_){b.add(p),g=!0;break}}if(!g)return!1}return!0}function d(f,h,m,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,y):!1}e.isMatchWith=a,e.isSetMatch=d}(vh)),vh}var Bx;function b0(){return Bx||(Bx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(gh)),gh}var sk={},w0={},ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(ok);var j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(j0);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",b="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",g="[object Uint16Array]",p="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",S="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=S,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=g,e.uint32ArrayTag=p,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=x})(_0);var lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok,r=j0,n=_0,i=y0,a=lk;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,y=void 0){const b=y==null?void 0:y(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,y);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[x,g]of d)w.set(x,l(g,x,h,m,y));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const x of d)w.add(l(x,void 0,h,m,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,y);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,y),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,y),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,y),w}return d}function c(d,f,h=d,m,y){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const x=b[w],g=Object.getOwnPropertyDescriptor(d,x);(g==null||g.writable)&&(d[x]=l(f[x],x,h,m,y))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(w0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0(),r=sk;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(ak);var ck={},uk={},dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0,r=_0;function n(i,a){return t.cloneDeepWith(i,(s,l,c,u)=>{const d=a==null?void 0:a(s,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(uk);var fk={},k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(k0);var hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0,r=k0,n=hk,i=Rd;function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0(),r=o0,n=uk,i=Ld,a=fk;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0,r=ik,n=ak,i=ck;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z2,r=g0,n=ek,i=nk;function a(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(l)):[]}e.uniqBy=a})(X2);var v6=X2.uniqBy;const Fx=ki(v6);function mk(e,t,r){return t===!0?Fx(e,r):typeof t=="function"?Fx(e,t):e}var pk={exports:{}},gk={},vk={exports:{}},yk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=v;function y6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x6=typeof Object.is=="function"?Object.is:y6,b6=js.useState,w6=js.useEffect,j6=js.useLayoutEffect,_6=js.useDebugValue;function k6(e,t){var r=t(),n=b6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return j6(function(){i.value=r,i.getSnapshot=t,yh(i)&&a({inst:i})},[e,r,t]),w6(function(){return yh(i)&&a({inst:i}),e(function(){yh(i)&&a({inst:i})})},[e]),_6(r),r}function yh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!x6(e,r)}catch{return!0}}function N6(e,t){return t()}var S6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N6:k6;yk.useSyncExternalStore=js.useSyncExternalStore!==void 0?js.useSyncExternalStore:S6;vk.exports=yk;var E6=vk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wd=v,C6=E6;function P6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O6=typeof Object.is=="function"?Object.is:P6,A6=C6.useSyncExternalStore,T6=Wd.useRef,M6=Wd.useEffect,I6=Wd.useMemo,D6=Wd.useDebugValue;gk.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=T6(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=I6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return f=y}return f=m}if(y=f,O6(d,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(d=m,y):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=A6(e,a[0],a[1]);return M6(function(){s.hasValue=!0,s.value=l},[l]),D6(l),l};pk.exports=gk;var $6=pk.exports,N0=v.createContext(null),L6=e=>e,wt=()=>{var e=v.useContext(N0);return e?e.store.dispatch:L6},Qc=()=>{},R6=()=>Qc,z6=(e,t)=>e===t;function ae(e){var t=v.useContext(N0);return $6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:R6,t?t.store.getState:Qc,t?t.store.getState:Qc,t?e:Qc,z6)}function U6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function F6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var qx=e=>Array.isArray(e)?e:[e];function q6(e){const t=Array.isArray(e[0])?e[0]:e;return F6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function W6(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var V6=class{constructor(e){this.value=e}deref(){return this.value}},H6=typeof WeakRef<"u"?WeakRef:V6,K6=0,Wx=1;function wc(){return{s:K6,v:void 0,o:null,p:null}}function xk(e,t={}){let r=wc();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(y);w===void 0?(l=wc(),b.set(y,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(y);w===void 0?(l=wc(),b.set(y,l)):l=w}}const u=l;let d;if(l.s===Wx)d=l.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new H6(d):d}return u.s=Wx,u.v=d,d}return s.clearCache=()=>{r=wc(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function G6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),U6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=xk,argsMemoizeOptions:y=[],devModeChecks:b={}}=d,w=qx(h),x=qx(y),g=q6(i),p=f(function(){return a++,u.apply(null,arguments)},...w),j=m(function(){s++;const N=W6(g,arguments);return l=p.apply(null,N),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=G6(xk),Y6=Object.assign((e,t=L)=>{B6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>Y6}),bk={},wk={},jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),l=t(i);if(s===l&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};e.compareValues=r})(jk);var _k={},S0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(S0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,r=_k,n=Rd;function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let b=m;for(let w=0;w<y.length&&b!=null;++w)b=b[y[w]];return b},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],y.criteria[b],l[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(wk);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(kk);var E0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0,r=qd,n=v0,i=x0;function a(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}e.isIterateeCall=a})(E0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wk,r=kk,n=E0;function i(a,...s){const l=s.length;return l>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(bk);var Q6=bk.sortBy;const Vd=ki(Q6);var Nk=e=>e.legend.settings,J6=e=>e.legend.size,X6=e=>e.legend.payload,Z6=L([X6,Nk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Vd(n,r):n});function eI(){return ae(Z6)}var jc=1;function Sk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>jc||Math.abs(s.left-t.left)>jc||Math.abs(s.top-t.top)>jc||Math.abs(s.width-t.width)>jc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Vx=tI,xh=()=>Math.random().toString(36).substring(7).split("").join("."),rI={INIT:`@@redux/INIT${xh()}`,REPLACE:`@@redux/REPLACE${xh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${xh()}`},Mu=rI;function C0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ek(e,t,r){if(typeof e!="function")throw new Error(pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(Ek)(e,t)}let n=e,i=t,a=new Map,s=a,l=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((w,x)=>{s.set(x,w)}))}function d(){if(c)throw new Error(pt(3));return i}function f(w){if(typeof w!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));let x=!0;u();const g=l++;return s.set(g,w),function(){if(x){if(c)throw new Error(pt(6));x=!1,u(),s.delete(g),a=null}}}function h(w){if(!C0(w))throw new Error(pt(7));if(typeof w.type>"u")throw new Error(pt(8));if(typeof w.type!="string")throw new Error(pt(17));if(c)throw new Error(pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(a=s).forEach(g=>{g()}),w}function m(w){if(typeof w!="function")throw new Error(pt(10));n=w,h({type:Mu.REPLACE})}function y(){const w=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(pt(11));function g(){const j=x;j.next&&j.next(d())}return g(),{unsubscribe:w(g)}},[Vx](){return this}}}return h({type:Mu.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Vx]:y}}function nI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Mu.INIT})>"u")throw new Error(pt(12));if(typeof r(void 0,{type:Mu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function Ck(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{nI(r)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],y=h(m,l);if(typeof y>"u")throw l&&l.type,new Error(pt(14));u[f]=y,c=c||y!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Iu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function iI(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(pt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(s));return a=Iu(...l)(i.dispatch),{...i,dispatch:a}}}function Pk(e){return C0(e)&&"type"in e&&typeof e.type=="string"}var Ok=Symbol.for("immer-nothing"),Hx=Symbol.for("immer-draftable"),ir=Symbol.for("immer-state");function Br(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _s=Object.getPrototypeOf;function fa(e){return!!e&&!!e[ir]}function Dn(e){var t;return e?Ak(e)||Array.isArray(e)||!!e[Hx]||!!((t=e.constructor)!=null&&t[Hx])||Dl(e)||Kd(e):!1}var aI=Object.prototype.constructor.toString();function Ak(e){if(!e||typeof e!="object")return!1;const t=_s(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===aI}function Du(e,t){Hd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Hd(e){const t=e[ir];return t?t.type_:Array.isArray(e)?1:Dl(e)?2:Kd(e)?3:0}function lp(e,t){return Hd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tk(e,t,r){const n=Hd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function sI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dl(e){return e instanceof Map}function Kd(e){return e instanceof Set}function qi(e){return e.copy_||e.base_}function cp(e,t){if(Dl(e))return new Map(e);if(Kd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ak(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ir];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(_s(e),n)}else{const n=_s(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function P0(e,t=!1){return Gd(e)||fa(e)||!Dn(e)||(Hd(e)>1&&Object.defineProperties(e,{set:{value:_c},add:{value:_c},clear:{value:_c},delete:{value:_c}}),Object.freeze(e),t&&Object.values(e).forEach(r=>P0(r,!0))),e}function _c(){Br(2)}function Gd(e){return Object.isFrozen(e)}var oI={};function ha(e){const t=oI[e];return t||Br(0,e),t}var ul;function Mk(){return ul}function lI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Kx(e,t){t&&(ha("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function up(e){dp(e),e.drafts_.forEach(cI),e.drafts_=null}function dp(e){e===ul&&(ul=e.parent_)}function Gx(e){return ul=lI(ul,e)}function cI(e){const t=e[ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Yx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ir].modified_&&(up(t),Br(4)),Dn(e)&&(e=$u(t,e),t.parent_||Lu(t,e)),t.patches_&&ha("Patches").generateReplacementPatches_(r[ir].base_,e,t.patches_,t.inversePatches_)):e=$u(t,r,[]),up(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ok?e:void 0}function $u(e,t,r){if(Gd(t))return t;const n=t[ir];if(!n)return Du(t,(i,a)=>Qx(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Lu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Du(a,(l,c)=>Qx(e,n,i,l,c,r,s)),Lu(e,i,!1),r&&e.patches_&&ha("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Qx(e,t,r,n,i,a,s){if(fa(i)){const l=a&&t&&t.type_!==3&&!lp(t.assigned_,n)?a.concat(n):void 0,c=$u(e,i,l);if(Tk(r,n,c),fa(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Dn(i)&&!Gd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$u(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Dl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Lu(e,i)}}function Lu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P0(t,r)}function uI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Mk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=O0;r&&(i=[n],a=dl);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,l}var O0={get(e,t){if(t===ir)return e;const r=qi(e);if(!lp(r,t))return dI(e,r,t);const n=r[t];return e.finalized_||!Dn(n)?n:n===bh(e.base_,t)?(wh(e),e.copy_[t]=hp(n,e)):n},has(e,t){return t in qi(e)},ownKeys(e){return Reflect.ownKeys(qi(e))},set(e,t,r){const n=Ik(qi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=bh(qi(e),t),a=i==null?void 0:i[ir];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(sI(r,i)&&(r!==void 0||lp(e.base_,t)))return!0;wh(e),fp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return bh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,wh(e),fp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Br(11)},getPrototypeOf(e){return _s(e.base_)},setPrototypeOf(){Br(12)}},dl={};Du(O0,(e,t)=>{dl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});dl.deleteProperty=function(e,t){return dl.set.call(this,e,t,void 0)};dl.set=function(e,t,r){return O0.set.call(this,e[0],t,r,e[0])};function bh(e,t){const r=e[ir];return(r?qi(r):e)[t]}function dI(e,t,r){var i;const n=Ik(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Ik(e,t){if(!(t in e))return;let r=_s(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_s(r)}}function fp(e){e.modified_||(e.modified_=!0,e.parent_&&fp(e.parent_))}function wh(e){e.copy_||(e.copy_=cp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Br(6),n!==void 0&&typeof n!="function"&&Br(7);let i;if(Dn(t)){const a=Gx(this),s=hp(t,void 0);let l=!0;try{i=r(s),l=!1}finally{l?up(a):dp(a)}return Kx(a,n),Yx(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Ok&&(i=void 0),this.autoFreeze_&&P0(i,!0),n){const a=[],s=[];ha("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Br(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,i;return[this.produce(t,r,(s,l)=>{n=s,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Dn(e)||Br(8),fa(e)&&(e=En(e));const t=Gx(this),r=hp(e,void 0);return r[ir].isManual_=!0,dp(t),r}finishDraft(e,t){const r=e&&e[ir];(!r||!r.isManual_)&&Br(9);const{scope_:n}=r;return Kx(n,t),Yx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ha("Patches").applyPatches_;return fa(e)?n(e,t):this.produce(e,i=>n(i,t))}};function hp(e,t){const r=Dl(e)?ha("MapSet").proxyMap_(e,t):Kd(e)?ha("MapSet").proxySet_(e,t):uI(e,t);return(t?t.scope_:Mk()).drafts_.push(r),r}function En(e){return fa(e)||Br(10,e),Dk(e)}function Dk(e){if(!Dn(e)||Gd(e))return e;const t=e[ir];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=cp(e,!0);return Du(r,(n,i)=>{Tk(r,n,Dk(i))}),t&&(t.finalized_=!1),r}var hI=new fI,$k=hI.produce;function Lk(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var mI=Lk(),pI=Lk,gI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Iu:Iu.apply(null,arguments)};function Er(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(rr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Pk(n)&&n.type===e,r}var Rk=class bo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bo.prototype)}static get[Symbol.species](){return bo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bo(...t[0].concat(this)):new bo(...t.concat(this))}};function Jx(e){return Dn(e)?$k(e,()=>{}):e}function kc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vI(e){return typeof e=="boolean"}var yI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Rk;return r&&(vI(r)?s.push(mI):s.push(pI(r.extraArgument))),s},xI="RTK_autoBatch",Xx=e=>t=>{setTimeout(t,e)},bI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Xx(10):e.type==="callback"?e.queueNotification:Xx(e.timeout),u=()=>{s=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[xI]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},wI=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Rk(e);return n&&i.push(bI(typeof n=="object"?n:void 0)),i};function jI(e){const t=yI(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(C0(r))c=Ck(r);else throw new Error(rr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Iu;i&&(d=gI({trace:!1,...typeof i=="object"&&i}));const f=iI(...u),h=wI(f);let m=typeof l=="function"?l(h):h();const y=d(...m);return Ek(c,s,y)}function zk(e){const t={},r=[];let n;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(rr(28));if(l in t)throw new Error(rr(29));return t[l]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function _I(e){return typeof e=="function"}function kI(e,t){let[r,n,i]=zk(t),a;if(_I(e))a=()=>Jx(e());else{const l=Jx(e);a=()=>l}function s(l=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(fa(d)){const m=f(d,c);return m===void 0?d:m}else{if(Dn(d))return $k(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=a,s}var NI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SI=(e=21)=>{let t="",r=e;for(;r--;)t+=NI[Math.random()*64|0];return t},EI=Symbol.for("rtk-slice-createasyncthunk");function CI(e,t){return`${e}/${t}`}function PI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[EI];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(rr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(AI()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(rr(12));if(N in u.sliceCaseReducersByType)throw new Error(rr(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],N={reducerName:j,type:CI(a,j),createNotation:typeof i.reducers=="function"};MI(_)?DI(N,_,d,t):TI(N,_,d)});function f(){const[j={},_=[],N=void 0]=typeof i.extraReducers=="function"?zk(i.extraReducers):[i.extraReducers],k={...j,...u.sliceCaseReducersByType};return kI(i.initialState,E=>{for(let S in k)E.addCase(S,k[S]);for(let S of u.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of _)E.addMatcher(S.matcher,S.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,y=new WeakMap;let b;function w(j,_){return b||(b=f()),b(j,_)}function x(){return b||(b=f()),b.getInitialState()}function g(j,_=!1){function N(E){let S=E[j];return typeof S>"u"&&_&&(S=kc(y,N,x)),S}function k(E=h){const S=kc(m,_,()=>new WeakMap);return kc(S,E,()=>{const C={};for(const[P,M]of Object.entries(i.selectors??{}))C[P]=OI(M,E,()=>kc(y,E,x),_);return C})}return{reducerPath:j,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const p={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...g(s),injectInto(j,{reducerPath:_,...N}={}){const k=_??s;return j.inject({reducerPath:k,reducer:w},N),{...p,...g(k,!0)}}};return p}}function OI(e,t,r,n){function i(a,...s){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return i.unwrapped=e,i}var cr=PI();function AI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function TI({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!II(n))throw new Error(rr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Er(e,s):Er(e))}function MI(e){return e._reducerDefinitionType==="asyncThunk"}function II(e){return e._reducerDefinitionType==="reducerWithPrepare"}function DI({type:e,reducerName:t},r,n,i){if(!i)throw new Error(rr(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Nc,pending:l||Nc,rejected:c||Nc,settled:u||Nc})}function Nc(){}var $I="task",Uk="listener",Bk="completed",A0="cancelled",LI=`task-${A0}`,RI=`task-${Bk}`,mp=`${Uk}-${A0}`,zI=`${Uk}-${Bk}`,Yd=class{constructor(e){jf(this,"name","TaskAbortError");jf(this,"message");this.code=e,this.message=`${$I} ${A0} (reason: ${e})`}},T0=(e,t)=>{if(typeof e!="function")throw new TypeError(rr(32))},Ru=()=>{},Fk=(e,t=Ru)=>(e.catch(t),e),qk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ra=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},na=e=>{if(e.aborted){const{reason:t}=e;throw new Yd(t)}};function Wk(e,t){let r=Ru;return new Promise((n,i)=>{const a=()=>i(new Yd(e.reason));if(e.aborted){a();return}r=qk(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ru})}var UI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Yd?"cancelled":"rejected",error:r}}finally{t==null||t()}},zu=e=>t=>Fk(Wk(e,t).then(r=>(na(e),r))),Vk=e=>{const t=zu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:is}=Object,Zx={},Qd="listenerMiddleware",BI=(e,t)=>{const r=n=>qk(e,()=>ra(n,e.reason));return(n,i)=>{T0(n);const a=new AbortController;r(a);const s=UI(async()=>{na(e),na(a.signal);const l=await n({pause:zu(a.signal),delay:Vk(a.signal),signal:a.signal});return na(a.signal),l},()=>ra(a,RI));return i!=null&&i.autoJoin&&t.push(s.catch(Ru)),{result:zu(e)(s),cancel(){ra(a,LI)}}}},FI=(e,t)=>{const r=async(n,i)=>{na(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Wk(t,Promise.race(l));return na(t),c}finally{a()}};return(n,i)=>Fk(r(n,i))},Hk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Er(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(rr(21));return T0(a),{predicate:i,type:t,effect:a}},Kk=is(e=>{const{type:t,predicate:r,effect:n}=Hk(e);return{id:SI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(rr(22))}}},{withTypes:()=>Kk}),eb=(e,t)=>{const{type:r,effect:n,predicate:i}=Hk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},pp=e=>{e.pending.forEach(t=>{ra(t,mp)})},qI=e=>()=>{e.forEach(pp),e.clear()},tb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Gk=is(Er(`${Qd}/add`),{withTypes:()=>Gk}),WI=Er(`${Qd}/removeAll`),Yk=is(Er(`${Qd}/remove`),{withTypes:()=>Yk}),VI=(...e)=>{console.error(`${Qd}/error`,...e)},$l=(e={})=>{const t=new Map,{extra:r,onError:n=VI}=e;T0(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&pp(d)}),a=d=>{const f=eb(t,d)??Kk(d);return i(f)};is(a,{withTypes:()=>a});const s=d=>{const f=eb(t,d);return f&&(f.unsubscribe(),d.cancelActive&&pp(f)),!!f};is(s,{withTypes:()=>s});const l=async(d,f,h,m)=>{const y=new AbortController,b=FI(a,y.signal),w=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,is({},h,{getOriginalState:m,condition:(x,g)=>b(x,g).then(Boolean),take:b,delay:Vk(y.signal),pause:zu(y.signal),extra:r,signal:y.signal,fork:BI(y.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,g,p)=>{x!==y&&(ra(x,mp),p.delete(x))})},cancel:()=>{ra(y,mp),d.pending.delete(y)},throwIfCancelled:()=>{na(y.signal)}})))}catch(x){x instanceof Yd||tb(n,x,{raisedBy:"effect"})}finally{await Promise.all(w),ra(y,zI),d.pending.delete(y)}},c=qI(t);return{middleware:d=>f=>h=>{if(!Pk(h))return f(h);if(Gk.match(h))return a(h.payload);if(WI.match(h)){c();return}if(Yk.match(h))return s(h.payload);let m=d.getState();const y=()=>{if(m===Zx)throw new Error(rr(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),x=Array.from(t.values());for(const g of x){let p=!1;try{p=g.predicate(h,w,m)}catch(j){p=!1,tb(n,j,{raisedBy:"predicate"})}p&&l(g,h,d,y)}}}finally{m=Zx}return b},startListening:a,stopListening:s,clearListeners:c}};function rr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Qk=cr({name:"chartLayout",initialState:HI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:KI,setLayout:GI,setChartSize:YI,setScale:QI}=Qk.actions,JI=Qk.reducer;function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(n){XI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XI(e,t,r){return(t=ZI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZI(e){var t=eD(e,"string");return typeof t=="symbol"?t:t+""}function eD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uu=Math.PI/180,tD=e=>e*180/Math.PI,yt=(e,t,r,n)=>({x:e+Math.cos(-Uu*n)*r,y:t+Math.sin(-Uu*n)*r}),rD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nD=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},iD=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=nD({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(r-i)/s,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:s,angle:tD(c),angleInRadian:c}},aD=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},sD=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},oD=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=iD({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:u}=aD(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?nb(nb({},t),{},{radius:i,angle:sD(d,t)}):null};function Jk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(n){lD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lD(e,t,r){return(t=cD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cD(e){var t=uD(e,"string");return typeof t=="symbol"?t:t+""}function uD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dt(e,t,r){return ct(e)||ct(t)?r:ln(t)?zd(e,t,r):typeof t=="function"?t(e):r}var dD=(e,t,r,n,i)=>{var a,s=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(br(d-u)!==br(f-d)){var m=[];if(br(f-d)===br(i[1]-i[0])){h=f;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var x=Math.min(u,f),g=Math.max(u,f);if(e>(x+d)/2&&e<=(g+d)/2){({index:s}=r[c]);break}}}else if(t){for(var p=0;p<l;p++)if(p===0&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p>0&&p<l-1&&e>(t[p].coordinate+t[p-1].coordinate)/2&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p===l-1&&e>(t[p].coordinate+t[p-1].coordinate)/2){({index:s}=t[p]);break}}return s},fD=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&ue(e[a]))return vr(vr({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&ue(e[s]))return vr(vr({},e),{},{[s]:e[s]+(i||0)})}return e},Ai=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Xk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||s.push(t),a||s.push(r),s},Zk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(b=m==="angleAxis"&&a&&a.length>=2?br(a[0]-a[1])*2*b:b,f||h){var w=(f||h||[]).map((x,g)=>{var p=n?n.indexOf(x):x;return{coordinate:s(p)+b,value:x,offset:b,index:g}});return w.filter(x=>!Sr(x.coordinate))}return c&&u?u.map((x,g)=>({coordinate:s(x)+b,value:x,index:g,offset:b})):s.ticks&&!r&&d!=null?s.ticks(d).map((x,g)=>({coordinate:s(x)+b,value:x,offset:b,index:g})):s.domain().map((x,g)=>({coordinate:s(x)+b,value:n?n[x]:x,index:g,offset:b}))},ab=1e-4,hD=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-ab,a=Math.max(n[0],n[1])+ab,s=e(t[0]),l=e(t[r-1]);(s<i||s>a||l<i||l>a)&&e.domain([t[0],t[r-1]])}},mD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var l=Sr(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},pD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Sr(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},gD={sign:mD,expand:e6,none:ws,silhouette:t6,wiggle:r6,positive:pD},vD=(e,t,r)=>{var n=gD[r],i=Z5().keys(t).value((a,s)=>+Dt(a,s,0)).order(ap).offset(n);return i(e)};function sb(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ct(i[t.dataKey])){var l=P2(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Dt(i,ct(s)?t.dataKey:s);return ct(c)?null:t.scale(c)}var yD=e=>{var t=e.flat(2).filter(ue);return[Math.min(...t),Math.max(...t)]},xD=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bD=(e,t,r)=>{if(e!=null)return xD(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,l=s.reduce((c,u)=>{var d=Jk(u,t,r),f=yD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},ob=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Vd(t,d=>d.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function cb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return vr(vr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function eN(e,t){if(e)return String(e);if(typeof t=="string")return t}function wD(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?oD({x:e,y:t},n):null}var jD=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return vr(vr(vr({},n),yt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=n;return vr(vr(vr({},n),yt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},_D=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Bn=e=>e.layout.width,Fn=e=>e.layout.height,kD=e=>e.layout.scale,tN=e=>e.layout.margin,Jd=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xd=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ND="data-recharts-item-index",SD="data-recharts-item-data-key",Ll=60;function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){ED(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ED(e,t,r){return(t=CD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CD(e){var t=PD(e,"string");return typeof t=="symbol"?t:t+""}function PD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OD=e=>e.brush.height;function AD(e){var t=Xd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ll;return r+i}return r},0)}function TD(e){var t=Xd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Ll;return r+i}return r},0)}function MD(e){var t=Jd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ID(e){var t=Jd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var jt=L([Bn,Fn,tN,OD,AD,TD,MD,ID,Nk,J6],(e,t,r,n,i,a,s,l,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=Sc(Sc({},f),d),m=h.bottom;h.bottom+=n,h=fD(h,c,u);var y=e-h.left-h.right,b=t-h.top-h.bottom;return Sc(Sc({brushBottom:m},h),{},{width:Math.max(y,0),height:Math.max(b,0)})}),DD=L(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),rN=L(Bn,Fn,(e,t)=>({x:0,y:0,width:e,height:t})),$D=v.createContext(null),Pr=()=>v.useContext($D)!=null,Zd=e=>e.brush,ef=L([Zd,jt,tN],(e,t,r)=>({height:e.height,x:ue(e.x)?e.x:t.left,y:ue(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ue(e.width)?e.width:t.width})),M0=()=>{var e,t=Pr(),r=ae(DD),n=ae(ef),i=(e=ae(Zd))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},LD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nN=()=>{var e;return(e=ae(jt))!==null&&e!==void 0?e:LD},I0=()=>ae(Bn),D0=()=>ae(Fn),RD=()=>ae(e=>e.layout.margin),Te=e=>e.layout.layoutType,$0=()=>ae(Te),zD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iN=cr({name:"legend",initialState:zD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=En(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:db,setLegendSettings:UD,addLegendPayload:BD,removeLegendPayload:FD}=iN.actions,qD=iN.reducer,WD=["contextPayload"];function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){L0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L0(e,t,r){return(t=VD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VD(e){var t=HD(e,"string");return typeof t=="symbol"?t:t+""}function HD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KD(e,t){if(e==null)return{};var r,n,i=GD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YD(e){return e.value}function QD(e){var{contextPayload:t}=e,r=KD(e,WD),n=mk(t,e.payloadUniqBy,YD),i=ks(ks({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(p0,i)}function JD(e,t,r,n,i,a){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ks(ks({},u),d)}function XD(e){var t=wt();return v.useEffect(()=>{t(UD(e))},[t,e]),null}function ZD(e){var t=wt();return v.useEffect(()=>(t(db(e)),()=>{t(db({width:0,height:0}))}),[t,e]),null}function e$(e){var t=eI(),r=_5(),n=RD(),{width:i,height:a,wrapperStyle:s,portal:l}=e,[c,u]=Sk([t]),d=I0(),f=D0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=tf.getWidthOrHeight(e.layout,a,i,h),y=l?s:ks(ks({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},JD(s,e,n,d,f,c)),s),b=l??r;if(b==null)return null;var w=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},v.createElement(XD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(ZD,{width:c.width,height:c.height}),v.createElement(QD,vp({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return zg.createPortal(w,b)}class tf extends v.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ue(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return v.createElement(e$,this.props)}}L0(tf,"displayName","Legend");L0(tf,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(n){t$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$(e,t,r){return(t=r$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$(e){var t=n$(e,"string");return typeof t=="symbol"?t:t+""}function n$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i$(e){return Array.isArray(e)&&ln(e[0])&&ln(e[1])?e.join(" ~ "):e}var a$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var _={padding:0,margin:0},N=(l?Vd(a,l):a).map((k,E)=>{if(k.type==="none")return null;var S=k.formatter||s||i$,{value:C,name:P}=k,M=C,I=P;if(S){var $=S(C,P,k,E,a);if(Array.isArray($))[M,I]=$;else if($!=null)M=$;else return null}var J=jh({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:J},ln(I)?v.createElement("span",{className:"recharts-tooltip-item-name"},I):null,ln(I)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},M),v.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},y=jh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=jh({margin:0},i),w=!ct(d),x=w?d:"",g=_e("recharts-default-tooltip",c),p=_e("recharts-tooltip-label",u);w&&f&&a!==void 0&&a!==null&&(x=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",yp({className:g,style:y},j),v.createElement("p",{className:p,style:b},v.isValidElement(x)?x:"".concat(x)),m())},oo="recharts-tooltip-wrapper",s$={visibility:"hidden"};function o$(e){var{coordinate:t,translateX:r,translateY:n}=e;return _e(oo,{["".concat(oo,"-right")]:ue(r)&&t&&ue(t.x)&&r>=t.x,["".concat(oo,"-left")]:ue(r)&&t&&ue(t.x)&&r<t.x,["".concat(oo,"-bottom")]:ue(n)&&t&&ue(t.y)&&n>=t.y,["".concat(oo,"-top")]:ue(n)&&t&&ue(t.y)&&n<t.y})}function mb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&ue(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,y=h;return m<y?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function l$(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function c$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=mb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=mb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=l$({translateX:d,translateY:f,useTranslate3d:l})):u=s$,{cssProperties:u,cssClasses:o$({translateX:d,translateY:f,coordinate:r})}}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){xp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xp(e,t,r){return(t=u$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u$(e){var t=d$(e,"string");return typeof t=="symbol"?t:t+""}function d$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class f$ extends v.PureComponent{constructor(){super(...arguments),xp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:b,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:g,cssProperties:p}=c$({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),j=x?{}:Ec(Ec({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Ec(Ec({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:_,ref:w},a)}}var h$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rs={devToolsEnabled:!1,isSsr:h$()},aN=()=>ae(e=>e.rootProps.accessibilityLayer);function Kr(e){return Number.isFinite(e)}function Bu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){m$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m$(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$(e){var t=g$(e,"string");return typeof t=="symbol"?t:t+""}function g$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yb={curveBasisClosed:F5,curveBasisOpen:q5,curveBasis:B5,curveBumpX:E5,curveBumpY:C5,curveLinearClosed:W5,curveLinear:Bd,curveMonotoneX:V5,curveMonotoneY:H5,curveNatural:K5,curveStep:G5,curveStepAfter:Q5,curveStepBefore:Y5},Cc=e=>Kr(e.x)&&Kr(e.y),lo=e=>e.x,co=e=>e.y,v$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Il(e));return(r==="curveMonotone"||r==="curveBump")&&t?yb["".concat(r).concat(t==="vertical"?"Y":"X")]:yb[r]||Bd},y$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=v$(t,i),l=a?r.filter(Cc):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>Cc(f)):n,d=l.map((f,h)=>vb(vb({},f),{},{base:u[h]}));return i==="vertical"?c=bc().y(co).x1(lo).x0(f=>f.base.x):c=bc().x(lo).y1(co).y0(f=>f.base.y),c.defined(Cc).curve(s),c(d)}return i==="vertical"&&ue(n)?c=bc().y(co).x1(lo).x0(n):ue(n)?c=bc().x(lo).y1(co).y0(n):c=z2().x(lo).y(co),c.defined(Cc).curve(s),c(l)},sN=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?y$(e):n;return v.createElement("path",bp({},ja(e),c0(e),{className:_e("recharts-curve",t),d:a===null?void 0:a,ref:i}))},x$=["x","y","top","left","width","height","className"];function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(null,arguments)}function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){w$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w$(e,t,r){return(t=j$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j$(e){var t=_$(e,"string");return typeof t=="symbol"?t:t+""}function _$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k$(e,t){if(e==null)return{};var r,n,i=N$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S$=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),E$=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:l}=e,c=k$(e,x$),u=b$({x:t,y:r,top:n,left:i,width:a,height:s},c);return!ue(t)||!ue(r)||!ue(a)||!ue(s)||!ue(n)||!ue(i)?null:v.createElement("path",wp({},ut(u,!0),{className:_e("recharts-cross",l),d:S$(t,r,a,s,n,i)}))};function C$(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function P$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){O$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$(e,t,r){return(t=A$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$(e){var t=T$(e,"string");return typeof t=="symbol"?t:t+""}function T$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Or(e,t){var r=P$({},e),n=t,i=Object.keys(t),a=i.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return a}function M$(){}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){I$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$(e,t,r){return(t=D$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=$$(e,"string");return typeof t=="symbol"?t:t+""}function $$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R$=(e,t,r)=>e.map(n=>"".concat(L$(n)," ").concat(t,"ms ").concat(r)).join(","),z$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fl=(e,t)=>Object.keys(t).reduce((r,n)=>jb(jb({},r),{},{[n]:e(n,t[n])}),{});function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){U$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U$(e,t,r){return(t=B$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B$(e){var t=F$(e,"string");return typeof t=="symbol"?t:t+""}function F$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fu=(e,t,r)=>e+(t-e)*r,jp=e=>{var{from:t,to:r}=e;return t!==r},oN=(e,t,r)=>{var n=fl((i,a)=>{if(jp(a)){var[s,l]=e(a.from,a.to,a.velocity);return vt(vt({},a),{},{from:s,velocity:l})}return a},t);return r<1?fl((i,a)=>jp(a)?vt(vt({},a),{},{velocity:Fu(a.velocity,n[i].velocity,r),from:Fu(a.from,n[i].from,r)}):a,t):oN(e,n,r-1)};function q$(e,t,r,n,i,a){var s,l=n.reduce((h,m)=>vt(vt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>fl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(jp).length,d=null,f=h=>{s||(s=h);var m=h-s,y=m/r.dt;l=oN(r,l,y),i(vt(vt(vt({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function W$(e,t,r,n,i,a,s){var l=null,c=i.reduce((f,h)=>vt(vt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=fl((b,w)=>Fu(...w,r(h)),c);if(a(vt(vt(vt({},e),t),m)),h<1)l=s.setTimeout(d);else{var y=fl((b,w)=>Fu(...w,r(1)),c);a(vt(vt(vt({},e),t),y))}};return()=>(l=s.setTimeout(d),()=>{l()})}const V$=(e,t,r,n,i,a)=>{var s=z$(e,t);return r.isStepper===!0?q$(e,t,r,s,i,a):W$(e,t,r,n,s,i,a)};var qu=1e-4,lN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],cN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),kb=(e,t)=>r=>{var n=lN(e,t);return cN(n,r)},H$=(e,t)=>r=>{var n=lN(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return cN(i,r)},Nb=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,n,r,i]=s);var u=kb(t,r),d=kb(n,i),f=H$(t,r),h=y=>y>1?1:y<0?0:y,m=y=>{for(var b=y>1?1:y,w=b,x=0;x<8;++x){var g=u(w)-b,p=f(w);if(Math.abs(g-b)<qu||p<qu)return d(w);w=h(w-g/p)}return d(w)};return m.isStepper=!1,m},K$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-l)<qu&&Math.abs(f)<qu?[l,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},G$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Nb(e);case"spring":return K$();default:if(e.split("(")[0]==="cubic-bezier")return Nb(e)}return typeof e=="function"?e:null};function Y$(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class Q${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function J$(){return Y$(new Q$)}var X$=v.createContext(J$);function Z$(e,t){var r=v.useContext(X$);return v.useMemo(()=>t??r(e),[e,t,r])}var eL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Sb={t:0},_h={t:1};function uN(e){var t=Or(e,eL),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=Z$(t.animationId,t.animationManager),[f,h]=v.useState(r?Sb:_h),m=v.useRef(null);return v.useEffect(()=>{r||h(_h)},[r]),v.useEffect(()=>{if(!r||!n)return M$;var y=V$(Sb,_h,G$(a),i,h,d.getTimeoutController()),b=()=>{m.current=y()};return d.start([c,s,b,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,a,s,c,l,d]),u(f.t)}function dN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(cl(t)),n=v.useRef(e);return n.current!==e&&(r.current=cl(t),n.current=e),r.current}function Eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(r),!0).forEach(function(n){tL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tL(e,t,r){return(t=rL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rL(e){var t=nL(e,"string");return typeof t=="symbol"?t:t+""}function nL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}var Pb=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},iL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aL=e=>{var t=Or(e,iL),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var $=r.current.getTotalLength();$&&i($)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:b}=t,w=v.useRef(l),x=v.useRef(c),g=v.useRef(a),p=v.useRef(s),j=v.useMemo(()=>({x:a,y:s,width:l,height:c,radius:u}),[a,s,l,c,u]),_=dN(j,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var N=_e("recharts-rectangle",d);if(!b)return v.createElement("path",Wu({},ut(t,!0),{className:N,d:Pb(a,s,l,c,u)}));var k=w.current,E=x.current,S=g.current,C=p.current,P="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),I=R$(["strokeDasharray"],h,typeof f=="string"?f:void 0);return v.createElement(uN,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},$=>{var J=yn(k,l,$),Y=yn(E,c,$),H=yn(S,a,$),U=yn(C,s,$);r.current&&(w.current=J,x.current=Y,g.current=H,p.current=U);var O;return y?$>0?O={transition:I,strokeDasharray:M}:O={strokeDasharray:P}:O={strokeDasharray:M},v.createElement("path",Wu({},ut(t,!0),{className:N,d:Pb(H,U,J,Y,u),ref:r,style:Cb(Cb({},O),t.style)}))})};function fN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=yt(t,r,n,i),l=yt(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(null,arguments)}var sL=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Pc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Uu,f=c?i:i+a*d,h=yt(t,r,u,f),m=yt(t,r,n,f),y=c?i-a*d:i,b=yt(t,r,u*Math.cos(d*Uu),y);return{center:h,circleTangency:m,lineTangency:b,theta:d}},hN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,l=sL(a,s),c=a+l,u=yt(t,r,i,a),d=yt(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=yt(t,r,n,a),m=yt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},oL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=br(u-c),{circleTangency:f,lineTangency:h,theta:m}=Pc({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:w}=Pc({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):hN({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var g="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:p,lineTangency:j,theta:_}=Pc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:N,lineTangency:k,theta:E}=Pc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-u):Math.abs(c-u)-_-E;if(S<0&&a===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(p.x,",").concat(p.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},lL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cL=e=>{var t=Or(e,lL),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=_e("recharts-sector",f),m=a-i,y=_i(s,m,0,!0),b;return y>0&&Math.abs(u-d)<360?b=oL({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=hN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),v.createElement("path",_p({},ut(t,!0),{className:h,d:b}))};function uL(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=yt(l,c,u,f),m=yt(l,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return fN(t);return[{x:n,y:i},{x:a,y:s}]}var mN={},pN={},gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(gN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(pN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0,r=pN;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=s;return c}e.range=n})(mN);var dL=mN.range;const vN=ki(dL);function yi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R0(e){let t,r,n;e.length!==2?(t=yi,r=(l,c)=>yi(e(l),c),n=(l,c)=>e(l)-c):(t=e===yi||e===fL?e:hL,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function hL(){return 0}function yN(e){return e===null?NaN:+e}function*mL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pL=R0(yi),Rl=pL.right;R0(yN).center;class Ob extends Map{constructor(t,r=yL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Ab(this,t))}has(t){return super.has(Ab(this,t))}set(t,r){return super.set(gL(this,t),r)}delete(t){return super.delete(vL(this,t))}}function Ab({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xL(e=yi){if(e===yi)return xN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function xN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bL=Math.sqrt(50),wL=Math.sqrt(10),jL=Math.sqrt(2);function Vu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=bL?10:a>=wL?5:a>=jL?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Vu(e,t,r*2):[l,c,u]}function kp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Vu(t,e,r):Vu(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function Np(e,t,r){return t=+t,e=+e,r=+r,Vu(e,t,r)[2]}function Sp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Np(t,e,r):Np(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Tb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Mb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bN(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?xN:xL(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));bN(e,t,m,y,i)}const a=e[t];let s=r,l=n;for(uo(e,r,t),i(e[n],a)>0&&uo(e,r,n);s<l;){for(uo(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?uo(e,r,l):(++l,uo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function uo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _L(e,t,r){if(e=Float64Array.from(mL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Mb(e);if(t>=1)return Tb(e);var n,i=(n-1)*t,a=Math.floor(i),s=Tb(bN(e,a).subarray(0,a+1)),l=Mb(e.subarray(a+1));return s+(l-s)*(i-a)}}function kL(e,t,r=yN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function NL(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Ar(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ep=Symbol("implicit");function z0(){var e=new Ob,t=[],r=[],n=Ep;function i(a){let s=e.get(a);if(s===void 0){if(n!==Ep)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Ob;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return z0(t,r).unknown(n)},Ar.apply(i,arguments),i}function U0(){var e=z0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,y=m?i:n,b=m?n:i;a=(b-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(b-y-a*(h-c))*d,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var w=NL(h).map(function(x){return y+a*x});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return U0(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ar.apply(f(),arguments)}function wN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wN(t())},e}function SL(){return wN(U0.apply(null,arguments).paddingInner(1))}function B0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function zl(){}var hl=.7,Hu=1/hl,as="\\s*([+-]?\\d+)\\s*",ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EL=/^#([0-9a-f]{3,8})$/,CL=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),PL=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),OL=new RegExp(`^rgba\\(${as},${as},${as},${ml}\\)$`),AL=new RegExp(`^rgba\\(${on},${on},${on},${ml}\\)$`),TL=new RegExp(`^hsl\\(${ml},${on},${on}\\)$`),ML=new RegExp(`^hsla\\(${ml},${on},${on},${ml}\\)$`),Ib={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B0(zl,pl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Db,formatHex:Db,formatHex8:IL,formatHsl:DL,formatRgb:$b,toString:$b});function Db(){return this.rgb().formatHex()}function IL(){return this.rgb().formatHex8()}function DL(){return _N(this).formatHsl()}function $b(){return this.rgb().formatRgb()}function pl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Lb(t):r===3?new Ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Oc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Oc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=CL.exec(e))?new Ft(t[1],t[2],t[3],1):(t=PL.exec(e))?new Ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OL.exec(e))?Oc(t[1],t[2],t[3],t[4]):(t=AL.exec(e))?Oc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=TL.exec(e))?Ub(t[1],t[2]/100,t[3]/100,1):(t=ML.exec(e))?Ub(t[1],t[2]/100,t[3]/100,t[4]):Ib.hasOwnProperty(e)?Lb(Ib[e]):e==="transparent"?new Ft(NaN,NaN,NaN,0):null}function Lb(e){return new Ft(e>>16&255,e>>8&255,e&255,1)}function Oc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ft(e,t,r,n)}function $L(e){return e instanceof zl||(e=pl(e)),e?(e=e.rgb(),new Ft(e.r,e.g,e.b,e.opacity)):new Ft}function Cp(e,t,r,n){return arguments.length===1?$L(e):new Ft(e,t,r,n??1)}function Ft(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}B0(Ft,Cp,jN(zl,{brighter(e){return e=e==null?Hu:Math.pow(Hu,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ft(ia(this.r),ia(this.g),ia(this.b),Ku(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rb,formatHex:Rb,formatHex8:LL,formatRgb:zb,toString:zb}));function Rb(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function LL(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function zb(){const e=Ku(this.opacity);return`${e===1?"rgb(":"rgba("}${ia(this.r)}, ${ia(this.g)}, ${ia(this.b)}${e===1?")":`, ${e})`}`}function Ku(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ia(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qi(e){return e=ia(e),(e<16?"0":"")+e.toString(16)}function Ub(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fr(e,t,r,n)}function _N(e){if(e instanceof Fr)return new Fr(e.h,e.s,e.l,e.opacity);if(e instanceof zl||(e=pl(e)),!e)return new Fr;if(e instanceof Fr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Fr(s,l,c,e.opacity)}function RL(e,t,r,n){return arguments.length===1?_N(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}B0(Fr,RL,jN(zl,{brighter(e){return e=e==null?Hu:Math.pow(Hu,e),new Fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hl:Math.pow(hl,e),new Fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Ft(kh(e>=240?e-240:e+120,i,n),kh(e,i,n),kh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Fr(Bb(this.h),Ac(this.s),Ac(this.l),Ku(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ku(this.opacity);return`${e===1?"hsl(":"hsla("}${Bb(this.h)}, ${Ac(this.s)*100}%, ${Ac(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bb(e){return e=(e||0)%360,e<0?e+360:e}function Ac(e){return Math.max(0,Math.min(1,e||0))}function kh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const F0=e=>()=>e;function zL(e,t){return function(r){return e+r*t}}function UL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function BL(e){return(e=+e)==1?kN:function(t,r){return r-t?UL(t,r,e):F0(isNaN(t)?r:t)}}function kN(e,t){var r=t-e;return r?zL(e,r):F0(isNaN(e)?t:e)}const Fb=function e(t){var r=BL(t);function n(i,a){var s=r((i=Cp(i)).r,(a=Cp(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=kN(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function FL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function qL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function WL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=zs(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function VL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function HL(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=zs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nh=new RegExp(Pp.source,"g");function KL(e){return function(){return e}}function GL(e){return function(t){return e(t)+""}}function YL(e,t){var r=Pp.lastIndex=Nh.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Pp.exec(e))&&(i=Nh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Gu(n,i)})),r=Nh.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?GL(c[0].x):KL(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function zs(e,t){var r=typeof t,n;return t==null||r==="boolean"?F0(t):(r==="number"?Gu:r==="string"?(n=pl(t))?(t=n,Fb):YL:t instanceof pl?Fb:t instanceof Date?VL:qL(t)?FL:Array.isArray(t)?WL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HL:Gu)(e,t)}function q0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function QL(e,t){t===void 0&&(t=e,e=zs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function JL(e){return function(){return e}}function Yu(e){return+e}var qb=[0,1];function Mt(e){return e}function Op(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:JL(isNaN(t)?NaN:.5)}function XL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ZL(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Op(i,n),a=r(s,a)):(n=Op(n,i),a=r(a,s)),function(l){return a(n(l))}}function eR(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Op(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=Rl(e,l,1,n)-1;return a[c](i[c](l))}}function Ul(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rf(){var e=qb,t=qb,r=zs,n,i,a,s=Mt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Mt&&(s=XL(e[0],e[h-1])),l=h>2?eR:ZL,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),Gu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yu),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=q0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Mt,d()):s!==Mt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function W0(){return rf()(Mt,Mt)}function tR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ns(e){return e=Qu(Math.abs(e)),e?e[1]:NaN}function rR(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function nR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gl(e){if(!(t=iR.exec(e)))throw new Error("invalid format: "+e);var t;return new V0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gl.prototype=V0.prototype;function V0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}V0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function aR(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var NN;function sR(e,t){var r=Qu(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(NN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Qu(e,Math.max(0,t+a-1))[0]}function Wb(e,t){var r=Qu(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Vb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Wb(e*100,t),r:Wb,s:sR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Hb(e){return e}var Kb=Array.prototype.map,Gb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oR(e){var t=e.grouping===void 0||e.thousands===void 0?Hb:rR(Kb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Hb:nR(Kb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=gl(f);var h=f.fill,m=f.align,y=f.sign,b=f.symbol,w=f.zero,x=f.width,g=f.comma,p=f.precision,j=f.trim,_=f.type;_==="n"?(g=!0,_="g"):Vb[_]||(p===void 0&&(p=12),j=!0,_="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=b==="$"?n:/[%p]/.test(_)?s:"",E=Vb[_],S=/[defgprs%]/.test(_);p=p===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function C(P){var M=N,I=k,$,J,Y;if(_==="c")I=E(P)+I,P="";else{P=+P;var H=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),p),j&&(P=aR(P)),H&&+P==0&&y!=="+"&&(H=!1),M=(H?y==="("?y:l:y==="-"||y==="("?"":y)+M,I=(_==="s"?Gb[8+NN/3]:"")+I+(H&&y==="("?")":""),S){for($=-1,J=P.length;++$<J;)if(Y=P.charCodeAt($),48>Y||Y>57){I=(Y===46?i+P.slice($+1):P.slice($))+I,P=P.slice(0,$);break}}}g&&!w&&(P=t(P,1/0));var U=M.length+P.length+I.length,O=U<x?new Array(x-U+1).join(h):"";switch(g&&w&&(P=t(O+P,O.length?x-I.length:1/0),O=""),m){case"<":P=M+P+I+O;break;case"=":P=M+O+P+I;break;case"^":P=O.slice(0,U=O.length>>1)+M+P+I+O.slice(U);break;default:P=O+M+P+I;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=gl(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Ns(h)/3)))*3,b=Math.pow(10,-y),w=Gb[8+y/3];return function(x){return m(b*x)+w}}return{format:u,formatPrefix:d}}var Tc,H0,SN;lR({thousands:",",grouping:[3],currency:["$",""]});function lR(e){return Tc=oR(e),H0=Tc.format,SN=Tc.formatPrefix,Tc}function cR(e){return Math.max(0,-Ns(Math.abs(e)))}function uR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ns(t)/3)))*3-Ns(Math.abs(e)))}function dR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ns(t)-Ns(e))+1}function EN(e,t,r,n){var i=Sp(e,t,r),a;switch(n=gl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=uR(i,s))&&(n.precision=a),SN(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=dR(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=cR(i))&&(n.precision=a-(n.type==="%")*2);break}}return H0(n)}function Ti(e){var t=e.domain;return e.ticks=function(r){var n=t();return kp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return EN(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=Np(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function CN(){var e=W0();return e.copy=function(){return Ul(e,CN())},Ar.apply(e,arguments),Ti(e)}function PN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return PN(e).unknown(t)},e=arguments.length?Array.from(e,Yu):[0,1],Ti(r)}function ON(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Yb(e){return Math.log(e)}function Qb(e){return Math.exp(e)}function fR(e){return-Math.log(-e)}function hR(e){return-Math.exp(-e)}function mR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function pR(e){return e===10?mR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function gR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jb(e){return(t,r)=>-e(-t,r)}function K0(e){const t=e(Yb,Qb),r=t.domain;let n=10,i,a;function s(){return i=gR(n),a=pR(n),r()[0]<0?(i=Jb(i),a=Jb(a),e(fR,hR)):e(Yb,Qb),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,b;const w=l==null?10:+l;let x=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(b=h<0?y/a(-h):y*a(h),!(b<u)){if(b>d)break;x.push(b)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/a(-h):y*a(h),!(b<u)){if(b>d)break;x.push(b)}x.length*2<w&&(x=kp(u,d,w))}else x=kp(h,m,Math.min(m-h,w)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gl(c)).precision==null&&(c.trim=!0),c=H0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(ON(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function AN(){const e=K0(rf()).domain([1,10]);return e.copy=()=>Ul(e,AN()).base(e.base()),Ar.apply(e,arguments),e}function Xb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Zb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function G0(e){var t=1,r=e(Xb(t),Zb(t));return r.constant=function(n){return arguments.length?e(Xb(t=+n),Zb(t)):t},Ti(r)}function TN(){var e=G0(rf());return e.copy=function(){return Ul(e,TN()).constant(e.constant())},Ar.apply(e,arguments)}function ew(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function yR(e){return e<0?-e*e:e*e}function Y0(e){var t=e(Mt,Mt),r=1;function n(){return r===1?e(Mt,Mt):r===.5?e(vR,yR):e(ew(r),ew(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ti(t)}function Q0(){var e=Y0(rf());return e.copy=function(){return Ul(e,Q0()).exponent(e.exponent())},Ar.apply(e,arguments),e}function xR(){return Q0.apply(null,arguments).exponent(.5)}function tw(e){return Math.sign(e)*e*e}function bR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function MN(){var e=W0(),t=[0,1],r=!1,n;function i(a){var s=bR(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(tw(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Yu)).map(tw)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return MN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ar.apply(i,arguments),Ti(i)}function IN(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=kL(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Rl(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(yi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return IN().domain(e).range(t).unknown(n)},Ar.apply(a,arguments)}function DN(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Rl(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return DN().domain([e,t]).range(i).unknown(a)},Ar.apply(Ti(s),arguments)}function $N(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Rl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $N().domain(e).range(t).unknown(r)},Ar.apply(i,arguments)}const Sh=new Date,Eh=new Date;function it(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>it(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Sh.setTime(+a),Eh.setTime(+s),e(Sh),e(Eh),Math.floor(r(Sh,Eh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ju=it(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ju.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?it(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ju);Ju.range;const _n=1e3,wr=_n*60,kn=wr*60,$n=kn*24,J0=$n*7,rw=$n*30,Ch=$n*365,Ji=it(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_n)},(e,t)=>(t-e)/_n,e=>e.getUTCSeconds());Ji.range;const X0=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_n)},(e,t)=>{e.setTime(+e+t*wr)},(e,t)=>(t-e)/wr,e=>e.getMinutes());X0.range;const Z0=it(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*wr)},(e,t)=>(t-e)/wr,e=>e.getUTCMinutes());Z0.range;const ev=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_n-e.getMinutes()*wr)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());ev.range;const tv=it(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());tv.range;const Bl=it(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wr)/$n,e=>e.getDate()-1);Bl.range;const nf=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>e.getUTCDate()-1);nf.range;const LN=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$n,e=>Math.floor(e/$n));LN.range;function _a(e){return it(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wr)/J0)}const af=_a(0),Xu=_a(1),wR=_a(2),jR=_a(3),Ss=_a(4),_R=_a(5),kR=_a(6);af.range;Xu.range;wR.range;jR.range;Ss.range;_R.range;kR.range;function ka(e){return it(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/J0)}const sf=ka(0),Zu=ka(1),NR=ka(2),SR=ka(3),Es=ka(4),ER=ka(5),CR=ka(6);sf.range;Zu.range;NR.range;SR.range;Es.range;ER.range;CR.range;const rv=it(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rv.range;const nv=it(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nv.range;const Ln=it(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ln.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ln.range;const Rn=it(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rn.range;function RN(e,t,r,n,i,a){const s=[[Ji,1,_n],[Ji,5,5*_n],[Ji,15,15*_n],[Ji,30,30*_n],[a,1,wr],[a,5,5*wr],[a,15,15*wr],[a,30,30*wr],[i,1,kn],[i,3,3*kn],[i,6,6*kn],[i,12,12*kn],[n,1,$n],[n,2,2*$n],[r,1,J0],[t,1,rw],[t,3,3*rw],[e,1,Ch]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=R0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(Sp(u/Ch,d/Ch,f));if(m===0)return Ju.every(Math.max(Sp(u,d,f),1));const[y,b]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(b)}return[l,c]}const[PR,OR]=RN(Rn,nv,sf,LN,tv,Z0),[AR,TR]=RN(Ln,rv,af,Bl,ev,X0);function Ph(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Oh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function MR(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=ho(i),d=mo(i),f=ho(a),h=mo(a),m=ho(s),y=mo(s),b=ho(l),w=mo(l),x=ho(c),g=mo(c),p={a:H,A:U,b:O,B:A,c:null,d:lw,e:lw,f:r8,g:f8,G:m8,H:ZR,I:e8,j:t8,L:zN,m:n8,M:i8,p:R,q:z,Q:dw,s:fw,S:a8,u:s8,U:o8,V:l8,w:c8,W:u8,x:null,X:null,y:d8,Y:h8,Z:p8,"%":uw},j={a:ie,A:ce,b:de,B:Ee,c:null,d:cw,e:cw,f:x8,g:P8,G:A8,H:g8,I:v8,j:y8,L:BN,m:b8,M:w8,p:ne,q:_t,Q:dw,s:fw,S:j8,u:_8,U:k8,V:N8,w:S8,W:E8,x:null,X:null,y:C8,Y:O8,Z:T8,"%":uw},_={a:C,A:P,b:M,B:I,c:$,d:sw,e:sw,f:YR,g:aw,G:iw,H:ow,I:ow,j:VR,L:GR,m:WR,M:HR,p:S,q:qR,Q:JR,s:XR,S:KR,u:RR,U:zR,V:UR,w:LR,W:BR,x:J,X:Y,y:aw,Y:iw,Z:FR,"%":QR};p.x=N(r,p),p.X=N(n,p),p.c=N(t,p),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(G,se){return function(oe){var F=[],Ve=-1,ge=0,He=G.length,ht,Tr,Di;for(oe instanceof Date||(oe=new Date(+oe));++Ve<He;)G.charCodeAt(Ve)===37&&(F.push(G.slice(ge,Ve)),(Tr=nw[ht=G.charAt(++Ve)])!=null?ht=G.charAt(++Ve):Tr=ht==="e"?" ":"0",(Di=se[ht])&&(ht=Di(oe,Tr)),F.push(ht),ge=Ve+1);return F.push(G.slice(ge,Ve)),F.join("")}}function k(G,se){return function(oe){var F=fo(1900,void 0,1),Ve=E(F,G,oe+="",0),ge,He;if(Ve!=oe.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(se&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(ge=Oh(fo(F.y,0,1)),He=ge.getUTCDay(),ge=He>4||He===0?Zu.ceil(ge):Zu(ge),ge=nf.offset(ge,(F.V-1)*7),F.y=ge.getUTCFullYear(),F.m=ge.getUTCMonth(),F.d=ge.getUTCDate()+(F.w+6)%7):(ge=Ph(fo(F.y,0,1)),He=ge.getDay(),ge=He>4||He===0?Xu.ceil(ge):Xu(ge),ge=Bl.offset(ge,(F.V-1)*7),F.y=ge.getFullYear(),F.m=ge.getMonth(),F.d=ge.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),He="Z"in F?Oh(fo(F.y,0,1)).getUTCDay():Ph(fo(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(He+5)%7:F.w+F.U*7-(He+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,Oh(F)):Ph(F)}}function E(G,se,oe,F){for(var Ve=0,ge=se.length,He=oe.length,ht,Tr;Ve<ge;){if(F>=He)return-1;if(ht=se.charCodeAt(Ve++),ht===37){if(ht=se.charAt(Ve++),Tr=_[ht in nw?se.charAt(Ve++):ht],!Tr||(F=Tr(G,oe,F))<0)return-1}else if(ht!=oe.charCodeAt(F++))return-1}return F}function S(G,se,oe){var F=u.exec(se.slice(oe));return F?(G.p=d.get(F[0].toLowerCase()),oe+F[0].length):-1}function C(G,se,oe){var F=m.exec(se.slice(oe));return F?(G.w=y.get(F[0].toLowerCase()),oe+F[0].length):-1}function P(G,se,oe){var F=f.exec(se.slice(oe));return F?(G.w=h.get(F[0].toLowerCase()),oe+F[0].length):-1}function M(G,se,oe){var F=x.exec(se.slice(oe));return F?(G.m=g.get(F[0].toLowerCase()),oe+F[0].length):-1}function I(G,se,oe){var F=b.exec(se.slice(oe));return F?(G.m=w.get(F[0].toLowerCase()),oe+F[0].length):-1}function $(G,se,oe){return E(G,t,se,oe)}function J(G,se,oe){return E(G,r,se,oe)}function Y(G,se,oe){return E(G,n,se,oe)}function H(G){return s[G.getDay()]}function U(G){return a[G.getDay()]}function O(G){return c[G.getMonth()]}function A(G){return l[G.getMonth()]}function R(G){return i[+(G.getHours()>=12)]}function z(G){return 1+~~(G.getMonth()/3)}function ie(G){return s[G.getUTCDay()]}function ce(G){return a[G.getUTCDay()]}function de(G){return c[G.getUTCMonth()]}function Ee(G){return l[G.getUTCMonth()]}function ne(G){return i[+(G.getUTCHours()>=12)]}function _t(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var se=N(G+="",p);return se.toString=function(){return G},se},parse:function(G){var se=k(G+="",!1);return se.toString=function(){return G},se},utcFormat:function(G){var se=N(G+="",j);return se.toString=function(){return G},se},utcParse:function(G){var se=k(G+="",!0);return se.toString=function(){return G},se}}}var nw={"-":"",_:" ",0:"0"},dt=/^\s*\d+/,IR=/^%/,DR=/[\\^$*+?|[\]().{}]/g;function ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function $R(e){return e.replace(DR,"\\$&")}function ho(e){return new RegExp("^(?:"+e.map($R).join("|")+")","i")}function mo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function LR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function RR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function zR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function UR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iw(e,t,r){var n=dt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aw(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function WR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sw(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=dt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function ow(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function HR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function KR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GR(e,t,r){var n=dt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YR(e,t,r){var n=dt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function QR(e,t,r){var n=IR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function JR(e,t,r){var n=dt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XR(e,t,r){var n=dt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lw(e,t){return ve(e.getDate(),t,2)}function ZR(e,t){return ve(e.getHours(),t,2)}function e8(e,t){return ve(e.getHours()%12||12,t,2)}function t8(e,t){return ve(1+Bl.count(Ln(e),e),t,3)}function zN(e,t){return ve(e.getMilliseconds(),t,3)}function r8(e,t){return zN(e,t)+"000"}function n8(e,t){return ve(e.getMonth()+1,t,2)}function i8(e,t){return ve(e.getMinutes(),t,2)}function a8(e,t){return ve(e.getSeconds(),t,2)}function s8(e){var t=e.getDay();return t===0?7:t}function o8(e,t){return ve(af.count(Ln(e)-1,e),t,2)}function UN(e){var t=e.getDay();return t>=4||t===0?Ss(e):Ss.ceil(e)}function l8(e,t){return e=UN(e),ve(Ss.count(Ln(e),e)+(Ln(e).getDay()===4),t,2)}function c8(e){return e.getDay()}function u8(e,t){return ve(Xu.count(Ln(e)-1,e),t,2)}function d8(e,t){return ve(e.getFullYear()%100,t,2)}function f8(e,t){return e=UN(e),ve(e.getFullYear()%100,t,2)}function h8(e,t){return ve(e.getFullYear()%1e4,t,4)}function m8(e,t){var r=e.getDay();return e=r>=4||r===0?Ss(e):Ss.ceil(e),ve(e.getFullYear()%1e4,t,4)}function p8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function cw(e,t){return ve(e.getUTCDate(),t,2)}function g8(e,t){return ve(e.getUTCHours(),t,2)}function v8(e,t){return ve(e.getUTCHours()%12||12,t,2)}function y8(e,t){return ve(1+nf.count(Rn(e),e),t,3)}function BN(e,t){return ve(e.getUTCMilliseconds(),t,3)}function x8(e,t){return BN(e,t)+"000"}function b8(e,t){return ve(e.getUTCMonth()+1,t,2)}function w8(e,t){return ve(e.getUTCMinutes(),t,2)}function j8(e,t){return ve(e.getUTCSeconds(),t,2)}function _8(e){var t=e.getUTCDay();return t===0?7:t}function k8(e,t){return ve(sf.count(Rn(e)-1,e),t,2)}function FN(e){var t=e.getUTCDay();return t>=4||t===0?Es(e):Es.ceil(e)}function N8(e,t){return e=FN(e),ve(Es.count(Rn(e),e)+(Rn(e).getUTCDay()===4),t,2)}function S8(e){return e.getUTCDay()}function E8(e,t){return ve(Zu.count(Rn(e)-1,e),t,2)}function C8(e,t){return ve(e.getUTCFullYear()%100,t,2)}function P8(e,t){return e=FN(e),ve(e.getUTCFullYear()%100,t,2)}function O8(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function A8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Es(e):Es.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function T8(){return"+0000"}function uw(){return"%"}function dw(e){return+e}function fw(e){return Math.floor(+e/1e3)}var Ma,qN,WN;M8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M8(e){return Ma=MR(e),qN=Ma.format,Ma.parse,WN=Ma.utcFormat,Ma.utcParse,Ma}function I8(e){return new Date(e)}function D8(e){return e instanceof Date?+e:+new Date(+e)}function iv(e,t,r,n,i,a,s,l,c,u){var d=W0(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),b=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),g=u("%b %d"),p=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?y:s(N)<N?b:a(N)<N?w:n(N)<N?i(N)<N?x:g:r(N)<N?p:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,D8)):h().map(I8)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(ON(k,N)):d},d.copy=function(){return Ul(d,iv(e,t,r,n,i,a,s,l,c,u))},d}function $8(){return Ar.apply(iv(AR,TR,Ln,rv,af,Bl,ev,X0,Ji,qN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L8(){return Ar.apply(iv(PR,OR,Rn,nv,sf,nf,tv,Z0,Ji,WN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function of(){var e=0,t=1,r,n,i,a,s=Mt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(zs),u.rangeRound=d(q0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VN(){var e=Ti(of()(Mt));return e.copy=function(){return Mi(e,VN())},qn.apply(e,arguments)}function HN(){var e=K0(of()).domain([1,10]);return e.copy=function(){return Mi(e,HN()).base(e.base())},qn.apply(e,arguments)}function KN(){var e=G0(of());return e.copy=function(){return Mi(e,KN()).constant(e.constant())},qn.apply(e,arguments)}function av(){var e=Y0(of());return e.copy=function(){return Mi(e,av()).exponent(e.exponent())},qn.apply(e,arguments)}function R8(){return av.apply(null,arguments).exponent(.5)}function GN(){var e=[],t=Mt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(yi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>_L(e,a/n))},r.copy=function(){return GN(t).domain(e)},qn.apply(r,arguments)}function lf(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=Mt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-a)*(n*b<n*a?l:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function y(b){return function(w){var x,g,p;return arguments.length?([x,g,p]=w,u=QL(b,[x,g,p]),m):[u(0),u(.5),u(1)]}}return m.range=y(zs),m.rangeRound=y(q0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),a=b(t),s=b(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function YN(){var e=Ti(lf()(Mt));return e.copy=function(){return Mi(e,YN())},qn.apply(e,arguments)}function QN(){var e=K0(lf()).domain([.1,1,10]);return e.copy=function(){return Mi(e,QN()).base(e.base())},qn.apply(e,arguments)}function JN(){var e=G0(lf());return e.copy=function(){return Mi(e,JN()).constant(e.constant())},qn.apply(e,arguments)}function sv(){var e=Y0(lf());return e.copy=function(){return Mi(e,sv()).exponent(e.exponent())},qn.apply(e,arguments)}function z8(){return sv.apply(null,arguments).exponent(.5)}const wo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:U0,scaleDiverging:YN,scaleDivergingLog:QN,scaleDivergingPow:sv,scaleDivergingSqrt:z8,scaleDivergingSymlog:JN,scaleIdentity:PN,scaleImplicit:Ep,scaleLinear:CN,scaleLog:AN,scaleOrdinal:z0,scalePoint:SL,scalePow:Q0,scaleQuantile:IN,scaleQuantize:DN,scaleRadial:MN,scaleSequential:VN,scaleSequentialLog:HN,scaleSequentialPow:av,scaleSequentialQuantile:GN,scaleSequentialSqrt:R8,scaleSequentialSymlog:KN,scaleSqrt:xR,scaleSymlog:TN,scaleThreshold:$N,scaleTime:$8,scaleUtc:L8,tickFormat:EN},Symbol.toStringTag,{value:"Module"}));var Ii=e=>e.chartData,U8=L([Ii],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ov=(e,t,r,n)=>n?U8(e):Ii(e);function Cs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Kr(t)&&Kr(r))return!0}return!1}function hw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function B8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Kr(r))i=r;else if(typeof r=="function")return;if(Kr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Cs(s))return s}}function F8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Cs(n))return hw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ue(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&ob.test(i)){var c=ob.exec(i);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(ue(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&lb.test(a)){var d=lb.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(Cs(h))return t==null?h:hw(h,t,r)}}}var Us=1e9,q8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cv,Ie=!0,Cr="[DecimalError] ",aa=Cr+"Invalid argument: ",lv=Cr+"Exponent out of range: ",Bs=Math.floor,Wi=Math.pow,W8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xt,st=1e7,Pe=7,XN=9007199254740991,ed=Bs(XN/Pe),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Cn(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return je(Cn(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return Ye(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xt))throw Error(Cr+"NaN");if(r.s<1)throw Error(Cr+(r.s?"NaN":"-Infinity"));return r.eq(Xt)?new n(0):(Ie=!1,t=Cn(vl(r,a),vl(e,a),a),Ie=!0,je(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tS(t,e):ZN(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Cr+"NaN");return r.s?(Ie=!1,t=Cn(r,e,0,1).times(e),Ie=!0,r.minus(t)):je(new n(r),i)};ee.naturalExponential=ee.exp=function(){return eS(this)};ee.naturalLogarithm=ee.ln=function(){return vl(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZN(t,e):tS(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(aa+e);if(t=Ye(i)+1,n=i.d.length-1,r=n*Pe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Cr+"NaN")}for(e=Ye(l),Ie=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=rn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Cn(l,a,s+2)).times(.5),rn(a.d).slice(0,s)===(t=rn(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(je(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return Ie=!0,je(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%st|0,t=l/st|0;a[i]=(a[i]+t)%st|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ie?je(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,Us),t===void 0?t=n.rounding:cn(t,0,8),je(r,e+Ye(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=ma(n,!0):(cn(e,0,Us),t===void 0?t=i.rounding:cn(t,0,8),n=je(new i(n),e+1,t),r=ma(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?ma(i):(cn(e,0,Us),t===void 0?t=a.rounding:cn(t,0,8),n=je(new a(i),e+Ye(i)+1,t),r=ma(n.abs(),!1,e+Ye(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return je(new t(e),Ye(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Xt);if(l=new c(l),!l.s){if(e.s<1)throw Error(Cr+"Infinity");return l}if(l.eq(Xt))return l;if(n=c.precision,e.eq(Xt))return je(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=XN){for(i=new c(Xt),t=Math.ceil(n/Pe+4),Ie=!1;r%2&&(i=i.times(l),pw(i.d,t)),r=Bs(r/2),r!==0;)l=l.times(l),pw(l.d,t);return Ie=!0,e.s<0?new c(Xt).div(i):je(i,n)}}else if(a<0)throw Error(Cr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,i=e.times(vl(l,n+u)),Ie=!0,i=eS(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ye(i),n=ma(i,r<=a.toExpNeg||r>=a.toExpPos)):(cn(e,1,Us),t===void 0?t=a.rounding:cn(t,0,8),i=je(new a(i),e,t),r=Ye(i),n=ma(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,Us),t===void 0?t=n.rounding:cn(t,0,8)),je(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ye(e),r=e.constructor;return ma(e,t<=r.toExpNeg||t>=r.toExpPos)};function ZN(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?je(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/Pe),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/st|0,c[a]%=st;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ie?je(t,f):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(aa+e)}function rn(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Pe-n.length,r&&(a+=Zn(r)),a+=n;s=e[t],n=s+"",r=Pe-n.length,r&&(a+=Zn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Cn=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%st|0,s=a/st|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*st+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,m,y,b,w,x,g,p,j,_,N,k,E,S=n.constructor,C=n.s==i.s?1:-1,P=n.d,M=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(Cr+"Division by zero");for(c=n.e-i.e,k=M.length,_=P.length,m=new S(C),y=m.d=[],u=0;M[u]==(P[u]||0);)++u;if(M[u]>(P[u]||0)&&--c,a==null?g=a=S.precision:s?g=a+(Ye(n)-Ye(i))+1:g=a,g<0)return new S(0);if(g=g/Pe+2|0,u=0,k==1)for(d=0,M=M[0],g++;(u<_||d)&&g--;u++)p=d*st+(P[u]||0),y[u]=p/M|0,d=p%M|0;else{for(d=st/(M[0]+1)|0,d>1&&(M=e(M,d),P=e(P,d),k=M.length,_=P.length),j=k,b=P.slice(0,k),w=b.length;w<k;)b[w++]=0;E=M.slice(),E.unshift(0),N=M[0],M[1]>=st/2&&++N;do d=0,l=t(M,b,k,w),l<0?(x=b[0],k!=w&&(x=x*st+(b[1]||0)),d=x/N|0,d>1?(d>=st&&(d=st-1),f=e(M,d),h=f.length,w=b.length,l=t(f,b,h,w),l==1&&(d--,r(f,k<h?E:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),l==-1&&(w=b.length,l=t(M,b,k,w),l<1&&(d++,r(b,k<w?E:M,w))),w=b.length):l===0&&(d++,b=[0]),y[u++]=d,l&&b[0]?b[w++]=P[j]||0:(b=[P[j]],w=1);while((j++<_||b[0]!==void 0)&&g--)}return y[0]||y.shift(),m.e=c,je(m,s?a+Ye(m)+1:a)}}();function eS(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ye(e)>16)throw Error(lv+Ye(e));if(!e.s)return new d(Xt);for(t==null?(Ie=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Wi(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Xt),d.precision=l;;){if(i=je(i.times(e),l),r=r.times(++c),s=a.plus(Cn(i,r,l)),rn(s.d).slice(0,l)===rn(a.d).slice(0,l)){for(;u--;)a=je(a.times(a),l);return d.precision=f,t==null?(Ie=!0,je(a,f)):a}a=s}}function Ye(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function Ah(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Cr+"LN10 precision limit exceeded");return je(new e(e.LN10),t)}function Zn(e){for(var t="";e--;)t+="0";return t}function vl(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,m=e,y=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Cr+(m.s?"NaN":"-Infinity"));if(m.eq(Xt))return new b(0);if(t==null?(Ie=!1,u=w):u=t,m.eq(10))return t==null&&(Ie=!0),Ah(b,u);if(u+=h,b.precision=u,r=rn(y),n=r.charAt(0),a=Ye(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=rn(m.d),n=r.charAt(0),f++;a=Ye(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return c=Ah(b,u+2,w).times(a+""),m=vl(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Ie=!0,je(m,w)):m;for(l=s=m=Cn(m.minus(Xt),m.plus(Xt),u),d=je(m.times(m),u),i=3;;){if(s=je(s.times(d),u),c=l.plus(Cn(s,new b(i),u)),rn(c.d).slice(0,u)===rn(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Ah(b,u+2,w).times(a+""))),l=Cn(l,new b(f),u),b.precision=w,t==null?(Ie=!0,je(l,w)):l;l=c,i+=2}}function mw(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bs(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Pe;n<i;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>ed||e.e<-ed))throw Error(lv+r)}else e.s=0,e.e=0,e.d=[0];return e}function je(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Pe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pe),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Pe,i=n-Pe+s}if(r!==void 0&&(a=Wi(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Wi(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Ye(e),f.length=1,t=t-a-1,f[0]=Wi(10,(Pe-t%Pe)%Pe),e.e=Bs(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Wi(10,Pe-n),f[d]=i>0?(u/Wi(10,s-i)%Wi(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==st&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=st)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>ed||e.e<-ed))throw Error(lv+Ye(e));return e}function tS(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?je(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Pe),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=st-1;--c[a],c[i]+=st}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ie?je(t,m):t):new h(0)}function ma(e,t,r){var n,i=Ye(e),a=rn(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Zn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Zn(-i-1)+a,r&&(n=r-s)>0&&(a+=Zn(n))):i>=s?(a+=Zn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Zn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Zn(n))),e.s<0?"-"+a:a}function pw(e,t){if(e.length>t)return e.length=t,!0}function rS(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(aa+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return mw(s,a.toString())}else if(typeof a!="string")throw Error(aa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,W8.test(a))mw(s,a);else throw Error(aa+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rS,i.config=i.set=V8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function V8(e){if(!e||typeof e!="object")throw Error(Cr+"Object expected");var t,r,n,i=["precision",1,Us,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bs(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(aa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(aa+r+": "+n);return this}var cv=rS(q8);Xt=new cv(1);const xe=cv;var H8=e=>e,nS={"@@functional/placeholder":!0},iS=e=>e===nS,gw=e=>function t(){return arguments.length===0||arguments.length===1&&iS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},aS=(e,t)=>e===1?t:gw(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==nS).length;return a>=e?t(...n):aS(e-a,gw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>iS(d)?l.shift():d);return t(...u,...l)}))}),cf=e=>aS(e.length,e),Ap=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},K8=cf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),G8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H8;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},Tp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),sS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,l)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function oS(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function lS(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}cf((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});cf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});cf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var cS=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},uS=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=oS(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?new xe(c.toNumber()):new xe(Math.ceil(c.toNumber()))},Y8=(e,t,r)=>{var n=new xe(1),i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(oS(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));var s=Math.floor((t-1)/2),l=G8(K8(c=>i.add(new xe(c-s).mul(n)).toNumber()),Ap);return l(0,t)},dS=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=uS(new xe(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new xe(0):(l=new xe(t).add(r).div(2),l=l.sub(new xe(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new xe(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?dS(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new xe(c).mul(s)),tickMax:l.add(new xe(u).mul(s))})};function Q8(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,l]=cS([t,r]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...Ap(0,n-1).map(()=>1/0)]:[...Ap(0,n-1).map(()=>-1/0),l];return t>r?Tp(c):c}if(s===l)return Y8(s,n,i);var{step:u,tickMin:d,tickMax:f}=dS(s,l,a,i,0),h=lS(d,f.add(new xe(.1).mul(u)),u);return t>r?Tp(h):h}function J8(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=cS([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var l=Math.max(t,2),c=uS(new xe(s).sub(a).div(l-1),i,0),u=[...lS(new xe(a),new xe(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Tp(u):u}var X8=sS(Q8),Z8=sS(J8),ez=e=>e.rootProps.barCategoryGap,uf=e=>e.rootProps.stackOffset,uv=e=>e.options.chartName,dv=e=>e.rootProps.syncId,fS=e=>e.rootProps.syncMethod,fv=e=>e.options.eventEmitter,xn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Qt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},df=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},tz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xn.angleAxisId,includeHidden:!1,name:void 0,reversed:xn.reversed,scale:xn.scale,tick:xn.tick,tickCount:void 0,ticks:void 0,type:xn.type,unit:void 0},rz={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,ticks:void 0,type:Qt.type,unit:void 0},nz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xn.scale,tick:xn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},iz={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,ticks:void 0,type:"category",unit:void 0},hv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?nz:tz,mv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?iz:rz,ff=e=>e.polarOptions,pv=L([Bn,Fn,jt],rD),hS=L([ff,pv],(e,t)=>{if(e!=null)return _i(e.innerRadius,t,0)}),mS=L([ff,pv],(e,t)=>{if(e!=null)return _i(e.outerRadius,t,t*.8)}),az=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},pS=L([ff],az);L([hv,pS],df);var gS=L([pv,hS,mS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([mv,gS],df);var vS=L([Te,ff,hS,mS,Bn,Fn],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:_i(s,i,i/2),cy:_i(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Qe=(e,t)=>t,hf=(e,t,r)=>r;function yS(e){return e==null?void 0:e.id}var at=e=>{var t=Te(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fs=e=>e.tooltip.settings.axisId,ft=e=>{var t=at(e),r=Fs(e);return Fl(e,t,r)},xS=L([ft],e=>e==null?void 0:e.dataKey);function bS(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=yS(l);u.forEach((f,h)=>{var m=a==null||i?h:String(Dt(f,a,null)),y=Dt(f,l.dataKey,0),b;s.has(m)?b=s.get(m):b={},Object.assign(b,{[d]:y}),s.set(m,b)})}}),Array.from(s.values())}function gv(e){return e.stackId!=null&&e.dataKey!=null}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){sz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t,r){return(t=oz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oz(e){var t=lz(e,"string");return typeof t=="symbol"?t:t+""}function lz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mp=[0,"auto"],Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wS=(e,t)=>e.cartesianAxis.xAxis[t],Wn=(e,t)=>{var r=wS(e,t);return r??Kt},Gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ll},jS=(e,t)=>e.cartesianAxis.yAxis[t],Vn=(e,t)=>{var r=jS(e,t);return r??Gt},cz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},vv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??cz},Ht=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return Vn(e,r);case"zAxis":return vv(e,r);case"angleAxis":return hv(e,r);case"radiusAxis":return mv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},uz=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return Vn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fl=(e,t,r)=>{switch(t){case"xAxis":return Wn(e,r);case"yAxis":return Vn(e,r);case"angleAxis":return hv(e,r);case"radiusAxis":return mv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},_S=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function kS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var NS=e=>e.graphicalItems.cartesianItems,dz=L([Qe,hf],kS),SS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ql=L([NS,Ht,dz],SS),ES=L([ql],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gv)),CS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),PS=L([ql],CS),OS=e=>e.map(t=>t.data).filter(Boolean).flat(1),fz=L([ql],OS),AS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},yv=L([fz,ov],AS),TS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Dt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Dt(i,n)}))):e.map(n=>({value:n})),mf=L([yv,Ht,ql],TS);function MS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Na(e){return e.filter(t=>ln(t)||t instanceof Date).map(Number).filter(t=>Sr(t)===!1)}function hz(e,t,r){return!r||typeof t!="number"||Sr(t)?[]:r.length?Na(r.flatMap(n=>{var i=Dt(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Kr(a)||!Kr(s)))return[t-a,t+s]})):[]}var mz=L([ES,ov,ft],bS),IS=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,c=l.map(yS);return[s,{stackedData:vD(e,c,r),graphicalItems:l}]}))},pz=L([mz,ES,uf],IS),DS=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=bD(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},gz=L([pz,Ii,Qe],DS),$S=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c,u=(l=n[s.id])===null||l===void 0?void 0:l.filter(f=>MS(i,f)),d=Dt(a,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:hz(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Dt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),pf=e=>e.errorBars,LS=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>MS(r,n));L([PS,pf,Qe],LS);var vz=L([yv,Ht,PS,pf,Qe],$S);function yz(e){var{value:t}=e;if(ln(t)||t instanceof Date)return t}var yw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Na(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xz=(e,t,r)=>{var n=e.map(yz).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&C2(n))?vN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xv=e=>{var t;if(e==null||!("domain"in e))return Mp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Na(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Mp},rd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},RS=e=>e.referenceElements.dots,qs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),bz=L([RS,Qe,hf],qs),zS=e=>e.referenceElements.areas,wz=L([zS,Qe,hf],qs),US=e=>e.referenceElements.lines,jz=L([US,Qe,hf],qs),BS=(e,t)=>{var r=Na(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_z=L(bz,Qe,BS),FS=(e,t)=>{var r=Na(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},kz=L([wz,Qe],FS),qS=(e,t)=>{var r=Na(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nz=L(jz,Qe,qS),Sz=L(_z,Nz,kz,(e,t,r)=>rd(e,r,t)),Ez=L([Ht],xv),WS=(e,t,r,n,i,a,s)=>{var l=B8(t,e.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=c?rd(r,i,yw(n)):rd(i,yw(n));return F8(t,u,e.allowDataOverflow)},Cz=L([Ht,Ez,gz,vz,Sz,Te,Qe],WS),Pz=[0,1],VS=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=Ai(t,a);return u&&l==null?vN(0,r.length):c==="category"?xz(n,e,u):i==="expand"?Pz:s}},bv=L([Ht,Te,yv,mf,uf,Qe,Cz],VS),HS=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Il(a));return l in wo?l:"point"}}},Wl=L([Ht,Te,_S,uv,Qe],HS);function Oz(e){if(e!=null){if(e in wo)return wo[e]();var t="scale".concat(Il(e));if(t in wo)return wo[t]()}}function wv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Oz(t);if(i!=null){var a=i.domain(r).range(n);return hD(a),a}}}var KS=(e,t,r)=>{var n=xv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Cs(e))return X8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cs(e))return Z8(e,t.tickCount,t.allowDecimals)}},jv=L([bv,Fl,Wl],KS),GS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cs(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],l=r[r.length-1];return[Math.min(i,a),Math.max(s,l)]}return t},Az=L([Ht,bv,jv,Qe],GS),Tz=L(mf,Ht,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Na(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),YS=L(Tz,Te,ez,jt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Kr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=_i(r,e*a),l=e*a/2;return l-s-(l-s)/a*s}return 0}),Mz=(e,t)=>{var r=Wn(e,t);return r==null||typeof r.padding!="string"?0:YS(e,"xAxis",t,r.padding)},Iz=(e,t)=>{var r=Vn(e,t);return r==null||typeof r.padding!="string"?0:YS(e,"yAxis",t,r.padding)},Dz=L(Wn,Mz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),$z=L(Vn,Iz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Lz=L([jt,Dz,ef,Zd,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Rz=L([jt,Te,$z,ef,Zd,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vl=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Lz(e,r,n);case"yAxis":return Rz(e,r,n);case"zAxis":return(i=vv(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return pS(e);case"radiusAxis":return gS(e,r);default:return}},QS=L([Ht,Vl],df),Ws=L([Ht,Wl,Az,QS],wv);L([ql,pf,Qe],LS);function JS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var gf=(e,t)=>t,vf=(e,t,r)=>r,zz=L(Jd,gf,vf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JS)),Uz=L(Xd,gf,vf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(JS)),XS=(e,t)=>({width:e.width,height:t.height}),Bz=(e,t)=>{var r=typeof t.width=="number"?t.width:Ll;return{width:r,height:e.height}},Fz=L(jt,Wn,XS),qz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Wz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Vz=L(Fn,jt,zz,gf,vf,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=XS(t,l);s==null&&(s=qz(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),Hz=L(Bn,jt,Uz,gf,vf,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=Bz(t,l);s==null&&(s=Wz(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),Kz=(e,t)=>{var r=Wn(e,t);if(r!=null)return Vz(e,r.orientation,r.mirror)},Gz=L([jt,Wn,Kz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Yz=(e,t)=>{var r=Vn(e,t);if(r!=null)return Hz(e,r.orientation,r.mirror)},Qz=L([jt,Vn,Yz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Jz=L(jt,Vn,(e,t)=>{var r=typeof t.width=="number"?t.width:Ll;return{width:r,height:e.height}}),ZS=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,l=Ai(e,n),c=t.map(u=>u.value);if(s&&l&&a==="category"&&i&&C2(c))return c}},_v=L([Te,mf,Ht,Qe],ZS),eE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Ai(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},kv=L([Te,mf,Fl,Qe],eE),xw=L([Te,uz,Wl,Ws,_v,kv,Vl,jv,Qe],(e,t,r,n,i,a,s,l,c)=>{if(t==null)return null;var u=Ai(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}),Xz=(e,t,r,n,i,a,s,l,c)=>{if(!(t==null||n==null)){var u=Ai(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&a!=null&&a.length>=2?br(a[0]-a[1])*2*y:y;var b=f||i;if(b){var w=b.map((x,g)=>{var p=s?s.indexOf(x):x;return{index:g,coordinate:n(p)+y,value:x,offset:y}});return w.filter(x=>!Sr(x.coordinate))}return u&&l?l.map((x,g)=>({coordinate:n(x)+y,value:x,index:g,offset:y})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+y,value:x,offset:y})):n.domain().map((x,g)=>({coordinate:n(x)+y,value:s?s[x]:x,index:g,offset:y}))}},tE=L([Te,Fl,Wl,Ws,jv,Vl,_v,kv,Qe],Xz),Zz=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ai(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?br(n[0]-n[1])*2*u:u,l&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},rE=L([Te,Fl,Ws,Vl,_v,kv,Qe],Zz),nE=L(Ht,Ws,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})}),e7=L([Ht,Wl,bv,QS],wv);L((e,t,r)=>vv(e,r),e7,(e,t)=>{if(!(e==null||t==null))return td(td({},e),{},{scale:t})});var t7=L([Te,Jd,Xd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iE=e=>e.options.defaultTooltipEventType,aE=e=>e.options.validateTooltipEventTypes;function sE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Nv(e,t){var r=iE(e),n=aE(e);return sE(t,r,n)}function r7(e){return ae(t=>Nv(t,e))}var oE=(e,t)=>{var r,n=Number(t);if(!(Sr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},n7=e=>e.tooltip.settings,ii={active:!1,index:null,dataKey:void 0,coordinate:void 0},i7={itemInteraction:{click:ii,hover:ii},axisInteraction:{click:ii,hover:ii},keyboardInteraction:ii,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lE=cr({name:"tooltip",initialState:i7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=En(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:a7,removeTooltipEntrySettings:s7,setTooltipSettingsState:o7,setActiveMouseOverItemIndex:l7,mouseLeaveItem:KW,mouseLeaveChart:cE,setActiveClickItemIndex:GW,setMouseOverAxisIndex:uE,setMouseClickAxisIndex:c7,setSyncInteraction:Ip,setKeyboardInteraction:Dp}=lE.actions,u7=lE.reducer;function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function p7(e){return e.index!=null}var dE=(e,t,r,n)=>{if(t==null)return ii;var i=m7(e,t,r);if(i==null)return ii;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(p7(i)){if(a)return Mc(Mc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Mc(Mc({},ii),{},{coordinate:i.coordinate})},Sv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Kr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},fE=(e,t,r,n,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},hE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Hl=e=>e.options.tooltipPayloadSearcher,Vs=e=>e.tooltip;function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){g7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g7(e,t,r){return(t=v7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x7(e,t){return e??t}var mE=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:b,settings:w}=m,x=x7(b,l),g=Array.isArray(x)?Jk(x,u,d):x,p=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n,j=w==null?void 0:w.nameKey,_;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&s==="axis"?_=P2(g,n,i):_=a(g,t,c,j),Array.isArray(_))_.forEach(k=>{var E=jw(jw({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(cb({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:Dt(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(cb({tooltipEntrySettings:w,dataKey:p,payload:_,value:Dt(_,p),name:(N=Dt(_,j))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Ev=L([ft,Te,_S,uv,at],HS),b7=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),w7=L([at,Fs],kS),Kl=L([b7,ft,w7],SS),j7=L([Kl],e=>e.filter(gv)),_7=L([Kl],OS),Hs=L([_7,Ii],AS),k7=L([j7,Ii,ft],bS),Cv=L([Hs,ft,Kl],TS),N7=L([ft],xv),S7=L([Kl],e=>e.filter(gv)),E7=L([k7,S7,uf],IS),C7=L([E7,Ii,at],DS),P7=L([Kl],CS),O7=L([Hs,ft,P7,pf,at],$S),A7=L([RS,at,Fs],qs),T7=L([A7,at],BS),M7=L([zS,at,Fs],qs),I7=L([M7,at],FS),D7=L([US,at,Fs],qs),$7=L([D7,at],qS),L7=L([T7,$7,I7],rd),R7=L([ft,N7,C7,O7,L7,Te,at],WS),pE=L([ft,Te,Hs,Cv,uf,at,R7],VS),z7=L([pE,ft,Ev],KS),U7=L([ft,pE,z7,at],GS),gE=e=>{var t=at(e),r=Fs(e),n=!1;return Vl(e,t,r,n)},vE=L([ft,gE],df),yE=L([ft,Ev,U7,vE],wv),B7=L([Te,Cv,ft,at],ZS),F7=L([Te,Cv,ft,at],eE),q7=(e,t,r,n,i,a,s,l)=>{if(t){var{type:c}=t,u=Ai(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?br(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Hn=L([Te,ft,Ev,yE,gE,B7,F7,at],q7),Pv=L([iE,aE,n7],(e,t,r)=>sE(r.shared,e,t)),xE=e=>e.tooltip.settings.trigger,Ov=e=>e.tooltip.settings.defaultIndex,yf=L([Vs,Pv,xE,Ov],dE),yl=L([yf,Hs],Sv),bE=L([Hn,yl],oE),W7=L([yf],e=>{if(e)return e.dataKey}),wE=L([Vs,Pv,xE,Ov],hE),V7=L([Bn,Fn,Te,jt,Hn,Ov,wE,Hl],fE),H7=L([yf,V7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),K7=L([yf],e=>e.active),G7=L([wE,yl,Ii,xS,bE,Hl,Pv],mE),Y7=L([G7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){Q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7=()=>ae(ft),eU=()=>{var e=Z7(),t=ae(Hn),r=ae(yE);return gp(kw(kw({},e),{},{scale:r}),t)},tU=()=>ae(uv),Av=(e,t)=>t,jE=(e,t,r)=>r,Tv=(e,t,r,n)=>n,rU=L(Hn,e=>Vd(e,t=>t.coordinate)),Mv=L([Vs,Av,jE,Tv],dE),_E=L([Mv,Hs],Sv),nU=(e,t,r)=>{if(t!=null){var n=Vs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},kE=L([Vs,Av,jE,Tv],hE),nd=L([Bn,Fn,Te,jt,Hn,Tv,kE,Hl],fE),iU=L([Mv,nd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),NE=L(Hn,_E,oE),aU=L([kE,_E,Ii,xS,NE,Hl,Av],mE),sU=L([Mv],e=>({isActive:e.active,activeIndex:e.index})),oU=(e,t,r,n,i,a,s,l)=>{if(!(!e||!t||!n||!i||!a)){var c=wD(e.chartX,e.chartY,t,r,l);if(c){var u=_D(c,t),d=dD(u,s,a,n,i),f=jD(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$p.apply(null,arguments)}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=E$;else if(u==="BarChart")m=C$(s,d,i,a),y=aL;else if(s==="radial"){var{cx:b,cy:w,radius:x,startAngle:g,endAngle:p}=fN(d);m={cx:b,cy:w,startAngle:g,endAngle:p,innerRadius:x,outerRadius:x},y=cL}else m={points:uL(s,d,i)},y=sN;var j=typeof l=="object"&&"className"in l?l.className:void 0,_=Ic(Ic(Ic(Ic({stroke:"#ccc",pointerEvents:"none"},i),m),ut(l,!1)),{},{payload:f,payloadIndex:h,className:_e("recharts-tooltip-cursor",j)});return v.isValidElement(l)?v.cloneElement(l,_):v.createElement(y,_)}function fU(e){var t=eU(),r=nN(),n=$0(),i=tU();return v.createElement(dU,$p({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var SE=v.createContext(null),hU=()=>v.useContext(SE),EE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],x=arguments.length,g,p;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,y),!0}for(p=1,g=new Array(x-1);p<x;p++)g[p-1]=arguments[p];w.fn.apply(w.context,g)}else{var j=w.length,_;for(p=0;p<j;p++)switch(w[p].once&&this.removeListener(u,w[p].fn,void 0,!0),x){case 1:w[p].fn.call(w[p].context);break;case 2:w[p].fn.call(w[p].context,d);break;case 3:w[p].fn.call(w[p].context,d,f);break;case 4:w[p].fn.call(w[p].context,d,f,h);break;default:if(!g)for(_=1,g=new Array(x-1);_<x;_++)g[_-1]=arguments[_];w[p].fn.apply(w[p].context,g)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var b=0,w=[],x=y.length;b<x;b++)(y[b].fn!==d||h&&!y[b].once||f&&y[b].context!==f)&&w.push(y[b]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(EE);var mU=EE.exports;const pU=ki(mU);var xl=new pU,Lp="recharts.syncEvent.tooltip",Sw="recharts.syncEvent.brush";function gU(e,t){if(t){var r=Number.parseInt(t,10);if(!Sr(r))return e==null?void 0:e[r]}}var vU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},CE=cr({name:"options",initialState:vU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yU=CE.reducer,{createEventEmitter:xU}=CE.actions;function bU(e){return e.tooltip.syncInteraction}var wU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},PE=cr({name:"chartData",initialState:wU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Ew,setDataStartEndIndexes:jU,setComputedData:YW}=PE.actions,_U=PE.reducer,kU=["x","y"];function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){NU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NU(e,t,r){return(t=SU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=EU(e,"string");return typeof t=="symbol"?t:t+""}function EU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CU(e,t){if(e==null)return{};var r,n,i=PU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OE=()=>{};function OU(){var e=ae(dv),t=ae(fv),r=wt(),n=ae(fS),i=ae(Hn),a=$0(),s=M0(),l=ae(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return OE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:y,y:b}=m,w=CU(m,kU),x=Ri(Ri(Ri({},w),typeof y=="number"&&{x:Math.max(s.x,Math.min(y,s.x+s.width))}),typeof b=="number"&&{y:Math.max(s.y,Math.min(b,s.y+s.height))}),g=Ri(Ri({},d),{},{payload:Ri(Ri({},d.payload),{},{coordinate:x})});r(g)}else r(d);return}if(i!=null){var p;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(i,j);p=i[_]}else n==="value"&&(p=i.find(I=>String(I.value)===d.payload.label));var{coordinate:N}=d.payload;if(p==null||d.payload.active===!1||N==null||s==null){r(Ip({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:E}=N,S=Math.min(k,s.x+s.width),C=Math.min(E,s.y+s.height),P={x:a==="horizontal"?p.coordinate:S,y:a==="horizontal"?C:p.coordinate},M=Ip({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(p.index),label:d.payload.label});r(M)}}};return xl.on(Lp,c),()=>{xl.off(Lp,c)}},[l,r,t,e,n,i,a,s])}function AU(){var e=ae(dv),t=ae(fv),r=wt();v.useEffect(()=>{if(e==null)return OE;var n=(i,a,s)=>{t!==s&&e===i&&r(jU(a))};return xl.on(Sw,n),()=>{xl.off(Sw,n)}},[r,t,e])}function TU(){var e=wt();v.useEffect(()=>{e(xU())},[e]),OU(),AU()}function MU(e,t,r,n,i,a){var s=ae(h=>nU(h,e,t)),l=ae(fv),c=ae(dv),u=ae(fS),d=ae(bU),f=d==null?void 0:d.active;v.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ip({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});xl.emit(Lp,c,h,l)}},[f,r,s,i,n,l,c,u,a])}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){IU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IU(e,t,r){return(t=DU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LU(e){return e.dataKey}function RU(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(a$,t)}var Aw=[],zU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function UU(e){var t=Or(e,zU),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:y,cursor:b,shared:w,trigger:x,defaultIndex:g,portal:p,axisId:j}=t,_=wt(),N=typeof g=="number"?String(g):g;v.useEffect(()=>{_(o7({shared:w,trigger:x,axisId:j,active:r,defaultIndex:N}))},[_,w,x,j,r,N]);var k=M0(),E=aN(),S=r7(w),{activeIndex:C,isActive:P}=ae(de=>sU(de,S,x,N)),M=ae(de=>aU(de,S,x,N)),I=ae(de=>NE(de,S,x,N)),$=ae(de=>iU(de,S,x,N)),J=M,Y=hU(),H=r??P,[U,O]=Sk([J,H]),A=S==="axis"?I:void 0;MU(S,x,$,A,C,H);var R=p??Y;if(R==null)return null;var z=J??Aw;H||(z=Aw),l&&z.length&&(z=mk(J.filter(de=>de.value!=null&&(de.hide!==!0||t.includeHidden)),d,LU));var ie=z.length>0,ce=v.createElement(f$,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:H,coordinate:$,hasPayload:ie,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:y,lastBoundingBox:U,innerRef:O,hasPortalFromProps:!!p},RU(s,Ow(Ow({},t),{},{payload:z,label:A,active:H,coordinate:$,accessibilityLayer:E})));return v.createElement(v.Fragment,null,zg.createPortal(ce,R),H&&v.createElement(fU,{cursor:b,tooltipEventType:S,coordinate:$,payload:J,index:C}))}var AE={},TE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{y(),s=void 0,l=null},w=()=>{d()},x=function(...g){if(i!=null&&i.aborted)return;s=this,l=g;const p=h==null;m(),c&&p&&d()};return x.schedule=m,x.cancel=b,x.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),x}e.debounce=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},y=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(TE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TE;function r(n,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:l})}e.throttle=r})(AE);var BU=AE.throttle;const FU=ki(BU);var $o=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Th(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HU=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:y={}}=e,b=v.useRef(null),w=v.useRef();w.current=m,v.useImperativeHandle(t,()=>b.current);var[x,g]=v.useState({containerWidth:n.width,containerHeight:n.height}),p=v.useCallback((_,N)=>{g(k=>{var E=Math.round(_),S=Math.round(N);return k.containerWidth===E&&k.containerHeight===S?k:{containerWidth:E,containerHeight:S}})},[]);v.useEffect(()=>{var _=S=>{var C,{width:P,height:M}=S[0].contentRect;p(P,M),(C=w.current)===null||C===void 0||C.call(w,P,M)};d>0&&(_=FU(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:E}=b.current.getBoundingClientRect();return p(k,E),N.observe(b.current),()=>{N.disconnect()}},[p,d]);var j=v.useMemo(()=>{var{containerWidth:_,containerHeight:N}=x;if(_<0||N<0)return null;$o(Yi(i)||Yi(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),$o(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Yi(i)?_:i,E=Yi(a)?N:a;return r&&r>0&&(k?E=k/r:E&&(k=E*r),c&&E>c&&(E=c)),$o(k>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,i,a,s,l,r),v.Children.map(u,S=>v.cloneElement(S,{width:k,height:E,style:Th({width:k,height:E},S.props.style)}))},[r,u,a,c,l,s,x,i]);return v.createElement("div",{id:f?"".concat(f):void 0,className:_e("recharts-responsive-container",h),style:Th(Th({},y),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:b},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function KU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class QU{constructor(t){KU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function JU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=eB(e,"string");return typeof t=="symbol"?t:t+""}function eB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tB={cacheSize:2e3,enableCache:!0},IE=JU({},tB),Iw=new QU(IE.cacheSize),rB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Dw="recharts_measurement_span";function nB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var $w=(e,t)=>{try{var r=document.getElementById(Dw);r||(r=document.createElement("span"),r.setAttribute("id",Dw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,rB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Lo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rs.isSsr)return{width:0,height:0};if(!IE.enableCache)return $w(t,r);var n=nB(t,r),i=Iw.get(n);if(i)return i;var a=$w(t,r);return Iw.set(n,a),a},Lw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sB=Object.keys(DE),Ga="NaN";function oB(e,t){return e*DE[t]}class Rt{static parse(t){var r,[,n,i]=(r=aB.exec(t))!==null&&r!==void 0?r:[];return new Rt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Sr(t)&&(this.unit=""),r!==""&&!iB.test(r)&&(this.num=NaN,this.unit=""),sB.includes(r)&&(this.num=oB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rt(NaN,""):new Rt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sr(this.num)}}function $E(e){if(e.includes(Ga))return Ga;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Lw.exec(t))!==null&&r!==void 0?r:[],s=Rt.parse(n??""),l=Rt.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Ga;t=t.replace(Lw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Rw.exec(t))!==null&&u!==void 0?u:[],m=Rt.parse(d??""),y=Rt.parse(h??""),b=f==="+"?m.add(y):m.subtract(y);if(b.isNaN())return Ga;t=t.replace(Rw,b.toString())}return t}var zw=/\(([^()]*)\)/;function lB(e){for(var t=e,r;(r=zw.exec(t))!=null;){var[,n]=r;t=t.replace(zw,$E(n))}return t}function cB(e){var t=e.replace(/\s+/g,"");return t=lB(t),t=$E(t),t}function uB(e){try{return cB(e)}catch{return Ga}}function Mh(e){var t=uB(e.slice(5,-1));return t===Ga?"":t}var dB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fB=["dx","dy","angle","className","breakAll"];function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(null,arguments)}function Uw(e,t){if(e==null)return{};var r,n,i=hB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LE=/[ \f\n\r\t\v\u2028\u2029]+/,RE=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ct(t)||(r?i=t.toString().split(""):i=t.toString().split(LE));var a=i.map(l=>({word:l,width:Lo(l,n).width})),s=r?0:Lo("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},mB=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=e,u=ue(a),d=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((M,I)=>{var{word:$,width:J}=I,Y=M[M.length-1];if(Y&&(n==null||i||Y.width+J+r<Number(n)))Y.words.push($),Y.width+=J+r;else{var H={words:[$],width:J};M.push(H)}return M},[])},h=f(t),m=C=>C.reduce((P,M)=>P.width>M.width?P:M);if(!u||i)return h;var y=h.length>a||m(h).width>Number(n);if(!y)return h;for(var b="",w=C=>{var P=d.slice(0,C),M=RE({breakAll:c,style:l,children:P+b}).wordsWithComputedWidth,I=f(M),$=I.length>a||m(I).width>Number(n);return[$,I]},x=0,g=d.length-1,p=0,j;x<=g&&p<=d.length-1;){var _=Math.floor((x+g)/2),N=_-1,[k,E]=w(N),[S]=w(_);if(!k&&!S&&(x=_+1),k&&S&&(g=_-1),!k&&S){j=E;break}p++}return j||h},Bw=e=>{var t=ct(e)?[]:e.toString().split(LE);return[{words:t}]},pB=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Rs.isSsr){var l,c,u=RE({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return Bw(n);return mB({breakAll:a,children:n,maxLines:s,style:i},l,c,t,r)}return Bw(n)},Fw="#808080",Iv=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Fw}=e,d=Uw(e,dB),f=v.useMemo(()=>pB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:y,className:b,breakAll:w}=d,x=Uw(d,fB);if(!ln(r)||!ln(n)||f.length===0)return null;var g=r+(ue(h)?h:0),p=n+(ue(m)?m:0),j;switch(c){case"start":j=Mh("calc(".concat(a,")"));break;case"middle":j=Mh("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=Mh("calc(".concat(f.length-1," * -").concat(i,")"));break}var _=[];if(s){var N=f[0].width,{width:k}=d;_.push("scale(".concat(ue(k)?k/N:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(g,", ").concat(p,")")),_.length&&(x.transform=_.join(" ")),v.createElement("text",Rp({},ut(x,!0),{ref:t,x:g,y:p,className:_e("recharts-text",b),textAnchor:l,fill:u.includes("url")?Fw:u}),f.map((E,S)=>{var C=E.words.join(w?"":" ");return v.createElement("tspan",{x:g,dy:S===0?j:i,key:"".concat(C,"-").concat(S)},C)}))});Iv.displayName="Text";var gB=["labelRef"];function vB(e,t){if(e==null)return{};var r,n,i=yB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){xB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xB(e,t,r){return(t=bB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=wB(e,"string");return typeof t=="symbol"?t:t+""}function wB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bn(){return bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bn.apply(null,arguments)}var zE=v.createContext(null),jB=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=v.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return v.createElement(zE.Provider,{value:s},a)},UE=()=>{var e=v.useContext(zE),t=M0();return e||t},_B=v.createContext(null),kB=()=>{var e=v.useContext(_B),t=ae(vS);return e||t},NB=e=>{var{value:t,formatter:r}=e,n=ct(e.children)?t:e.children;return typeof r=="function"?r(n):n},Dv=e=>e!=null&&typeof e=="function",SB=(e,t)=>{var r=br(t-e),n=Math.min(Math.abs(t-e),360);return r*n},EB=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,y=(u+d)/2,b=SB(f,h),w=b>=0?1:-1,x,g;switch(t){case"insideStart":x=f+w*a,g=m;break;case"insideEnd":x=h-w*a,g=!m;break;case"end":x=h+w*a,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=b<=0?g:!g;var p=yt(l,c,y,x),j=yt(l,c,y,x+(g?1:-1)*359),_="M".concat(p.x,",").concat(p.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(g?0:1,`,
    `).concat(j.x,",").concat(j.y),N=ct(e.id)?cl("recharts-radial-line-"):e.id;return v.createElement("text",bn({},n,{dominantBaseline:"central",className:_e("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:_})),v.createElement("textPath",{xlinkHref:"#".concat(N)},r))},CB=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=yt(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y}=yt(n,i,h,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},BE=e=>"cx"in e&&ue(e.cx),PB=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!BE(r)&&(a=r);var{x:s,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,b=y*n,w=y>0?"end":"start",x=y>0?"start":"end";if(i==="top"){var g={x:s+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return qe(qe({},g),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var p={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return qe(qe({},p),a?{height:Math.max(a.y+a.height-(l+u),0),width:c}:{})}if(i==="left"){var j={x:s-b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return qe(qe({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var _={x:s+c+b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return qe(qe({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:u}:{})}var N=a?{width:c,height:u}:{};return i==="insideLeft"?qe({x:s+b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideRight"?qe({x:s+c-b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideTop"?qe({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},N):i==="insideBottom"?qe({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},N):i==="insideTopLeft"?qe({x:s+b,y:l+f,textAnchor:x,verticalAnchor:m},N):i==="insideTopRight"?qe({x:s+c-b,y:l+f,textAnchor:w,verticalAnchor:m},N):i==="insideBottomLeft"?qe({x:s+b,y:l+u-f,textAnchor:x,verticalAnchor:h},N):i==="insideBottomRight"?qe({x:s+c-b,y:l+u-f,textAnchor:w,verticalAnchor:h},N):i&&typeof i=="object"&&(ue(i.x)||Yi(i.x))&&(ue(i.y)||Yi(i.y))?qe({x:s+_i(i.x,c),y:l+_i(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):qe({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},OB={offset:5};function ei(e){var t=Or(e,OB),{viewBox:r,position:n,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=kB(),f=UE(),h=n==="center"?f:d??f,m=r||h;if(!m||ct(i)&&ct(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=qe(qe({},t),{},{viewBox:m});if(v.isValidElement(s)){var b=vB(y,gB);return v.cloneElement(s,b)}var w;if(typeof s=="function"){if(w=v.createElement(s,y),v.isValidElement(w))return w}else w=NB(t);var x=BE(m),g=ut(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return EB(t,n,w,g,m);var p=x?CB(m,t.offset,t.position):PB(t,m);return v.createElement(Iv,bn({ref:u,className:_e("recharts-label",l)},g,p,{breakAll:c}),w)}ei.displayName="Label";var AB=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(ei,bn({key:"label-implicit"},n)):ln(e)?v.createElement(ei,bn({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===ei?v.cloneElement(e,qe({key:"label-implicit"},n)):v.createElement(ei,bn({key:"label-implicit",content:e},n)):Dv(e)?v.createElement(ei,bn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(ei,bn({},e,{key:"label-implicit"},n)):null};function TB(e){var{label:t}=e,r=UE();return AB(t,r)||null}var FE={},qE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(qE);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qE,r=WE,n=qd;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(FE);var MB=FE.last;const IB=ki(MB);var DB=["valueAccessor"],$B=["dataKey","clockWise","id","textBreakAll"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(null,arguments)}function Ww(e,t){if(e==null)return{};var r,n,i=LB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RB=e=>Array.isArray(e.value)?IB(e.value):e.value,VE=v.createContext(void 0),zB=VE.Provider,HE=v.createContext(void 0);HE.Provider;function UB(){return v.useContext(VE)}function BB(){return v.useContext(HE)}function Jc(e){var{valueAccessor:t=RB}=e,r=Ww(e,DB),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,l=Ww(r,$B),c=UB(),u=BB(),d=c||u;return!d||!d.length?null:v.createElement(Ls,{className:"recharts-label-list"},d.map((f,h)=>{var m,y=ct(n)?t(f,h):Dt(f&&f.payload,n),b=ct(a)?{}:{id:"".concat(a,"-").concat(h)};return v.createElement(ei,id({},ut(f,!0),l,b,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Jc.displayName="LabelList";function FB(e){var{label:t}=e;return t?t===!0?v.createElement(Jc,{key:"labelList-implicit"}):v.isValidElement(t)||Dv(t)?v.createElement(Jc,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Jc,id({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(null,arguments)}var KE=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=_e("recharts-dot",i);return t===+t&&r===+r&&n===+n?v.createElement("circle",zp({},ja(e),c0(e),{className:a,cx:t,cy:r,r:n})):null},qB={radiusAxis:{},angleAxis:{}},WB=cr({name:"polarAxis",initialState:qB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),VB=WB.reducer;function HB(e){var{fn:t,args:r}=e,n=wt(),i=Pr();return v.useEffect(()=>{if(!i){var a=t(r);return n(a7(a)),()=>{n(s7(a))}}},[t,r,n,i]),null}var KB=()=>{};function GB(e){var{legendPayload:t}=e,r=wt(),n=Pr();return v.useEffect(()=>n?KB:(r(BD(t)),()=>{r(FD(t))}),[r,n,t]),null}var Ih,YB=()=>{var[e]=v.useState(()=>cl("uid-"));return e},QB=(Ih=RC.useId)!==null&&Ih!==void 0?Ih:YB;function JB(e,t){var r=QB();return t||(e?"".concat(e,"-").concat(r):r)}var XB=v.createContext(void 0),ZB=e=>{var{id:t,type:r,children:n}=e,i=JB("recharts-".concat(r),t);return v.createElement(XB.Provider,{value:i},n(i))},eF={cartesianItems:[],polarItems:[]},GE=cr({name:"graphicalItems",initialState:eF,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=En(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=En(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=En(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:tF,replaceCartesianGraphicalItem:rF,removeCartesianGraphicalItem:nF,addPolarGraphicalItem:QW,removePolarGraphicalItem:JW}=GE.actions,iF=GE.reducer;function aF(e){var t=wt(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(tF(e)):r.current!==e&&t(rF({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(nF(r.current)),r.current=null)},[t]),null}function Vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vw(Object(r),!0).forEach(function(n){sF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sF(e,t,r){return(t=oF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=lF(e,"string");return typeof t=="symbol"?t:t+""}function lF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cF={xAxis:{},yAxis:{},zAxis:{}},YE=cr({name:"cartesianAxis",initialState:cF,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Hw(Hw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:uF,removeXAxis:dF,addYAxis:fF,removeYAxis:hF,addZAxis:XW,removeZAxis:ZW,updateYAxisWidth:mF}=YE.actions,pF=YE.reducer,gF=L([jt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),vF=L([gF,Bn,Fn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),$v=()=>ae(vF),yF=()=>ae(Y7);function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){xF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xF(e,t,r){return(t=bF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bF(e){var t=wF(e,"string");return typeof t=="symbol"?t:t+""}function wF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=Gw(Gw({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ut(i,!1)),c0(i)),l;return v.isValidElement(i)?l=v.cloneElement(i,s):typeof i=="function"?l=i(s):l=v.createElement(KE,s),v.createElement(Ls,{className:"recharts-active-dot"},l)};function _F(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ae(yl),s=yF();if(t==null||s==null)return null;var l=t.find(c=>s.includes(c.payload));return ct(l)?null:jF({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var kF={},NF=cr({name:"errorBars",initialState:kF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),SF=NF.reducer,EF=["children"];function CF(e,t){if(e==null)return{};var r,n,i=PF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},AF=v.createContext(OF);function TF(e){var{children:t}=e,r=CF(e,EF);return v.createElement(AF.Provider,{value:r},t)}function QE(e,t){var r,n,i=ae(u=>Wn(u,e)),a=ae(u=>Vn(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Gt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function MF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=$v(),{needClipX:a,needClipY:s,needClip:l}=QE(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var IF=e=>{var{chartData:t}=e,r=wt(),n=Pr();return v.useEffect(()=>n?()=>{}:(r(Ew(t)),()=>{r(Ew(void 0))}),[t,r,n]),null},Yw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DF=cr({name:"brush",initialState:Yw,reducers:{setBrushSettings(e,t){return t.payload==null?Yw:t.payload}}}),$F=DF.reducer;function LF(e,t,r){return(t=RF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=zF(e,"string");return typeof t=="symbol"?t:t+""}function zF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Lv{static create(t){return new Lv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}LF(Lv,"EPS",1e-4);function UF(e){return(e%180+180)%180}var BF=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=UF(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},FF={dots:[],areas:[],lines:[]},qF=cr({name:"referenceElements",initialState:FF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=En(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=En(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=En(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),WF=qF.reducer,VF=v.createContext(void 0),HF=e=>{var{children:t}=e,[r]=v.useState("".concat(cl("recharts"),"-clip")),n=$v();if(n==null)return null;var{x:i,y:a,width:s,height:l}=n;return v.createElement(VF.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:l,width:s}))),t)};function Ps(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function JE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function KF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BF(n,r)}function GF(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:l}=e;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function ad(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function YF(e,t){return JE(e,t+1)}function QF(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:JE(n,u)};var b=c,w,x=()=>(w===void 0&&(w=r(y,b)),w),g=y.coordinate,p=c===0||ad(e,g,x,d,l);p||(c=0,d=s,u+=1),p&&(d=g+e*(x()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){JF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e9(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:l}=t,{end:c}=t,u=function(h){var m=a[h],y,b=()=>(y===void 0&&(y=r(m,h)),y);if(h===s-1){var w=e*(m.coordinate+e*b()/2-c);a[h]=m=St(St({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[h]=m=St(St({},m),{},{tickCoord:m.coordinate});var x=ad(e,m.tickCoord,b,l,c);x&&(c=m.tickCoord-e*(b()/2+i),a[h]=St(St({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function t9(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=St(St({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ad(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),s[l-1]=St(St({},d),{},{isShow:!0}))}for(var y=a?l-1:l,b=function(g){var p=s[g],j,_=()=>(j===void 0&&(j=r(p,g)),j);if(g===0){var N=e*(p.coordinate-e*_()/2-c);s[g]=p=St(St({},p),{},{tickCoord:N<0?p.coordinate-N*e:p.coordinate})}else s[g]=p=St(St({},p),{},{tickCoord:p.coordinate});var k=ad(e,p.tickCoord,_,c,u);k&&(c=p.tickCoord+e*(_()/2+i),s[g]=St(St({},p),{},{isShow:!0}))},w=0;w<y;w++)b(w);return s}function Rv(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ue(c)||Rs.isSsr){var h;return(h=YF(i,ue(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",b=d&&y==="width"?Lo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(p,j)=>{var _=typeof u=="function"?u(p.value,j):p.value;return y==="width"?KF(Lo(_,{fontSize:t,letterSpacing:r}),b,f):Lo(_,{fontSize:t,letterSpacing:r})[y]},x=i.length>=2?br(i[1].coordinate-i[0].coordinate):1,g=GF(a,x,y);return c==="equidistantPreserveStart"?QF(x,g,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=t9(x,g,w,i,s,c==="preserveStartEnd"):m=e9(x,g,w,i,s),m.filter(p=>p.isShow))}var r9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+l+(r?n:0);return Math.round(u)}return 0},n9=["axisLine","width","height","className","hide","ticks"],i9=["viewBox"],a9=["viewBox"];function Up(e,t){if(e==null)return{};var r,n,i=s9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){o9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o9(e,t,r){return(t=l9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l9(e){var t=c9(e,"string");return typeof t=="symbol"?t:t+""}function c9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function u9(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=tt(tt(tt({},c),ut(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=tt(tt({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=tt(tt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return v.createElement("line",pa({},u,{className:_e("recharts-cartesian-axis-line",zd(l,"className"))}))}function d9(e,t,r,n,i,a,s,l,c){var u,d,f,h,m,y,b=l?-1:1,w=e.tickSize||s,x=ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!l*i,f=h-b*w,y=f-b*c,m=x;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-b*w,m=u-b*c,y=x;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+b*w,m=u+b*c,y=x;break;default:u=d=e.coordinate,h=r+ +l*i,f=h+b*w,y=f+b*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y}}}function f9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function h9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function m9(e){var{option:t,tickProps:r,value:n}=e,i,a=_e(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,tt(tt({},r),{},{className:a}));else if(typeof t=="function")i=t(tt(tt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=_e(s,t==null?void 0:t.className)),i=v.createElement(Iv,pa({},r,{className:s}),n)}return i}function p9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:y,tickSize:b,tickMargin:w,fontSize:x,letterSpacing:g,getTicksConfig:p,events:j}=e,_=Rv(tt(tt({},p),{},{ticks:t}),x,g),N=f9(u,d),k=h9(u,d),E=ja(p),S=ut(r,!1),C=tt(tt({},E),{},{fill:"none"},ut(n,!1)),P=_.map((M,I)=>{var{line:$,tick:J}=d9(M,f,h,m,y,u,b,d,w),Y=tt(tt(tt(tt({textAnchor:N,verticalAnchor:k},E),{},{stroke:"none",fill:i},S),J),{},{index:I,payload:M,visibleTicksCount:_.length,tickFormatter:a,padding:l},c);return v.createElement(Ls,pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},O2(j,M,I)),n&&v.createElement("line",pa({},C,$,{className:_e("recharts-cartesian-axis-tick-line",zd(n,"className"))})),r&&v.createElement(m9,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(M.value,I):M.value).concat(s||"")}))});return P.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var g9=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:l}=e,c=Up(e,n9),[u,d]=v.useState(""),[f,h]=v.useState(""),m=v.useRef([]);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return r9({ticks:m.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var x=w[0];if(x){var g=window.getComputedStyle(x),p=g.fontSize,j=g.letterSpacing;(p!==u||j!==f)&&(d(p),h(j))}}},[u,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Ls,{className:_e("recharts-cartesian-axis",a),ref:y},v.createElement(u9,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ja(e)}),v.createElement(p9,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),v.createElement(jB,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement(TB,{label:e.label}),e.children))}),v9=v.memo(g9,(e,t)=>{var{viewBox:r}=e,n=Up(e,i9),{viewBox:i}=t,a=Up(t,a9);return Ps(r,i)&&Ps(n,a)}),Uv=v.forwardRef((e,t)=>{var r=Or(e,zv);return v.createElement(v9,pa({},r,{ref:t}))});Uv.displayName="CartesianAxis";var y9=["x1","y1","x2","y2","key"],x9=["offset"],b9=["xAxisId","yAxisId"],w9=["xAxisId","yAxisId"];function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){j9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(null,arguments)}function sd(e,t){if(e==null)return{};var r,n,i=N9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function N9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var S9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:l}=e;return v.createElement("rect",{x:n,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function XE(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:l}=t,c=sd(t,y9),u=ja(c),d=sd(u,x9);r=v.createElement("line",Xi({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function E9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=sd(e,b9),s=i.map((l,c)=>{var u=Ct(Ct({},a),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return XE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function C9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=sd(e,w9),s=i.map((l,c)=>{var u=Ct(Ct({},a),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return XE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function P9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?i+s-f:u[h+1]-f;if(y<=0)return null;var b=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function O9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?i+s-f:u[h+1]-f;if(y<=0)return null;var b=h%r.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var A9=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Xk(Rv(Ct(Ct(Ct({},zv),r),{},{ticks:Zk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},T9=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Xk(Rv(Ct(Ct(Ct({},zv),r),{},{ticks:Zk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},M9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ZE(e){var t=I0(),r=D0(),n=nN(),i=Ct(Ct({},Or(e,M9)),{},{x:ue(e.x)?e.x:n.left,y:ue(e.y)?e.y:n.top,width:ue(e.width)?e.width:n.width,height:ue(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,y=Pr(),b=ae(S=>xw(S,"xAxis",a,y)),w=ae(S=>xw(S,"yAxis",s,y));if(!ue(u)||u<=0||!ue(d)||d<=0||!ue(l)||l!==+l||!ue(c)||c!==+c)return null;var x=i.verticalCoordinatesGenerator||A9,g=i.horizontalCoordinatesGenerator||T9,{horizontalPoints:p,verticalPoints:j}=i;if((!p||!p.length)&&typeof g=="function"){var _=h&&h.length,N=g({yAxis:w?Ct(Ct({},w),{},{ticks:_?h:w.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);$o(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(p=N)}if((!j||!j.length)&&typeof x=="function"){var k=m&&m.length,E=x({xAxis:b?Ct(Ct({},b),{},{ticks:k?m:b.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);$o(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(S9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(P9,Xi({},i,{horizontalPoints:p})),v.createElement(O9,Xi({},i,{verticalPoints:j})),v.createElement(E9,Xi({},i,{offset:n,horizontalPoints:p,xAxis:b,yAxis:w})),v.createElement(C9,Xi({},i,{offset:n,verticalPoints:j,xAxis:b,yAxis:w})))}ZE.displayName="CartesianGrid";var eC=(e,t,r,n)=>nE(e,"xAxis",t,n),tC=(e,t,r,n)=>rE(e,"xAxis",t,n),rC=(e,t,r,n)=>nE(e,"yAxis",r,n),nC=(e,t,r,n)=>rE(e,"yAxis",r,n),I9=L([Te,eC,rC,tC,nC],(e,t,r,n,i)=>Ai(e,"xAxis")?gp(t,n,!1):gp(r,i,!1)),D9=(e,t,r,n,i)=>i;function $9(e){return e.type==="line"}var L9=L([NS,D9],(e,t)=>e.filter($9).find(r=>r.id===t)),R9=L([Te,eC,rC,tC,nC,L9,I9,ov],(e,t,r,n,i,a,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return sq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}}),z9=["id"],U9=["type","layout","connectNulls","needClip"],B9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bv(e,t){if(e==null)return{};var r,n,i=V9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function V9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}var H9=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:eN(r,t),payload:e}]};function K9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:eN(s,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var iC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function G9(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Y9=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return iC(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){l=[...r.slice(0,c),a-u];break}var d=l.length%2===0?[0,s]:[s];return[...G9(r,i),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function Q9(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=_e("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(KE,ga({},t,{className:n}))}return r}function J9(e,t){return e==null?!1:t?!0:e.length===1}function X9(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!J9(r,i))return null;var l=Bv(n,z9),c=T2(i),u=ja(l),d=ut(i,!0),f=r.map((m,y)=>{var b=Jt(Jt(Jt({key:"dot-".concat(y),r:3},u),d),{},{index:y,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:r});return Q9(i,b)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return v.createElement(Ls,ga({className:"recharts-line-dots",key:"dots"},h),f)}function Z9(e){var{showLabels:t,children:r,points:n}=e,i=v.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Jt(Jt({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(zB,{value:t?i:null},r)}function e1(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:l,connectNulls:c,needClip:u}=a,d=Bv(a,U9),f=Jt(Jt({},ut(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(sN,ga({},f,{pathRef:r})),v.createElement(X9,{points:n,clipPathId:t,props:a}))}function eq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function tq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:y,onAnimationEnd:b,onAnimationStart:w}=r,x=i.current,g=dN(r,"recharts-line-"),[p,j]=v.useState(!1),_=!p,N=v.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),k=v.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),E=eq(n.current),S=a.current;return v.createElement(Z9,{points:s,showLabels:_},r.children,v.createElement(uN,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:k,key:g},C=>{var P=yn(S,E+S,C),M=Math.min(P,E),I;if(c)if(l){var $="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));I=Y9(M,E,$)}else I=iC(E,M);else I=l==null?void 0:String(l);if(x){var J=x.length/s.length,Y=C===1?s:s.map((H,U)=>{var O=Math.floor(U*J);if(x[O]){var A=x[O];return Jt(Jt({},H),{},{x:yn(A.x,H.x,C),y:yn(A.y,H.y,C)})}return h?Jt(Jt({},H),{},{x:yn(m*2,H.x,C),y:yn(y/2,H.y,C)}):Jt(Jt({},H),{},{x:H.x,y:H.y})});return i.current=Y,v.createElement(e1,{props:r,points:Y,clipPathId:t,pathRef:n,strokeDasharray:I})}return C>0&&E>0&&(i.current=s,a.current=M),v.createElement(e1,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:I})}),v.createElement(FB,{label:r.label}))}function rq(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(tq,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var nq=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Dt(e.payload,t)});class iq extends v.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var y=_e("recharts-line",a),b=h,{r:w=3,strokeWidth:x=2}=(t=ut(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=T2(n),p=w*2+x;return v.createElement(v.Fragment,null,v.createElement(Ls,{className:y},m&&v.createElement("defs",null,v.createElement(MF,{clipPathId:b,xAxisId:s,yAxisId:l}),!g&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:u-p/2,y:c-p/2,width:d+p,height:f+p}))),v.createElement(TF,{xAxisId:s,yAxisId:l,data:i,dataPointFormatter:nq,errorBarOffset:0},v.createElement(rq,{props:this.props,clipPathId:b}))),v.createElement(_F,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Rs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function aq(e){var t=Or(e,aC),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:y,id:b}=t,w=Bv(t,B9),{needClip:x}=QE(m,y),g=$v(),p=$0(),j=Pr(),_=ae(C=>R9(C,m,y,j,b));if(p!=="horizontal"&&p!=="vertical"||_==null||g==null)return null;var{height:N,width:k,x:E,y:S}=g;return v.createElement(iq,ga({},w,{id:b,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:y,points:_,layout:p,height:N,width:k,left:E,top:S,needClip:x}))}function sq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=Dt(u,s);if(t==="horizontal"){var h=sb({axis:r,ticks:i,bandSize:l,entry:u,index:d}),m=ct(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var y=ct(f)?null:r.scale(f),b=sb({axis:n,ticks:a,bandSize:l,entry:u,index:d});return y==null||b==null?null:{x:y,y:b,value:f,payload:u}}).filter(Boolean)}function oq(e){var t=Or(e,aC),r=Pr();return v.createElement(ZB,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(GB,{legendPayload:H9(t)}),v.createElement(HB,{fn:K9,args:t}),v.createElement(aF,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(aq,ga({},t,{id:n}))))}var jo=v.memo(oq);jo.displayName="Line";var lq=["dangerouslySetInnerHTML","ticks"],cq=["id"],uq=["domain"],dq=["domain"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function od(e,t){if(e==null)return{};var r,n,i=fq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hq(e){var t=wt();return v.useEffect(()=>(t(uF(e)),()=>{t(dF(e))}),[e,t]),null}var mq=e=>{var{xAxisId:t,className:r}=e,n=ae(rN),i=Pr(),a="xAxis",s=ae(m=>Ws(m,a,t,i)),l=ae(m=>tE(m,a,t,i)),c=ae(m=>Fz(m,t)),u=ae(m=>Gz(m,t)),d=ae(m=>wS(m,t));if(c==null||u==null||d==null)return null;var f=od(e,lq),h=od(d,cq);return v.createElement(Uv,Bp({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:_e("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},pq={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,height:Kt.height,hide:!1,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tickCount:Kt.tickCount,type:Kt.type,xAxisId:0},gq=e=>{var t,r,n,i,a,s=Or(e,pq);return v.createElement(v.Fragment,null,v.createElement(hq,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(mq,s))},vq=(e,t)=>{var{domain:r}=e,n=od(e,uq),{domain:i}=t,a=od(t,dq);return Ps(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Ps({domain:r},{domain:i}):!1},sC=v.memo(gq,vq);sC.displayName="XAxis";var yq=["dangerouslySetInnerHTML","ticks"],xq=["id"],bq=["domain"],wq=["domain"];function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fp.apply(null,arguments)}function ld(e,t){if(e==null)return{};var r,n,i=jq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _q(e){var t=wt();return v.useEffect(()=>(t(fF(e)),()=>{t(hF(e))}),[e,t]),null}var kq=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=v.useRef(null),s=v.useRef(null),l=ae(rN),c=Pr(),u=wt(),d="yAxis",f=ae(g=>Ws(g,d,t,c)),h=ae(g=>Jz(g,t)),m=ae(g=>Qz(g,t)),y=ae(g=>tE(g,d,t,c)),b=ae(g=>jS(g,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Dv(i)||v.isValidElement(i)||b==null)){var g=a.current;if(g){var p=g.getCalculatedWidth();Math.round(h.width)!==Math.round(p)&&u(mF({id:t,width:p}))}}},[y,h,u,i,t,n,b]),h==null||m==null||b==null)return null;var w=ld(e,yq),x=ld(b,xq);return v.createElement(Uv,Fp({},w,x,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:_e("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y}))},Nq={allowDataOverflow:Gt.allowDataOverflow,allowDecimals:Gt.allowDecimals,allowDuplicatedCategory:Gt.allowDuplicatedCategory,hide:!1,mirror:Gt.mirror,orientation:Gt.orientation,padding:Gt.padding,reversed:Gt.reversed,scale:Gt.scale,tickCount:Gt.tickCount,type:Gt.type,width:Gt.width,yAxisId:0},Sq=e=>{var t,r,n,i,a,s=Or(e,Nq);return v.createElement(v.Fragment,null,v.createElement(_q,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(kq,s))},Eq=(e,t)=>{var{domain:r}=e,n=ld(e,bq),{domain:i}=t,a=ld(t,wq);return Ps(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Ps({domain:r},{domain:i}):!1},oC=v.memo(Sq,Eq);oC.displayName="YAxis";var Cq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=v;function Pq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oq=typeof Object.is=="function"?Object.is:Pq,Aq=Gl.useSyncExternalStore,Tq=Gl.useRef,Mq=Gl.useEffect,Iq=Gl.useMemo,Dq=Gl.useDebugValue;Cq.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Tq(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Iq(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return f=y}return f=m}if(y=f,Oq(d,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(d=m,y):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=Aq(e,a[0],a[1]);return Mq(function(){s.hasValue=!0,s.value=l},[l]),Dq(l),l};function $q(e){e()}function Lq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$q(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var t1={notify(){},get:()=>[]};function Rq(e,t){let r,n=t1,i=0,a=!1;function s(b){d();const w=n.subscribe(b);let x=!1;return()=>{x||(x=!0,w(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=Lq())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=t1)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var zq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uq=zq(),Bq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fq=Bq(),qq=()=>Uq||Fq?v.useLayoutEffect:v.useEffect,Wq=qq(),Dh=Symbol.for("react-redux-context"),$h=typeof globalThis<"u"?globalThis:{};function Vq(){if(!v.createContext)return{};const e=$h[Dh]??($h[Dh]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Hq=Vq();function Kq(e){const{children:t,context:r,serverState:n,store:i}=e,a=v.useMemo(()=>{const c=Rq(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=v.useMemo(()=>i.getState(),[i]);Wq(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=r||Hq;return v.createElement(l.Provider,{value:a},t)}var Gq=Kq,Yq=(e,t)=>t,Fv=L([Yq,Te,vS,at,vE,Hn,rU,jt],oU),qv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},lC=Er("mouseClick"),cC=$l();cC.startListening({actionCreator:lC,effect:(e,t)=>{var r=e.payload,n=Fv(t.getState(),qv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(c7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var qp=Er("mouseMove"),uC=$l();uC.startListening({actionCreator:qp,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Nv(n,n.tooltip.settings.shared),a=Fv(n,qv(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(uE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(cE()))}});var r1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dC=cr({name:"rootProps",initialState:r1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:r1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Qq=dC.reducer,{updateOptions:Jq}=dC.actions,Xq=cr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),Zq=Xq.reducer,fC=Er("keyDown"),hC=Er("focus"),Wv=$l();Wv.startListening({actionCreator:fC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(Sv(i,Hs(r))),l=Hn(r);if(a==="Enter"){var c=nd(r,"axis","hover",String(i.index));t.dispatch(Dp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=t7(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var m=nd(r,"axis","hover",String(h));t.dispatch(Dp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Wv.startListening({actionCreator:hC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=nd(r,"axis","hover",String(a));t.dispatch(Dp({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var mr=Er("externalEvent"),mC=$l();mC.startListening({actionCreator:mr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:H7(r),activeDataKey:W7(r),activeIndex:yl(r),activeLabel:bE(r),activeTooltipIndex:yl(r),isTooltipActive:K7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var eW=L([Vs],e=>e.tooltipItemPayloads),tW=L([eW,Hl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),pC=Er("touchMove"),gC=$l();gC.startListening({actionCreator:pC,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Nv(n,n.tooltip.settings.shared);if(i==="axis"){var a=Fv(n,qv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(uE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(ND),d=(s=c.getAttribute(SD))!==null&&s!==void 0?s:void 0,f=tW(t.getState(),u,d);t.dispatch(l7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var rW=Ck({brush:$F,cartesianAxis:pF,chartData:_U,errorBars:SF,graphicalItems:iF,layout:JI,legend:qD,options:yU,polarAxis:VB,polarOptions:Zq,referenceElements:WF,rootProps:Qq,tooltip:u7}),nW=function(t){return jI({reducer:rW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([cC.middleware,uC.middleware,Wv.middleware,mC.middleware,gC.middleware]),devTools:Rs.devToolsEnabled})};function iW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Pr(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=nW(t));var s=N0;return v.createElement(Gq,{context:s,store:a.current},r)}function aW(e){var{layout:t,width:r,height:n,margin:i}=e,a=wt(),s=Pr();return v.useEffect(()=>{s||(a(GI(t)),a(YI({width:r,height:n})),a(KI(i)))},[a,s,t,r,n,i]),null}function sW(e){var t=wt();return v.useEffect(()=>{t(Jq(e))},[t,e]),null}var oW=["children"];function lW(e,t){if(e==null)return{};var r,n,i=cW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}var uW={width:"100%",height:"100%"},dW=v.forwardRef((e,t)=>{var r=I0(),n=D0(),i=aN();if(!Bu(r)||!Bu(n))return null;var{children:a,otherAttributes:s,title:l,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0,v.createElement(u0,cd({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:uW,ref:t}),a)}),fW=e=>{var{children:t}=e,r=ae(ef);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return v.createElement(u0,{width:n,height:i,x:s,y:a},t)},n1=v.forwardRef((e,t)=>{var{children:r}=e,n=lW(e,oW),i=Pr();return i?v.createElement(fW,null,r):v.createElement(dW,cd({ref:t},n),r)});function hW(){var e=wt(),[t,r]=v.useState(null),n=ae(kD);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Kr(a)&&a!==n&&e(QI(a))}},[t,e,n]),r}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yW=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:b,style:w,width:x}=e,g=wt(),[p,j]=v.useState(null),[_,N]=v.useState(null);TU();var k=hW(),E=v.useCallback(z=>{k(z),typeof t=="function"&&t(z),j(z),N(z)},[k,t,j,N]),S=v.useCallback(z=>{g(lC(z)),g(mr({handler:a,reactEvent:z}))},[g,a]),C=v.useCallback(z=>{g(qp(z)),g(mr({handler:u,reactEvent:z}))},[g,u]),P=v.useCallback(z=>{g(cE()),g(mr({handler:d,reactEvent:z}))},[g,d]),M=v.useCallback(z=>{g(qp(z)),g(mr({handler:f,reactEvent:z}))},[g,f]),I=v.useCallback(()=>{g(hC())},[g]),$=v.useCallback(z=>{g(fC(z.key))},[g]),J=v.useCallback(z=>{g(mr({handler:s,reactEvent:z}))},[g,s]),Y=v.useCallback(z=>{g(mr({handler:l,reactEvent:z}))},[g,l]),H=v.useCallback(z=>{g(mr({handler:c,reactEvent:z}))},[g,c]),U=v.useCallback(z=>{g(mr({handler:h,reactEvent:z}))},[g,h]),O=v.useCallback(z=>{g(mr({handler:b,reactEvent:z}))},[g,b]),A=v.useCallback(z=>{g(pC(z)),g(mr({handler:y,reactEvent:z}))},[g,y]),R=v.useCallback(z=>{g(mr({handler:m,reactEvent:z}))},[g,m]);return v.createElement(SE.Provider,{value:p},v.createElement(M2.Provider,{value:_},v.createElement("div",{className:_e("recharts-wrapper",n),style:mW({position:"relative",cursor:"default",width:x,height:i},w),onClick:S,onContextMenu:J,onDoubleClick:Y,onFocus:I,onKeyDown:$,onMouseDown:H,onMouseEnter:C,onMouseLeave:P,onMouseMove:M,onMouseUp:U,onTouchEnd:R,onTouchMove:A,onTouchStart:O,ref:E},r)))}),xW=["children","className","width","height","style","compact","title","desc"];function bW(e,t){if(e==null)return{};var r,n,i=wW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jW=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:l,title:c,desc:u}=e,d=bW(e,xW),f=ja(d);return l?v.createElement(n1,{otherAttributes:f,title:c,desc:u},r):v.createElement(yW,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(n1,{otherAttributes:f,title:c,desc:u,ref:t},v.createElement(HF,null,r)))}),_W=["width","height"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(null,arguments)}function kW(e,t){if(e==null)return{};var r,n,i=NW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SW={top:5,right:5,bottom:5,left:5},EW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:SW,reverseStackOrder:!1,syncMethod:"index"},CW=v.forwardRef(function(t,r){var n,i=Or(t.categoricalChartProps,EW),{width:a,height:s}=i,l=kW(i,_W);if(!Bu(a)||!Bu(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(iW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},v.createElement(IF,{chartData:h.data}),v.createElement(aW,{width:a,height:s,layout:i.layout,margin:i.margin}),v.createElement(sW,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(jW,Wp({},l,{width:a,height:s,ref:r})))}),PW=["axis"],OW=v.forwardRef((e,t)=>v.createElement(CW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PW,tooltipPayloadSearcher:gU,categoricalChartProps:e,ref:t}));const AW=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const i=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],a=l=>new Date(l).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(l,c)=>[l,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"volution des visites"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accs"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[o.jsx(yr,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:i.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),o.jsx("div",{className:"h-80",children:t?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:"Chargement des donnes..."})}):e.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-gray-400 mb-2",children:""}),o.jsx("div",{className:"text-gray-500",children:"Aucune donne disponible"})]})}):o.jsx(HU,{width:"100%",height:"100%",children:o.jsxs(OW,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(ZE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(sC,{dataKey:"date",tickFormatter:a,stroke:"#666",fontSize:12}),o.jsx(oC,{stroke:"#666",fontSize:12}),o.jsx(UU,{formatter:s,labelFormatter:l=>`Date: ${a(l)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(tf,{}),o.jsx(jo,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),o.jsx(jo,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),o.jsx(jo,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),o.jsx(jo,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&o.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((l,c)=>l+c.qr_scan,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((l,c)=>l+c.gmb,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((l,c)=>l+c.direct_link,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((l,c)=>l+c.share,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},TW=()=>{const{user:e}=or(),[t,r]=v.useState("7"),[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState([{icon:ns,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:vx,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:sn,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:xx,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=v.useState(!0),[f,h]=v.useState(0),[m,y]=v.useState(""),[b,w]=v.useState(""),[x,g]=v.useState(""),p=v.useRef(null);v.useEffect(()=>{if(e){const k=Date.now();k-f>5e3&&(h(k),_(),j(),N())}},[e,t,f]),v.useEffect(()=>{const k=()=>{if(!document.hidden&&e){const E=Date.now();E-f>3e4&&(h(E),_(),j())}};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){i([]);return}const S=k.map(Y=>Y.id),C=new Date,P=new Date;P.setDate(P.getDate()-parseInt(t));const{data:M,error:I}=await B.from("menu_analytics").select("visit_type, visited_at").in("menu_id",S).gte("visited_at",P.toISOString()).lte("visited_at",C.toISOString()).order("visited_at",{ascending:!0});if(I){i([]);return}const $={};for(let Y=new Date(P);Y<=C;Y.setDate(Y.getDate()+1)){const H=Y.toISOString().split("T")[0];$[H]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}M==null||M.forEach(Y=>{const H=Y.visited_at.split("T")[0];$[H]&&($[H][Y.visit_type]++,$[H].total++)});const J=Object.entries($).map(([Y,H])=>({date:Y,qr_scan:H.qr_scan,gmb:H.gmb,direct_link:H.direct_link,share:H.share,total:H.total})).sort((Y,H)=>new Date(Y.date).getTime()-new Date(H.date).getTime());i(J)}catch(k){console.error("Error loading trend data:",k),i([])}finally{s(!1)}}},_=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){c(_t=>_t.map(G=>({...G,value:"0",change:"Aucune donne"}))),d(!1);return}const S=k.map(_t=>_t.id),C=new Date,P=new Date(C.getFullYear(),C.getMonth(),C.getDate()),M=new Date(P);M.setDate(M.getDate()-7);const I=[B.from("menu_analytics").select("id").in("menu_id",S),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan").gte("visited_at",P.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb").gte("visited_at",P.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).gte("visited_at",M.toISOString())],$=await Promise.allSettled(I),J=$[0].status==="fulfilled"?$[0].value.data:[],Y=$[1].status==="fulfilled"?$[1].value.data:[],H=$[2].status==="fulfilled"?$[2].value.data:[],U=$[3].status==="fulfilled"?$[3].value.data:[],O=$[4].status==="fulfilled"?$[4].value.data:[],A=$[5].status==="fulfilled"?$[5].value.data:[],R=(J==null?void 0:J.length)||0,z=(Y==null?void 0:Y.length)||0,ie=(H==null?void 0:H.length)||0,ce=(U==null?void 0:U.length)||0,de=(O==null?void 0:O.length)||0,Ee=(A==null?void 0:A.length)||0,ne=R-z-ie;c([{icon:ns,label:"Scans QR Code",value:z.toString(),change:ce>0?`+${ce} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:vx,label:"Visites GMB",value:ie.toString(),change:de>0?`+${de} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:sn,label:"Vues directes",value:ne.toString(),change:ne>0?`${ne} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:xx,label:"Total des vues",value:R.toString(),change:`${z} QR + ${ie} GMB + ${ne} directes`,color:"text-purple-600"}])}catch(k){console.error("Error loading stats:",k),c(E=>E.map(S=>({...S,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},N=async()=>{if(e)try{const{data:k,error:E}=await B.from("menus").select("nom, slug").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(E||!k)return;const{data:S}=await B.from("restaurant_profiles").select("name").eq("user_id",e.id).maybeSingle(),C=(S==null?void 0:S.name)||k.nom||"Mon Restaurant",P=k.slug||k.nom;w(C),g(P);const M=`${window.location.origin}/menu/${P}?source=qr_scan`;if(p.current){await Pi.toCanvas(p.current,M,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const I=p.current.toDataURL();y(I)}}catch(k){console.error("Error loading QR code:",k)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! "}),o.jsx("p",{className:"text-gray-600",children:"Grez facilement votre menu en ligne et offrez une exprience moderne  vos clients."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((k,E)=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:k.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:k.value}),o.jsx("p",{className:`text-xs ${k.color} mt-1`,children:k.change})]}),o.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:o.jsx(k.icon,{size:24,className:k.color})})]})},E))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[o.jsx("canvas",{ref:p,style:{display:"none"}}),m?o.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):o.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:o.jsx(ns,{size:48,className:"text-gray-400"})})]})})})]}),o.jsx(AW,{data:n,loading:a,timeRange:t,onTimeRangeChange:r})]})},MW=()=>{const{user:e}=or(),[t,r]=v.useState(null),[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(""),[u,d]=v.useState("all"),[f,h]=v.useState(null),[m,y]=v.useState("month"),[b,w]=v.useState(new Date);v.useEffect(()=>{e&&x()},[e]),v.useEffect(()=>{t&&g()},[t]);const x=async()=>{try{const{data:O,error:A}=await B.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if(A){console.error("Erreur lors du chargement du menu:",A);return}r(O)}catch(O){console.error("Erreur lors du chargement du menu:",O)}},g=async()=>{if(t){s(!0);try{const{data:O,error:A}=await B.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if(A){console.error("Erreur lors du chargement des rservations:",A);return}i(O||[])}catch(O){console.error("Erreur lors du chargement des rservations:",O)}finally{s(!1)}}},p=(O,A)=>{h({type:O,text:A}),setTimeout(()=>h(null),5e3)},j=async(O,A)=>{try{const{error:R}=await B.from("reservations").update({status:A,updated_at:new Date().toISOString()}).eq("id",O);if(R)throw R;i(ie=>ie.map(ce=>ce.id===O?{...ce,status:A}:ce)),p("success",`Rservation ${{confirmed:"confirme",cancelled:"annule",completed:"termine",pending:"en attente"}[A]} avec succs`)}catch(R){console.error("Erreur lors de la mise  jour:",R),p("error","Erreur lors de la mise  jour")}},_=n.filter(O=>{const A=O.customer_name.toLowerCase().includes(l.toLowerCase())||O.customer_email.toLowerCase().includes(l.toLowerCase())||O.customer_phone.includes(l),R=u==="all"||O.status===u;return A&&R}),N=O=>{switch(O){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},k=O=>{switch(O){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=O=>{switch(O){case"pending":return"En attente";case"confirmed":return"Confirme";case"cancelled":return"Annule";case"completed":return"Termine";default:return O}},S=O=>new Date(O).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=O=>O.slice(0,5),P=O=>{const A=O.toISOString().split("T")[0];return _.filter(R=>R.reservation_date===A)},M=O=>{const A=O.getFullYear(),R=O.getMonth(),z=new Date(A,R,1),ie=new Date(z);ie.setDate(ie.getDate()-z.getDay());const ce=[],de=new Date(ie);for(let Ee=0;Ee<42;Ee++)ce.push(new Date(de)),de.setDate(de.getDate()+1);return ce},I=O=>{const A=new Date(O);A.setDate(O.getDate()-O.getDay());const R=[];for(let z=0;z<7;z++){const ie=new Date(A);ie.setDate(A.getDate()+z),R.push(ie)}return R},$=O=>{const A=new Date(b);switch(m){case"day":A.setDate(A.getDate()+(O==="next"?1:-1));break;case"week":A.setDate(A.getDate()+(O==="next"?7:-7));break;case"month":A.setMonth(A.getMonth()+(O==="next"?1:-1));break}w(A)},J=()=>{let O="";switch(m){case"day":O=b.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const A=new Date(b);A.setDate(b.getDate()-b.getDay());const R=new Date(A);R.setDate(A.getDate()+6),O=`${A.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${R.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":O=b.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>$("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(q_,{size:20})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:O}),o.jsx("button",{onClick:()=>$("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Vg,{size:20})})]})},Y=()=>{const O=P(b),A=Array.from({length:14},(R,z)=>`${(z+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsx("div",{className:"space-y-2",children:A.map(R=>{const z=O.filter(ie=>ie.reservation_time.startsWith(R.split(":")[0]));return o.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[o.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:R}),o.jsx("div",{className:"flex-1 ml-4",children:z.length>0?o.jsx("div",{className:"space-y-1",children:z.map(ie=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N(ie.status)}`}),o.jsx("span",{className:"text-sm font-medium",children:ie.customer_name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",ie.party_size," pers.)"]}),o.jsx("span",{className:"text-xs text-gray-500",children:C(ie.reservation_time)})]},ie.id))}):o.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},R)})})]})},H=()=>{const O=I(b),A=Array.from({length:14},(R,z)=>`${(z+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[o.jsx("div",{className:"font-medium text-gray-600 p-2"}),O.map(R=>o.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[o.jsx("div",{children:R.toLocaleDateString("fr-FR",{weekday:"short"})}),o.jsx("div",{className:"text-lg",children:R.getDate()})]},R.toISOString())),A.map(R=>o.jsxs(p1.Fragment,{children:[o.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:R}),O.map(z=>{const ie=P(z).filter(ce=>ce.reservation_time.startsWith(R.split(":")[0]));return o.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:ie.map(ce=>o.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${N(ce.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:ce.customer_name}),o.jsxs("div",{children:[ce.party_size,"p ",C(ce.reservation_time)]})]},ce.id))},`${z.toISOString()}-${R}`)})]},R))]})]})},U=()=>{const O=M(b),A=b.getMonth();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(R=>o.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:R},R))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:O.map(R=>{const z=R.getMonth()===A,ie=P(R),ce=R.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${z?"bg-white":"bg-gray-50"} ${ce?"ring-2 ring-orange-500":""}`,children:[o.jsx("div",{className:`text-sm font-medium mb-1 ${z?"text-gray-900":"text-gray-400"}`,children:R.getDate()}),o.jsxs("div",{className:"space-y-1",children:[ie.slice(0,3).map(de=>o.jsxs("div",{className:`text-xs p-1 rounded text-white ${N(de.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:de.customer_name}),o.jsx("div",{children:C(de.reservation_time)})]},de.id)),ie.length>3&&o.jsxs("div",{className:"text-xs text-gray-500",children:["+",ie.length-3," autres"]})]})]},R.toISOString())})})]})};return a&&!t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?o.jsxs("div",{className:"space-y-6",children:[f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Fe,{className:"w-5 h-5"}):o.jsx(Ae,{className:"w-5 h-5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des rservations"}),o.jsx("p",{className:"text-gray-600",children:"Grez les rservations de table de votre restaurant"})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[o.jsx(Hg,{size:16}),o.jsx("span",{children:"Voir le menu"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),o.jsx(yr,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(O=>O.status==="pending").length})]}),o.jsx(ps,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmes"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(O=>O.status==="confirmed").length})]}),o.jsx(Fe,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(O=>{const A=new Date(O.reservation_date),R=new Date,z=new Date(R);return z.setDate(R.getDate()+7),A>=R&&A<=z}).length})]}),o.jsx(bx,{className:"w-8 h-8 text-blue-500"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>y("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Fm,{size:16}),o.jsx("span",{children:"Liste"})]}),o.jsxs("button",{onClick:()=>y("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(x4,{size:16}),o.jsx("span",{children:"Jour"})]}),o.jsxs("button",{onClick:()=>y("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(k4,{size:16}),o.jsx("span",{children:"Semaine"})]}),o.jsxs("button",{onClick:()=>y("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(yr,{size:16}),o.jsx("span",{children:"Mois"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(T4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),o.jsx("div",{className:"sm:w-48",children:o.jsxs("div",{className:"relative",children:[o.jsx(_4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirmes"}),o.jsx("option",{value:"cancelled",children:"Annules"}),o.jsx("option",{value:"completed",children:"Termines"})]})]})})]})]})}),m!=="list"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Lgende des couleurs"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Confirme"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Annule"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Termine"})]})]})]}),m==="day"&&Y(),m==="week"&&H(),m==="month"&&U(),m==="list"&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement des rservations..."})}):_.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune rservation":"Aucun rsultat"}),o.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des rservations via votre menu en ligne.":"Aucune rservation ne correspond  vos critres de recherche."}),n.length===0&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Comment a marche :"}),' Un bouton "Rserver une table" sera automatiquement ajout  votre menu en ligne. Les clients pourront faire des rservations directement depuis votre menu.']})})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:_.map(O=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.customer_name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(O.status)}`,children:E(O.status)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(yr,{className:"w-4 h-4"}),o.jsx("span",{children:S(O.reservation_date)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(ps,{className:"w-4 h-4"}),o.jsx("span",{children:C(O.reservation_time)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(bx,{className:"w-4 h-4"}),o.jsxs("span",{children:[O.party_size," personne",O.party_size>1?"s":""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(er,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_phone})]})]}),O.customer_email&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[o.jsx(qm,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_email})]}),O.special_requests&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spciales :"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:O.special_requests})]})]}),O.status==="pending"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[o.jsx(Fe,{size:14}),o.jsx("span",{children:"Confirmer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Ae,{size:14}),o.jsx("span",{children:"Annuler"})]})]}),O.status==="confirmed"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[o.jsx(Fe,{size:14}),o.jsx("span",{children:"Terminer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Ae,{size:14}),o.jsx("span",{children:"Annuler"})]})]})]})},O.id))})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir grer les rservations."}),o.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller  la configuration"})]})};function IW(){const{loading:e,user:t}=or();return e?o.jsx(wa,{fullScreen:!0}):o.jsx(GM,{children:o.jsxs(kM,{children:[o.jsx(mt,{path:"/onboarding",element:o.jsx(s3,{})}),o.jsx(mt,{path:"/reset-password",element:o.jsx(l3,{})}),o.jsx(mt,{path:"/m/:slug",element:o.jsx(a5,{})}),o.jsx(mt,{path:"/m/:slug/:menuSlug",element:o.jsx(s5,{})}),o.jsx(mt,{path:"/m/:slug/reservation",element:o.jsx(o5,{})}),o.jsx(mt,{path:"/m/:slug/contact",element:o.jsx(l5,{})}),o.jsx(mt,{path:"/",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"accueil",children:o.jsx(TW,{})})})}),o.jsx(mt,{path:"/mes-menus",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"mes-menus",children:o.jsx(f3,{})})})}),o.jsx(mt,{path:"/mon-menu/nouveau",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"mes-menus",children:o.jsx(Ex,{})})})}),o.jsx(mt,{path:"/mon-menu/:menuId",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"mes-menus",children:o.jsx(Ex,{})})})}),o.jsx(mt,{path:"/categories/:menuId",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"mes-menus",children:o.jsx(d3,{})})})}),o.jsx(mt,{path:"/import-ai/:menuId",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"mes-menus",children:o.jsx(h3,{})})})}),o.jsx(mt,{path:"/identite-visuelle",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"identite-visuelle",children:o.jsx(c5,{})})})}),o.jsx(mt,{path:"/qr-code",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"qr-code",children:o.jsx(t5,{})})})}),o.jsx(mt,{path:"/account-settings",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"account-settings",children:o.jsx(o3,{})})})}),o.jsx(mt,{path:"/reservations",element:o.jsx(Jr,{children:o.jsx($r,{currentPage:"reservations",children:o.jsx(MW,{})})})})]})})}y_(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(I4,{children:o.jsx(h4,{children:o.jsx(IW,{})})})}));
