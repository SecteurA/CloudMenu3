var dC=Object.defineProperty;var fC=(e,t,r)=>t in e?dC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var uf=(e,t,r)=>fC(e,typeof t!="symbol"?t+"":t,r);function hC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Qw={exports:{}},Zu={},Jw={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),pC=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),bC=Symbol.for("react.context"),wC=Symbol.for("react.forward_ref"),jC=Symbol.for("react.suspense"),_C=Symbol.for("react.memo"),kC=Symbol.for("react.lazy"),$v=Symbol.iterator;function SC(e){return e===null||typeof e!="object"?null:(e=$v&&e[$v]||e["@@iterator"],typeof e=="function"?e:null)}var Xw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zw=Object.assign,e1={};function ws(e,t,r){this.props=e,this.context=t,this.refs=e1,this.updater=r||Xw}ws.prototype.isReactComponent={};ws.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ws.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t1(){}t1.prototype=ws.prototype;function Ap(e,t,r){this.props=e,this.context=t,this.refs=e1,this.updater=r||Xw}var Tp=Ap.prototype=new t1;Tp.constructor=Ap;Zw(Tp,ws.prototype);Tp.isPureReactComponent=!0;var Lv=Array.isArray,r1=Object.prototype.hasOwnProperty,Mp={current:null},n1={key:!0,ref:!0,__self:!0,__source:!0};function i1(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)r1.call(t,n)&&!n1.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ul,type:e,key:a,ref:s,props:i,_owner:Mp.current}}function NC(e,t){return{$$typeof:ul,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ip(e){return typeof e=="object"&&e!==null&&e.$$typeof===ul}function EC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Rv=/\/+/g;function df(e,t){return typeof e=="object"&&e!==null&&e.key!=null?EC(""+e.key):t.toString(36)}function _c(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ul:case pC:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+df(s,0):n,Lv(i)?(r="",e!=null&&(r=e.replace(Rv,"$&/")+"/"),_c(i,t,r,"",function(u){return u})):i!=null&&(Ip(i)&&(i=NC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Rv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Lv(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+df(a,o);s+=_c(a,t,r,c,i)}else if(c=SC(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+df(a,o++),s+=_c(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Rl(e,t,r){if(e==null)return e;var n=[],i=0;return _c(e,n,"","",function(a){return t.call(r,a,i++)}),n}function CC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},kc={transition:null},PC={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:kc,ReactCurrentOwner:Mp};function a1(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:Rl,forEach:function(e,t,r){Rl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rl(e,function(){t++}),t},toArray:function(e){return Rl(e,function(t){return t})||[]},only:function(e){if(!Ip(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ws;de.Fragment=gC;de.Profiler=yC;de.PureComponent=Ap;de.StrictMode=vC;de.Suspense=jC;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC;de.act=a1;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Zw({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Mp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)r1.call(t,c)&&!n1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ul,type:e.type,key:i,ref:a,props:n,_owner:s}};de.createContext=function(e){return e={$$typeof:bC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:xC,_context:e},e.Consumer=e};de.createElement=i1;de.createFactory=function(e){var t=i1.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:wC,render:e}};de.isValidElement=Ip;de.lazy=function(e){return{$$typeof:kC,_payload:{_status:-1,_result:e},_init:CC}};de.memo=function(e,t){return{$$typeof:_C,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=kc.transition;kc.transition={};try{e()}finally{kc.transition=t}};de.unstable_act=a1;de.useCallback=function(e,t){return Dt.current.useCallback(e,t)};de.useContext=function(e){return Dt.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};de.useEffect=function(e,t){return Dt.current.useEffect(e,t)};de.useId=function(){return Dt.current.useId()};de.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Dt.current.useMemo(e,t)};de.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};de.useRef=function(e){return Dt.current.useRef(e)};de.useState=function(e){return Dt.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return Dt.current.useTransition()};de.version="18.3.1";Jw.exports=de;var y=Jw.exports;const s1=xi(y),OC=hC({__proto__:null,default:s1},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=y,TC=Symbol.for("react.element"),MC=Symbol.for("react.fragment"),IC=Object.prototype.hasOwnProperty,DC=AC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$C={key:!0,ref:!0,__self:!0,__source:!0};function o1(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)IC.call(t,n)&&!$C.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:TC,type:e,key:a,ref:s,props:i,_owner:DC.current}}Zu.Fragment=MC;Zu.jsx=o1;Zu.jsxs=o1;Qw.exports=Zu;var l=Qw.exports,l1={exports:{}},ir={},c1={exports:{}},u1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,C){var $=F.length;F.push(C);e:for(;0<$;){var V=$-1>>>1,R=F[V];if(0<i(R,C))F[V]=C,F[$]=R,$=V;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var C=F[0],$=F.pop();if($!==C){F[0]=$;e:for(var V=0,R=F.length,oe=R>>>1;V<oe;){var fe=2*(V+1)-1,ce=F[fe],ze=fe+1,ve=F[ze];if(0>i(ce,$))ze<R&&0>i(ve,ce)?(F[V]=ve,F[ze]=$,V=ze):(F[V]=ce,F[fe]=$,V=fe);else if(ze<R&&0>i(ve,$))F[V]=ve,F[ze]=$,V=ze;else break e}}return C}function i(F,C){var $=F.sortIndex-C.sortIndex;return $!==0?$:F.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,x=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(F){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=F)n(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=r(u)}}function j(F){if(b=!1,p(F),!x)if(r(c)!==null)x=!0,G(S);else{var C=r(u);C!==null&&H(j,C.startTime-F)}}function S(F,C){x=!1,b&&(b=!1,v(N),N=-1),m=!0;var $=h;try{for(p(C),f=r(c);f!==null&&(!(f.expirationTime>C)||F&&!O());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var R=V(f.expirationTime<=C);C=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),p(C)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var fe=r(u);fe!==null&&H(j,fe.startTime-C),oe=!1}return oe}finally{f=null,h=$,m=!1}}var k=!1,_=null,N=-1,E=5,P=-1;function O(){return!(e.unstable_now()-P<E)}function M(){if(_!==null){var F=e.unstable_now();P=F;var C=!0;try{C=_(!0,F)}finally{C?I():(k=!1,_=null)}}else k=!1}var I;if(typeof g=="function")I=function(){g(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=M,I=function(){ne.postMessage(null)}}else I=function(){w(M,0)};function G(F){_=F,k||(k=!0,I())}function H(F,C){N=w(function(){F(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,G(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var $=h;h=C;try{return F()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,C){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=h;h=F;try{return C()}finally{h=$}},e.unstable_scheduleCallback=function(F,C,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,F){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,F={id:d++,callback:C,priorityLevel:F,startTime:$,expirationTime:R,sortIndex:-1},$>V?(F.sortIndex=$,t(u,F),r(c)===null&&F===r(u)&&(b?(v(N),N=-1):b=!0,H(j,$-V))):(F.sortIndex=R,t(c,F),x||m||(x=!0,G(S))),F},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(F){var C=h;return function(){var $=h;h=C;try{return F.apply(this,arguments)}finally{h=$}}}})(u1);c1.exports=u1;var LC=c1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=y,rr=LC;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d1=new Set,No={};function ua(e,t){Za(e,t),Za(e+"Capture",t)}function Za(e,t){for(No[e]=t,e=0;e<t.length;e++)d1.add(t[e])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Uv={};function UC(e){return kh.call(Uv,e)?!0:kh.call(zv,e)?!1:zC.test(e)?Uv[e]=!0:(zv[e]=!0,!1)}function BC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FC(e,t,r,n){if(t===null||typeof t>"u"||BC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dp=/[\-:]([a-z])/g;function $p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dp,$p);xt[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dp,$p);xt[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dp,$p);xt[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lp(e,t,r,n){var i=xt.hasOwnProperty(t)?xt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FC(t,r,i,n)&&(r=null),n||i===null?UC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $n=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),f1=Symbol.for("react.provider"),h1=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),Up=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),m1=Symbol.for("react.offscreen"),Bv=Symbol.iterator;function Rs(e){return e===null||typeof e!="object"?null:(e=Bv&&e[Bv]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,ff;function to(e){if(ff===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||""}return`
`+ff+e}var hf=!1;function mf(e,t){if(!e||hf)return"";hf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{hf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?to(e):""}function WC(e){switch(e.tag){case 5:return to(e.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return e=mf(e.type,!1),e;case 11:return e=mf(e.type.render,!1),e;case 1:return e=mf(e.type,!0),e;default:return""}}function Ch(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Oa:return"Fragment";case Pa:return"Portal";case Sh:return"Profiler";case Rp:return"StrictMode";case Nh:return"Suspense";case Eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case h1:return(e.displayName||"Context")+".Consumer";case f1:return(e._context.displayName||"Context")+".Provider";case zp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Up:return t=e.displayName||null,t!==null?t:Ch(e.type)||"Memo";case Kn:t=e._payload,e=e._init;try{return Ch(e(t))}catch{}}return null}function qC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(t);case 8:return t===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function VC(e){var t=p1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ul(e){e._valueTracker||(e._valueTracker=VC(e))}function g1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=p1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ph(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v1(e,t){t=t.checked,t!=null&&Lp(e,"checked",t,!1)}function Oh(e,t){v1(e,t);var r=gi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ah(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ah(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ah(e,t,r){(t!=="number"||Uc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ro=Array.isArray;function Fa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Th(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(B(92));if(ro(r)){if(1<r.length)throw Error(B(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gi(r)}}function y1(e,t){var r=gi(t.value),n=gi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Vv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bl,b1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bl=Bl||document.createElement("div"),Bl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Eo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var uo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HC=["Webkit","ms","Moz","O"];Object.keys(uo).forEach(function(e){HC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),uo[t]=uo[e]})});function w1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||uo.hasOwnProperty(e)&&uo[e]?(""+t).trim():t+"px"}function j1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=w1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var KC=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(e,t){if(t){if(KC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function Dh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=null;function Bp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lh=null,Wa=null,qa=null;function Hv(e){if(e=hl(e)){if(typeof Lh!="function")throw Error(B(280));var t=e.stateNode;t&&(t=id(t),Lh(e.stateNode,e.type,t))}}function _1(e){Wa?qa?qa.push(e):qa=[e]:Wa=e}function k1(){if(Wa){var e=Wa,t=qa;if(qa=Wa=null,Hv(e),t)for(e=0;e<t.length;e++)Hv(t[e])}}function S1(e,t){return e(t)}function N1(){}var pf=!1;function E1(e,t,r){if(pf)return e(t,r);pf=!0;try{return S1(e,t,r)}finally{pf=!1,(Wa!==null||qa!==null)&&(N1(),k1())}}function Co(e,t){var r=e.stateNode;if(r===null)return null;var n=id(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Rh=!1;if(Nn)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Rh=!1}function GC(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fo=!1,Bc=null,Fc=!1,zh=null,YC={onError:function(e){fo=!0,Bc=e}};function QC(e,t,r,n,i,a,s,o,c){fo=!1,Bc=null,GC.apply(YC,arguments)}function JC(e,t,r,n,i,a,s,o,c){if(QC.apply(this,arguments),fo){if(fo){var u=Bc;fo=!1,Bc=null}else throw Error(B(198));Fc||(Fc=!0,zh=u)}}function da(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kv(e){if(da(e)!==e)throw Error(B(188))}function XC(e){var t=e.alternate;if(!t){if(t=da(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Kv(i),e;if(a===n)return Kv(i),t;a=a.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function P1(e){return e=XC(e),e!==null?O1(e):null}function O1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=O1(e);if(t!==null)return t;e=e.sibling}return null}var A1=rr.unstable_scheduleCallback,Gv=rr.unstable_cancelCallback,ZC=rr.unstable_shouldYield,eP=rr.unstable_requestPaint,Fe=rr.unstable_now,tP=rr.unstable_getCurrentPriorityLevel,Fp=rr.unstable_ImmediatePriority,T1=rr.unstable_UserBlockingPriority,Wc=rr.unstable_NormalPriority,rP=rr.unstable_LowPriority,M1=rr.unstable_IdlePriority,ed=null,tn=null;function nP(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ed,e,void 0,(e.current.flags&128)===128)}catch{}}var Ur=Math.clz32?Math.clz32:sP,iP=Math.log,aP=Math.LN2;function sP(e){return e>>>=0,e===0?32:31-(iP(e)/aP|0)|0}var Fl=64,Wl=4194304;function no(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=no(o):(a&=s,a!==0&&(n=no(a)))}else s=r&~i,s!==0?n=no(s):a!==0&&(n=no(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ur(t),i=1<<r,n|=e[r],t&=~i;return n}function oP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ur(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=oP(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function I1(){var e=Fl;return Fl<<=1,!(Fl&4194240)&&(Fl=64),e}function gf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ur(t),e[t]=r}function cP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ur(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Wp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ur(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var be=0;function D1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $1,qp,L1,R1,z1,Bh=!1,ql=[],si=null,oi=null,li=null,Po=new Map,Oo=new Map,Xn=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yv(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oo.delete(t.pointerId)}}function Us(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=hl(t),t!==null&&qp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dP(e,t,r,n,i){switch(t){case"focusin":return si=Us(si,e,t,r,n,i),!0;case"dragenter":return oi=Us(oi,e,t,r,n,i),!0;case"mouseover":return li=Us(li,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Po.set(a,Us(Po.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Oo.set(a,Us(Oo.get(a)||null,e,t,r,n,i)),!0}return!1}function U1(e){var t=Ui(e.target);if(t!==null){var r=da(t);if(r!==null){if(t=r.tag,t===13){if(t=C1(r),t!==null){e.blockedOn=t,z1(e.priority,function(){L1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$h=n,r.target.dispatchEvent(n),$h=null}else return t=hl(r),t!==null&&qp(t),e.blockedOn=r,!1;t.shift()}return!0}function Qv(e,t,r){Sc(e)&&r.delete(t)}function fP(){Bh=!1,si!==null&&Sc(si)&&(si=null),oi!==null&&Sc(oi)&&(oi=null),li!==null&&Sc(li)&&(li=null),Po.forEach(Qv),Oo.forEach(Qv)}function Bs(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,fP)))}function Ao(e){function t(i){return Bs(i,e)}if(0<ql.length){Bs(ql[0],e);for(var r=1;r<ql.length;r++){var n=ql[r];n.blockedOn===e&&(n.blockedOn=null)}}for(si!==null&&Bs(si,e),oi!==null&&Bs(oi,e),li!==null&&Bs(li,e),Po.forEach(t),Oo.forEach(t),r=0;r<Xn.length;r++)n=Xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Xn.length&&(r=Xn[0],r.blockedOn===null);)U1(r),r.blockedOn===null&&Xn.shift()}var Va=$n.ReactCurrentBatchConfig,Vc=!0;function hP(e,t,r,n){var i=be,a=Va.transition;Va.transition=null;try{be=1,Vp(e,t,r,n)}finally{be=i,Va.transition=a}}function mP(e,t,r,n){var i=be,a=Va.transition;Va.transition=null;try{be=4,Vp(e,t,r,n)}finally{be=i,Va.transition=a}}function Vp(e,t,r,n){if(Vc){var i=Fh(e,t,r,n);if(i===null)Nf(e,t,n,Hc,r),Yv(e,n);else if(dP(i,e,t,r,n))n.stopPropagation();else if(Yv(e,n),t&4&&-1<uP.indexOf(e)){for(;i!==null;){var a=hl(i);if(a!==null&&$1(a),a=Fh(e,t,r,n),a===null&&Nf(e,t,n,Hc,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Nf(e,t,n,null,r)}}var Hc=null;function Fh(e,t,r,n){if(Hc=null,e=Bp(n),e=Ui(e),e!==null)if(t=da(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hc=e,null}function B1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tP()){case Fp:return 1;case T1:return 4;case Wc:case rP:return 16;case M1:return 536870912;default:return 16}default:return 16}}var ri=null,Hp=null,Nc=null;function F1(){if(Nc)return Nc;var e,t=Hp,r=t.length,n,i="value"in ri?ri.value:ri.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Nc=i.slice(e,1<n?1-n:void 0)}function Ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vl(){return!0}function Jv(){return!1}function ar(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vl:Jv,this.isPropagationStopped=Jv,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vl)},persist:function(){},isPersistent:Vl}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kp=ar(js),fl=Le({},js,{view:0,detail:0}),pP=ar(fl),vf,yf,Fs,td=Le({},fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(vf=e.screenX-Fs.screenX,yf=e.screenY-Fs.screenY):yf=vf=0,Fs=e),vf)},movementY:function(e){return"movementY"in e?e.movementY:yf}}),Xv=ar(td),gP=Le({},td,{dataTransfer:0}),vP=ar(gP),yP=Le({},fl,{relatedTarget:0}),xf=ar(yP),xP=Le({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),bP=ar(xP),wP=Le({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jP=ar(wP),_P=Le({},js,{data:0}),Zv=ar(_P),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=NP[e])?!!t[e]:!1}function Gp(){return EP}var CP=Le({},fl,{key:function(e){if(e.key){var t=kP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gp,charCode:function(e){return e.type==="keypress"?Ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PP=ar(CP),OP=Le({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=ar(OP),AP=Le({},fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gp}),TP=ar(AP),MP=Le({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),IP=ar(MP),DP=Le({},td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$P=ar(DP),LP=[9,13,27,32],Yp=Nn&&"CompositionEvent"in window,ho=null;Nn&&"documentMode"in document&&(ho=document.documentMode);var RP=Nn&&"TextEvent"in window&&!ho,W1=Nn&&(!Yp||ho&&8<ho&&11>=ho),ty=" ",ry=!1;function q1(e,t){switch(e){case"keyup":return LP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function zP(e,t){switch(e){case"compositionend":return V1(t);case"keypress":return t.which!==32?null:(ry=!0,ty);case"textInput":return e=t.data,e===ty&&ry?null:e;default:return null}}function UP(e,t){if(Aa)return e==="compositionend"||!Yp&&q1(e,t)?(e=F1(),Nc=Hp=ri=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W1&&t.locale!=="ko"?null:t.data;default:return null}}var BP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!BP[e.type]:t==="textarea"}function H1(e,t,r,n){_1(n),t=Kc(t,"onChange"),0<t.length&&(r=new Kp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mo=null,To=null;function FP(e){nj(e,0)}function rd(e){var t=Ia(e);if(g1(t))return e}function WP(e,t){if(e==="change")return t}var K1=!1;if(Nn){var bf;if(Nn){var wf="oninput"in document;if(!wf){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),wf=typeof iy.oninput=="function"}bf=wf}else bf=!1;K1=bf&&(!document.documentMode||9<document.documentMode)}function ay(){mo&&(mo.detachEvent("onpropertychange",G1),To=mo=null)}function G1(e){if(e.propertyName==="value"&&rd(To)){var t=[];H1(t,To,e,Bp(e)),E1(FP,t)}}function qP(e,t,r){e==="focusin"?(ay(),mo=t,To=r,mo.attachEvent("onpropertychange",G1)):e==="focusout"&&ay()}function VP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rd(To)}function HP(e,t){if(e==="click")return rd(t)}function KP(e,t){if(e==="input"||e==="change")return rd(t)}function GP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wr=typeof Object.is=="function"?Object.is:GP;function Mo(e,t){if(Wr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kh.call(t,i)||!Wr(e[i],t[i]))return!1}return!0}function sy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oy(e,t){var r=sy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sy(r)}}function Y1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Y1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q1(){for(var e=window,t=Uc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uc(e.document)}return t}function Qp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function YP(e){var t=Q1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Y1(r.ownerDocument.documentElement,r)){if(n!==null&&Qp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=oy(r,a);var s=oy(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QP=Nn&&"documentMode"in document&&11>=document.documentMode,Ta=null,Wh=null,po=null,qh=!1;function ly(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qh||Ta==null||Ta!==Uc(n)||(n=Ta,"selectionStart"in n&&Qp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),po&&Mo(po,n)||(po=n,n=Kc(Wh,"onSelect"),0<n.length&&(t=new Kp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ta)))}function Hl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ma={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionend:Hl("Transition","TransitionEnd")},jf={},J1={};Nn&&(J1=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function nd(e){if(jf[e])return jf[e];if(!Ma[e])return e;var t=Ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in J1)return jf[e]=t[r];return e}var X1=nd("animationend"),Z1=nd("animationiteration"),ej=nd("animationstart"),tj=nd("transitionend"),rj=new Map,cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){rj.set(e,t),ua(t,[e])}for(var _f=0;_f<cy.length;_f++){var kf=cy[_f],JP=kf.toLowerCase(),XP=kf[0].toUpperCase()+kf.slice(1);bi(JP,"on"+XP)}bi(X1,"onAnimationEnd");bi(Z1,"onAnimationIteration");bi(ej,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(tj,"onTransitionEnd");Za("onMouseEnter",["mouseout","mouseover"]);Za("onMouseLeave",["mouseout","mouseover"]);Za("onPointerEnter",["pointerout","pointerover"]);Za("onPointerLeave",["pointerout","pointerover"]);ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZP=new Set("cancel close invalid load scroll toggle".split(" ").concat(io));function uy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,JC(n,t,void 0,e),e.currentTarget=null}function nj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;uy(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;uy(i,o,u),a=c}}}if(Fc)throw e=zh,Fc=!1,zh=null,e}function Ee(e,t){var r=t[Yh];r===void 0&&(r=t[Yh]=new Set);var n=e+"__bubble";r.has(n)||(ij(t,e,2,!1),r.add(n))}function Sf(e,t,r){var n=0;t&&(n|=4),ij(r,e,n,t)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[Kl]){e[Kl]=!0,d1.forEach(function(r){r!=="selectionchange"&&(ZP.has(r)||Sf(r,!1,e),Sf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kl]||(t[Kl]=!0,Sf("selectionchange",!1,t))}}function ij(e,t,r,n){switch(B1(t)){case 1:var i=hP;break;case 4:i=mP;break;default:i=Vp}r=i.bind(null,t,r,e),i=void 0,!Rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ui(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}E1(function(){var u=a,d=Bp(r),f=[];e:{var h=rj.get(e);if(h!==void 0){var m=Kp,x=e;switch(e){case"keypress":if(Ec(r)===0)break e;case"keydown":case"keyup":m=PP;break;case"focusin":x="focus",m=xf;break;case"focusout":x="blur",m=xf;break;case"beforeblur":case"afterblur":m=xf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TP;break;case X1:case Z1:case ej:m=bP;break;case tj:m=IP;break;case"scroll":m=pP;break;case"wheel":m=$P;break;case"copy":case"cut":case"paste":m=jP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ey}var b=(t&4)!==0,w=!b&&e==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,v!==null&&(j=Co(g,v),j!=null&&b.push(Do(g,j,p)))),w)break;g=g.return}0<b.length&&(h=new m(h,x,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$h&&(x=r.relatedTarget||r.fromElement)&&(Ui(x)||x[En]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Ui(x):null,x!==null&&(w=da(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(b=Xv,j="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=ey,j="onPointerLeave",v="onPointerEnter",g="pointer"),w=m==null?h:Ia(m),p=x==null?h:Ia(x),h=new b(j,g+"leave",m,r,d),h.target=w,h.relatedTarget=p,j=null,Ui(d)===u&&(b=new b(v,g+"enter",x,r,d),b.target=p,b.relatedTarget=w,j=b),w=j,m&&x)t:{for(b=m,v=x,g=0,p=b;p;p=xa(p))g++;for(p=0,j=v;j;j=xa(j))p++;for(;0<g-p;)b=xa(b),g--;for(;0<p-g;)v=xa(v),p--;for(;g--;){if(b===v||v!==null&&b===v.alternate)break t;b=xa(b),v=xa(v)}b=null}else b=null;m!==null&&dy(f,h,m,b,!1),x!==null&&w!==null&&dy(f,w,x,b,!0)}}e:{if(h=u?Ia(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=WP;else if(ny(h))if(K1)S=KP;else{S=VP;var k=qP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=HP);if(S&&(S=S(e,u))){H1(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Ah(h,"number",h.value)}switch(k=u?Ia(u):window,e){case"focusin":(ny(k)||k.contentEditable==="true")&&(Ta=k,Wh=u,po=null);break;case"focusout":po=Wh=Ta=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,ly(f,r,d);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":ly(f,r,d)}var _;if(Yp)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Aa?q1(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(W1&&r.locale!=="ko"&&(Aa||N!=="onCompositionStart"?N==="onCompositionEnd"&&Aa&&(_=F1()):(ri=d,Hp="value"in ri?ri.value:ri.textContent,Aa=!0)),k=Kc(u,N),0<k.length&&(N=new Zv(N,e,null,r,d),f.push({event:N,listeners:k}),_?N.data=_:(_=V1(r),_!==null&&(N.data=_)))),(_=RP?zP(e,r):UP(e,r))&&(u=Kc(u,"onBeforeInput"),0<u.length&&(d=new Zv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}nj(f,t)})}function Do(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Co(e,r),a!=null&&n.unshift(Do(e,a,i)),a=Co(e,t),a!=null&&n.push(Do(e,a,i))),e=e.return}return n}function xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dy(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=Co(r,a),c!=null&&s.unshift(Do(r,c,o))):i||(c=Co(r,a),c!=null&&s.push(Do(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var eO=/\r\n?/g,tO=/\u0000|\uFFFD/g;function fy(e){return(typeof e=="string"?e:""+e).replace(eO,`
`).replace(tO,"")}function Gl(e,t,r){if(t=fy(t),fy(e)!==t&&r)throw Error(B(425))}function Gc(){}var Vh=null,Hh=null;function Kh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,rO=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,nO=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(e){return hy.resolve(null).then(e).catch(iO)}:Gh;function iO(e){setTimeout(function(){throw e})}function Ef(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ao(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ao(t)}function ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function my(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _s=Math.random().toString(36).slice(2),Zr="__reactFiber$"+_s,$o="__reactProps$"+_s,En="__reactContainer$"+_s,Yh="__reactEvents$"+_s,aO="__reactListeners$"+_s,sO="__reactHandles$"+_s;function Ui(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=my(e);e!==null;){if(r=e[Zr])return r;e=my(e)}return t}e=r,r=e.parentNode}return null}function hl(e){return e=e[Zr]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ia(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function id(e){return e[$o]||null}var Qh=[],Da=-1;function wi(e){return{current:e}}function Pe(e){0>Da||(e.current=Qh[Da],Qh[Da]=null,Da--)}function Se(e,t){Da++,Qh[Da]=e.current,e.current=t}var vi={},Et=wi(vi),Ft=wi(!1),Zi=vi;function es(e,t){var r=e.type.contextTypes;if(!r)return vi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(e){return e=e.childContextTypes,e!=null}function Yc(){Pe(Ft),Pe(Et)}function py(e,t,r){if(Et.current!==vi)throw Error(B(168));Se(Et,t),Se(Ft,r)}function aj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(B(108,qC(e)||"Unknown",i));return Le({},r,n)}function Qc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,Zi=Et.current,Se(Et,e),Se(Ft,Ft.current),!0}function gy(e,t,r){var n=e.stateNode;if(!n)throw Error(B(169));r?(e=aj(e,t,Zi),n.__reactInternalMemoizedMergedChildContext=e,Pe(Ft),Pe(Et),Se(Et,e)):Pe(Ft),Se(Ft,r)}var mn=null,ad=!1,Cf=!1;function sj(e){mn===null?mn=[e]:mn.push(e)}function oO(e){ad=!0,sj(e)}function ji(){if(!Cf&&mn!==null){Cf=!0;var e=0,t=be;try{var r=mn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,ad=!1}catch(i){throw mn!==null&&(mn=mn.slice(e+1)),A1(Fp,ji),i}finally{be=t,Cf=!1}}return null}var $a=[],La=0,Jc=null,Xc=0,mr=[],pr=0,ea=null,yn=1,xn="";function Mi(e,t){$a[La++]=Xc,$a[La++]=Jc,Jc=e,Xc=t}function oj(e,t,r){mr[pr++]=yn,mr[pr++]=xn,mr[pr++]=ea,ea=e;var n=yn;e=xn;var i=32-Ur(n)-1;n&=~(1<<i),r+=1;var a=32-Ur(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,yn=1<<32-Ur(t)+i|r<<i|n,xn=a+e}else yn=1<<a|r<<i|n,xn=e}function Jp(e){e.return!==null&&(Mi(e,1),oj(e,1,0))}function Xp(e){for(;e===Jc;)Jc=$a[--La],$a[La]=null,Xc=$a[--La],$a[La]=null;for(;e===ea;)ea=mr[--pr],mr[pr]=null,xn=mr[--pr],mr[pr]=null,yn=mr[--pr],mr[pr]=null}var er=null,Zt=null,Te=!1,$r=null;function lj(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,er=e,Zt=ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,er=e,Zt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ea!==null?{id:yn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,er=e,Zt=null,!0):!1;default:return!1}}function Jh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xh(e){if(Te){var t=Zt;if(t){var r=t;if(!vy(e,t)){if(Jh(e))throw Error(B(418));t=ci(r.nextSibling);var n=er;t&&vy(e,t)?lj(n,r):(e.flags=e.flags&-4097|2,Te=!1,er=e)}}else{if(Jh(e))throw Error(B(418));e.flags=e.flags&-4097|2,Te=!1,er=e}}}function yy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;er=e}function Yl(e){if(e!==er)return!1;if(!Te)return yy(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kh(e.type,e.memoizedProps)),t&&(t=Zt)){if(Jh(e))throw cj(),Error(B(418));for(;t;)lj(e,t),t=ci(t.nextSibling)}if(yy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zt=ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zt=null}}else Zt=er?ci(e.stateNode.nextSibling):null;return!0}function cj(){for(var e=Zt;e;)e=ci(e.nextSibling)}function ts(){Zt=er=null,Te=!1}function Zp(e){$r===null?$r=[e]:$r.push(e)}var lO=$n.ReactCurrentBatchConfig;function Ws(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xy(e){var t=e._init;return t(e._payload)}function uj(e){function t(v,g){if(e){var p=v.deletions;p===null?(v.deletions=[g],v.flags|=16):p.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=hi(v,g),v.index=0,v.sibling=null,v}function a(v,g,p){return v.index=p,e?(p=v.alternate,p!==null?(p=p.index,p<g?(v.flags|=2,g):p):(v.flags|=2,g)):(v.flags|=1048576,g)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,g,p,j){return g===null||g.tag!==6?(g=Df(p,v.mode,j),g.return=v,g):(g=i(g,p),g.return=v,g)}function c(v,g,p,j){var S=p.type;return S===Oa?d(v,g,p.props.children,j,p.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kn&&xy(S)===g.type)?(j=i(g,p.props),j.ref=Ws(v,g,p),j.return=v,j):(j=Ic(p.type,p.key,p.props,null,v.mode,j),j.ref=Ws(v,g,p),j.return=v,j)}function u(v,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=$f(p,v.mode,j),g.return=v,g):(g=i(g,p.children||[]),g.return=v,g)}function d(v,g,p,j,S){return g===null||g.tag!==7?(g=Gi(p,v.mode,j,S),g.return=v,g):(g=i(g,p),g.return=v,g)}function f(v,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Df(""+g,v.mode,p),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zl:return p=Ic(g.type,g.key,g.props,null,v.mode,p),p.ref=Ws(v,null,g),p.return=v,p;case Pa:return g=$f(g,v.mode,p),g.return=v,g;case Kn:var j=g._init;return f(v,j(g._payload),p)}if(ro(g)||Rs(g))return g=Gi(g,v.mode,p,null),g.return=v,g;Ql(v,g)}return null}function h(v,g,p,j){var S=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(v,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zl:return p.key===S?c(v,g,p,j):null;case Pa:return p.key===S?u(v,g,p,j):null;case Kn:return S=p._init,h(v,g,S(p._payload),j)}if(ro(p)||Rs(p))return S!==null?null:d(v,g,p,j,null);Ql(v,p)}return null}function m(v,g,p,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(p)||null,o(g,v,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case zl:return v=v.get(j.key===null?p:j.key)||null,c(g,v,j,S);case Pa:return v=v.get(j.key===null?p:j.key)||null,u(g,v,j,S);case Kn:var k=j._init;return m(v,g,p,k(j._payload),S)}if(ro(j)||Rs(j))return v=v.get(p)||null,d(g,v,j,S,null);Ql(g,j)}return null}function x(v,g,p,j){for(var S=null,k=null,_=g,N=g=0,E=null;_!==null&&N<p.length;N++){_.index>N?(E=_,_=null):E=_.sibling;var P=h(v,_,p[N],j);if(P===null){_===null&&(_=E);break}e&&_&&P.alternate===null&&t(v,_),g=a(P,g,N),k===null?S=P:k.sibling=P,k=P,_=E}if(N===p.length)return r(v,_),Te&&Mi(v,N),S;if(_===null){for(;N<p.length;N++)_=f(v,p[N],j),_!==null&&(g=a(_,g,N),k===null?S=_:k.sibling=_,k=_);return Te&&Mi(v,N),S}for(_=n(v,_);N<p.length;N++)E=m(_,v,N,p[N],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),g=a(E,g,N),k===null?S=E:k.sibling=E,k=E);return e&&_.forEach(function(O){return t(v,O)}),Te&&Mi(v,N),S}function b(v,g,p,j){var S=Rs(p);if(typeof S!="function")throw Error(B(150));if(p=S.call(p),p==null)throw Error(B(151));for(var k=S=null,_=g,N=g=0,E=null,P=p.next();_!==null&&!P.done;N++,P=p.next()){_.index>N?(E=_,_=null):E=_.sibling;var O=h(v,_,P.value,j);if(O===null){_===null&&(_=E);break}e&&_&&O.alternate===null&&t(v,_),g=a(O,g,N),k===null?S=O:k.sibling=O,k=O,_=E}if(P.done)return r(v,_),Te&&Mi(v,N),S;if(_===null){for(;!P.done;N++,P=p.next())P=f(v,P.value,j),P!==null&&(g=a(P,g,N),k===null?S=P:k.sibling=P,k=P);return Te&&Mi(v,N),S}for(_=n(v,_);!P.done;N++,P=p.next())P=m(_,v,N,P.value,j),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?N:P.key),g=a(P,g,N),k===null?S=P:k.sibling=P,k=P);return e&&_.forEach(function(M){return t(v,M)}),Te&&Mi(v,N),S}function w(v,g,p,j){if(typeof p=="object"&&p!==null&&p.type===Oa&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case zl:e:{for(var S=p.key,k=g;k!==null;){if(k.key===S){if(S=p.type,S===Oa){if(k.tag===7){r(v,k.sibling),g=i(k,p.props.children),g.return=v,v=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Kn&&xy(S)===k.type){r(v,k.sibling),g=i(k,p.props),g.ref=Ws(v,k,p),g.return=v,v=g;break e}r(v,k);break}else t(v,k);k=k.sibling}p.type===Oa?(g=Gi(p.props.children,v.mode,j,p.key),g.return=v,v=g):(j=Ic(p.type,p.key,p.props,null,v.mode,j),j.ref=Ws(v,g,p),j.return=v,v=j)}return s(v);case Pa:e:{for(k=p.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(v,g.sibling),g=i(g,p.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=$f(p,v.mode,j),g.return=v,v=g}return s(v);case Kn:return k=p._init,w(v,g,k(p._payload),j)}if(ro(p))return x(v,g,p,j);if(Rs(p))return b(v,g,p,j);Ql(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(v,g.sibling),g=i(g,p),g.return=v,v=g):(r(v,g),g=Df(p,v.mode,j),g.return=v,v=g),s(v)):r(v,g)}return w}var rs=uj(!0),dj=uj(!1),Zc=wi(null),eu=null,Ra=null,eg=null;function tg(){eg=Ra=eu=null}function rg(e){var t=Zc.current;Pe(Zc),e._currentValue=t}function Zh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ha(e,t){eu=e,eg=Ra=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function jr(e){var t=e._currentValue;if(eg!==e)if(e={context:e,memoizedValue:t,next:null},Ra===null){if(eu===null)throw Error(B(308));Ra=e,eu.dependencies={lanes:0,firstContext:e}}else Ra=Ra.next=e;return t}var Bi=null;function ng(e){Bi===null?Bi=[e]:Bi.push(e)}function fj(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ng(t)):(r.next=i.next,i.next=r),t.interleaved=r,Cn(e,n)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Gn=!1;function ig(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ui(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,me&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Cn(e,r)}return i=n.interleaved,i===null?(t.next=t,ng(n)):(t.next=i.next,i.next=t),n.interleaved=t,Cn(e,r)}function Cc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wp(e,r)}}function by(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tu(e,t,r,n){var i=e.updateQueue;Gn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,b=o;switch(h=t,m=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){f=x.call(m,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,h=typeof x=="function"?x.call(m,f,h):x,h==null)break e;f=Le({},f,h);break e;case 2:Gn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ra|=s,e.lanes=s,e.memoizedState=f}}function wy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var ml={},rn=wi(ml),Lo=wi(ml),Ro=wi(ml);function Fi(e){if(e===ml)throw Error(B(174));return e}function ag(e,t){switch(Se(Ro,t),Se(Lo,e),Se(rn,ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mh(t,e)}Pe(rn),Se(rn,t)}function ns(){Pe(rn),Pe(Lo),Pe(Ro)}function mj(e){Fi(Ro.current);var t=Fi(rn.current),r=Mh(t,e.type);t!==r&&(Se(Lo,e),Se(rn,r))}function sg(e){Lo.current===e&&(Pe(rn),Pe(Lo))}var Ie=wi(0);function ru(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pf=[];function og(){for(var e=0;e<Pf.length;e++)Pf[e]._workInProgressVersionPrimary=null;Pf.length=0}var Pc=$n.ReactCurrentDispatcher,Of=$n.ReactCurrentBatchConfig,ta=0,De=null,Je=null,st=null,nu=!1,go=!1,zo=0,cO=0;function jt(){throw Error(B(321))}function lg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wr(e[r],t[r]))return!1;return!0}function cg(e,t,r,n,i,a){if(ta=a,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pc.current=e===null||e.memoizedState===null?hO:mO,e=r(n,i),go){a=0;do{if(go=!1,zo=0,25<=a)throw Error(B(301));a+=1,st=Je=null,t.updateQueue=null,Pc.current=pO,e=r(n,i)}while(go)}if(Pc.current=iu,t=Je!==null&&Je.next!==null,ta=0,st=Je=De=null,nu=!1,t)throw Error(B(300));return e}function ug(){var e=zo!==0;return zo=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?De.memoizedState=st=e:st=st.next=e,st}function _r(){if(Je===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Je.next;var t=st===null?De.memoizedState:st.next;if(t!==null)st=t,Je=e;else{if(e===null)throw Error(B(310));Je=e,e={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},st===null?De.memoizedState=st=e:st=st.next=e}return st}function Uo(e,t){return typeof t=="function"?t(e):t}function Af(e){var t=_r(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=Je,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((ta&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,De.lanes|=d,ra|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,Wr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,De.lanes|=a,ra|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Tf(e){var t=_r(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Wr(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function pj(){}function gj(e,t){var r=De,n=_r(),i=t(),a=!Wr(n.memoizedState,i);if(a&&(n.memoizedState=i,Ut=!0),n=n.queue,dg(xj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Bo(9,yj.bind(null,r,n,i,t),void 0,null),ot===null)throw Error(B(349));ta&30||vj(r,t,i)}return i}function vj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yj(e,t,r,n){t.value=r,t.getSnapshot=n,bj(t)&&wj(e)}function xj(e,t,r){return r(function(){bj(t)&&wj(e)})}function bj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wr(e,r)}catch{return!0}}function wj(e){var t=Cn(e,1);t!==null&&Br(t,e,1,-1)}function jy(e){var t=Jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=fO.bind(null,De,e),[t.memoizedState,e]}function Bo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jj(){return _r().memoizedState}function Oc(e,t,r,n){var i=Jr();De.flags|=e,i.memoizedState=Bo(1|t,r,void 0,n===void 0?null:n)}function sd(e,t,r,n){var i=_r();n=n===void 0?null:n;var a=void 0;if(Je!==null){var s=Je.memoizedState;if(a=s.destroy,n!==null&&lg(n,s.deps)){i.memoizedState=Bo(t,r,a,n);return}}De.flags|=e,i.memoizedState=Bo(1|t,r,a,n)}function _y(e,t){return Oc(8390656,8,e,t)}function dg(e,t){return sd(2048,8,e,t)}function _j(e,t){return sd(4,2,e,t)}function kj(e,t){return sd(4,4,e,t)}function Sj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nj(e,t,r){return r=r!=null?r.concat([e]):null,sd(4,4,Sj.bind(null,t,e),r)}function fg(){}function Ej(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Cj(e,t){var r=_r();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&lg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pj(e,t,r){return ta&21?(Wr(r,t)||(r=I1(),De.lanes|=r,ra|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function uO(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=Of.transition;Of.transition={};try{e(!1),t()}finally{be=r,Of.transition=n}}function Oj(){return _r().memoizedState}function dO(e,t,r){var n=fi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Aj(e))Tj(t,r);else if(r=fj(e,t,r,n),r!==null){var i=Mt();Br(r,e,n,i),Mj(r,t,n)}}function fO(e,t,r){var n=fi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Aj(e))Tj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Wr(o,s)){var c=t.interleaved;c===null?(i.next=i,ng(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=fj(e,t,i,n),r!==null&&(i=Mt(),Br(r,e,n,i),Mj(r,t,n))}}function Aj(e){var t=e.alternate;return e===De||t!==null&&t===De}function Tj(e,t){go=nu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wp(e,r)}}var iu={readContext:jr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},hO={readContext:jr,useCallback:function(e,t){return Jr().memoizedState=[e,t===void 0?null:t],e},useContext:jr,useEffect:_y,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Oc(4194308,4,Sj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oc(4,2,e,t)},useMemo:function(e,t){var r=Jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=dO.bind(null,De,e),[n.memoizedState,e]},useRef:function(e){var t=Jr();return e={current:e},t.memoizedState=e},useState:jy,useDebugValue:fg,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=jy(!1),t=e[0];return e=uO.bind(null,e[1]),Jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=De,i=Jr();if(Te){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),ot===null)throw Error(B(349));ta&30||vj(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,_y(xj.bind(null,n,a,e),[e]),n.flags|=2048,Bo(9,yj.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Jr(),t=ot.identifierPrefix;if(Te){var r=xn,n=yn;r=(n&~(1<<32-Ur(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=cO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mO={readContext:jr,useCallback:Ej,useContext:jr,useEffect:dg,useImperativeHandle:Nj,useInsertionEffect:_j,useLayoutEffect:kj,useMemo:Cj,useReducer:Af,useRef:jj,useState:function(){return Af(Uo)},useDebugValue:fg,useDeferredValue:function(e){var t=_r();return Pj(t,Je.memoizedState,e)},useTransition:function(){var e=Af(Uo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:gj,useId:Oj,unstable_isNewReconciler:!1},pO={readContext:jr,useCallback:Ej,useContext:jr,useEffect:dg,useImperativeHandle:Nj,useInsertionEffect:_j,useLayoutEffect:kj,useMemo:Cj,useReducer:Tf,useRef:jj,useState:function(){return Tf(Uo)},useDebugValue:fg,useDeferredValue:function(e){var t=_r();return Je===null?t.memoizedState=e:Pj(t,Je.memoizedState,e)},useTransition:function(){var e=Tf(Uo)[0],t=_r().memoizedState;return[e,t]},useMutableSource:pj,useSyncExternalStore:gj,useId:Oj,unstable_isNewReconciler:!1};function Mr(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function em(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var od={isMounted:function(e){return(e=e._reactInternals)?da(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=fi(e),a=jn(n,i);a.payload=t,r!=null&&(a.callback=r),t=ui(e,a,i),t!==null&&(Br(t,e,i,n),Cc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=fi(e),a=jn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ui(e,a,i),t!==null&&(Br(t,e,i,n),Cc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=fi(e),i=jn(r,n);i.tag=2,t!=null&&(i.callback=t),t=ui(e,i,n),t!==null&&(Br(t,e,n,r),Cc(t,e,n))}};function ky(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Mo(r,n)||!Mo(i,a):!0}function Ij(e,t,r){var n=!1,i=vi,a=t.contextType;return typeof a=="object"&&a!==null?a=jr(a):(i=Wt(t)?Zi:Et.current,n=t.contextTypes,a=(n=n!=null)?es(e,i):vi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=od,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Sy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&od.enqueueReplaceState(t,t.state,null)}function tm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ig(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=jr(a):(a=Wt(t)?Zi:Et.current,i.context=es(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(em(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&od.enqueueReplaceState(i,i.state,null),tu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var r="",n=t;do r+=WC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Mf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function rm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var gO=typeof WeakMap=="function"?WeakMap:Map;function Dj(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){su||(su=!0,fm=n),rm(e,t)},r}function $j(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){rm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){rm(e,t),typeof n!="function"&&(di===null?di=new Set([this]):di.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Ny(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new gO;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=OO.bind(null,e,t,r),t.then(e,e))}function Ey(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cy(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,ui(r,t,1))),r.lanes|=1),e)}var vO=$n.ReactCurrentOwner,Ut=!1;function At(e,t,r,n){t.child=e===null?dj(t,null,r,n):rs(t,e.child,r,n)}function Py(e,t,r,n,i){r=r.render;var a=t.ref;return Ha(t,i),n=cg(e,t,r,n,a,i),r=ug(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(Te&&r&&Jp(t),t.flags|=1,At(e,t,n,i),t.child)}function Oy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!bg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Lj(e,t,a,n,i)):(e=Ic(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(s,n)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=hi(a,n),e.ref=t.ref,e.return=t,t.child=e}function Lj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Mo(a,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return nm(e,t,r,n,i)}function Rj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ua,Yt),Yt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Se(Ua,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Se(Ua,Yt),Yt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Se(Ua,Yt),Yt|=n;return At(e,t,i,r),t.child}function zj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function nm(e,t,r,n,i){var a=Wt(r)?Zi:Et.current;return a=es(t,a),Ha(t,i),r=cg(e,t,r,n,a,i),n=ug(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(Te&&n&&Jp(t),t.flags|=1,At(e,t,r,i),t.child)}function Ay(e,t,r,n,i){if(Wt(r)){var a=!0;Qc(t)}else a=!1;if(Ha(t,i),t.stateNode===null)Ac(e,t),Ij(t,r,n),tm(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=jr(u):(u=Wt(r)?Zi:Et.current,u=es(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Sy(t,s,n,u),Gn=!1;var h=t.memoizedState;s.state=h,tu(t,n,s,i),c=t.memoizedState,o!==n||h!==c||Ft.current||Gn?(typeof d=="function"&&(em(t,r,d,n),c=t.memoizedState),(o=Gn||ky(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,hj(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Mr(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=jr(c):(c=Wt(r)?Zi:Et.current,c=es(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Sy(t,s,n,c),Gn=!1,h=t.memoizedState,s.state=h,tu(t,n,s,i);var x=t.memoizedState;o!==f||h!==x||Ft.current||Gn?(typeof m=="function"&&(em(t,r,m,n),x=t.memoizedState),(u=Gn||ky(t,r,u,n,h,x,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,x,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),s.props=n,s.state=x,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return im(e,t,r,n,a,i)}function im(e,t,r,n,i,a){zj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&gy(t,r,!1),Pn(e,t,a);n=t.stateNode,vO.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=rs(t,e.child,null,a),t.child=rs(t,null,o,a)):At(e,t,o,a),t.memoizedState=n.state,i&&gy(t,r,!0),t.child}function Uj(e){var t=e.stateNode;t.pendingContext?py(e,t.pendingContext,t.pendingContext!==t.context):t.context&&py(e,t.context,!1),ag(e,t.containerInfo)}function Ty(e,t,r,n,i){return ts(),Zp(i),t.flags|=256,At(e,t,r,n),t.child}var am={dehydrated:null,treeContext:null,retryLane:0};function sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bj(e,t,r){var n=t.pendingProps,i=Ie.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Se(Ie,i&1),e===null)return Xh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ud(s,n,0,null),e=Gi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=sm(r),t.memoizedState=am,e):hg(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return yO(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=hi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=hi(o,a):(a=Gi(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?sm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=am,n}return a=e.child,e=a.sibling,n=hi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function hg(e,t){return t=ud({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,r,n){return n!==null&&Zp(n),rs(t,e.child,null,r),e=hg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yO(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Mf(Error(B(422))),Jl(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=ud({mode:"visible",children:n.children},i,0,null),a=Gi(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&rs(t,e.child,null,s),t.child.memoizedState=sm(s),t.memoizedState=am,a);if(!(t.mode&1))return Jl(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(B(419)),n=Mf(a,n,void 0),Jl(e,t,s,n)}if(o=(s&e.childLanes)!==0,Ut||o){if(n=ot,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cn(e,i),Br(n,e,i,-1))}return xg(),n=Mf(Error(B(421))),Jl(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Zt=ci(i.nextSibling),er=t,Te=!0,$r=null,e!==null&&(mr[pr++]=yn,mr[pr++]=xn,mr[pr++]=ea,yn=e.id,xn=e.overflow,ea=t),t=hg(t,n.children),t.flags|=4096,t)}function My(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zh(e.return,t,r)}function If(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Fj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(At(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,r,t);else if(e.tag===19)My(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Se(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ru(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),If(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}If(t,!0,r,null,a);break;case"together":If(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ac(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ra|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=hi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function xO(e,t,r){switch(t.tag){case 3:Uj(t),ts();break;case 5:mj(t);break;case 1:Wt(t.type)&&Qc(t);break;case 4:ag(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Se(Zc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Se(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?Bj(e,t,r):(Se(Ie,Ie.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);Se(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Fj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Rj(e,t,r)}return Pn(e,t,r)}var Wj,om,qj,Vj;Wj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};om=function(){};qj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Fi(rn.current);var a=null;switch(r){case"input":i=Ph(e,i),n=Ph(e,n),a=[];break;case"select":i=Le({},i,{value:void 0}),n=Le({},n,{value:void 0}),a=[];break;case"textarea":i=Th(e,i),n=Th(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Gc)}Ih(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(No.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(No.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ee("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Vj=function(e,t,r,n){r!==n&&(t.flags|=4)};function qs(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bO(e,t,r){var n=t.pendingProps;switch(Xp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Wt(t.type)&&Yc(),_t(t),null;case 3:return n=t.stateNode,ns(),Pe(Ft),Pe(Et),og(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$r!==null&&(pm($r),$r=null))),om(e,t),_t(t),null;case 5:sg(t);var i=Fi(Ro.current);if(r=t.type,e!==null&&t.stateNode!=null)qj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(B(166));return _t(t),null}if(e=Fi(rn.current),Yl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zr]=t,n[$o]=a,e=(t.mode&1)!==0,r){case"dialog":Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":case"embed":Ee("load",n);break;case"video":case"audio":for(i=0;i<io.length;i++)Ee(io[i],n);break;case"source":Ee("error",n);break;case"img":case"image":case"link":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"input":Fv(n,a),Ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ee("invalid",n);break;case"textarea":qv(n,a),Ee("invalid",n)}Ih(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Gl(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Gl(n.textContent,o,e),i=["children",""+o]):No.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ee("scroll",n)}switch(r){case"input":Ul(n),Wv(n,a,!0);break;case"textarea":Ul(n),Vv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Gc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Zr]=t,e[$o]=n,Wj(e,t,!1,!1),t.stateNode=e;e:{switch(s=Dh(r,n),r){case"dialog":Ee("cancel",e),Ee("close",e),i=n;break;case"iframe":case"object":case"embed":Ee("load",e),i=n;break;case"video":case"audio":for(i=0;i<io.length;i++)Ee(io[i],e);i=n;break;case"source":Ee("error",e),i=n;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),i=n;break;case"details":Ee("toggle",e),i=n;break;case"input":Fv(e,n),i=Ph(e,n),Ee("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Le({},n,{value:void 0}),Ee("invalid",e);break;case"textarea":qv(e,n),i=Th(e,n),Ee("invalid",e);break;default:i=n}Ih(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?j1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&b1(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Eo(e,c):typeof c=="number"&&Eo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(No.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ee("scroll",e):c!=null&&Lp(e,a,c,s))}switch(r){case"input":Ul(e),Wv(e,n,!1);break;case"textarea":Ul(e),Vv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Fa(e,!!n.multiple,a,!1):n.defaultValue!=null&&Fa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Gc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)Vj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(r=Fi(Ro.current),Fi(rn.current),Yl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(a=n.nodeValue!==r)&&(e=er,e!==null))switch(e.tag){case 3:Gl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return _t(t),null;case 13:if(Pe(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Zt!==null&&t.mode&1&&!(t.flags&128))cj(),ts(),t.flags|=98560,a=!1;else if(a=Yl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[Zr]=t}else ts(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),a=!1}else $r!==null&&(pm($r),$r=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?et===0&&(et=3):xg())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return ns(),om(e,t),e===null&&Io(t.stateNode.containerInfo),_t(t),null;case 10:return rg(t.type._context),_t(t),null;case 17:return Wt(t.type)&&Yc(),_t(t),null;case 19:if(Pe(Ie),a=t.memoizedState,a===null)return _t(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)qs(a,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ru(e),s!==null){for(t.flags|=128,qs(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Se(Ie,Ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fe()>as&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304)}else{if(!n)if(e=ru(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Te)return _t(t),null}else 2*Fe()-a.renderingStartTime>as&&r!==1073741824&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fe(),t.sibling=null,r=Ie.current,Se(Ie,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return yg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function wO(e,t){switch(Xp(t),t.tag){case 1:return Wt(t.type)&&Yc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),Pe(Ft),Pe(Et),og(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sg(t),null;case 13:if(Pe(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));ts()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ie),null;case 4:return ns(),null;case 10:return rg(t.type._context),null;case 22:case 23:return yg(),null;case 24:return null;default:return null}}var Xl=!1,St=!1,jO=typeof WeakSet=="function"?WeakSet:Set,J=null;function za(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Re(e,t,n)}else r.current=null}function lm(e,t,r){try{r()}catch(n){Re(e,t,n)}}var Iy=!1;function _O(e,t){if(Vh=Vc,e=Q1(),Qp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hh={focusedElem:e,selectionRange:r},Vc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,w=x.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:Mr(t.type,b),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){Re(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return x=Iy,Iy=!1,x}function vo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&lm(t,r,a)}i=i.next}while(i!==n)}}function ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function cm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Hj(e){var t=e.alternate;t!==null&&(e.alternate=null,Hj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[$o],delete t[Yh],delete t[aO],delete t[sO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kj(e){return e.tag===5||e.tag===3||e.tag===4}function Dy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function um(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Gc));else if(n!==4&&(e=e.child,e!==null))for(um(e,t,r),e=e.sibling;e!==null;)um(e,t,r),e=e.sibling}function dm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(dm(e,t,r),e=e.sibling;e!==null;)dm(e,t,r),e=e.sibling}var pt=null,Ir=!1;function qn(e,t,r){for(r=r.child;r!==null;)Gj(e,t,r),r=r.sibling}function Gj(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ed,r)}catch{}switch(r.tag){case 5:St||za(r,t);case 6:var n=pt,i=Ir;pt=null,qn(e,t,r),pt=n,Ir=i,pt!==null&&(Ir?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(Ir?(e=pt,r=r.stateNode,e.nodeType===8?Ef(e.parentNode,r):e.nodeType===1&&Ef(e,r),Ao(e)):Ef(pt,r.stateNode));break;case 4:n=pt,i=Ir,pt=r.stateNode.containerInfo,Ir=!0,qn(e,t,r),pt=n,Ir=i;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&lm(r,t,s),i=i.next}while(i!==n)}qn(e,t,r);break;case 1:if(!St&&(za(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Re(r,t,o)}qn(e,t,r);break;case 21:qn(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,qn(e,t,r),St=n):qn(e,t,r);break;default:qn(e,t,r)}}function $y(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jO),t.forEach(function(n){var i=TO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Or(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:pt=o.stateNode,Ir=!1;break e;case 3:pt=o.stateNode.containerInfo,Ir=!0;break e;case 4:pt=o.stateNode.containerInfo,Ir=!0;break e}o=o.return}if(pt===null)throw Error(B(160));Gj(a,s,i),pt=null,Ir=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Re(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yj(t,e),t=t.sibling}function Yj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Or(t,e),Yr(e),n&4){try{vo(3,e,e.return),ld(3,e)}catch(b){Re(e,e.return,b)}try{vo(5,e,e.return)}catch(b){Re(e,e.return,b)}}break;case 1:Or(t,e),Yr(e),n&512&&r!==null&&za(r,r.return);break;case 5:if(Or(t,e),Yr(e),n&512&&r!==null&&za(r,r.return),e.flags&32){var i=e.stateNode;try{Eo(i,"")}catch(b){Re(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&v1(i,a),Dh(o,s);var u=Dh(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?j1(i,f):d==="dangerouslySetInnerHTML"?b1(i,f):d==="children"?Eo(i,f):Lp(i,d,f,u)}switch(o){case"input":Oh(i,a);break;case"textarea":y1(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Fa(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Fa(i,!!a.multiple,a.defaultValue,!0):Fa(i,!!a.multiple,a.multiple?[]:"",!1))}i[$o]=a}catch(b){Re(e,e.return,b)}}break;case 6:if(Or(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(B(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Re(e,e.return,b)}}break;case 3:if(Or(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ao(t.containerInfo)}catch(b){Re(e,e.return,b)}break;case 4:Or(t,e),Yr(e);break;case 13:Or(t,e),Yr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(gg=Fe())),n&4&&$y(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(St=(u=St)||d,Or(t,e),St=u):Or(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(f=J=d;J!==null;){switch(h=J,m=h.child,h.tag){case 0:case 11:case 14:case 15:vo(4,h,h.return);break;case 1:za(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){Re(n,r,b)}}break;case 5:za(h,h.return);break;case 22:if(h.memoizedState!==null){Ry(f);continue}}m!==null?(m.return=h,J=m):Ry(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=w1("display",s))}catch(b){Re(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Re(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Or(t,e),Yr(e),n&4&&$y(e);break;case 21:break;default:Or(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kj(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Eo(i,""),n.flags&=-33);var a=Dy(e);dm(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Dy(e);um(e,o,s);break;default:throw Error(B(161))}}catch(c){Re(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kO(e,t,r){J=e,Qj(e)}function Qj(e,t,r){for(var n=(e.mode&1)!==0;J!==null;){var i=J,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Xl;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||St;o=Xl;var u=St;if(Xl=s,(St=c)&&!u)for(J=i;J!==null;)s=J,c=s.child,s.tag===22&&s.memoizedState!==null?zy(i):c!==null?(c.return=s,J=c):zy(i);for(;a!==null;)J=a,Qj(a),a=a.sibling;J=i,Xl=o,St=u}Ly(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,J=a):Ly(e)}}function Ly(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||ld(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Mr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&wy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wy(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ao(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}St||t.flags&512&&cm(t)}catch(h){Re(t,t.return,h)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function Ry(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function zy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ld(4,t)}catch(c){Re(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Re(t,i,c)}}var a=t.return;try{cm(t)}catch(c){Re(t,a,c)}break;case 5:var s=t.return;try{cm(t)}catch(c){Re(t,s,c)}}}catch(c){Re(t,t.return,c)}if(t===e){J=null;break}var o=t.sibling;if(o!==null){o.return=t.return,J=o;break}J=t.return}}var SO=Math.ceil,au=$n.ReactCurrentDispatcher,mg=$n.ReactCurrentOwner,br=$n.ReactCurrentBatchConfig,me=0,ot=null,qe=null,yt=0,Yt=0,Ua=wi(0),et=0,Fo=null,ra=0,cd=0,pg=0,yo=null,Rt=null,gg=0,as=1/0,fn=null,su=!1,fm=null,di=null,Zl=!1,ni=null,ou=0,xo=0,hm=null,Tc=-1,Mc=0;function Mt(){return me&6?Fe():Tc!==-1?Tc:Tc=Fe()}function fi(e){return e.mode&1?me&2&&yt!==0?yt&-yt:lO.transition!==null?(Mc===0&&(Mc=I1()),Mc):(e=be,e!==0||(e=window.event,e=e===void 0?16:B1(e.type)),e):1}function Br(e,t,r,n){if(50<xo)throw xo=0,hm=null,Error(B(185));dl(e,r,n),(!(me&2)||e!==ot)&&(e===ot&&(!(me&2)&&(cd|=r),et===4&&Zn(e,yt)),qt(e,n),r===1&&me===0&&!(t.mode&1)&&(as=Fe()+500,ad&&ji()))}function qt(e,t){var r=e.callbackNode;lP(e,t);var n=qc(e,e===ot?yt:0);if(n===0)r!==null&&Gv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gv(r),t===1)e.tag===0?oO(Uy.bind(null,e)):sj(Uy.bind(null,e)),nO(function(){!(me&6)&&ji()}),r=null;else{switch(D1(n)){case 1:r=Fp;break;case 4:r=T1;break;case 16:r=Wc;break;case 536870912:r=M1;break;default:r=Wc}r=i2(r,Jj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Jj(e,t){if(Tc=-1,Mc=0,me&6)throw Error(B(327));var r=e.callbackNode;if(Ka()&&e.callbackNode!==r)return null;var n=qc(e,e===ot?yt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lu(e,n);else{t=n;var i=me;me|=2;var a=Zj();(ot!==e||yt!==t)&&(fn=null,as=Fe()+500,Ki(e,t));do try{CO();break}catch(o){Xj(e,o)}while(!0);tg(),au.current=a,me=i,qe!==null?t=0:(ot=null,yt=0,t=et)}if(t!==0){if(t===2&&(i=Uh(e),i!==0&&(n=i,t=mm(e,i))),t===1)throw r=Fo,Ki(e,0),Zn(e,n),qt(e,Fe()),r;if(t===6)Zn(e,n);else{if(i=e.current.alternate,!(n&30)&&!NO(i)&&(t=lu(e,n),t===2&&(a=Uh(e),a!==0&&(n=a,t=mm(e,a))),t===1))throw r=Fo,Ki(e,0),Zn(e,n),qt(e,Fe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(B(345));case 2:Ii(e,Rt,fn);break;case 3:if(Zn(e,n),(n&130023424)===n&&(t=gg+500-Fe(),10<t)){if(qc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Gh(Ii.bind(null,e,Rt,fn),t);break}Ii(e,Rt,fn);break;case 4:if(Zn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Ur(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Fe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SO(n/1960))-n,10<n){e.timeoutHandle=Gh(Ii.bind(null,e,Rt,fn),n);break}Ii(e,Rt,fn);break;case 5:Ii(e,Rt,fn);break;default:throw Error(B(329))}}}return qt(e,Fe()),e.callbackNode===r?Jj.bind(null,e):null}function mm(e,t){var r=yo;return e.current.memoizedState.isDehydrated&&(Ki(e,t).flags|=256),e=lu(e,t),e!==2&&(t=Rt,Rt=r,t!==null&&pm(t)),e}function pm(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function NO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Wr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~pg,t&=~cd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ur(t),n=1<<r;e[r]=-1,t&=~n}}function Uy(e){if(me&6)throw Error(B(327));Ka();var t=qc(e,0);if(!(t&1))return qt(e,Fe()),null;var r=lu(e,t);if(e.tag!==0&&r===2){var n=Uh(e);n!==0&&(t=n,r=mm(e,n))}if(r===1)throw r=Fo,Ki(e,0),Zn(e,t),qt(e,Fe()),r;if(r===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ii(e,Rt,fn),qt(e,Fe()),null}function vg(e,t){var r=me;me|=1;try{return e(t)}finally{me=r,me===0&&(as=Fe()+500,ad&&ji())}}function na(e){ni!==null&&ni.tag===0&&!(me&6)&&Ka();var t=me;me|=1;var r=br.transition,n=be;try{if(br.transition=null,be=1,e)return e()}finally{be=n,br.transition=r,me=t,!(me&6)&&ji()}}function yg(){Yt=Ua.current,Pe(Ua)}function Ki(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,rO(r)),qe!==null)for(r=qe.return;r!==null;){var n=r;switch(Xp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yc();break;case 3:ns(),Pe(Ft),Pe(Et),og();break;case 5:sg(n);break;case 4:ns();break;case 13:Pe(Ie);break;case 19:Pe(Ie);break;case 10:rg(n.type._context);break;case 22:case 23:yg()}r=r.return}if(ot=e,qe=e=hi(e.current,null),yt=Yt=t,et=0,Fo=null,pg=cd=ra=0,Rt=yo=null,Bi!==null){for(t=0;t<Bi.length;t++)if(r=Bi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Bi=null}return e}function Xj(e,t){do{var r=qe;try{if(tg(),Pc.current=iu,nu){for(var n=De.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}nu=!1}if(ta=0,st=Je=De=null,go=!1,zo=0,mg.current=null,r===null||r.return===null){et=1,Fo=t,qe=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=yt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ey(s);if(m!==null){m.flags&=-257,Cy(m,s,o,a,t),m.mode&1&&Ny(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){Ny(a,u,t),xg();break e}c=Error(B(426))}}else if(Te&&o.mode&1){var w=Ey(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Cy(w,s,o,a,t),Zp(is(c,o));break e}}a=c=is(c,o),et!==4&&(et=2),yo===null?yo=[a]:yo.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=Dj(a,c,t);by(a,v);break e;case 1:o=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(di===null||!di.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=$j(a,o,t);by(a,j);break e}}a=a.return}while(a!==null)}t2(r)}catch(S){t=S,qe===r&&r!==null&&(qe=r=r.return);continue}break}while(!0)}function Zj(){var e=au.current;return au.current=iu,e===null?iu:e}function xg(){(et===0||et===3||et===2)&&(et=4),ot===null||!(ra&268435455)&&!(cd&268435455)||Zn(ot,yt)}function lu(e,t){var r=me;me|=2;var n=Zj();(ot!==e||yt!==t)&&(fn=null,Ki(e,t));do try{EO();break}catch(i){Xj(e,i)}while(!0);if(tg(),me=r,au.current=n,qe!==null)throw Error(B(261));return ot=null,yt=0,et}function EO(){for(;qe!==null;)e2(qe)}function CO(){for(;qe!==null&&!ZC();)e2(qe)}function e2(e){var t=n2(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?t2(e):qe=t,mg.current=null}function t2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wO(r,t),r!==null){r.flags&=32767,qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,qe=null;return}}else if(r=bO(r,t,Yt),r!==null){qe=r;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);et===0&&(et=5)}function Ii(e,t,r){var n=be,i=br.transition;try{br.transition=null,be=1,PO(e,t,r,n)}finally{br.transition=i,be=n}return null}function PO(e,t,r,n){do Ka();while(ni!==null);if(me&6)throw Error(B(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(cP(e,a),e===ot&&(qe=ot=null,yt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zl||(Zl=!0,i2(Wc,function(){return Ka(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=br.transition,br.transition=null;var s=be;be=1;var o=me;me|=4,mg.current=null,_O(e,r),Yj(r,e),YP(Hh),Vc=!!Vh,Hh=Vh=null,e.current=r,kO(r),eP(),me=o,be=s,br.transition=a}else e.current=r;if(Zl&&(Zl=!1,ni=e,ou=i),a=e.pendingLanes,a===0&&(di=null),nP(r.stateNode),qt(e,Fe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(su)throw su=!1,e=fm,fm=null,e;return ou&1&&e.tag!==0&&Ka(),a=e.pendingLanes,a&1?e===hm?xo++:(xo=0,hm=e):xo=0,ji(),null}function Ka(){if(ni!==null){var e=D1(ou),t=br.transition,r=be;try{if(br.transition=null,be=16>e?16:e,ni===null)var n=!1;else{if(e=ni,ni=null,ou=0,me&6)throw Error(B(331));var i=me;for(me|=4,J=e.current;J!==null;){var a=J,s=a.child;if(J.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:vo(8,d,a)}var f=d.child;if(f!==null)f.return=d,J=f;else for(;J!==null;){d=J;var h=d.sibling,m=d.return;if(Hj(d),d===u){J=null;break}if(h!==null){h.return=m,J=h;break}J=m}}}var x=a.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}J=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,J=s;else e:for(;J!==null;){if(a=J,a.flags&2048)switch(a.tag){case 0:case 11:case 15:vo(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,J=v;break e}J=a.return}}var g=e.current;for(J=g;J!==null;){s=J;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,J=p;else e:for(s=g;J!==null;){if(o=J,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ld(9,o)}}catch(S){Re(o,o.return,S)}if(o===s){J=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,J=j;break e}J=o.return}}if(me=i,ji(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ed,e)}catch{}n=!0}return n}finally{be=r,br.transition=t}}return!1}function By(e,t,r){t=is(r,t),t=Dj(e,t,1),e=ui(e,t,1),t=Mt(),e!==null&&(dl(e,1,t),qt(e,t))}function Re(e,t,r){if(e.tag===3)By(e,e,r);else for(;t!==null;){if(t.tag===3){By(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(di===null||!di.has(n))){e=is(r,e),e=$j(t,e,1),t=ui(t,e,1),e=Mt(),t!==null&&(dl(t,1,e),qt(t,e));break}}t=t.return}}function OO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(yt&r)===r&&(et===4||et===3&&(yt&130023424)===yt&&500>Fe()-gg?Ki(e,0):pg|=r),qt(e,t)}function r2(e,t){t===0&&(e.mode&1?(t=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):t=1);var r=Mt();e=Cn(e,t),e!==null&&(dl(e,t,r),qt(e,r))}function AO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),r2(e,r)}function TO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(t),r2(e,r)}var n2;n2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,xO(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Te&&t.flags&1048576&&oj(t,Xc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ac(e,t),e=t.pendingProps;var i=es(t,Et.current);Ha(t,r),i=cg(null,t,n,e,i,r);var a=ug();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(a=!0,Qc(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ig(t),i.updater=od,t.stateNode=i,i._reactInternals=t,tm(t,n,e,r),t=im(null,t,n,!0,a,r)):(t.tag=0,Te&&a&&Jp(t),At(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ac(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=IO(n),e=Mr(n,e),i){case 0:t=nm(null,t,n,e,r);break e;case 1:t=Ay(null,t,n,e,r);break e;case 11:t=Py(null,t,n,e,r);break e;case 14:t=Oy(null,t,n,Mr(n.type,e),r);break e}throw Error(B(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mr(n,i),nm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mr(n,i),Ay(e,t,n,i,r);case 3:e:{if(Uj(t),e===null)throw Error(B(387));n=t.pendingProps,a=t.memoizedState,i=a.element,hj(e,t),tu(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=is(Error(B(423)),t),t=Ty(e,t,n,r,i);break e}else if(n!==i){i=is(Error(B(424)),t),t=Ty(e,t,n,r,i);break e}else for(Zt=ci(t.stateNode.containerInfo.firstChild),er=t,Te=!0,$r=null,r=dj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ts(),n===i){t=Pn(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return mj(t),e===null&&Xh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Kh(n,i)?s=null:a!==null&&Kh(n,a)&&(t.flags|=32),zj(e,t),At(e,t,s,r),t.child;case 6:return e===null&&Xh(t),null;case 13:return Bj(e,t,r);case 4:return ag(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=rs(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mr(n,i),Py(e,t,n,i,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Se(Zc,n._currentValue),n._currentValue=s,a!==null)if(Wr(a.value,s)){if(a.children===i.children&&!Ft.current){t=Pn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=jn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Zh(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(B(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Zh(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}At(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ha(t,r),i=jr(i),n=n(i),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,i=Mr(n,t.pendingProps),i=Mr(n.type,i),Oy(e,t,n,i,r);case 15:return Lj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mr(n,i),Ac(e,t),t.tag=1,Wt(n)?(e=!0,Qc(t)):e=!1,Ha(t,r),Ij(t,n,i),tm(t,n,i,r),im(null,t,n,!0,e,r);case 19:return Fj(e,t,r);case 22:return Rj(e,t,r)}throw Error(B(156,t.tag))};function i2(e,t){return A1(e,t)}function MO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new MO(e,t,r,n)}function bg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IO(e){if(typeof e=="function")return bg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zp)return 11;if(e===Up)return 14}return 2}function hi(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ic(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")bg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Oa:return Gi(r.children,i,a,t);case Rp:s=8,i|=8;break;case Sh:return e=vr(12,r,t,i|2),e.elementType=Sh,e.lanes=a,e;case Nh:return e=vr(13,r,t,i),e.elementType=Nh,e.lanes=a,e;case Eh:return e=vr(19,r,t,i),e.elementType=Eh,e.lanes=a,e;case m1:return ud(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f1:s=10;break e;case h1:s=9;break e;case zp:s=11;break e;case Up:s=14;break e;case Kn:s=16,n=null;break e}throw Error(B(130,e==null?e:typeof e,""))}return t=vr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Gi(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function ud(e,t,r,n){return e=vr(22,e,n,t),e.elementType=m1,e.lanes=r,e.stateNode={isHidden:!1},e}function Df(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function $f(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wg(e,t,r,n,i,a,s,o,c){return e=new DO(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(a),e}function $O(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function a2(e){if(!e)return vi;e=e._reactInternals;e:{if(da(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var r=e.type;if(Wt(r))return aj(e,r,t)}return t}function s2(e,t,r,n,i,a,s,o,c){return e=wg(r,n,!0,e,i,a,s,o,c),e.context=a2(null),r=e.current,n=Mt(),i=fi(r),a=jn(n,i),a.callback=t??null,ui(r,a,i),e.current.lanes=i,dl(e,i,n),qt(e,n),e}function dd(e,t,r,n){var i=t.current,a=Mt(),s=fi(i);return r=a2(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ui(i,t,s),e!==null&&(Br(e,i,s,a),Cc(e,i,s)),s}function cu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jg(e,t){Fy(e,t),(e=e.alternate)&&Fy(e,t)}function LO(){return null}var o2=typeof reportError=="function"?reportError:function(e){console.error(e)};function _g(e){this._internalRoot=e}fd.prototype.render=_g.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));dd(e,t,null,null)};fd.prototype.unmount=_g.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;na(function(){dd(null,e,null,null)}),t[En]=null}};function fd(e){this._internalRoot=e}fd.prototype.unstable_scheduleHydration=function(e){if(e){var t=R1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Xn.length&&t!==0&&t<Xn[r].priority;r++);Xn.splice(r,0,e),r===0&&U1(e)}};function kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function RO(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=cu(s);a.call(u)}}var s=s2(t,n,e,0,null,!1,!1,"",Wy);return e._reactRootContainer=s,e[En]=s.current,Io(e.nodeType===8?e.parentNode:e),na(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=cu(c);o.call(u)}}var c=wg(e,0,!1,null,null,!1,!1,"",Wy);return e._reactRootContainer=c,e[En]=c.current,Io(e.nodeType===8?e.parentNode:e),na(function(){dd(t,c,r,n)}),c}function md(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=cu(s);o.call(c)}}dd(t,s,e,i)}else s=RO(r,t,e,i,n);return cu(s)}$1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=no(t.pendingLanes);r!==0&&(Wp(t,r|1),qt(t,Fe()),!(me&6)&&(as=Fe()+500,ji()))}break;case 13:na(function(){var n=Cn(e,1);if(n!==null){var i=Mt();Br(n,e,1,i)}}),jg(e,1)}};qp=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=Mt();Br(t,e,134217728,r)}jg(e,134217728)}};L1=function(e){if(e.tag===13){var t=fi(e),r=Cn(e,t);if(r!==null){var n=Mt();Br(r,e,t,n)}jg(e,t)}};R1=function(){return be};z1=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Lh=function(e,t,r){switch(t){case"input":if(Oh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=id(n);if(!i)throw Error(B(90));g1(n),Oh(n,i)}}}break;case"textarea":y1(e,r);break;case"select":t=r.value,t!=null&&Fa(e,!!r.multiple,t,!1)}};S1=vg;N1=na;var zO={usingClientEntryPoint:!1,Events:[hl,Ia,id,_1,k1,vg]},Vs={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UO={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$n.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=P1(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||LO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{ed=ec.inject(UO),tn=ec}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zO;ir.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kg(t))throw Error(B(200));return $O(e,t,null,r)};ir.createRoot=function(e,t){if(!kg(e))throw Error(B(299));var r=!1,n="",i=o2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wg(e,1,!1,null,null,r,!1,n,i),e[En]=t.current,Io(e.nodeType===8?e.parentNode:e),new _g(t)};ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=P1(t),e=e===null?null:e.stateNode,e};ir.flushSync=function(e){return na(e)};ir.hydrate=function(e,t,r){if(!hd(t))throw Error(B(200));return md(null,e,t,!0,r)};ir.hydrateRoot=function(e,t,r){if(!kg(e))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=o2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=s2(t,null,e,1,r??null,i,!1,a,s),e[En]=t.current,Io(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new fd(t)};ir.render=function(e,t,r){if(!hd(t))throw Error(B(200));return md(null,e,t,!1,r)};ir.unmountComponentAtNode=function(e){if(!hd(e))throw Error(B(40));return e._reactRootContainer?(na(function(){md(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};ir.unstable_batchedUpdates=vg;ir.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hd(r))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return md(e,t,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function l2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l2)}catch(e){console.error(e)}}l2(),l1.exports=ir;var Sg=l1.exports,c2,qy=Sg;c2=qy.createRoot,qy.hydrateRoot;const BO="modulepreload",FO=function(e){return"/"+e},Vy={},pl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=FO(c),c in Vy)return;Vy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":BO,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},WO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pl(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ng extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class qO extends Ng{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hy extends Ng{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ky extends Ng{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gm||(gm={}));var VO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class HO{constructor(t,{headers:r={},customFetch:n,region:i=gm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=WO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return VO(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(b=>{throw new qO(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Hy(f);if(!f.ok)throw new Ky(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield f.json():m==="application/octet-stream"?x=yield f.blob():m==="text/event-stream"?x=f:m==="multipart/form-data"?x=yield f.formData():x=yield f.text(),{data:x,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Ky||i instanceof Hy?i.context:void 0}}})}}var zt={},Eg={},pd={},gl={},gd={},vd={},KO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ss=KO();const GO=ss.fetch,u2=ss.fetch.bind(ss),d2=ss.Headers,YO=ss.Request,QO=ss.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:d2,Request:YO,Response:QO,default:u2,fetch:GO},Symbol.toStringTag,{value:"Module"})),JO=mC(ks);var yd={};Object.defineProperty(yd,"__esModule",{value:!0});let XO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};yd.default=XO;var f2=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vd,"__esModule",{value:!0});const ZO=f2(JO),eA=f2(yd);let tA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ZO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,c,u;let d=null,f=null,h=null,m=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const w=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,x="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,x="OK")}catch{a.status===404&&w===""?(m=204,x="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,x="OK"),d&&this.shouldThrowOnError)throw new eA.default(d)}return{error:d,data:f,count:h,status:m,statusText:x}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};vd.default=tA;var rA=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gd,"__esModule",{value:!0});const nA=rA(vd);let iA=class extends nA.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};gd.default=iA;var aA=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gl,"__esModule",{value:!0});const sA=aA(gd);let oA=class extends sA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};gl.default=oA;var lA=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pd,"__esModule",{value:!0});const Hs=lA(gl);let cA=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Hs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Hs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Hs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Hs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};pd.default=cA;var h2=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Eg,"__esModule",{value:!0});const uA=h2(pd),dA=h2(gl);let fA=class m2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new uA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new m2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(o="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new dA.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Eg.default=fA;var Ss=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;const p2=Ss(Eg);zt.PostgrestClient=p2.default;const g2=Ss(pd);zt.PostgrestQueryBuilder=g2.default;const v2=Ss(gl);zt.PostgrestFilterBuilder=v2.default;const y2=Ss(gd);zt.PostgrestTransformBuilder=y2.default;const x2=Ss(vd);zt.PostgrestBuilder=x2.default;const b2=Ss(yd);zt.PostgrestError=b2.default;var hA=zt.default={PostgrestClient:p2.default,PostgrestQueryBuilder:g2.default,PostgrestFilterBuilder:v2.default,PostgrestTransformBuilder:y2.default,PostgrestBuilder:x2.default,PostgrestError:b2.default};const{PostgrestClient:mA,PostgrestQueryBuilder:Iq,PostgrestFilterBuilder:Dq,PostgrestTransformBuilder:$q,PostgrestBuilder:Lq,PostgrestError:Rq}=hA;class pA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gA="2.15.5",vA=`realtime-js/${gA}`,yA="1.0.0",vm=1e4,xA=1e3,bA=100;var bo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bo||(bo={}));var Ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ye||(Ye={}));var Dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Dr||(Dr={}));var ym;(function(e){e.websocket="websocket"})(ym||(ym={}));var zi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zi||(zi={}));class wA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class w2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const Gy=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=jA(s,e,t,i),a),{})},jA=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?j2(a,s):xm(s)},j2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return NA(t,r)}switch(e){case _e.bool:return _A(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return kA(t);case _e.json:case _e.jsonb:return SA(t);case _e.timestamp:return EA(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return xm(t);default:return xm(t)}},xm=e=>e,_A=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},NA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>j2(t,o))}return e},EA=e=>typeof e=="string"?e.replace(" ","T"):e,_2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Lf{constructor(t,r,n={},i=vm){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yy||(Yy={}));class wo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=wo.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=wo.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),x=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);x.length>0&&(o[u]=x),b.length>0&&(c[u]=b)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qy||(Qy={}));var jo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jo||(jo={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class Cg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lf(this,Dr.join,this.params,this.timeout),this.rejoinTimer=new w2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new wo(this),this.broadcastEndpointURL=_2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[jo.PRESENCE]&&this.bindings[jo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(hn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var x;if(this.socket.setAuth(),m===void 0){t==null||t(hn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,v=[];for(let g=0;g<w;g++){const p=b[g],{filter:{event:j,schema:S,table:k,filter:_}}=p,N=m&&m[g];if(N&&N.event===j&&N.schema===S&&N.table===k&&N.filter===_)v.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=Ye.errored,t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(hn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ye.errored,t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ye.joined&&t===jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Lf(this,Dr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Dr;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var x,b,w;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var x,b,w,v,g,p;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,S=(x=m.filter)===null||x===void 0?void 0:x.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const x=h.data,{schema:b,table:w,commit_timestamp:v,type:g,errors:p}=x;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:v,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(x))}m.callback(h,n)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Cg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dr.close,{},t)}_onError(t){this._on(Dr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gy(t.columns,t.old_record)),r}}const Rf=()=>{},tc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CA=[1e3,2e3,5e3,1e4],PA=1e4,OA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vm,this.transport=null,this.heartbeatIntervalMs=tc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rf,this.ref=0,this.reconnectTimer=null,this.logger=Rf,this.conn=null,this.sendBuffer=[],this.serializer=new wA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>pl(async()=>{const{default:o}=await Promise.resolve().then(()=>ks);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ym.websocket}`,this.httpEndpoint=_2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:yA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case bo.connecting:return zi.Connecting;case bo.open:return zi.Open;case bo.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Cg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:vA};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Dr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new w2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:vm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:tc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Rf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>CA[f-1]||PA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Pg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TA extends Pg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bm extends Pg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var MA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const k2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pl(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},IA=()=>MA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pl(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),wm=e=>{if(Array.isArray(e))return e.map(r=>wm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=wm(n)}),t},DA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var fa=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const zf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$A=(e,t,r)=>fa(void 0,void 0,void 0,function*(){const n=yield IA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new TA(zf(i),a,s))}).catch(i=>{t(new bm(zf(i),i))}):t(new bm(zf(e),e))}),LA=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(DA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function vl(e,t,r,n,i,a){return fa(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,LA(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>$A(c,o,n))})})}function uu(e,t,r,n){return fa(this,void 0,void 0,function*(){return vl(e,"GET",t,r,n)})}function Xr(e,t,r,n,i){return fa(this,void 0,void 0,function*(){return vl(e,"POST",t,n,i,r)})}function jm(e,t,r,n,i){return fa(this,void 0,void 0,function*(){return vl(e,"PUT",t,n,i,r)})}function RA(e,t,r,n){return fa(this,void 0,void 0,function*(){return vl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function S2(e,t,r,n,i){return fa(this,void 0,void 0,function*(){return vl(e,"DELETE",t,n,i,r)})}var Ot=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const zA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UA{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=k2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ot(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Jy),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?jm:Xr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ot(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Jy.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield jm(this.fetch,o.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Xr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new Pg("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ot(this,void 0,void 0,function*(){try{const i=yield Xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}download(t,r){return Ot(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield uu(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}info(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield uu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}exists(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield RA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n)&&n instanceof bm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ot(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},zA),r),{prefix:t||""});return{data:yield Xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ot(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Xr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const BA="2.12.1",FA={"X-Client-Info":`storage-js/${BA}`};var ba=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class WA{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},FA),r),this.fetch=k2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ba(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(t){return ba(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ba(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ba(this,void 0,void 0,function*(){try{return{data:yield jm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ba(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ba(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}})}}class qA extends WA{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new UA(this.url,this.headers,t,this.fetch)}}const VA="2.57.4";let ao="";typeof Deno<"u"?ao="deno":typeof document<"u"?ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ao="react-native":ao="node";const HA={"X-Client-Info":`supabase-js-${ao}/${VA}`},KA={headers:HA},GA={schema:"public"},YA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},QA={};var JA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const XA=e=>{let t;return e?t=e:typeof fetch>"u"?t=u2:t=fetch,(...r)=>t(...r)},ZA=()=>typeof Headers>"u"?d2:Headers,eT=(e,t,r)=>{const n=XA(r),i=ZA();return(a,s)=>JA(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var tT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function rT(e){return e.endsWith("/")?e:e+"/"}function nT(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>tT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function iT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const N2="2.71.1",Ea=30*1e3,_m=3,Uf=_m*Ea,aT="http://localhost:9999",sT="supabase.auth.token",oT={"X-Client-Info":`gotrue-js/${N2}`},km="X-Supabase-Api-Version",E2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cT=10*60*1e3;class Og extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class uT extends Og{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function dT(e){return se(e)&&e.name==="AuthApiError"}class C2 extends Og{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _i extends Og{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Hn extends _i{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fT(e){return se(e)&&e.name==="AuthSessionMissingError"}class rc extends _i{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nc extends _i{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ic extends _i{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hT(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xy extends _i{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sm extends _i{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bf(e){return se(e)&&e.name==="AuthRetryableFetchError"}class Zy extends _i{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nm extends _i{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ex=` 	
\r=`.split(""),mT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ex.length;t+=1)e[ex[t].charCodeAt(0)]=-2;for(let t=0;t<du.length;t+=1)e[du[t].charCodeAt(0)]=t;return e})();function tx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(du[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(du[n]),t.queuedBits-=6}}function P2(e,t,r){const n=mT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rx(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{vT(s,n,r)};for(let s=0;s<e.length;s+=1)P2(e.charCodeAt(s),i,a);return t.join("")}function pT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function gT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}pT(n,t)}}function vT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function yT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)P2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function xT(e){const t=[];return gT(e,r=>t.push(r)),new Uint8Array(t)}function bT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>tx(i,r,n)),tx(null,r,n),t.join("")}function wT(e){return Math.round(Date.now()/1e3)+e}function jT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ar=()=>typeof window<"u"&&typeof document<"u",Oi={tested:!1,writable:!1},O2=()=>{if(!Ar())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oi.tested)return Oi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Oi.tested=!0,Oi.writable=!0}catch{Oi.tested=!0,Oi.writable=!1}return Oi.writable};function _T(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const A2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pl(async()=>{const{default:n}=await Promise.resolve().then(()=>ks);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},kT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ai=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vn=async(e,t)=>{await e.removeItem(t)};class xd{constructor(){this.promise=new xd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xd.promiseConstructor=Promise;function Ff(e){const t=e.split(".");if(t.length!==3)throw new Nm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!lT.test(t[n]))throw new Nm("JWT not in base64url format");return{header:JSON.parse(rx(t[0])),payload:JSON.parse(rx(t[1])),signature:yT(t[2]),raw:{header:t[0],payload:t[1]}}}async function ST(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function NT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function ET(e){return("0"+e.toString(16)).substr(-2)}function CT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,ET).join("")}async function PT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function OT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await PT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wa(e,t,r=!1){const n=CT();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ca(e,`${t}-code-verifier`,i);const a=await OT(n);return[a,n===a?"plain":"s256"]}const AT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TT(e){const t=e.headers.get(km);if(!t||!t.match(AT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ja(e){if(!DT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nx(e){return JSON.parse(JSON.stringify(e))}var $T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Di=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),LT=[502,503,504];async function ix(e){var t;if(!kT(e))throw new Sm(Di(e),0);if(LT.includes(e.status))throw new Sm(Di(e),e.status);let r;try{r=await e.json()}catch(a){throw new C2(Di(a),a)}let n;const i=TT(e);if(i&&i.getTime()>=E2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zy(Di(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Zy(Di(r),e.status,r.weak_password.reasons);throw new uT(Di(r),e.status||500,n)}const RT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ue(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[km]||(a[km]=E2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await zT(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zT(e,t,r,n,i,a){const s=RT(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Sm(Di(c),0)}if(o.ok||await ix(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await ix(c)}}function dn(e){var t;let r=null;WT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=wT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ax(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ei(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function UT(e){return{data:e,error:null}}function BT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=$T(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function FT(e){return e}function WT(e){return e.access_token&&e.refresh_token&&e.expires_in}const qf=["global","local","others"];var qT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class VT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=A2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=qf[0]){if(qf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${qf.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ei})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:BT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ei})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FT});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ja(t);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ei})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ja(t);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ei})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ja(t);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ei})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ja(t.userId);try{const{data:r,error:n}=await ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ja(t.userId),ja(t.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}}function sx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function HT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const _a={debug:!!(globalThis&&O2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class T2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KT extends T2{}async function GT(e,t,r){_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),_a.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{_a.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw _a.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_a.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}HT();const YT={url:aT,storageKey:sT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ox(e,t,r){return await r()}const ka={};class Wo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wo.nextInstanceID,Wo.nextInstanceID+=1,this.instanceID>0&&Ar()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},YT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=A2(i.fetch),this.lock=i.lock||ox,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ar()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=GT:this.lock=ox,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:O2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=sx(this.memoryStorage)),Ar()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ka[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ka[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ka[this.storageKey]=Object.assign(Object.assign({},ka[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${N2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=_T(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ar()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hT(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new C2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dn}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await wa(this.storage,this.storageKey)),a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:x},xform:dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dn})}else throw new nc("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ax})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ax})}else throw new nc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,c,u,d,f,h,m;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:w,wallet:v,statement:g,options:p}=t;let j;if(Ar())if(typeof v=="object")j=v;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(x),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:v}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:bT(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new rc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(se(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ai(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new rc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(se(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dn}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await wa(this.storage,this.storageKey));const{error:f}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nc("You must provide either an email or phone number.")}catch(o){if(se(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:dn});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(se(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await wa(this.storage,this.storageKey)),await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:UT})}catch(a){if(se(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hn;const{error:i}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(se(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await ue(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new nc("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ai(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Uf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ai(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Wf()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ei}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ei})})}catch(r){if(se(r))return fT(r)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Hn;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await wa(this.storage,this.storageKey));const{data:u,error:d}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:ei});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Ff(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ar())throw new ic("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ic(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ic("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xy("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new ic("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const x=h-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,h,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,h,d);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const v={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(se(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ai(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(dT(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await wa(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(se(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ar()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(se(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await NT(async i=>(i>0&&await ST(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Bf(a)&&Date.now()+s-n<Ea})}catch(n){if(this._debug(r,"error",n),se(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ar()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ai(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ai(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ca(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Wf()}else if(i&&!i.user&&!i.user){const s=await Ai(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Vn(this.storage,this.storageKey+"-user"),await Ca(this.storage,this.storageKey,i)):i.user=Wf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Uf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Bf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xd;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),se(a)){const s={session:null,error:a};return Bf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ca(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=nx(i);await Ca(this.storage,this.storageKey,a)}else{const i=nx(r);await Ca(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ar()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ea);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ea}ms, refresh threshold is ${_m} ticks`),i<=_m&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof T2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ar()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await wa(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ff(i.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+cT>i)return n;const{data:a,error:s}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=Ff(n);r!=null&&r.allowExpired||MT(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const d=IT(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,xT(`${o}.${c}`)))throw new Nm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}}Wo.nextInstanceID=0;const QT=Wo;class JT extends QT{constructor(t){super(t)}}var XT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class ZT{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=iT(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:GA,realtime:QA,auth:Object.assign(Object.assign({},YA),{storageKey:c}),global:KA},d=nT(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=eT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mA(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new qA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new HO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return XT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new AA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const eM=(e,t,r)=>new ZT(e,t,r);function tM(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}tM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rM="https://dpbohbsxstthvhzgqxje.supabase.co",nM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0",U=eM(rM,nM,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),ii=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),os=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:i,error:a}=await U.storage.from("cloudmenu").upload(n,e);if(a)return{url:"",error:a.message};const{data:s}=U.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},Ga=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await U.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},iM=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await U.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},M2=y.createContext(void 0);function sr(){const e=y.useContext(M2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function aM({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(!0),[o,c]=y.useState(null),[u,d]=y.useState(!1);y.useEffect(()=>{const b=new URLSearchParams(window.location.search),w=b.has("code")||b.has("access_token")||b.has("token_type");d(w)},[]),y.useEffect(()=>{const b=()=>{const w=!document.hidden,v=a;if(v!==w&&s(w),w&&!v&&t&&!u){const g=Date.now(),p=sessionStorage.getItem("lastSessionCheck");g-(p?parseInt(p):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",g.toString()),U.auth.getSession().then(({data:{session:S}})=>{!S&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(S=>{console.error("Error checking session on tab visibility change:",S)}))}};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[t,u]),y.useEffect(()=>{let b=!0,w=null;const v=u?15e3:8e3,g=setTimeout(()=>{b&&n&&(console.warn(`Auth initialization timeout after ${v}ms - forcing completion`),i(!1),U.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&b&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},v);return c(g),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),S=sessionStorage.getItem("lastAuthInit");if(j-(S?parseInt(S):0)<60*60*1e3&&t&&!u){i(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:_}}=await U.auth.getSession();g&&clearTimeout(g),b&&r((_==null?void 0:_.user)??null)}catch(_){console.error("Error initializing auth:",_),g&&clearTimeout(g),b&&r(null)}finally{b&&(i(!1),g&&clearTimeout(g))}})(),w=U.auth.onAuthStateChange(async(j,S)=>{var k;if(b&&!(!a&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((k=S==null?void 0:S.user)==null?void 0:k.id)===t.id))try{r((S==null?void 0:S.user)??null)}catch(_){console.error("Error in auth state change:",_)}finally{b&&i(!1)}}),()=>{b=!1,o&&clearTimeout(o),w&&w.data.subscription.unsubscribe()}},[a,u]);const f=async(b,w)=>{const{error:v}=await U.auth.signInWithPassword({email:b,password:w});return{error:v??void 0}},h=async(b,w)=>{const{error:v}=await U.auth.signUp({email:b,password:w});return{error:v??void 0}},m=async()=>{try{const{error:b}=await U.auth.signOut();b?console.error("Erreur lors de la déconnexion:",b):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},x={user:t,loading:n,signIn:f,signUp:h,signOut:m};return l.jsx(M2.Provider,{value:x,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ee=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>y.createElement("svg",{ref:d,...sM,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${oM(e)}`,o].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ee("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=ee("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=ee("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=ee("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=ee("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ee("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=ee("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=ee("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ee("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=ee("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=ee("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class CM extends y.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(lM,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontré une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner à l'accueil."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(SM,{className:"w-4 h-4"}),l.jsx("span",{children:"Recharger"})]}),l.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 Si le problème persiste:"}),l.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Vérifiez votre connexion internet"}),l.jsx("li",{children:"• Effacez le cache de votre navigateur"}),l.jsx("li",{children:"• Contactez le support si nécessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fx="popstate";function PM(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return Mm("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Jo(i)}return AM(t,r,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OM(){return Math.random().toString(36).substring(2,10)}function hx(e,t){return{usr:e.state,key:e.key,idx:t}}function Mm(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ns(t):t,state:r,key:t&&t.key||n||OM()}}function Jo({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ns(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function AM(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let w=d(),v=w==null?null:w-u;u=w,c&&c({action:o,location:b.location,delta:v})}function h(w,v){o="PUSH";let g=Mm(b.location,w,v);u=d()+1;let p=hx(g,u),j=b.createHref(g);try{s.pushState(p,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:o,location:b.location,delta:1})}function m(w,v){o="REPLACE";let g=Mm(b.location,w,v);u=d();let p=hx(g,u),j=b.createHref(g);s.replaceState(p,"",j),a&&c&&c({action:o,location:b.location,delta:0})}function x(w){return TM(w)}let b={get action(){return o},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(fx,f),c=w,()=>{i.removeEventListener(fx,f),c=null}},createHref(w){return t(i,w)},createURL:x,encodeLocation(w){let v=x(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(w){return s.go(w)}};return b}function TM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$e(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Jo(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function L2(e,t,r="/"){return MM(e,t,r,!1)}function MM(e,t,r,n){let i=typeof t=="string"?Ns(t):t,a=An(i.pathname||"/",r);if(a==null)return null;let s=R2(e);IM(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=VM(a);o=WM(s[c],u,n)}return o}function R2(e,t=[],r=[],n="",i=!1){let a=(s,o,c=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;$e(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=_n([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&($e(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),R2(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:BM(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let u of z2(s.path))a(s,o,!0,u)}),t}function z2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=z2(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function IM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:FM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DM=/^:[\w-]+$/,$M=3,LM=2,RM=1,zM=10,UM=-2,mx=e=>e==="*";function BM(e,t){let r=e.split("/"),n=r.length;return r.some(mx)&&(n+=UM),t&&(n+=LM),r.filter(i=>!mx(i)).reduce((i,a)=>i+(DM.test(a)?$M:a===""?RM:zM),n)}function FM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function WM(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=mu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=mu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:_n([a,f.pathname]),pathnameBase:YM(_n([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=_n([a,f.pathnameBase]))}return s}function mu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qM(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let x=o[h]||"";s=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function qM(e,t=!1,r=!0){qr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function VM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function An(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function HM(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ns(e):e;return{pathname:r?r.startsWith("/")?r:KM(r,t):t,search:QM(n),hash:JM(i)}}function KM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Kf(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function U2(e){let t=GM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function B2(e,t,r,n=!1){let i;typeof e=="string"?i=Ns(e):(i={...e},$e(!i.pathname||!i.pathname.includes("?"),Kf("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),Kf("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),Kf("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=HM(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var _n=e=>e.join("/").replace(/\/\/+/g,"/"),YM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,JM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function XM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var F2=["POST","PUT","PATCH","DELETE"];new Set(F2);var ZM=["GET",...F2];new Set(ZM);var Es=y.createContext(null);Es.displayName="DataRouter";var bd=y.createContext(null);bd.displayName="DataRouterState";y.createContext(!1);var W2=y.createContext({isTransitioning:!1});W2.displayName="ViewTransition";var e4=y.createContext(new Map);e4.displayName="Fetchers";var t4=y.createContext(null);t4.displayName="Await";var ln=y.createContext(null);ln.displayName="Navigation";var xl=y.createContext(null);xl.displayName="Location";var cn=y.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var $g=y.createContext(null);$g.displayName="RouteError";function r4(e,{relative:t}={}){$e(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(ln),{hash:i,pathname:a,search:s}=wl(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:_n([r,a])),n.createHref({pathname:o,search:s,hash:i})}function bl(){return y.useContext(xl)!=null}function Ln(){return $e(bl(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(xl).location}var q2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V2(e){y.useContext(ln).static||y.useLayoutEffect(e)}function Hr(){let{isDataRoute:e}=y.useContext(cn);return e?p4():n4()}function n4(){$e(bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Es),{basename:t,navigator:r}=y.useContext(ln),{matches:n}=y.useContext(cn),{pathname:i}=Ln(),a=JSON.stringify(U2(n)),s=y.useRef(!1);return V2(()=>{s.current=!0}),y.useCallback((c,u={})=>{if(qr(s.current,q2),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=B2(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_n([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}y.createContext(null);function ha(){let{matches:e}=y.useContext(cn),t=e[e.length-1];return t?t.params:{}}function wl(e,{relative:t}={}){let{matches:r}=y.useContext(cn),{pathname:n}=Ln(),i=JSON.stringify(U2(r));return y.useMemo(()=>B2(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function i4(e,t){return H2(e,t)}function H2(e,t,r,n,i){var g;$e(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(ln),{matches:s}=y.useContext(cn),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let p=f&&f.path||"";K2(u,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=Ln(),m;if(t){let p=typeof t=="string"?Ns(t):t;$e(d==="/"||((g=p.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let x=m.pathname||"/",b=x;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=L2(e,{pathname:b});qr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),qr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=c4(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:_n([d,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:_n([d,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n,i);return t&&v?y.createElement(xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},v):v}function a4(){let e=m4(),t=XM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:a},"ErrorBoundary")," or"," ",y.createElement("code",{style:a},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:i},r):null,s)}var s4=y.createElement(a4,null),o4=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(cn.Provider,{value:this.props.routeContext},y.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l4({routeContext:e,match:t,children:r}){let n=y.useContext(Es);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(cn.Provider,{value:e},r)}function c4(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);$e(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,m=!1,x=null,b=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||s4,o&&(c<0&&f===0?(K2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),v=()=>{let g;return h?g=x:m?g=b:d.route.Component?g=y.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,y.createElement(l4,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?y.createElement(o4,{location:r.location,revalidation:r.revalidation,component:x,error:h,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):v()},null)}function Lg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u4(e){let t=y.useContext(Es);return $e(t,Lg(e)),t}function d4(e){let t=y.useContext(bd);return $e(t,Lg(e)),t}function f4(e){let t=y.useContext(cn);return $e(t,Lg(e)),t}function Rg(e){let t=f4(e),r=t.matches[t.matches.length-1];return $e(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function h4(){return Rg("useRouteId")}function m4(){var n;let e=y.useContext($g),t=d4("useRouteError"),r=Rg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function p4(){let{router:e}=u4("useNavigate"),t=Rg("useNavigate"),r=y.useRef(!1);return V2(()=>{r.current=!0}),y.useCallback(async(i,a={})=>{qr(r.current,q2),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var px={};function K2(e,t,r){!t&&!px[e]&&(px[e]=!0,qr(!1,r))}y.memo(g4);function g4({routes:e,future:t,state:r,unstable_onError:n}){return H2(e,void 0,r,n,t)}function ht(e){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){$e(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=y.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=Ns(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=y.useMemo(()=>{let x=An(c,s);return x==null?null:{location:{pathname:x,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return qr(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:y.createElement(ln.Provider,{value:o},y.createElement(xl.Provider,{children:t,value:m}))}function y4({children:e,location:t}){return i4(Im(e),t)}function Im(e,t=[]){let r=[];return y.Children.forEach(e,(n,i)=>{if(!y.isValidElement(n))return;let a=[...t,i];if(n.type===y.Fragment){r.push.apply(r,Im(n.props.children,a));return}$e(n.type===ht,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Im(n.props.children,a)),r.push(s)}),r}var $c="get",Lc="application/x-www-form-urlencoded";function wd(e){return e!=null&&typeof e.tagName=="string"}function x4(e){return wd(e)&&e.tagName.toLowerCase()==="button"}function b4(e){return wd(e)&&e.tagName.toLowerCase()==="form"}function w4(e){return wd(e)&&e.tagName.toLowerCase()==="input"}function j4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _4(e,t){return e.button===0&&(!t||t==="_self")&&!j4(e)}function Dm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function k4(e,t){let r=Dm(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var ac=null;function S4(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var N4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gf(e){return e!=null&&!N4.has(e)?(qr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lc}"`),null):e}function E4(e,t){let r,n,i,a,s;if(b4(e)){let o=e.getAttribute("action");n=o?An(o,t):null,r=e.getAttribute("method")||$c,i=Gf(e.getAttribute("enctype"))||Lc,a=new FormData(e)}else if(x4(e)||w4(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?An(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||$c,i=Gf(e.getAttribute("formenctype"))||Gf(o.getAttribute("enctype"))||Lc,a=new FormData(o,e),!S4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(wd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$c,n=null,i=Lc,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function C4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&An(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function P4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function A4(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await P4(a,r);return s.links?s.links():[]}return[]}));return D4(n.flat(1).filter(O4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function gx(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function T4(e,t,{includeHydrateFallback:r}={}){return M4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function M4(e){return[...new Set(e)]}function I4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function D4(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(I4(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function G2(){let e=y.useContext(Es);return zg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function $4(){let e=y.useContext(bd);return zg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ug=y.createContext(void 0);Ug.displayName="FrameworkContext";function Y2(){let e=y.useContext(Ug);return zg(e,"You must render this element inside a <HydratedRouter> element"),e}function L4(e,t){let r=y.useContext(Ug),[n,i]=y.useState(!1),[a,s]=y.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=y.useRef(null);y.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=v=>{v.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),y.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{i(!0)},x=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Ks(o,m),onBlur:Ks(c,x),onMouseEnter:Ks(u,m),onMouseLeave:Ks(d,x),onTouchStart:Ks(f,m)}]:[!1,h,{}]}function Ks(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function R4({page:e,...t}){let{router:r}=G2(),n=y.useMemo(()=>L2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(U4,{page:e,matches:n,...t}):null}function z4(e){let{manifest:t,routeModules:r}=Y2(),[n,i]=y.useState([]);return y.useEffect(()=>{let a=!1;return A4(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function U4({page:e,matches:t,...r}){let n=Ln(),{manifest:i,routeModules:a}=Y2(),{basename:s}=G2(),{loaderData:o,matches:c}=$4(),u=y.useMemo(()=>gx(e,t,c,i,n,"data"),[e,t,c,i,n]),d=y.useMemo(()=>gx(e,t,c,i,n,"assets"),[e,t,c,i,n]),f=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let x=new Set,b=!1;if(t.forEach(v=>{var p;let g=i.routes[v.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===v.route.id)&&v.route.id in o&&((p=a[v.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?b=!0:x.add(v.route.id))}),x.size===0)return[];let w=C4(e,s,"data");return b&&x.size>0&&w.searchParams.set("_routes",t.filter(v=>x.has(v.route.id)).map(v=>v.route.id).join(",")),[w.pathname+w.search]},[s,o,n,i,u,t,e,a]),h=y.useMemo(()=>T4(d,i),[d,i]),m=z4(d);return y.createElement(y.Fragment,null,f.map(x=>y.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),h.map(x=>y.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),m.map(({key:x,link:b})=>y.createElement("link",{key:x,nonce:r.nonce,...b})))}function B4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Q2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q2&&(window.__reactRouterVersion="7.9.1")}catch{}function F4({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=PM({window:r,v5Compat:!0}));let i=n.current,[a,s]=y.useState({action:i.action,location:i.location}),o=y.useCallback(c=>{y.startTransition(()=>s(c))},[s]);return y.useLayoutEffect(()=>i.listen(o),[i,o]),y.createElement(v4,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var J2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:x}=y.useContext(ln),b=typeof u=="string"&&J2.test(u),w,v=!1;if(typeof u=="string"&&b&&(w=u,Q2))try{let E=new URL(window.location.href),P=u.startsWith("//")?new URL(E.protocol+u):new URL(u),O=An(P.pathname,x);P.origin===E.origin&&O!=null?u=O+P.search+P.hash:v=!0}catch{qr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=r4(u,{relative:i}),[p,j,S]=L4(n,h),k=H4(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function _(E){t&&t(E),E.defaultPrevented||k(E)}let N=y.createElement("a",{...h,...S,href:w||g,onClick:v||a?t:_,ref:B4(m,j),target:c,"data-discover":!b&&r==="render"?"true":void 0});return p&&!b?y.createElement(y.Fragment,null,N,y.createElement(R4,{page:g})):N});Ze.displayName="Link";var W4=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...u},d){let f=wl(s,{relative:u.relative}),h=Ln(),m=y.useContext(bd),{navigator:x,basename:b}=y.useContext(ln),w=m!=null&&X4(f)&&o===!0,v=x.encodeLocation?x.encodeLocation(f).pathname:f.pathname,g=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),p=p?p.toLowerCase():null,v=v.toLowerCase()),p&&b&&(p=An(p,b)||p);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=g===v||!i&&g.startsWith(v)&&g.charAt(j)==="/",k=p!=null&&(p===v||!i&&p.startsWith(v)&&p.charAt(v.length)==="/"),_={isActive:S,isPending:k,isTransitioning:w},N=S?t:void 0,E;typeof n=="function"?E=n(_):E=[n,S?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(_):a;return y.createElement(Ze,{...u,"aria-current":N,className:E,ref:d,style:P,to:s,viewTransition:o},typeof c=="function"?c(_):c)});W4.displayName="NavLink";var q4=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=$c,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let x=Q4(),b=J4(o,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",v=typeof o=="string"&&J2.test(o),g=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let j=p.nativeEvent.submitter,S=(j==null?void 0:j.getAttribute("formmethod"))||s;x(j||p.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return y.createElement("form",{ref:m,method:w,action:b,onSubmit:n?c:g,...h,"data-discover":!v&&e==="render"?"true":void 0})});q4.displayName="Form";function V4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X2(e){let t=y.useContext(Es);return $e(t,V4(e)),t}function H4(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Hr(),c=Ln(),u=wl(e,{relative:a});return y.useCallback(d=>{if(_4(d,t)){d.preventDefault();let f=r!==void 0?r:Jo(c)===Jo(u);o(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,o,u,r,n,t,e,i,a,s])}function K4(e){qr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=y.useRef(Dm(e)),r=y.useRef(!1),n=Ln(),i=y.useMemo(()=>k4(n.search,r.current?null:t.current),[n.search]),a=Hr(),s=y.useCallback((o,c)=>{const u=Dm(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var G4=0,Y4=()=>`__${String(++G4)}__`;function Q4(){let{router:e}=X2("useSubmit"),{basename:t}=y.useContext(ln),r=h4();return y.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:c,body:u}=E4(n,t);if(i.navigate===!1){let d=i.fetcherKey||Y4();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function J4(e,{relative:t}={}){let{basename:r}=y.useContext(ln),n=y.useContext(cn);$e(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...wl(e||".",{relative:t})},s=Ln();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:_n([r,a.pathname])),Jo(a)}function X4(e,{relative:t}={}){let r=y.useContext(W2);$e(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=X2("useViewTransitionState"),i=wl(e,{relative:t});if(!r.isTransitioning)return!1;let a=An(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=An(r.nextLocation.pathname,n)||r.nextLocation.pathname;return mu(i.pathname,s)!=null||mu(i.pathname,a)!=null}const Z4=()=>{const[e,t]=y.useState("classic"),[r,n]=y.useState(""),[i,a]=y.useState(""),[s,o]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(null),[x,b]=y.useState(""),[w,v]=y.useState(!1),[g,p]=y.useState(!1),[j,S]=y.useState(""),[k,_]=y.useState(!1),{signIn:N,signUp:E}=sr(),P=async G=>{if(G.preventDefault(),!r.trim()||!i.trim()){O("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:H}=await N(r,i);H&&O("error",H.message==="Invalid login credentials"?"Email ou mot de passe incorrect":H.message)}catch{O("error","Une erreur est survenue")}finally{u(!1)}},O=(G,H)=>{m({type:G,text:H}),setTimeout(()=>m(null),5e3)},M=async G=>{if(G.preventDefault(),!j.trim()){O("error","Veuillez entrer votre adresse email");return}_(!0);try{const{error:H}=await U.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});H?O("error",H.message):(O("success","Un email de réinitialisation a été envoyé à votre adresse email."),p(!1),S(""))}catch{O("error","Une erreur est survenue")}finally{_(!1)}},I=async G=>{if(G.preventDefault(),!x.trim()){O("error","Veuillez entrer votre adresse email");return}v(!0);try{const{error:H}=await U.auth.signInWithOtp({email:x,options:{emailRedirectTo:`${window.location.origin}/`}});H?O("error",H.message):(O("success","Un lien de connexion a été envoyé à votre adresse email ! Cliquez sur le lien pour vous connecter."),b(""))}catch{O("error","Une erreur est survenue")}finally{v(!1)}},K=async()=>{try{const{error:G}=await U.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});G&&O("error",G.message)}catch{O("error","Erreur lors de la connexion avec Google")}},ne=async()=>{if(!r.trim()||!i.trim()){O("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:G}=await E(r,i);G?O("error",G.message):(O("success","Compte créé avec succès ! Vous pouvez maintenant vous connecter."),a(""))}catch{O("error","Une erreur est survenue")}finally{f(!1)}};return g?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oublié"}),l.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de réinitialisation"})]}),h&&l.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?l.jsx(Em,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(On,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:h.text})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Om,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:G=>S(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),l.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:k?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Envoyer le lien de réinitialisation"}),l.jsx(Vf,{className:"ml-2 w-4 h-4"})]})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>{p(!1),S(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour à la connexion"})})]})})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&l.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?l.jsx(Em,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(On,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:h.text})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"flex bg-gray-50",children:[l.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(Ya,{className:"w-4 h-4"}),l.jsx("span",{children:"Email & Mot de passe"})]})}),l.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(Hf,{className:"w-4 h-4"}),l.jsx("span",{children:"Connexion magique"})]})})]}),l.jsxs("div",{className:"p-8",children:[e==="classic"&&l.jsxs("form",{onSubmit:P,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Qo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:G=>n(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ya,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:G=>a(G.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>o(!s),children:s?l.jsx(mi,{size:20}):l.jsx(Fr,{size:20})})]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oublié ?"})}),l.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[l.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Se connecter"}),l.jsx(Vf,{className:"ml-2 w-4 h-4"})]})}),l.jsx("button",{type:"button",onClick:ne,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsx("span",{children:"Créer un compte"})})]})]}),e==="magic"&&l.jsxs("form",{onSubmit:I,className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Hf,{className:"w-8 h-8 text-orange-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanément."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Om,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:x,onChange:G=>b(G.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),l.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Hf,{className:"mr-2 w-4 h-4"}),l.jsx("span",{children:"Envoyer le lien magique"}),l.jsx(Vf,{className:"ml-2 w-4 h-4"})]})})]}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),l.jsxs("button",{type:"button",onClick:K,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),l.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Qo,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de démonstration"}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),l.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:l.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",l.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function Qr({children:e}){const{user:t,loading:r}=sr(),n=Hr(),[i,a]=y.useState(!1),[s,o]=y.useState(null),[c,u]=y.useState(!0),[d,f]=y.useState(!document.hidden),[h,m]=y.useState(null),[x,b]=y.useState(!1);y.useEffect(()=>{const g=new URLSearchParams(window.location.search),p=g.has("code")||g.has("access_token")||g.has("token_type");b(p)},[]),y.useEffect(()=>{if(x)return;const g=setTimeout(()=>{(i||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),a(!1))},1e4);return m(g),()=>{clearTimeout(g),m(null)}},[i,r,c,x]),y.useEffect(()=>{const g=()=>{const p=!document.hidden;p!==d&&f(p)};return document.addEventListener("visibilitychange",g),()=>document.removeEventListener("visibilitychange",g)},[d]),y.useEffect(()=>{let g=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){g&&o(!1);return}const j=Date.now(),S=sessionStorage.getItem("lastMenuCheck");if(j-(S?parseInt(S):0)<5*60*1e3&&s!==null)return;const _=s===null&&window.location.pathname!=="/onboarding";_&&a(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:N,error:E}=await U.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!g)return;if(E&&E.code!=="PGRST116"){console.error("Error checking restaurant profile:",E),o(!1),n("/onboarding",{replace:!0});return}const P=!!N;o(P),!P&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(N){if(!g)return;console.error("Exception during profile check:",N),o(!1),n("/onboarding",{replace:!0})}finally{g&&_&&a(!1)}})(),()=>{g=!1})},[t,r,n,s,d,x]),y.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),v=i&&s===null;if(w||v){const g=x?"Finalisation de la connexion...":w?"Chargement...":v?"Vérification du compte...":"Initialisation...";return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:g})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Vérification du compte..."})]})}):l.jsx(l.Fragment,{children:e}):l.jsx(Z4,{})}const e3=()=>{const{user:e,loading:t}=sr(),r=Hr(),[n,i]=y.useState(1),[a,s]=y.useState(!1),[o,c]=y.useState(null),[u,d]=y.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=y.useState(!1),[m,x]=y.useState(null),[b,w]=y.useState(!1),v=3;y.useEffect(()=>{e&&g()},[e]),y.useEffect(()=>{const O=setTimeout(()=>{if(u.restaurant_name.trim()){const M=ii(u.restaurant_name);d(I=>({...I,slug:M})),x(!0)}else d(M=>({...M,slug:""})),x(null)},500);return()=>clearTimeout(O)},[u.restaurant_name]);const g=async()=>{try{const{data:P,error:O}=await U.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(O&&O.code!=="PGRST116"){console.error("Erreur lors de la vérification du profil:",O);return}P&&r("/",{replace:!0})}catch(P){console.error("Erreur lors de la vérification du profil:",P)}},p=(P,O)=>{c({type:P,text:O}),setTimeout(()=>c(null),5e3)},j=(P,O)=>{d(M=>({...M,[P]:O}))},S=async(P,O)=>{if(!P||!e)return;const M=5*1024*1024;if(P.size>M){p("error","Le fichier est trop volumineux (max 5MB)");return}if(!P.type.startsWith("image/")){p("error","Veuillez sélectionner une image valide");return}w(!0);try{const I=O==="banner"?"banners":"logos",K=await os(P,e.id,I);j(O==="banner"?"banner_url":"logo_url",K),p("success",`${O==="banner"?"Bannière":"Logo"} uploadé avec succès`)}catch{p("error","Erreur lors de l'upload")}finally{w(!1)}},k=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},_=()=>{k()&&n<v&&i(n+1)},N=()=>{n>1&&i(n-1)},E=async()=>{if(e){s(!0);try{const P={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:O}=await U.from("restaurant_profiles").insert([P]);if(O)throw O;p("success","Restaurant créé avec succès ! Bienvenue sur CloudMenu ! 🎉"),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(P){console.error("Erreur lors de la création du restaurant:",P),p("error","Erreur lors de la création du restaurant")}finally{s(!1)}}};return t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8 relative",children:[l.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette étape"}),l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),l.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques étapes simples"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(v)].map((P,O)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${O+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:O+1}),O<v-1&&l.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${O+1<n?"bg-orange-600":"bg-gray-200"}`})]},O))}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Informations de base"}),l.jsx("span",{children:"Images"}),l.jsx("span",{children:"Contact"})]})]}),o&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[o.type==="success"?l.jsx(Ve,{className:"w-5 h-5"}):l.jsx(We,{className:"w-5 h-5"}),l.jsx("span",{children:o.text})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre établissement"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Commençons par les informations essentielles de votre restaurant."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),l.jsx("input",{type:"text",value:u.restaurant_name,onChange:P=>j("restaurant_name",P.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?l.jsx(ye,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?l.jsx(Ve,{className:"w-5 h-5 text-green-600"}):m===!1?l.jsx(On,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom différent."}),m===!0&&l.jsx("p",{className:"mt-2 text-sm text-green-600",children:"✅ Cette URL est disponible et sera réservée pour votre établissement."}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"💡 Cette URL sera définitive et servira à générer votre QR code."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),l.jsx("textarea",{value:u.description,onChange:P=>j("description",P.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre établissement"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannière pour personnaliser votre menu (optionnel)."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannière du restaurant"}),l.jsxs("div",{className:"space-y-3",children:[u.banner_url&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:u.banner_url,alt:"Bannière",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),l.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:l.jsx(We,{size:12})})]}),l.jsxs("label",{className:"cursor-pointer block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:P=>{var M;const O=(M=P.target.files)==null?void 0:M[0];O&&S(O,"banner")},className:"hidden",disabled:b}),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:b?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin text-orange-600"}),l.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Yo,{className:"mx-auto h-8 w-8 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannière"}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 5MB"})]})})]})]})]})]}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(nn,{className:"inline w-4 h-4 mr-1"}),"Téléphone"]}),l.jsx("input",{type:"tel",value:u.telephone,onChange:P=>j("telephone",P.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(hu,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),l.jsx("input",{type:"tel",value:u.whatsapp,onChange:P=>j("whatsapp",P.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Réseaux sociaux"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ho,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),l.jsx("input",{type:"url",value:u.instagram,onChange:P=>j("instagram",P.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vo,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),l.jsx("input",{type:"url",value:u.facebook,onChange:P=>j("facebook",P.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),l.jsx("input",{type:"url",value:u.tiktok,onChange:P=>j("tiktok",P.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[l.jsxs("button",{onClick:N,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(I2,{size:20}),l.jsx("span",{children:"Précédent"})]}),n<v?l.jsxs("button",{onClick:_,disabled:!k(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx("span",{children:"Suivant"}),l.jsx(Ag,{size:20})]}):l.jsxs("button",{onClick:E,disabled:a||!k(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsx(Ve,{size:20}),l.jsx("span",{children:a?"Création...":"Créer mon restaurant"})]})]})]}),l.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:l.jsxs("p",{children:["En créant votre menu, vous acceptez nos"," ",l.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},t3=()=>{var p;const{user:e}=sr();y.useState(!1);const[t,r]=y.useState(null),[n,i]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=y.useState({current:!1,new:!1,confirm:!1}),[o,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(""),[m,x]=y.useState(!1),b=(j,S)=>{r({type:j,text:S}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){b("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){b("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){b("error","Le nouveau mot de passe doit contenir au moins 6 caractères");return}c(!0);try{const{error:S}=await U.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(S){b("error","Mot de passe actuel incorrect");return}const{error:k}=await U.auth.updateUser({password:n.newPassword});if(k){b("error","Erreur lors de la mise à jour du mot de passe");return}i({currentPassword:"",newPassword:"",confirmPassword:""}),b("success","Mot de passe mis à jour avec succès")}catch(S){console.error("Erreur lors du changement de mot de passe:",S),b("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},v=async()=>{if(f!=="SUPPRIMER"){b("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}x(!0);try{const{data:j,error:S}=await U.from("menus").select("id").eq("user_id",e.id);S&&console.error("Erreur lors de la récupération des menus:",S);const{error:k}=await U.auth.admin.deleteUser(e.id);if(k){b("error","Erreur lors de la suppression du compte");return}b("success","Compte supprimé avec succès")}catch(j){console.error("Erreur lors de la suppression du compte:",j),b("error","Erreur lors de la suppression du compte")}finally{x(!1),d(!1),h("")}};if(!e)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const g=((p=e.email)==null?void 0:p.split("@")[0])||"Utilisateur";return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&l.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?l.jsx(Ve,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(We,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{children:t.text})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramètres du compte"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez vos informations personnelles et paramètres de sécurité"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Qo,{size:20}),l.jsx("span",{children:"Informations du profil"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx(Qo,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:g}),l.jsx("div",{className:"text-sm text-gray-500",children:"Généré automatiquement depuis votre email"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),l.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas être modifié pour des raisons de sécurité"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte créé le"}),l.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Ya,{size:20}),l.jsx("span",{children:"Changer le mot de passe"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.current?"text":"password",value:n.currentPassword,onChange:j=>i(S=>({...S,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.current?l.jsx(mi,{size:16}):l.jsx(Fr,{size:16})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.new?"text":"password",value:n.newPassword,onChange:j=>i(S=>({...S,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.new?l.jsx(mi,{size:16}):l.jsx(Fr,{size:16})})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.confirm?"text":"password",value:n.confirmPassword,onChange:j=>i(S=>({...S,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.confirm?l.jsx(mi,{size:16}):l.jsx(Fr,{size:16})})]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{type:"submit",disabled:o,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[o?l.jsx(ye,{className:"w-4 h-4 animate-spin"}):l.jsx(Dg,{size:16}),l.jsx("span",{children:o?"Mise à jour...":"Mettre à jour le mot de passe"})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[l.jsx(On,{size:20}),l.jsx("span",{children:"Zone de danger"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer définitivement le compte"}),l.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irréversible. Tous vos menus, catégories, plats et données analytiques seront supprimés définitivement."}),u?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",l.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),l.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:v,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?l.jsx(ye,{className:"w-4 h-4 animate-spin"}):l.jsx(ia,{size:16}),l.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),l.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):l.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[l.jsx(ia,{size:16}),l.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},r3=()=>{K4();const e=Hr(),[t,r]=y.useState(""),[n,i]=y.useState(""),[a,s]=y.useState(!1),[o,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,x]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:{session:g},error:p}=await U.auth.getSession();if(p){console.error("Session error:",p),x(!1);return}g&&g.user?x(!0):x(!1)}catch(g){console.error("Error checking session:",g),x(!1)}})()},[]);const b=(v,g)=>{h({type:v,text:g}),setTimeout(()=>h(null),5e3)},w=async v=>{if(v.preventDefault(),!t.trim()||!n.trim()){b("error","Veuillez remplir tous les champs");return}if(t!==n){b("error","Les mots de passe ne correspondent pas");return}if(t.length<6){b("error","Le mot de passe doit contenir au moins 6 caractères");return}d(!0);try{const{error:g}=await U.auth.updateUser({password:t});g?b("error",g.message):(b("success","Mot de passe mis à jour avec succès ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{b("error","Une erreur est survenue")}finally{d(!1)}};return m===null?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Vérification du lien..."})]})}):m?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe sécurisé pour votre compte"})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(Ya,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"🔐 Réinitialisation de mot de passe"}),l.jsx("p",{className:"text-xs text-blue-700",children:"Vous êtes dans le processus de réinitialisation de votre mot de passe. Une fois votre nouveau mot de passe défini, vous serez automatiquement connecté à votre tableau de bord."})]})]})}),f&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(Em,{className:"w-5 h-5"}):l.jsx(On,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:f.text})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:v=>r(v.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!a),children:a?l.jsx(mi,{size:20}):l.jsx(Fr,{size:20})})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:v=>i(v.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!o),children:o?l.jsx(mi,{size:20}):l.jsx(Fr,{size:20})})]})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):"Mettre à jour le mot de passe"})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour à la connexion"})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"🔒 Sécurité"}),l.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et sécurisé. Une fois modifié, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx(On,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expiré"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de réinitialisation de mot de passe n'est plus valide ou a expiré."}),l.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour à la connexion"})]})})})},Z2=y.memo(({onMenuToggle:e})=>{var c;const[t,r]=y.useState(!1),{user:n,signOut:i}=sr(),a=async()=>{r(!1);try{await i()}catch(u){console.error("Erreur lors de la déconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",o=(n==null?void 0:n.email)||"";return l.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Mg,{size:20})}),l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(cM,{size:18,className:"sm:w-5 sm:h-5"})}),l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx(Qo,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),l.jsxs("div",{className:"text-left hidden sm:block",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),l.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:o})]}),l.jsx(fu,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&l.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),l.jsx("div",{className:"text-sm text-gray-500",children:o}),l.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configuré"})]}),l.jsxs("div",{className:"py-1",children:[l.jsxs(Ze,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[l.jsx(Go,{size:16}),l.jsx("span",{children:"Paramètres du compte"})]}),l.jsxs("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[l.jsx(_M,{size:16}),l.jsx("span",{children:"Se déconnecter"})]})]})]})]})]}),t&&l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});Z2.displayName="Header";const e_=y.memo(({isOpen:e,onClose:t})=>{const r=Ln(),n=[{section:"Tableau de bord",items:[{icon:xM,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:Ig,label:"Identité Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:wM,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:Qa,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:Lr,label:"Réservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:Go,label:"Paramètres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return l.jsx(l.Fragment,{children:l.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[l.jsx("div",{className:"lg:hidden flex justify-end p-4",children:l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:l.jsx(We,{size:20})})}),l.jsx("div",{className:"p-4 lg:pt-4",children:n.map((i,a)=>l.jsxs("div",{className:"mb-6 lg:mb-8",children:[l.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:i.section}),l.jsx("nav",{className:"space-y-1",children:i.items.map((s,o)=>s.path?l.jsxs(Ze,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[l.jsx(s.icon,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:s.label})]},o):l.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[l.jsx(s.icon,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:s.label})]},o))})]},a))})]})})});e_.displayName="Sidebar";const n3=({children:e})=>l.jsx("div",{className:"animate-fadeIn",children:e}),Tr=y.memo(({children:e,currentPage:t})=>{const[r,n]=y.useState(!1),i=y.useCallback(()=>n(o=>!o),[]),a=y.useCallback(()=>n(!1),[]),s=y.useCallback(()=>{r&&a()},[r,a]);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Z2,{onMenuToggle:i}),l.jsx(e_,{currentPage:t,isOpen:r,onClose:a}),r&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),l.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:l.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:l.jsx(n3,{children:e})})})]})});Tr.displayName="MainLayout";const ma=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?l.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),l.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},vx=[{code:"en",name:"English",flag:"🇬🇧"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"it",name:"Italiano",flag:"🇮🇹"},{code:"pt",name:"Português",flag:"🇵🇹"},{code:"ar",name:"العربية",flag:"🇸🇦"},{code:"zh",name:"中文",flag:"🇨🇳"},{code:"ja",name:"日本語",flag:"🇯🇵"},{code:"ru",name:"Русский",flag:"🇷🇺"},{code:"nl",name:"Nederlands",flag:"🇳🇱"}],i3=({menuId:e,defaultLanguage:t})=>{const[r,n]=y.useState([]),[i,a]=y.useState(!0),[s,o]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(!1);y.useEffect(()=>{h()},[e]);const h=async()=>{try{const{data:v,error:g}=await U.from("menu_languages").select("*").eq("menu_id",e).order("created_at",{ascending:!0});if(g)throw g;n(v||[])}catch(v){console.error("Error loading languages:",v)}finally{a(!1)}},m=(v,g)=>{u({type:v,text:g}),setTimeout(()=>u(null),3e3)},x=async(v,g)=>{o(v);try{const{data:{session:p}}=await U.auth.getSession();if(!p)throw new Error("Not authenticated");const j=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-menu",{method:"POST",headers:{Authorization:`Bearer ${p.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({menuId:e,targetLanguage:v,languageName:g})});if(!j.ok){const k=await j.json();throw new Error(k.error||"Translation failed")}const S=await j.json();m("success",`Traduction en ${g} réussie`),await h(),f(!1)}catch(p){console.error("Translation error:",p),m("error",p.message||"Erreur lors de la traduction")}finally{o(null)}},b=async(v,g)=>{if(confirm("Voulez-vous vraiment supprimer cette traduction ?"))try{const{data:p}=await U.from("categories").select("id").eq("menu_id",e);if(p){const S=p.map(_=>_.id);await U.from("category_translations").delete().in("category_id",S).eq("language_code",g);const{data:k}=await U.from("menu_items").select("id").in("category_id",S);k&&await U.from("menu_item_translations").delete().in("menu_item_id",k.map(_=>_.id)).eq("language_code",g)}const{error:j}=await U.from("menu_languages").delete().eq("id",v);if(j)throw j;m("success","Traduction supprimée"),await h()}catch(p){console.error("Error deleting language:",p),m("error","Erreur lors de la suppression")}},w=vx.filter(v=>!r.some(g=>g.language_code===v.code)&&v.code!==t);return i?l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:l.jsx("div",{className:"flex items-center justify-center py-8",children:l.jsx(ye,{className:"w-6 h-6 animate-spin text-gray-400"})})}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[l.jsx(Tg,{size:20}),l.jsx("span",{children:"Traductions"})]}),!d&&w.length>0&&l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:[l.jsx(Ko,{size:16}),l.jsx("span",{children:"Ajouter une langue"})]})]}),c&&l.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${c.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[c.type==="success"?l.jsx(Ve,{size:16}):l.jsx(We,{size:16}),l.jsx("span",{className:"text-sm",children:c.text})]}),d&&l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:"Sélectionner une langue"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(We,{size:18})})]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:w.map(v=>l.jsxs("button",{onClick:()=>x(v.code,v.name),disabled:s!==null,className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-white hover:border-orange-300 transition-colors disabled:opacity-50",children:[l.jsx("span",{className:"text-2xl",children:v.flag}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:v.name}),s===v.code&&l.jsx(ye,{className:"w-4 h-4 animate-spin text-orange-600"})]},v.code))})]}),l.jsx("div",{className:"space-y-2",children:r.length===0?l.jsx("p",{className:"text-sm text-gray-600 py-4 text-center",children:"Aucune traduction ajoutée. Ajoutez des langues pour traduire automatiquement votre menu."}):r.map(v=>{const g=vx.find(p=>p.code===v.language_code);return l.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("span",{className:"text-2xl",children:(g==null?void 0:g.flag)||"🌐"}),l.jsx("span",{className:"font-medium text-gray-900",children:(g==null?void 0:g.name)||v.language_code})]}),l.jsx("button",{onClick:()=>b(v.id,v.language_code),className:"text-red-600 hover:text-red-700 p-2 rounded hover:bg-red-50",title:"Supprimer cette traduction",children:l.jsx(ia,{size:16})})]},v.id)})}),l.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[l.jsx("strong",{children:"Note :"})," Les traductions sont générées automatiquement par IA. Vous pouvez ensuite les modifier directement dans la page de gestion des articles."]})})]})},yx=()=>{const{menuId:e}=ha(),t=Hr(),r=e===void 0,[n,i]=y.useState(!1),[a,s]=y.useState(!0),[o,c]=y.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0}),[u,d]=y.useState(!1),[f,h]=y.useState(!1),[m,x]=y.useState(null),[b,w]=y.useState(null);y.useEffect(()=>{(async()=>{const{data:{user:N}}=await U.auth.getUser();if(N){const{data:E}=await U.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",N.id).maybeSingle();i(!!E),E&&r&&c(P=>({...P,nom:E.restaurant_name,slug:E.slug}))}s(!1)})()},[r]),y.useEffect(()=>{!r&&e?v(e):d(!1)},[e,r]);const v=async _=>{d(!0);try{const{data:{user:N}}=await U.auth.getUser();if(!N)return;const{data:E,error:P}=await U.from("menus").select("*").eq("id",_).eq("user_id",N.id).maybeSingle();if(P){console.error("Erreur lors du chargement du menu:",P),j("error","Erreur lors du chargement du menu");return}if(!E){j("error","Menu non trouvé"),t("/mes-menus");return}w(E),c({nom:E.nom,menu_name:E.menu_name||"",description:E.description,slug:E.slug,banniere_url:E.banniere_url,language:E.language||"fr",status:E.status||"published",couleur_primaire:E.couleur_primaire,couleur_secondaire:E.couleur_secondaire,couleur_texte:E.couleur_texte,couleur_fond:E.couleur_fond,afficher_powered_by:E.afficher_powered_by,lien_cloudmenu:E.lien_cloudmenu})}catch(N){console.error("Erreur lors du chargement du menu:",N),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},g=(_,N)=>{c(E=>{const P={...E,[_]:N};return _==="nom"&&typeof N=="string"&&r&&!n&&(P.slug=ii(N)),P})},p=async(_,N)=>{if(!_)return;const E=5*1024*1024;if(_.size>E){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!_.type.startsWith("image/")){j("error","Veuillez sélectionner une image valide");return}d(!0);try{const P=o.banniere_url;P&&await Ga(P);const M=await os(_,"bannieres");if(M.error){j("error",M.error);return}g("banniere_url",M.url),j("success","Bannière uploadée avec succès")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(_,N)=>{x({type:_,text:N}),setTimeout(()=>x(null),5e3)},S=async()=>{if(!n&&!o.nom.trim()){j("error","Le nom de l'établissement est obligatoire");return}h(!0);try{const{data:{user:_}}=await U.auth.getUser();if(!_){j("error","Vous devez être connecté");return}if(b){let N=o.slug;if(o.status==="published"&&!b.slug){const{data:O}=await U.from("restaurant_profiles").select("slug").eq("user_id",_.id).maybeSingle(),M=(O==null?void 0:O.slug)||ii(o.nom),I=ii(o.menu_name||o.nom);N=`${M}/${I}`}const E={nom:o.nom,menu_name:o.menu_name,description:o.description,slug:N,banniere_url:o.banniere_url,language:o.language,status:o.status,couleur_primaire:o.couleur_primaire,couleur_secondaire:o.couleur_secondaire,couleur_texte:o.couleur_texte,couleur_fond:o.couleur_fond,afficher_powered_by:o.afficher_powered_by,lien_cloudmenu:o.lien_cloudmenu},{error:P}=await U.from("menus").update(E).eq("id",b.id);if(P)throw P;j("success","Menu mis à jour avec succès"),setTimeout(()=>{t(`/categories/${b.id}`)},1500)}else{let N=o.slug;if(o.status==="published"){const M=o.slug,I=ii(o.menu_name||"menu");N=`${M}/${I}`}else o.status==="draft"&&(N="");const E={user_id:_.id,nom:o.nom,menu_name:o.menu_name||"Menu principal",description:o.description,slug:N,banniere_url:o.banniere_url,language:o.language,status:o.status,couleur_primaire:o.couleur_primaire,couleur_secondaire:o.couleur_secondaire,couleur_texte:o.couleur_texte,couleur_fond:o.couleur_fond,afficher_powered_by:o.afficher_powered_by,lien_cloudmenu:o.lien_cloudmenu},{data:P,error:O}=await U.from("menus").insert([E]).select().single();if(O)throw O;w(P),j("success","Menu créé avec succès"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(_){console.error("Erreur lors de la sauvegarde:",_),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},k=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!b||a?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ma,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&l.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?l.jsx(Ve,{className:"w-5 h-5"}):l.jsx(We,{className:"w-5 h-5"}),l.jsx("span",{children:m.text})]}),l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsxs("button",{onClick:()=>t(r?"/mes-menus":`/categories/${e}`),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(yl,{size:20}),l.jsx("span",{children:r?"Retour à mes menus":"Retour aux articles"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Créer un nouveau menu":"Modifier le menu"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identité visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le résultat en temps réel"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(bM,{size:20}),l.jsx("span",{children:"Informations générales"})]}),l.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'établissement"}),l.jsx("input",{type:"text",value:o.nom,onChange:_=>g("nom",_.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'établissement est partagé entre tous vos menus"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),l.jsx("input",{type:"text",value:o.menu_name,onChange:_=>g("menu_name",_.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom à ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos différents menus (boissons, plats, desserts...)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:o.description,onChange:_=>g("description",_.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),l.jsxs("div",{className:"space-y-3",children:[o.banniere_url&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:o.banniere_url,alt:"Bannière",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),l.jsx("button",{onClick:()=>g("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:l.jsx(We,{size:10,className:"sm:w-3 sm:h-3"})})]}),l.jsxs("label",{className:"cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var E;const N=(E=_.target.files)==null?void 0:E[0];N&&p(N)},className:"hidden"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[l.jsx(Yo,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),l.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu'à 5MB"})]})]})]})]})]})]}),!r&&b&&l.jsx(i3,{menuId:b.id,defaultLanguage:b.default_language||"fr"}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Ig,{size:20}),l.jsx("span",{children:"Design"})]}),l.jsx("div",{className:"space-y-4 sm:space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:k.map((_,N)=>l.jsxs("button",{onClick:()=>{g("couleur_primaire",_.primary),g("couleur_secondaire",_.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.primary}}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.secondary}})]}),l.jsx("span",{className:"text-xs sm:text-sm font-medium",children:_.name})]},N))}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[l.jsx("input",{type:"color",value:o.couleur_primaire,onChange:_=>g("couleur_primaire",_.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),l.jsx("input",{type:"text",value:o.couleur_primaire,onChange:_=>g("couleur_primaire",_.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[l.jsx("input",{type:"color",value:o.couleur_secondaire,onChange:_=>g("couleur_secondaire",_.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),l.jsx("input",{type:"text",value:o.couleur_secondaire,onChange:_=>g("couleur_secondaire",_.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),l.jsxs("button",{onClick:S,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?l.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):l.jsx(Dg,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),l.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},Sa={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},pt:{name:"Português",flag:"🇵🇹"},ar:{name:"العربية",flag:"🇸🇦"},zh:{name:"中文",flag:"🇨🇳"},ja:{name:"日本語",flag:"🇯🇵"},ru:{name:"Русский",flag:"🇷🇺"},nl:{name:"Nederlands",flag:"🇳🇱"}};function a3(){var ge,it,Ge;const{user:e}=sr(),{menuId:t}=ha(),r=Hr(),[n,i]=y.useState(null),[a,s]=y.useState([]),[o,c]=y.useState({}),[u,d]=y.useState(!0),[f,h]=y.useState(null);y.useState(null);const[m,x]=y.useState(null),[b,w]=y.useState(null),[v,g]=y.useState(""),[p,j]=y.useState([]),[S,k]=y.useState({}),[_,N]=y.useState({}),[E,P]=y.useState({}),[O,M]=y.useState(""),[I,K]=y.useState({});y.useEffect(()=>{e&&t&&ne()},[e,t]),y.useEffect(()=>{n&&(H(),G())},[n]),y.useEffect(()=>{n&&v&&v!==n.default_language&&F()},[v,n]);const ne=async()=>{if(!t){C("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:A,error:Z}=await U.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(Z){console.error("Erreur lors du chargement du menu:",Z),C("error","Erreur lors du chargement du menu");return}if(!A){C("error","Menu non trouvé"),r("/mes-menus");return}i(A)}catch(A){console.error("Erreur lors du chargement du menu:",A),C("error","Erreur lors du chargement du menu")}finally{d(!1)}},G=async()=>{d(!0);try{const{data:A,error:Z}=await U.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(Z)throw Z;if(s(A||[]),A&&A.length>0){const{data:te,error:q}=await U.from("menu_items").select("*").in("category_id",A.map(he=>he.id)).order("ordre",{ascending:!0});if(q)throw q;const L={};A.forEach(he=>{L[he.id]=(te==null?void 0:te.filter(Ae=>Ae.category_id===he.id))||[]}),c(L)}}catch(A){console.error("Erreur lors du chargement:",A),C("error","Erreur lors du chargement des données")}finally{d(!1)}},H=async()=>{if(n)try{const{data:A,error:Z}=await U.from("menu_languages").select("*").eq("menu_id",n.id).order("created_at",{ascending:!0});if(Z)throw Z;j(A||[]),!v&&n.default_language&&g(n.default_language)}catch(A){console.error("Error loading languages:",A)}},F=async()=>{if(!n||!v||v===n.default_language){k({}),N({});return}try{const A=a.map(L=>L.id),{data:Z}=await U.from("category_translations").select("*").in("category_id",A).eq("language_code",v),te={};Z==null||Z.forEach(L=>{te[L.category_id]=L}),k(te);const q=[];if(Object.values(o).forEach(L=>{L.forEach(he=>q.push(he.id))}),q.length>0){const{data:L}=await U.from("menu_item_translations").select("*").in("menu_item_id",q).eq("language_code",v),he={};L==null||L.forEach(Ae=>{he[Ae.menu_item_id]=Ae}),N(he)}}catch(A){console.error("Error loading translations:",A)}},C=(A,Z)=>{w({type:A,text:Z}),setTimeout(()=>w(null),5e3)},$=async()=>{if(O.trim())try{const A={menu_id:n.id,nom:O,ordre:a.length},{data:Z,error:te}=await U.from("categories").insert([A]).select().single();if(te)throw te;s([...a,Z]),c({...o,[Z.id]:[]}),M(""),C("success","Catégorie ajoutée avec succès")}catch(A){console.error("Erreur lors de l'ajout de la catégorie:",A),C("error","Erreur lors de l'ajout de la catégorie")}},V=async A=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette catégorie et tous ses éléments ?"))try{const Z=o[A]||[];for(const L of Z)if(L.image_url)try{await Ga(L.image_url)}catch(he){console.warn(`Failed to delete image for item ${L.nom}:`,he)}const{error:te}=await U.from("categories").delete().eq("id",A);if(te)throw te;s(a.filter(L=>L.id!==A));const q={...o};delete q[A],c(q),C("success","Catégorie supprimée avec succès")}catch(Z){console.error("Erreur lors de la suppression:",Z),C("error","Erreur lors de la suppression")}},R=async(A,Z,te)=>{if(!A)return;if(A.size>5*1024*1024){C("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){C("error","Veuillez sélectionner une image valide");return}const q=Z||`new-item-${te}`;h(q);try{const L=await os(A,"menu-items");if(L.error){C("error",L.error);return}const{data:he,error:Ae}=await U.from("menu_items").update({image_url:L.url}).eq("id",Z).select().single();if(Ae)throw Ae;c({...o,[te]:o[te].map(Gr=>Gr.id===Z?he:Gr)}),C("success","Image mise à jour avec succès")}catch(L){console.error("Erreur lors de l'upload:",L),C("error","Erreur lors de l'upload")}finally{h(null)}},oe=async(A,Z,te)=>{try{te&&await Ga(te);const{data:q,error:L}=await U.from("menu_items").update({image_url:""}).eq("id",A).select().single();if(L)throw L;c({...o,[Z]:o[Z].map(he=>he.id===A?q:he)}),C("success","Image supprimée avec succès")}catch(q){console.error("Erreur lors de la suppression:",q),C("error","Erreur lors de la suppression")}},fe=async(A,Z)=>{if(A){if(A.size>5*1024*1024){C("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){C("error","Veuillez sélectionner une image valide");return}h(`new-item-${Z}`);try{const te=await os(A,"menu-items");if(te.error){C("error",te.error);return}K({...I,[Z]:{...I[Z],image_url:te.url}}),C("success","Image uploadée avec succès")}catch(te){console.error("Erreur lors de l'upload:",te),C("error","Erreur lors de l'upload")}finally{h(null)}}},ce=A=>I[A]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},ze=(A,Z)=>{K({...I,[A]:{...ce(A),...Z}})},ve=async A=>{var te,q;const Z=ce(A);if(!((te=Z.nom)!=null&&te.trim())||!Z.prix){C("error","Le nom et le prix sont obligatoires");return}try{const L={...Z,category_id:A,ordre:((q=o[A])==null?void 0:q.length)||0},{data:he,error:Ae}=await U.from("menu_items").insert([L]).select().single();if(Ae)throw Ae;c({...o,[A]:[...o[A]||[],he]});const Gr={...I};delete Gr[A],K(Gr),C("success","Plat ajouté avec succès")}catch(L){console.error("Erreur lors de l'ajout du plat:",L),C("error","Erreur lors de l'ajout du plat")}},Ct=async(A,Z)=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce plat ?"))try{const te=o[Z].find(L=>L.id===A);te!=null&&te.image_url&&await Ga(te.image_url);const{error:q}=await U.from("menu_items").delete().eq("id",A);if(q)throw q;c({...o,[Z]:o[Z].filter(L=>L.id!==A)}),C("success","Plat supprimé avec succès")}catch(te){console.error("Erreur lors de la suppression:",te),C("error","Erreur lors de la suppression")}},Y=async(A,Z)=>{try{const{data:te,error:q}=await U.from("menu_items").update({disponible:!A.disponible}).eq("id",A.id).select().single();if(q)throw q;c({...o,[Z]:o[Z].map(L=>L.id===A.id?te:L)})}catch(te){console.error("Erreur lors de la mise à jour:",te),C("error","Erreur lors de la mise à jour")}},ae=A=>{x(A.id),P({nom:A.nom,description:A.description,prix:A.prix,allergenes:A.allergenes,vegetarien:A.vegetarien,vegan:A.vegan,sans_gluten:A.sans_gluten,epice:A.epice})},le=()=>{x(null),P({})},z=async(A,Z)=>{var te;if(!((te=E.nom)!=null&&te.trim())){C("error","Le nom du plat est obligatoire");return}try{const{data:q,error:L}=await U.from("menu_items").update(E).eq("id",A).select().single();if(L)throw L;c({...o,[Z]:o[Z].map(he=>he.id===A?q:he)}),x(null),P({}),C("success","Plat modifié avec succès")}catch(q){console.error("Erreur lors de la modification:",q),C("error","Erreur lors de la modification")}},nt=async(A,Z,te)=>{if(Z!==te)try{const{data:q,error:L}=await U.from("menu_items").update({category_id:te}).eq("id",A).select().single();if(L)throw L;const he=o[Z].filter(Gr=>Gr.id!==A),Ae=[...o[te]||[],q];c({...o,[Z]:he,[te]:Ae}),C("success","Plat déplacé avec succès")}catch(q){console.error("Erreur lors du déplacement:",q),C("error","Erreur lors du déplacement")}};return u?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ma,{size:"lg"})}):n?l.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[b&&l.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${b.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.jsx("span",{children:b.text})}),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(yl,{size:20}),l.jsx("span",{children:"Retour à mes menus"})]}),l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:n.nom}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catégories et plats"})]}),l.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[l.jsx(Ze,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white p-2.5 rounded-lg hover:bg-purple-700 transition-colors",title:"Import IA",children:l.jsx(Tm,{size:20})}),l.jsx(Ze,{to:`/mon-menu/${t}`,className:"bg-gray-600 text-white p-2.5 rounded-lg hover:bg-gray-700 transition-colors",title:"Paramètres",children:l.jsx(Go,{size:20})}),l.jsx("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white p-2.5 rounded-lg hover:bg-orange-700 transition-colors",title:"Prévisualiser",children:l.jsx(Fr,{size:20})})]})]}),p.length>0&&l.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[l.jsxs("button",{onClick:()=>g(n.default_language||"fr"),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${v===n.default_language?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ge=Sa[n.default_language||"fr"])==null?void 0:ge.name)||"Français",children:[l.jsx("span",{className:"text-base sm:text-lg",children:((it=Sa[n.default_language||"fr"])==null?void 0:it.flag)||"🇫🇷"}),l.jsx("span",{className:"hidden sm:inline",children:((Ge=Sa[n.default_language||"fr"])==null?void 0:Ge.name)||"Français"})]}),p.map(A=>{var Z,te,q;return l.jsxs("button",{onClick:()=>g(A.language_code),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${v===A.language_code?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((Z=Sa[A.language_code])==null?void 0:Z.name)||A.language_code,children:[l.jsx("span",{className:"text-base sm:text-lg",children:((te=Sa[A.language_code])==null?void 0:te.flag)||"🌐"}),l.jsx("span",{className:"hidden sm:inline",children:((q=Sa[A.language_code])==null?void 0:q.name)||A.language_code})]},A.id)})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catégorie"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{type:"text",value:O,onChange:A=>M(A.target.value),placeholder:"Nom de la catégorie (ex: Entrées, Plats, Desserts...)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:A=>A.key==="Enter"&&$()}),l.jsxs("button",{onClick:$,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[l.jsx(Ko,{size:18}),l.jsx("span",{children:"Ajouter"})]})]})]}),a.length===0?l.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(EM,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),l.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catégorie"}),l.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catégorie pour organiser votre menu."})]}):l.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.map(A=>{var Z,te;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(yM,{className:"text-gray-400 hidden sm:block",size:20}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:v!==n.default_language&&S[A.id]?S[A.id].nom:A.nom}),l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((Z=o[A.id])==null?void 0:Z.length)||0," plats"]})]}),l.jsx("button",{onClick:()=>V(A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:l.jsx(ia,{size:18})})]})}),l.jsx("div",{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"space-y-4",children:[(te=o[A.id])==null?void 0:te.map(q=>l.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${m===q.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[l.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:q.image_url?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:q.image_url,alt:q.nom,className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[l.jsxs("label",{className:"cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:L=>{var Ae;const he=(Ae=L.target.files)==null?void 0:Ae[0];he&&R(he,q.id,A.id)},className:"hidden"}),f===q.id?l.jsx(ye,{className:"w-4 h-4 text-white animate-spin"}):l.jsx(cx,{className:"w-4 h-4 text-white hover:scale-110"})]}),l.jsx("button",{onClick:()=>oe(q.id,A.id,q.image_url),className:"text-white hover:text-red-300",children:l.jsx(We,{className:"w-4 h-4"})})]})]}):l.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:L=>{var Ae;const he=(Ae=L.target.files)==null?void 0:Ae[0];he&&R(he,q.id,A.id)},className:"hidden"}),f===q.id?l.jsx(ye,{className:"text-gray-400 animate-spin",size:24}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(cx,{className:"text-gray-400",size:20}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),l.jsx("div",{className:"flex-1",children:m===q.id?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),l.jsx("input",{type:"text",value:E.nom||"",onChange:L=>P({...E,nom:L.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Prix (€)"}),l.jsx("input",{type:"number",value:E.prix||"",onChange:L=>P({...E,prix:parseFloat(L.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:E.description||"",onChange:L=>P({...E,description:L.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:E.vegetarien||!1,onChange:L=>P({...E,vegetarien:L.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Végétarien"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:E.vegan||!1,onChange:L=>P({...E,vegan:L.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Vegan"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:E.sans_gluten||!1,onChange:L=>P({...E,sans_gluten:L.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:E.epice||!1,onChange:L=>P({...E,epice:L.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Épicé"})]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:v!==n.default_language&&_[q.id]?_[q.id].nom:q.nom}),q.vegetarien&&l.jsx(Yn,{className:"text-green-600",size:16}),q.vegan&&l.jsx(Yn,{className:"text-green-700",size:16}),q.epice&&l.jsx(Dc,{className:"text-red-600",size:16})]}),(v!==n.default_language&&_[q.id]?_[q.id].description:q.description)&&l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:v!==n.default_language&&_[q.id]?_[q.id].description:q.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[l.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[q.prix.toFixed(2)," €"]}),q.allergenes.length>0&&l.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergènes: ",q.allergenes.join(", ")]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[a.length>1&&m!==q.id&&l.jsx("select",{value:A.id,onChange:L=>nt(q.id,A.id,L.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Déplacer vers une autre catégorie",children:a.map(L=>l.jsx("option",{value:L.id,children:L.nom},L.id))}),m===q.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>z(q.id,A.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:l.jsx(Ve,{size:18})}),l.jsx("button",{onClick:le,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:l.jsx(We,{size:18})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>ae(q),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:l.jsx(fM,{size:18})}),l.jsx("button",{onClick:()=>Y(q,A.id),className:`p-2 rounded-lg ${q.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:q.disponible?"Disponible":"Non disponible",children:q.disponible?l.jsx(Fr,{size:18}):l.jsx(mi,{size:18})}),l.jsx("button",{onClick:()=>Y(q,A.id),className:`p-2 rounded-lg ${q.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:q.disponible?"Disponible":"Non disponible",children:q.disponible?l.jsx(Fr,{size:18}):l.jsx(mi,{size:18})}),l.jsx("button",{onClick:()=>Ct(q.id,A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:l.jsx(ia,{size:18})})]})]})]},q.id)),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const q=ce(A.id);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),l.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:q.image_url?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:q.image_url,alt:"Aperçu",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:()=>ze(A.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:l.jsx(We,{size:12})})]}):l.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:L=>{var Ae;const he=(Ae=L.target.files)==null?void 0:Ae[0];he&&fe(he,A.id)},className:"hidden"}),f===`new-item-${A.id}`?l.jsx(ye,{className:"text-gray-400 animate-spin",size:20}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Yo,{className:"text-gray-400",size:16}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),l.jsx("input",{type:"text",value:q.nom||"",onChange:L=>ze(A.id,{nom:L.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("input",{type:"text",value:q.description||"",onChange:L=>ze(A.id,{description:L.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Prix (€)"}),l.jsx("input",{type:"number",value:q.prix||"",onChange:L=>ze(A.id,{prix:parseFloat(L.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),l.jsxs("button",{onClick:()=>ve(A.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[l.jsx(Ko,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},A.id)})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouvé"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accès à celui-ci."}),l.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour à mes menus"})]})}const xx={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"}};function s3(){const{user:e}=sr(),[t,r]=y.useState([]),[n,i]=y.useState(!0),[a,s]=y.useState(null);y.useEffect(()=>{e&&o()},[e]);const o=async()=>{i(!0);try{const{data:h,error:m}=await U.from("menus").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Erreur lors du chargement des menus:",h),c("error","Erreur lors du chargement des menus")}finally{i(!1)}},c=(h,m)=>{s({type:h,text:m}),setTimeout(()=>s(null),5e3)},u=async h=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce menu ? Toutes les catégories et plats associés seront également supprimés."))try{const{error:m}=await U.from("menus").delete().eq("id",h);if(m)throw m;r(t.filter(x=>x.id!==h)),c("success","Menu supprimé avec succès")}catch(m){console.error("Erreur lors de la suppression:",m),c("error","Erreur lors de la suppression du menu")}},d=async h=>{try{const{id:m,created_at:x,updated_at:b,slug:w,...v}=h,g={...v,menu_name:`${h.menu_name||h.nom} (Copie)`,slug:"",status:"draft"},{data:p,error:j}=await U.from("menus").insert([g]).select().single();if(j)throw j;r([p,...t]),c("success","Menu dupliqué avec succès (brouillon)")}catch(m){console.error("Erreur lors de la duplication:",m),c("error","Erreur lors de la duplication du menu")}},f=async(h,m)=>{try{let x;if(m==="actif")x={actif:!h.actif};else{const w=h.status==="draft";if(x={status:w?"published":"draft"},w&&!h.slug){const{data:v}=await U.from("restaurant_profiles").select("slug").eq("user_id",h.user_id).maybeSingle(),g=(v==null?void 0:v.slug)||ii(h.nom),p=ii(h.menu_name||h.nom);x.slug=`${g}/${p}`}}const{error:b}=await U.from("menus").update(x).eq("id",h.id);if(b)throw b;r(t.map(w=>w.id===h.id?{...w,...x}:w)),c("success","Statut mis à jour avec succès")}catch(x){console.error("Erreur lors de la mise à jour:",x),c("error","Erreur lors de la mise à jour du statut")}};return n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ma,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[a&&l.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.jsx("span",{children:a.text})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez tous vos menus de restaurant"})]}),l.jsxs(Ze,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[l.jsx(Ko,{size:18}),l.jsx("span",{children:"Créer un nouveau menu"})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(pM,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par créer votre premier menu pour votre restaurant."}),l.jsxs(Ze,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[l.jsx(Ko,{size:18}),l.jsx("span",{children:"Créer mon premier menu"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(h=>{var m,x;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.banniere_url?l.jsx("div",{className:"h-32 bg-gray-200",children:l.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-full h-full object-cover"})}):l.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-4xl font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.menu_name||h.nom}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:(m=xx[h.language||"fr"])==null?void 0:m.flag}),l.jsx("span",{className:"text-xs text-gray-500",children:(x=xx[h.language||"fr"])==null?void 0:x.name})]})]}),l.jsxs("div",{className:"flex flex-col gap-1.5",children:[l.jsx("button",{onClick:()=>f(h,"status"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publié":"Brouillon"}),l.jsx("button",{onClick:()=>f(h,"actif"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Ze,{to:`/categories/${h.id}`,className:"w-full flex items-center justify-center gap-2 text-sm bg-orange-600 text-white hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium shadow-sm transition-colors",children:[l.jsx(Pm,{size:18}),l.jsx("span",{children:"Gérer les articles"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx(Ze,{to:`/mon-menu/${h.id}`,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Paramètres",children:l.jsx(Go,{size:20})}),l.jsx("button",{onClick:()=>d(h),className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Dupliquer",children:l.jsx(Cm,{size:20})}),l.jsx("button",{onClick:()=>u(h.id),className:"flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 p-2.5 rounded-lg border border-red-200 transition-colors",title:"Supprimer",children:l.jsx(ia,{size:20})})]})]})]})]},h.id)})}),l.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilité"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[h.banniere_url?l.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-12 h-12 rounded object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-lg font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),l.jsx("div",{children:l.jsx("div",{className:"font-medium text-gray-900",children:h.menu_name||h.nom})})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>f(h,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publié":"Brouillon"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>f(h,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsx(Ze,{to:`/categories/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Gérer les articles",children:l.jsx(Pm,{size:18})}),l.jsx(Ze,{to:`/mon-menu/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramètres du menu",children:l.jsx(Go,{size:18})}),l.jsx("button",{onClick:()=>d(h),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:l.jsx(Cm,{size:18})}),l.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:l.jsx(ia,{size:18})})]})})]},h.id))})]})})]})]})})}const o3=()=>{const{user:e}=sr(),{menuId:t}=ha(),r=Hr(),[n,i]=y.useState(null),[a,s]=y.useState(!0),[o,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,x]=y.useState(""),[b,w]=y.useState(!0);y.useEffect(()=>{e&&t&&v()},[e,t]);const v=async()=>{if(!t){g("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:S,error:k}=await U.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(k){console.error("Erreur lors du chargement du menu:",k),g("error","Erreur lors du chargement du menu");return}if(!S){g("error","Menu non trouvé"),r("/mes-menus");return}i(S)}catch(S){console.error("Erreur lors du chargement du menu:",S),g("error","Erreur lors du chargement du menu")}finally{s(!1)}},g=(S,k)=>{h({type:S,text:k}),setTimeout(()=>h(null),5e3)},p=async S=>{if(S){if(S.size>10*1024*1024){g("error","Le fichier est trop volumineux (max 10MB)");return}if(!S.type.startsWith("image/")){g("error","Veuillez sélectionner une image valide");return}c(!0);try{g("success","Upload de l'image en cours...");const k=await os(S,"menu-items");if(k.error){g("error",k.error);return}x("Analyse de l'image avec l'IA..."),g("success","Analyse de l'image avec l'IA...");const _=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0"},body:JSON.stringify({imageUrl:k.url,menuId:n.id,importImages:b})});if(x("Traitement de la réponse..."),!_.ok){const E=await _.json();g("error",E.error||"Erreur lors de l'analyse");return}const N=await _.json();if(!N.success){g("error",N.error||"Erreur lors de l'analyse");return}x("Insertion des données en base..."),g("success","Insertion des données et images en base..."),await j(N.data);try{await Ga(k.url)}catch(E){console.warn("Failed to cleanup analysis image:",E)}g("success","Menu importé avec succès ! 🎉 Vous pouvez maintenant retourner à la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(k){console.error("Erreur lors du traitement:",k),g("error","Erreur lors du traitement de l'image")}finally{c(!1),x(""),d(null)}}},j=async S=>{try{const{data:k}=await U.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),_=k&&k.length>0?k[0].ordre+1:0;for(const N of S.categories){const{data:E,error:P}=await U.from("categories").insert([{menu_id:n.id,nom:N.name,description:N.description||"",ordre:_+S.categories.indexOf(N)}]).select().single();if(P)throw P;for(const O of N.items){const{error:M}=await U.from("menu_items").insert([{category_id:E.id,nom:O.name,description:O.description||"",prix:O.price||0,image_url:O.image_url||"",allergenes:O.allergenes||[],vegetarien:O.vegetarian||!1,vegan:O.vegan||!1,sans_gluten:O.gluten_free||!1,epice:O.spicy||!1,ordre:N.items.indexOf(O)}]);if(M)throw M}}}catch(k){throw console.error("Erreur lors de l'insertion:",k),k}};return a?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ma,{size:"lg"})}):n?l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ze,{to:"/categories",className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:l.jsx(yl,{size:20})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),l.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(Ve,{className:"w-5 h-5 mt-0.5"}):l.jsx(We,{className:"w-5 h-5 mt-0.5"}),l.jsx("span",{children:f.text})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Tm,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),l.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie opérer !"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("label",{className:"cursor-pointer block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:S=>{var _;const k=(_=S.target.files)==null?void 0:_[0];k&&d(k)},className:"hidden",disabled:o}),l.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx(mM,{className:"w-6 h-6 text-purple-600"})}),u?l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour sélectionner une image de votre menu"}),l.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 10MB - Plus la photo est claire, meilleur sera le résultat"})]})]})})]})}),l.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[l.jsx("input",{type:"checkbox",id:"importImages",checked:b,onChange:S=>w(S.target.checked),disabled:o,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),l.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>u&&p(u),disabled:!u||o,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:o?l.jsxs(l.Fragment,{children:[l.jsx(ye,{className:"animate-spin",size:24}),l.jsx("span",{children:"Analyse en cours..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Tm,{size:24}),l.jsx("span",{children:"Analyser le menu"})]})})})]}),o&&l.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[l.jsx(ye,{className:"animate-spin",size:20}),l.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),l.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),l.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexité de votre menu et le nombre de plats",b&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),l.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur résultat"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-green-600 font-bold",children:"📱"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien éclairée et nette"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"📄"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"✓"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),l.jsx(Ze,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})})};var ki={},l3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},t_={},or={};let Bg;const c3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];or.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};or.getSymbolTotalCodewords=function(t){return c3[t]};or.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};or.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Bg=t};or.isKanjiModeEnabled=function(){return typeof Bg<"u"};or.toSJIS=function(t){return Bg(t)};var jd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(jd);function r_(){this.buffer=[],this.length=0}r_.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var u3=r_;function jl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}jl.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};jl.prototype.get=function(e,t){return this.data[e*this.size+t]};jl.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};jl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var d3=jl,n_={};(function(e){const t=or.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,o=[a-7];for(let c=1;c<i-1;c++)o[c]=o[c-1]-s;return o.push(6),o.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),s=a.length;for(let o=0;o<s;o++)for(let c=0;c<s;c++)o===0&&c===0||o===0&&c===s-1||o===s-1&&c===0||i.push([a[o],a[c]]);return i}})(n_);var i_={};const f3=or.getSymbolSize,bx=7;i_.getPositions=function(t){const r=f3(t);return[[0,0],[r-bx,0],[0,r-bx]]};var a_={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let s=0,o=0,c=0,u=null,d=null;for(let f=0;f<a;f++){o=c=0,u=d=null;for(let h=0;h<a;h++){let m=i.get(f,h);m===u?o++:(o>=5&&(s+=t.N1+(o-5)),u=m,o=1),m=i.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}o>=5&&(s+=t.N1+(o-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const a=i.size;let s=0;for(let o=0;o<a-1;o++)for(let c=0;c<a-1;c++){const u=i.get(o,c)+i.get(o,c+1)+i.get(o+1,c)+i.get(o+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const a=i.size;let s=0,o=0,c=0;for(let u=0;u<a;u++){o=c=0;for(let d=0;d<a;d++)o=o<<1&2047|i.get(u,d),d>=10&&(o===1488||o===93)&&s++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const s=a.size;for(let o=0;o<s;o++)for(let c=0;c<s;c++)a.isReserved(c,o)||a.xor(c,o,r(i,c,o))},e.getBestMask=function(i,a){const s=Object.keys(e.Patterns).length;let o=0,c=1/0;for(let u=0;u<s;u++){a(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<c&&(c=d,o=u)}return o}})(a_);var _d={};const ai=jd,sc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];_d.getBlocksCount=function(t,r){switch(r){case ai.L:return sc[(t-1)*4+0];case ai.M:return sc[(t-1)*4+1];case ai.Q:return sc[(t-1)*4+2];case ai.H:return sc[(t-1)*4+3];default:return}};_d.getTotalCodewordsCount=function(t,r){switch(r){case ai.L:return oc[(t-1)*4+0];case ai.M:return oc[(t-1)*4+1];case ai.Q:return oc[(t-1)*4+2];case ai.H:return oc[(t-1)*4+3];default:return}};var s_={},kd={};const _o=new Uint8Array(512),pu=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)_o[r]=t,pu[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)_o[r]=_o[r-255]})();kd.log=function(t){if(t<1)throw new Error("log("+t+")");return pu[t]};kd.exp=function(t){return _o[t]};kd.mul=function(t,r){return t===0||r===0?0:_o[pu[t]+pu[r]]};(function(e){const t=kd;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)a[s+o]^=t.mul(n[s],i[o]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let o=0;for(;o<a.length&&a[o]===0;)o++;a=a.slice(o)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(s_);const o_=s_;function Fg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Fg.prototype.initialize=function(t){this.degree=t,this.genPoly=o_.generateECPolynomial(this.degree)};Fg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=o_.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var h3=Fg,l_={},Si={},Wg={};Wg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var un={};const c_="[0-9]+",m3="[A-Z $%*+\\-./:]+";let Xo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Xo=Xo.replace(/u/g,"\\u");const p3="(?:(?![A-Z0-9 $%*+\\-./:]|"+Xo+`)(?:.|[\r
]))+`;un.KANJI=new RegExp(Xo,"g");un.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");un.BYTE=new RegExp(p3,"g");un.NUMERIC=new RegExp(c_,"g");un.ALPHANUMERIC=new RegExp(m3,"g");const g3=new RegExp("^"+Xo+"$"),v3=new RegExp("^"+c_+"$"),y3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");un.testKanji=function(t){return g3.test(t)};un.testNumeric=function(t){return v3.test(t)};un.testAlphanumeric=function(t){return y3.test(t)};(function(e){const t=Wg,r=un;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,s){if(e.isValid(a))return a;try{return n(a)}catch{return s}}})(Si);(function(e){const t=or,r=_d,n=jd,i=Si,a=Wg,s=7973,o=t.getBCHDigit(s);function c(h,m,x){for(let b=1;b<=40;b++)if(m<=e.getCapacity(b,x,h))return b}function u(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let x=0;return h.forEach(function(b){const w=u(b.mode,m);x+=w+b.getBitsLength()}),x}function f(h,m){for(let x=1;x<=40;x++)if(d(h,x)<=e.getCapacity(x,m,i.MIXED))return x}e.from=function(m,x){return a.isValid(m)?parseInt(m,10):x},e.getCapacity=function(m,x,b){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const w=t.getSymbolTotalCodewords(m),v=r.getTotalCodewordsCount(m,x),g=(w-v)*8;if(b===i.MIXED)return g;const p=g-u(b,m);switch(b){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(m,x){let b;const w=n.from(x,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;b=m[0]}else b=m;return c(b.mode,b.getLength(),w)},e.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let x=m<<12;for(;t.getBCHDigit(x)-o>=0;)x^=s<<t.getBCHDigit(x)-o;return m<<12|x}})(l_);var u_={};const $m=or,d_=1335,x3=21522,wx=$m.getBCHDigit(d_);u_.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;$m.getBCHDigit(i)-wx>=0;)i^=d_<<$m.getBCHDigit(i)-wx;return(n<<10|i)^x3};var f_={};const b3=Si;function ls(e){this.mode=b3.NUMERIC,this.data=e.toString()}ls.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ls.prototype.getLength=function(){return this.data.length};ls.prototype.getBitsLength=function(){return ls.getBitsLength(this.data.length)};ls.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var w3=ls;const j3=Si,Yf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function cs(e){this.mode=j3.ALPHANUMERIC,this.data=e}cs.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};cs.prototype.getLength=function(){return this.data.length};cs.prototype.getBitsLength=function(){return cs.getBitsLength(this.data.length)};cs.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Yf.indexOf(this.data[r])*45;n+=Yf.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(Yf.indexOf(this.data[r]),6)};var _3=cs;const k3=Si;function us(e){this.mode=k3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}us.getBitsLength=function(t){return t*8};us.prototype.getLength=function(){return this.data.length};us.prototype.getBitsLength=function(){return us.getBitsLength(this.data.length)};us.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var S3=us;const N3=Si,E3=or;function ds(e){this.mode=N3.KANJI,this.data=e}ds.getBitsLength=function(t){return t*13};ds.prototype.getLength=function(){return this.data.length};ds.prototype.getBitsLength=function(){return ds.getBitsLength(this.data.length)};ds.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=E3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var C3=ds,h_={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},s={};s[n]=0;var o=t.PriorityQueue.make();o.push(n,0);for(var c,u,d,f,h,m,x,b,w;!o.empty();){c=o.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],x=f+m,b=s[d],w=typeof s[d]>"u",(w||b>x)&&(s[d]=x,o.push(d,x),a[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var v=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(v)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(h_);var P3=h_.exports;(function(e){const t=Si,r=w3,n=_3,i=S3,a=C3,s=un,o=or,c=P3;function u(v){return unescape(encodeURIComponent(v)).length}function d(v,g,p){const j=[];let S;for(;(S=v.exec(p))!==null;)j.push({data:S[0],index:S.index,mode:g,length:S[0].length});return j}function f(v){const g=d(s.NUMERIC,t.NUMERIC,v),p=d(s.ALPHANUMERIC,t.ALPHANUMERIC,v);let j,S;return o.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,v),S=d(s.KANJI,t.KANJI,v)):(j=d(s.BYTE_KANJI,t.BYTE,v),S=[]),g.concat(p,j,S).sort(function(_,N){return _.index-N.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function h(v,g){switch(g){case t.NUMERIC:return r.getBitsLength(v);case t.ALPHANUMERIC:return n.getBitsLength(v);case t.KANJI:return a.getBitsLength(v);case t.BYTE:return i.getBitsLength(v)}}function m(v){return v.reduce(function(g,p){const j=g.length-1>=0?g[g.length-1]:null;return j&&j.mode===p.mode?(g[g.length-1].data+=p.data,g):(g.push(p),g)},[])}function x(v){const g=[];for(let p=0;p<v.length;p++){const j=v[p];switch(j.mode){case t.NUMERIC:g.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:g.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:g.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:g.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return g}function b(v,g){const p={},j={start:{}};let S=["start"];for(let k=0;k<v.length;k++){const _=v[k],N=[];for(let E=0;E<_.length;E++){const P=_[E],O=""+k+E;N.push(O),p[O]={node:P,lastCount:0},j[O]={};for(let M=0;M<S.length;M++){const I=S[M];p[I]&&p[I].node.mode===P.mode?(j[I][O]=h(p[I].lastCount+P.length,P.mode)-h(p[I].lastCount,P.mode),p[I].lastCount+=P.length):(p[I]&&(p[I].lastCount=P.length),j[I][O]=h(P.length,P.mode)+4+t.getCharCountIndicator(P.mode,g))}}S=N}for(let k=0;k<S.length;k++)j[S[k]].end=0;return{map:j,table:p}}function w(v,g){let p;const j=t.getBestModeForData(v);if(p=t.from(g,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!o.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new r(v);case t.ALPHANUMERIC:return new n(v);case t.KANJI:return new a(v);case t.BYTE:return new i(v)}}e.fromArray=function(g){return g.reduce(function(p,j){return typeof j=="string"?p.push(w(j,null)):j.data&&p.push(w(j.data,j.mode)),p},[])},e.fromString=function(g,p){const j=f(g,o.isKanjiModeEnabled()),S=x(j),k=b(S,p),_=c.find_path(k.map,"start","end"),N=[];for(let E=1;E<_.length-1;E++)N.push(k.table[_[E]].node);return e.fromArray(m(N))},e.rawSplit=function(g){return e.fromArray(f(g,o.isKanjiModeEnabled()))}})(f_);const Sd=or,Qf=jd,O3=u3,A3=d3,T3=n_,M3=i_,Lm=a_,Rm=_d,I3=h3,gu=l_,D3=u_,$3=Si,Jf=f_;function L3(e,t){const r=e.size,n=M3.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],s=n[i][1];for(let o=-1;o<=7;o++)if(!(a+o<=-1||r<=a+o))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?e.set(a+o,s+c,!0,!0):e.set(a+o,s+c,!1,!0))}}function R3(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function z3(e,t){const r=T3.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let s=-2;s<=2;s++)for(let o=-2;o<=2;o++)s===-2||s===2||o===-2||o===2||s===0&&o===0?e.set(i+s,a+o,!0,!0):e.set(i+s,a+o,!1,!0)}}function U3(e,t){const r=e.size,n=gu.getEncodedBits(t);let i,a,s;for(let o=0;o<18;o++)i=Math.floor(o/3),a=o%3+r-8-3,s=(n>>o&1)===1,e.set(i,a,s,!0),e.set(a,i,s,!0)}function Xf(e,t,r){const n=e.size,i=D3.getEncodedBits(t,r);let a,s;for(a=0;a<15;a++)s=(i>>a&1)===1,a<6?e.set(a,8,s,!0):a<8?e.set(a+1,8,s,!0):e.set(n-15+a,8,s,!0),a<8?e.set(8,n-a-1,s,!0):a<9?e.set(8,15-a-1+1,s,!0):e.set(8,15-a-1,s,!0);e.set(n-8,8,1,!0)}function B3(e,t){const r=e.size;let n=-1,i=r-1,a=7,s=0;for(let o=r-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,o-c)){let u=!1;s<t.length&&(u=(t[s]>>>a&1)===1),e.set(i,o-c,u),a--,a===-1&&(s++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function F3(e,t,r){const n=new O3;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),$3.getCharCountIndicator(c.mode,e)),c.write(n)});const i=Sd.getSymbolTotalCodewords(e),a=Rm.getTotalCodewordsCount(e,t),s=(i-a)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const o=(s-n.getLengthInBits())/8;for(let c=0;c<o;c++)n.put(c%2?17:236,8);return W3(n,e,t)}function W3(e,t,r){const n=Sd.getSymbolTotalCodewords(t),i=Rm.getTotalCodewordsCount(t,r),a=n-i,s=Rm.getBlocksCount(t,r),o=n%s,c=s-o,u=Math.floor(n/s),d=Math.floor(a/s),f=d+1,h=u-d,m=new I3(h);let x=0;const b=new Array(s),w=new Array(s);let v=0;const g=new Uint8Array(e.buffer);for(let _=0;_<s;_++){const N=_<c?d:f;b[_]=g.slice(x,x+N),w[_]=m.encode(b[_]),x+=N,v=Math.max(v,N)}const p=new Uint8Array(n);let j=0,S,k;for(S=0;S<v;S++)for(k=0;k<s;k++)S<b[k].length&&(p[j++]=b[k][S]);for(S=0;S<h;S++)for(k=0;k<s;k++)p[j++]=w[k][S];return p}function q3(e,t,r,n){let i;if(Array.isArray(e))i=Jf.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=Jf.rawSplit(e);u=gu.getBestVersionForData(d,r)}i=Jf.fromString(e,u||40)}else throw new Error("Invalid data");const a=gu.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const s=F3(t,r,i),o=Sd.getSymbolSize(t),c=new A3(o);return L3(c,t),R3(c),z3(c,t),Xf(c,r,0),t>=7&&U3(c,t),B3(c,s),isNaN(n)&&(n=Lm.getBestMask(c,Xf.bind(null,c,r))),Lm.applyMask(n,c),Xf(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}t_.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Qf.M,i,a;return typeof r<"u"&&(n=Qf.from(r.errorCorrectionLevel,Qf.M),i=gu.from(r.version),a=Lm.from(r.maskPattern),r.toSJISFunc&&Sd.setToSJISFunction(r.toSJISFunc)),q3(t,i,n,a)};var m_={},qg={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const s=i.modules.size,o=i.modules.data,c=e.getScale(s,a),u=Math.floor((s+a.margin*2)*c),d=a.margin*c,f=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let x=(h*u+m)*4,b=a.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),v=Math.floor((m-d)/c);b=f[o[w*s+v]?1:0]}n[x++]=b.r,n[x++]=b.g,n[x++]=b.b,n[x]=b.a}}})(qg);(function(e){const t=qg;function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,s,o){let c=o,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(a.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,a,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(a,s,o){let c=o;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(a,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(m_);var p_={};const V3=qg;function jx(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Zf(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function H3(e,t,r){let n="",i=0,a=!1,s=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);!c&&!a&&(a=!0),e[o]?(s++,o>0&&c>0&&e[o-1]||(n+=a?Zf("M",c+r,.5+u+r):Zf("m",i,0),i=0,a=!1),c+1<t&&e[o+1]||(n+=Zf("h",s),s=0)):i++}return n}p_.render=function(t,r,n){const i=V3.getOptions(r),a=t.modules.size,s=t.modules.data,o=a+i.margin*2,c=i.color.light.a?"<path "+jx(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+jx(i.color.dark,"stroke")+' d="'+H3(s,a,i.margin)+'"/>',d='viewBox="0 0 '+o+" "+o+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const K3=l3,zm=t_,g_=m_,G3=p_;function Vg(e,t,r,n,i){const a=[].slice.call(arguments,1),s=a.length,o=typeof a[s-1]=="function";if(!o&&!K3())throw new Error("Callback required as last argument");if(o){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=zm.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=zm.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}ki.create=zm.create;ki.toCanvas=Vg.bind(null,g_.render);ki.toDataURL=Vg.bind(null,g_.renderToDataURL);ki.toString=Vg.bind(null,function(e,t,r){return G3.render(e,r)});const Y3=()=>{const{user:e}=sr(),t=Hr(),[r,n]=y.useState(null),[i,a]=y.useState(!0),[s,o]=y.useState(""),[c,u]=y.useState("#000000"),[d,f]=y.useState("#ffffff"),[h,m]=y.useState(!1),[x,b]=y.useState(!1);y.useRef(null);const w=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert foncé",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];y.useEffect(()=>{e&&v()},[e]),y.useEffect(()=>{r&&g()},[r,c,d]);const v=async()=>{if(e){a(!0);try{const{data:_,error:N}=await U.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(N&&N.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",N),N;n(_)}catch(_){console.error("Erreur lors du chargement:",_)}finally{a(!1)}}},g=async()=>{if(r){b(!0);try{const _=`https://a.cloudmenu.fr/m/${r.slug}?ref=qr`,N=await ki.toDataURL(_,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"M"});o(N)}catch(_){console.error("Erreur lors de la génération du QR code:",_)}finally{b(!1)}}},p=()=>{if(!s||!r)return;const _=document.createElement("a");_.download=`qr-code-${r.slug}.png`,_.href=s,_.click()},j=async()=>{if(r)try{await navigator.clipboard.writeText(`${k}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch(_){console.error("Erreur lors de la copie:",_)}},S=_=>{u(_.color),f(_.bg)};if(i)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})});if(!r)return l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Qa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configuré"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identité visuelle de votre restaurant pour générer un QR code."}),l.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const k=r?`https://a.cloudmenu.fr/m/${r.slug}`:"";return l.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[l.jsxs("div",{className:"mb-6 sm:mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Téléchargez votre QR code personnalisé pour afficher dans votre établissement. Il permet d'accéder à tous vos menus."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(jM,{className:"w-5 h-5"}),l.jsx("span",{children:"URL de votre restaurant"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[l.jsx("input",{type:"text",value:`${k}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),l.jsx("button",{onClick:j,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?l.jsxs(l.Fragment,{children:[l.jsx(Ve,{className:"w-4 h-4"}),l.jsx("span",{children:"Copié !"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Cm,{className:"w-4 h-4"}),l.jsx("span",{children:"Copier"})]})})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["🔗 ",l.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramètre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Ig,{className:"w-5 h-5"}),l.jsx("span",{children:"Personnalisation"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prédéfinies"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:w.map((_,N)=>l.jsxs("button",{onClick:()=>S(_),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===_.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:_.color}}),l.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:_.bg}})]}),l.jsx("span",{className:"text-xs font-medium text-gray-700",children:_.name})]},N))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:c,onChange:_=>u(_.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),l.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrière-plan"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:d,onChange:_=>f(_.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),l.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(Qa,{className:"w-5 h-5"}),l.jsx("span",{children:"Aperçu du QR Code"})]}),l.jsx("div",{className:"text-center",children:x?l.jsx("div",{className:"flex items-center justify-center h-80",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Génération..."})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&l.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:p,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[l.jsx(hM,{className:"w-5 h-5"}),l.jsx("span",{children:"Télécharger le QR Code"})]})})]})})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Comment utiliser votre QR Code"}),l.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),l.jsx("span",{children:"Téléchargez le QR code en cliquant sur le bouton ci-dessus"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),l.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),l.jsx("span",{children:"Vos clients scannent le QR code avec leur téléphone"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),l.jsx("span",{children:"Ils accèdent directement à votre menu en ligne !"})]})]})]})]})]})]})},so={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"}},Q3=()=>{const e=navigator.language.split("-")[0];return Object.keys(so).includes(e)?e:"fr"};function J3(){var S;const{slug:e}=ha(),[t,r]=y.useState(null),[n,i]=y.useState([]),[a,s]=y.useState(Q3()),[o,c]=y.useState(!1),[u,d]=y.useState(!0),[f,h]=y.useState(""),[m,x]=y.useState(!1);y.useEffect(()=>{const k=()=>{x(window.innerWidth<768)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),y.useEffect(()=>{e&&(w(),b())},[e]);const b=async()=>{try{const k=window.location.href,_=await ki.toDataURL(k,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(_)}catch(k){console.error("Error generating QR code:",k)}},w=async()=>{d(!0);try{const{data:k,error:_}=await U.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(_||!k){console.error("Erreur lors du chargement du restaurant:",_),d(!1);return}r(k);const{data:N,error:E}=await U.from("menus").select("*").eq("user_id",k.user_id).eq("actif",!0).eq("status","published").order("created_at",{ascending:!0});E?(console.error("Erreur lors du chargement des menus:",E),i([])):i(N||[])}catch(k){console.error("Erreur:",k)}finally{d(!1)}},g=n.reduce((k,_)=>{const N=k.find(E=>E.menu_name===_.menu_name);return N?N.languages.push(_):k.push({menu_name:_.menu_name||_.nom,description:_.description,languages:[_]}),k},[]).filter(k=>k.languages.some(_=>_.language===a)),p=Array.from(new Set(n.map(k=>k.language||"fr"))),j=k=>k.languages.find(_=>_.language===a);return u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx(ma,{size:"lg"})}):t?m?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.banner_url&&l.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:l.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"px-4 py-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 mb-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name}),p.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx(Tg,{size:16}),l.jsx("span",{className:"text-lg",children:(S=so[a])==null?void 0:S.flag}),l.jsx(fu,{size:14})]}),o&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(k=>{var _,N;return l.jsx("button",{onClick:()=>{s(k),c(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors ${k===a?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:(_=so[k])==null?void 0:_.flag}),l.jsx("span",{className:"text-sm",children:(N=so[k])==null?void 0:N.name})]})},k)})})]})]}),t.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),l.jsxs("div",{className:"space-y-2",children:[t.address&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(Am,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("span",{children:t.address})]}),t.telephone&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(nn,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("a",{href:`tel:${t.telephone}`,className:"hover:text-orange-600",children:t.telephone})]}),t.hours&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(qo,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("span",{children:t.hours})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:a==="fr"?"Nos Menus":a==="en"?"Our Menus":a==="es"?"Nuestros Menús":a==="de"?"Unsere Menüs":a==="it"?"I Nostri Menu":"Nos Menus"}),g.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[l.jsx(Mg,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-600",children:a==="fr"?"Aucun menu disponible pour le moment.":a==="en"?"No menus available at the moment.":a==="es"?"No hay menús disponibles en este momento.":a==="de"?"Derzeit sind keine Menüs verfügbar.":a==="it"?"Nessun menu disponibile al momento.":"Aucun menu disponible pour le moment."})]}):l.jsx("div",{className:"space-y-3",children:g.map(k=>{var P;const _=j(k),N=_.slug.split("/").pop(),E=k.languages.length>1;return l.jsx(Ze,{to:`/m/${e}/${N}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all p-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E&&l.jsx("span",{className:"text-xl",children:(P=so[_.language||"fr"])==null?void 0:P.flag}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.menu_name})]}),k.description&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:k.description})]}),l.jsx(Ag,{className:"flex-shrink-0 ml-3 text-gray-400",size:20})]})},k.menu_name)})})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:l.jsx("div",{className:"max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:l.jsx($2,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),l.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),l.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),l.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&l.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),l.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),l.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),l.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),l.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),t.description&&l.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&l.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Am,{size:16}),l.jsx("span",{children:t.address})]}),t.telephone&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(nn,{size:16}),l.jsx("span",{children:t.telephone})]}),t.hours&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(qo,{size:16}),l.jsx("span",{children:t.hours})]})]})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a été désactivé."})]})})}const cr={fr:{name:"Français",flag:"🇫🇷",rtl:!1},en:{name:"English",flag:"🇬🇧",rtl:!1},es:{name:"Español",flag:"🇪🇸",rtl:!1},de:{name:"Deutsch",flag:"🇩🇪",rtl:!1},it:{name:"Italiano",flag:"🇮🇹",rtl:!1},pt:{name:"Português",flag:"🇵🇹",rtl:!1},ar:{name:"العربية",flag:"🇸🇦",rtl:!0},zh:{name:"中文",flag:"🇨🇳",rtl:!1},ja:{name:"日本語",flag:"🇯🇵",rtl:!1},ru:{name:"Русский",flag:"🇷🇺",rtl:!1},nl:{name:"Nederlands",flag:"🇳🇱",rtl:!1}},X3=()=>{var he,Ae,Gr,Av,Tv,Mv,Iv,Dv;const e=Hr(),{slug:t,menuSlug:r}=ha(),[n,i]=y.useState(null),[a,s]=y.useState([]),[o,c]=y.useState({}),[u,d]=y.useState(!0),[f,h]=y.useState(null),[m,x]=y.useState(""),[b,w]=y.useState(!1),[v,g]=y.useState([]),[p,j]=y.useState(null),[S,k]=y.useState(""),[_,N]=y.useState(!1),[E,P]=y.useState(!1);y.useState(!1);const[O,M]=y.useState(!1),[I,K]=y.useState("fr"),[ne,G]=y.useState([]),[H,F]=y.useState({}),[C,$]=y.useState({}),[V,R]=y.useState(!1),[oe,fe]=y.useState(!1),[ce,ze]=y.useState(null),[ve,Ct]=y.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),Y=y.useRef({}),ae=y.useRef(null),le=y.useRef({});y.useEffect(()=>{const D=()=>{N(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),y.useEffect(()=>{t&&r&&(nt(),z())},[t,r]),y.useEffect(()=>{n&&I&&it(I)},[I,n,a,o]),y.useEffect(()=>{n&&!I&&K(n.default_language||"fr")},[n]);const z=async()=>{try{const D=window.location.href,Q=await ki.toDataURL(D,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});k(Q)}catch(D){console.error("Error generating QR code:",D)}};y.useEffect(()=>{if(n&&!b){const Q=new URLSearchParams(window.location.search).get("ref");let W="direct_link";Q==="qr"?W="qr_scan":Q==="gmb"&&(W="gmb"),iM(n.id,W),w(!0)}},[n,b]),y.useEffect(()=>{a.length>0&&!m&&x(a[0].id)},[a]),y.useEffect(()=>{if(m&&le.current[m]&&ae.current){const D=le.current[m],Q=ae.current;D.getBoundingClientRect(),Q.getBoundingClientRect();const W=D.offsetLeft,ft=D.offsetWidth,Ue=Q.scrollLeft,Ne=Q.offsetWidth;W<Ue?Q.scrollTo({left:W-20,behavior:"smooth"}):W+ft>Ue+Ne&&Q.scrollTo({left:W+ft-Ne+20,behavior:"smooth"})}},[m]);const nt=async()=>{if(!t||!r){h("Paramètres manquants"),d(!1);return}try{const{data:D,error:Q}=await U.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(Q||!D){h("Restaurant non trouvé"),d(!1);return}j(D);const{data:W,error:ft}=await U.from("menus").select("*").eq("user_id",D.user_id).eq("actif",!0).eq("status","published");if(ft){h("Erreur lors du chargement des menus"),d(!1);return}g(W||[]);const Ue=W==null?void 0:W.find(Ne=>Ne.slug.split("/").pop()===r);if(!Ue){h("Menu non trouvé"),d(!1);return}i(Ue),await ge(Ue.id)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},ge=async D=>{try{const{data:Q,error:W}=await U.from("categories").select("*").eq("menu_id",D).eq("actif",!0).order("ordre",{ascending:!0});if(W)throw W;if(s(Q||[]),Q&&Q.length>0){const{data:Ue,error:Ne}=await U.from("menu_items").select("*").in("category_id",Q.map(Ht=>Ht.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(Ne)throw Ne;const Pt={};Q.forEach(Ht=>{Pt[Ht.id]=(Ue==null?void 0:Ue.filter(lf=>lf.category_id===Ht.id))||[]}),c(Pt)}const{data:ft}=await U.from("menu_languages").select("*").eq("menu_id",D);G(ft||[])}catch(Q){console.error("Erreur lors du chargement du contenu:",Q)}},it=async D=>{if(!n||!D||D===(n.default_language||"fr")){F({}),$({});return}try{const Q=a.map(Ne=>Ne.id),{data:W}=await U.from("category_translations").select("*").in("category_id",Q).eq("language_code",D),ft={};W==null||W.forEach(Ne=>{ft[Ne.category_id]=Ne}),F(ft);const Ue=[];if(Object.values(o).forEach(Ne=>{Ne.forEach(Pt=>Ue.push(Pt.id))}),Ue.length>0){const{data:Ne}=await U.from("menu_item_translations").select("*").in("menu_item_id",Ue).eq("language_code",D),Pt={};Ne==null||Ne.forEach(Ht=>{Pt[Ht.menu_item_id]=Ht}),$(Pt)}}catch(Q){console.error("Error loading translations:",Q)}},Ge=D=>{x(D);const Q=Y.current[D];if(Q){const ft=Q.offsetTop-140;window.scrollTo({top:ft,behavior:"smooth"})}};y.useEffect(()=>{const D=()=>{const Q=window.scrollY+250;let W="",ft=1/0;for(const Ue of a){const Ne=Y.current[Ue.id];if(Ne){const Pt=Ne.offsetTop,Ht=Pt+Ne.offsetHeight,lf=Math.max(Pt,Q-150),lC=Math.min(Ht,Q+200),cC=Math.max(0,lC-lf),uC=Ht-Pt;if(cC/Math.min(uC,350)>.4){W=Ue.id;break}const cf=Pt-Q;cf>0&&cf<ft&&(ft=cf,W=Ue.id)}}if(!W){ft=1/0;for(const Ue of a){const Ne=Y.current[Ue.id];if(Ne){const Pt=Ne.offsetTop,Ht=Math.abs(Pt-Q);Ht<ft&&(ft=Ht,W=Ue.id)}}}W&&W!==m&&x(W)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[a,m]),y.useEffect(()=>{const D=Q=>{E&&P(!1)};if(E)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[E]);const A=D=>{const Q=D.replace(/\D/g,"");return`https://wa.me/${Q.startsWith("33")?Q:`33${Q.substring(1)}`}`},Z=(D,Q)=>{ze({type:D,text:Q}),setTimeout(()=>ze(null),5e3)},te=async D=>{if(D.preventDefault(),!ve.customer_name.trim()||!ve.customer_phone.trim()||!ve.reservation_date||!ve.reservation_time){Z("error","Veuillez remplir tous les champs obligatoires");return}fe(!0);try{const{error:Q}=await U.from("reservations").insert([{menu_id:n.id,customer_name:ve.customer_name,customer_email:null,customer_phone:ve.customer_phone,party_size:ve.party_size,reservation_date:ve.reservation_date,reservation_time:ve.reservation_time,special_requests:ve.special_requests||null,status:"pending"}]);if(Q)throw Q;Z("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),Ct({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{R(!1)},3e3)}catch(Q){console.error("Erreur lors de la réservation:",Q),Z("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{fe(!1)}},q=()=>{const D=new Date;return D.setDate(D.getDate()+1),D.toISOString().split("T")[0]},L=()=>{var D;return((D=cr[I])==null?void 0:D.rtl)||!1};return u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouvé"}),l.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):_?l.jsxs("div",{className:"min-h-screen",dir:L()?"rtl":"ltr",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:l.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[l.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:n.nom}),l.jsxs("div",{className:`hidden lg:flex items-center ${L()?"space-x-reverse":""} space-x-2`,children:[ne.length>0&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{M(!O)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx(Tg,{size:18}),l.jsx("span",{className:"text-xl",children:((he=cr[I])==null?void 0:he.flag)||"🌐"}),l.jsx("span",{className:"text-sm font-medium",children:((Ae=cr[I])==null?void 0:Ae.name)||I}),l.jsx(fu,{size:16})]}),O&&l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[l.jsx("button",{onClick:()=>{K(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:(Gr=cr[n.default_language||"fr"])==null?void 0:Gr.flag}),l.jsx("span",{className:"text-sm",children:(Av=cr[n.default_language||"fr"])==null?void 0:Av.name})]}),I===n.default_language&&l.jsx(Ve,{size:16})]})}),ne.map(D=>{var Q,W;return l.jsx("button",{onClick:()=>{K(D.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:((Q=cr[D.language_code])==null?void 0:Q.flag)||"🌐"}),l.jsx("span",{className:"text-sm",children:((W=cr[D.language_code])==null?void 0:W.name)||D.language_code})]}),I===D.language_code&&l.jsx(Ve,{size:16})]})},D.id)})]})]}),l.jsx("div",{className:"w-px h-6 bg-gray-300"}),l.jsxs("div",{className:`flex items-center ${L()?"space-x-reverse":""} space-x-2`,children:[(p==null?void 0:p.telephone)&&l.jsx("a",{href:`tel:${p==null?void 0:p.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${p==null?void 0:p.telephone}`,children:l.jsx(nn,{size:20})}),(p==null?void 0:p.whatsapp)&&l.jsx("a",{href:A(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${p==null?void 0:p.whatsapp}`,children:l.jsx(hu,{size:20})}),(p==null?void 0:p.instagram)&&l.jsx("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:l.jsx(Ho,{size:20})}),(p==null?void 0:p.facebook)&&l.jsx("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:l.jsx(Vo,{size:20})}),(p==null?void 0:p.tiktok)&&l.jsx("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:l.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),l.jsxs("div",{className:`lg:hidden flex items-center ${L()?"space-x-reverse":""} space-x-2`,children:[l.jsxs("button",{onClick:()=>R(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",style:{backgroundColor:n.couleur_primaire},children:[l.jsx(Lr,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:"Réserver"})]}),ne.length>0&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{M(!O)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx("span",{className:"text-xl",children:((Tv=cr[I])==null?void 0:Tv.flag)||"🌐"}),l.jsx(fu,{size:16})]}),O&&l.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[l.jsx("button",{onClick:()=>{K(n.default_language||"fr"),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:(Mv=cr[n.default_language||"fr"])==null?void 0:Mv.flag}),l.jsx("span",{className:"text-sm",children:(Iv=cr[n.default_language||"fr"])==null?void 0:Iv.name})]}),I===n.default_language&&l.jsx(Ve,{size:16})]})}),ne.map(D=>{var Q,W;return l.jsx("button",{onClick:()=>{K(D.language_code),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:((Q=cr[D.language_code])==null?void 0:Q.flag)||"🌐"}),l.jsx("span",{className:"text-sm",children:((W=cr[D.language_code])==null?void 0:W.name)||D.language_code})]}),I===D.language_code&&l.jsx(Ve,{size:16})]})},D.id)})]})]}),((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&l.jsx("button",{onClick:D=>{D.stopPropagation(),P(!E)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(Mg,{size:24,className:"text-black"})})]}),E&&((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&l.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:l.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),l.jsxs("div",{className:"py-1",children:[(p==null?void 0:p.telephone)&&l.jsxs("a",{href:`tel:${p==null?void 0:p.telephone}`,className:`flex items-center ${L()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(nn,{size:18,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Téléphone"}),l.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.telephone})]})]}),(p==null?void 0:p.whatsapp)&&l.jsxs("a",{href:A(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${L()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[l.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(hu,{size:18,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),l.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.whatsapp})]})]}),(p==null?void 0:p.instagram)&&l.jsxs("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${L()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[l.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Ho,{size:18,className:"text-pink-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["@",p==null?void 0:p.instagram.split("/").pop()]})]})]}),(p==null?void 0:p.facebook)&&l.jsxs("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${L()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Vo,{size:18,className:"text-blue-700"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Voir la page"})]})]}),(p==null?void 0:p.tiktok)&&l.jsxs("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${L()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[l.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["@",(Dv=p==null?void 0:p.tiktok.split("/").pop())==null?void 0:Dv.replace("@","")]})]})]}),!(p!=null&&p.telephone)&&!(p!=null&&p.whatsapp)&&!(p!=null&&p.instagram)&&!(p!=null&&p.facebook)&&!(p!=null&&p.tiktok)&&l.jsx("div",{className:"px-4 py-8 text-gray-500 text-center",children:"Aucune information de contact configurée"})]})]})]})}),n.banniere_url&&l.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:l.jsx("img",{src:n.banniere_url,alt:"Bannière du restaurant",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"px-4 lg:pt-20",children:[a.length>0&&l.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:l.jsx("div",{ref:ae,className:`flex ${L()?"space-x-reverse":""} space-x-8 overflow-x-auto scrollbar-hide items-center`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.map(D=>l.jsx("button",{ref:Q=>le.current[D.id]=Q,onClick:()=>Ge(D.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===D.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===D.id?n.couleur_primaire:void 0,borderColor:m===D.id?n.couleur_primaire:void 0},children:I!==(n.default_language||"fr")&&H[D.id]?H[D.id].nom:D.nom},D.id))})}),l.jsx("div",{className:"hidden lg:block mb-8",children:l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:()=>R(!0),className:`bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center ${L()?"space-x-reverse":""} space-x-3 font-medium text-lg mx-auto`,style:{backgroundColor:n.couleur_primaire},children:[l.jsx(Lr,{size:24}),l.jsx("span",{children:"Réserver une table"})]})})}),l.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[a.length>0&&l.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),l.jsx("nav",{className:"py-2",children:a.map(D=>{const Q=o[D.id]||[];return Q.length===0?null:l.jsxs("button",{onClick:()=>Ge(D.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===D.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===D.id?n.couleur_primaire:n.couleur_texte,borderColor:m===D.id?n.couleur_primaire:void 0},children:[l.jsx("div",{className:"font-medium text-base",children:D.nom}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[Q.length," plat",Q.length>1?"s":""]})]},D.id)})})]})}),l.jsx("div",{className:"lg:min-h-screen",children:a.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:l.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de création"}),l.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propriétaire de ce restaurant configure actuellement son menu.",l.jsx("br",{}),"Revenez bientôt pour découvrir nos délicieux plats !"]})]})}):l.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:a.map(D=>{const Q=o[D.id]||[];return Q.length===0?null:l.jsxs("div",{ref:W=>Y.current[D.id]=W,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[l.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[l.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&H[D.id]?H[D.id].nom:D.nom}),D.description&&l.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:D.description}),l.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),l.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[l.jsx("div",{className:"lg:hidden",children:Q.map(W=>l.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:l.jsxs("div",{className:`flex items-start ${L()?"space-x-reverse":""} space-x-4`,children:[W.image_url&&l.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100",children:l.jsx("img",{src:W.image_url,alt:W.nom,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:`flex-1 ${L()?"pl-2":"pr-2"}`,children:[l.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&C[W.id]?C[W.id].nom:W.nom}),l.jsxs("div",{className:`flex items-center ${L()?"space-x-reverse":""} space-x-1 mt-1`,children:[W.vegetarien&&l.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Végétarien",children:l.jsx(Yn,{className:"w-3 h-3"})}),W.vegan&&l.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:l.jsx(Yn,{className:"w-3 h-3"})}),W.sans_gluten&&l.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),W.epice&&l.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"Épicé",children:l.jsx(Dc,{className:"w-3 h-3"})})]})]}),l.jsxs("span",{className:`text-xl font-bold flex-shrink-0 ${L()?"mr-2":"ml-2"}`,style:{color:n.couleur_primaire},children:[W.prix.toFixed(2)," €"]})]}),(I!==(n.default_language||"fr")&&C[W.id]?C[W.id].description:W.description)&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:I!==(n.default_language||"fr")&&C[W.id]?C[W.id].description:W.description}),W.allergenes.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["Allergènes: ",W.allergenes.join(", ")]})]})]})},W.id))}),Q.map(W=>l.jsx("div",{className:"hidden lg:block",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[W.image_url&&l.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[l.jsx("img",{src:W.image_url,alt:W.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),l.jsxs("div",{className:`absolute top-3 ${L()?"right-3":"left-3"} flex ${L()?"space-x-reverse":""} space-x-1`,children:[W.vegetarien&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Végétarien",children:l.jsx(Yn,{className:"w-4 h-4"})}),W.vegan&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:l.jsx(Yn,{className:"w-4 h-4"})}),W.sans_gluten&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),W.epice&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"Épicé",children:l.jsx(Dc,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[!W.image_url&&(W.vegetarien||W.vegan||W.sans_gluten||W.epice)&&l.jsxs("div",{className:`flex ${L()?"space-x-reverse":""} space-x-1 mb-3`,children:[W.vegetarien&&l.jsx("span",{className:"bg-green-100 text-green-600 p-1.5 rounded-full",title:"Végétarien",children:l.jsx(Yn,{className:"w-4 h-4"})}),W.vegan&&l.jsx("span",{className:"bg-green-200 text-green-700 p-1.5 rounded-full",title:"Vegan",children:l.jsx(Yn,{className:"w-4 h-4"})}),W.sans_gluten&&l.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-bold",children:"SG"}),W.epice&&l.jsx("span",{className:"bg-red-100 text-red-600 p-1.5 rounded-full",title:"Épicé",children:l.jsx(Dc,{className:"w-4 h-4"})})]}),l.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&C[W.id]?C[W.id].nom:W.nom}),(I!==(n.default_language||"fr")&&C[W.id]?C[W.id].description:W.description)&&l.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:I!==(n.default_language||"fr")&&C[W.id]?C[W.id].description:W.description}),W.allergenes.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:["Allergènes: ",W.allergenes.join(", ")]}),l.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:l.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[W.prix.toFixed(2)," €"]})})]})]})},W.id))]})]},D.id)})})})]}),(n.afficher_powered_by||n.lien_cloudmenu)&&l.jsxs("footer",{className:"text-center py-8 border-t border-gray-200 bg-gray-50 mx-4 lg:mx-0 lg:rounded-t-2xl",children:[n.afficher_powered_by&&l.jsx("p",{className:"text-base text-gray-500 mb-3",children:"Propulsé par CloudMenu"}),n.lien_cloudmenu&&l.jsx("a",{href:"https://cloudmenu.com",target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",style:{color:n.couleur_primaire},children:"Créer mon menu gratuitement avec CloudMenu"})]})]}),V&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Réserver une table"}),l.jsx("button",{onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:l.jsx(We,{size:20})})]})}),ce&&l.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${ce.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[ce.type==="success"?l.jsx(Ve,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):l.jsx(We,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:ce.text})]}),l.jsxs("form",{onSubmit:te,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),l.jsx("input",{type:"text",value:ve.customer_name,onChange:D=>Ct(Q=>({...Q,customer_name:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),l.jsx("input",{type:"tel",value:ve.customer_phone,onChange:D=>Ct(Q=>({...Q,customer_phone:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),l.jsx("input",{type:"date",value:ve.reservation_date,onChange:D=>Ct(Q=>({...Q,reservation_date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:q(),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),l.jsx("input",{type:"time",value:ve.reservation_time,onChange:D=>Ct(Q=>({...Q,reservation_time:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),l.jsx("select",{value:ve.party_size,onChange:D=>Ct(Q=>({...Q,party_size:parseInt(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(D=>l.jsxs("option",{value:D,children:[D," personne",D>1?"s":""]},D))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),l.jsx("textarea",{value:ve.special_requests,onChange:D=>Ct(Q=>({...Q,special_requests:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>R(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),l.jsx("button",{type:"submit",disabled:oe,className:`flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center ${L()?"space-x-reverse":""} space-x-2`,style:{backgroundColor:n.couleur_primaire},children:oe?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-5 h-5"}),l.jsx("span",{children:"Réserver"})]})})]})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:l.jsx("div",{className:"max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:l.jsx($2,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(p==null?void 0:p.restaurant_name)||n.nom}),l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:n.menu_name||n.nom}),l.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),l.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),l.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:S&&l.jsx("img",{src:S,alt:"QR Code",className:"w-64 h-64"})}),l.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),l.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),l.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),l.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),n.description&&l.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},Z3=()=>{const{slug:e}=ha(),[t,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null),[o,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});y.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:v,error:g}=await U.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(g){s("Erreur lors du chargement du menu");return}if(!v){s("Restaurant non trouvé");return}r(v)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},x=(v,g)=>{d({type:v,text:g}),setTimeout(()=>d(null),5e3)},b=async v=>{if(v.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){x("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:g}=await U.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(g)throw g;x("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(g){console.error("Erreur lors de la réservation:",g),x("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{c(!1)}},w=()=>{const v=new Date;return v.setDate(v.getDate()+1),v.toISOString().split("T")[0]};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):a||!t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):l.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l.jsxs(Ze,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[l.jsx(yl,{size:20}),l.jsx("span",{children:"Retour à l'accueil"})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx("span",{className:"text-2xl",children:"🍽️"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Réserver une table"}),l.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&l.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?l.jsx(Ve,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):l.jsx(We,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:u.text})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),l.jsx("input",{type:"text",value:f.customer_name,onChange:v=>h(g=>({...g,customer_name:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),l.jsx("input",{type:"tel",value:f.customer_phone,onChange:v=>h(g=>({...g,customer_phone:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),l.jsx("input",{type:"email",value:f.customer_email,onChange:v=>h(g=>({...g,customer_email:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),l.jsx("input",{type:"date",value:f.reservation_date,onChange:v=>h(g=>({...g,reservation_date:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),l.jsx("input",{type:"time",value:f.reservation_time,onChange:v=>h(g=>({...g,reservation_time:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),l.jsx("select",{value:f.party_size,onChange:v=>h(g=>({...g,party_size:parseInt(v.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(v=>l.jsxs("option",{value:v,children:[v," personne",v>1?"s":""]},v))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),l.jsx("textarea",{value:f.special_requests,onChange:v=>h(g=>({...g,special_requests:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:o?l.jsx(ye,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-5 h-5"}),l.jsx("span",{children:"Envoyer la réservation"})]})})]}),l.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["ℹ️ ",l.jsx("strong",{children:"Information :"})," Votre réservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},e6=()=>{var u;const{slug:e}=ha(),[t,r]=y.useState(null),[n,i]=y.useState(!0),[a,s]=y.useState(null);y.useEffect(()=>{o()},[e]);const o=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:d,error:f}=await U.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouvé");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ye,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):a||!t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):l.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[l.jsxs(Ze,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[l.jsx(yl,{size:20}),l.jsx("span",{children:"Retour à l'accueil"})]}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx("span",{className:"text-2xl",children:"🍽️"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),l.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&l.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(nn,{size:24,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Téléphone"}),l.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),l.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(hu,{size:24,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),l.jsx("p",{className:"text-gray-600",children:"Messagerie instantanée"})]})]}),l.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[l.jsx("span",{children:t.whatsapp}),l.jsx(D2,{size:16})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:l.jsx(nn,{size:24,style:{color:t.couleur_primaire}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Réservation"}),l.jsx("p",{className:"text-gray-600",children:"Réservez en ligne"})]})]}),l.jsx(Ze,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Réserver une table"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:l.jsx(nn,{size:24,style:{color:t.couleur_primaire}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),l.jsx("p",{className:"text-gray-600",children:"Découvrez nos plats"})]})]}),l.jsx(Ze,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&l.jsx("div",{className:"mt-12",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les réseaux sociaux"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&l.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[l.jsx(Ho,{size:32,className:"mb-4"}),l.jsx("span",{className:"font-medium",children:"Instagram"}),l.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&l.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[l.jsx(Vo,{size:32,className:"mb-4"}),l.jsx("span",{className:"font-medium",children:"Facebook"}),l.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&l.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[l.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:l.jsx("span",{className:"text-black font-bold",children:"T"})}),l.jsx("span",{className:"font-medium",children:"TikTok"}),l.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),l.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:l.jsxs("p",{className:"text-blue-700 text-center",children:["ℹ️ ",l.jsx("strong",{children:"Besoin d'aide ?"})," N'hésitez pas à nous contacter pour toute question ou demande spéciale. Nous sommes là pour vous aider !"]})})]})})};function t6(){const{user:e}=sr();Hr();const[t,r]=y.useState(!0),[n,i]=y.useState(!1),[a,s]=y.useState(null),[o,c]=y.useState(null),[u,d]=y.useState(!1),[f,h]=y.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""});y.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:g,error:p}=await U.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&(c(g),h({restaurant_name:g.restaurant_name,slug:g.slug,description:g.description||"",banner_url:g.banner_url||"",logo_url:g.logo_url||"",telephone:g.telephone||"",whatsapp:g.whatsapp||"",instagram:g.instagram||"",facebook:g.facebook||"",tiktok:g.tiktok||"",address:g.address||"",hours:g.hours||""}))}catch(g){console.error("Erreur lors du chargement du profil:",g),x("error","Erreur lors du chargement du profil")}finally{r(!1)}}},x=(g,p)=>{s({type:g,text:p}),setTimeout(()=>s(null),5e3)},b=(g,p)=>{if(h(j=>({...j,[g]:p})),g==="restaurant_name"&&!o){const j=ii(p);h(S=>({...S,slug:j}))}},w=async(g,p)=>{if(e){d(!0);try{const j=f[p],S=await os(g,e.id,p==="banner_url"?"banners":"logos");j&&await Ga(j),h(k=>({...k,[p]:S})),x("success","Image téléchargée avec succès")}catch(j){console.error("Erreur lors du téléchargement:",j),x("error","Erreur lors du téléchargement de l'image")}finally{d(!1)}}},v=async()=>{if(e){if(!f.restaurant_name.trim()){x("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){x("error","Le slug est requis");return}i(!0);try{if(o){const g={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours},{error:p}=await U.from("restaurant_profiles").update(g).eq("id",o.id);if(p)throw p;x("success","Profil mis à jour avec succès")}else{const g={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours},{data:p,error:j}=await U.from("restaurant_profiles").insert([g]).select().single();if(j)throw j;c(p),x("success","Profil créé avec succès")}await m()}catch(g){console.error("Erreur lors de la sauvegarde:",g),x("error","Erreur lors de la sauvegarde du profil")}finally{i(!1)}}};return t?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(ma,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[a&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[a.type==="success"?l.jsx(Ve,{size:20}):l.jsx(We,{size:20}),l.jsx("span",{children:a.text})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identité Visuelle"}),l.jsx("p",{className:"text-gray-600",children:"Configurez l'identité visuelle et les informations de votre restaurant"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(uM,{size:20}),l.jsx("span",{children:"Informations générales"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),l.jsx("input",{type:"text",value:f.restaurant_name,onChange:g=>b("restaurant_name",g.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),l.jsx("input",{type:"text",value:f.slug,onChange:g=>b("slug",g.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!o})]}),o&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas être modifiée après la création"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:f.description,onChange:g=>b("description",g.target.value),placeholder:"Décrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Am,{size:16,className:"inline mr-1"}),"Adresse"]}),l.jsx("input",{type:"text",value:f.address,onChange:g=>b("address",g.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(qo,{size:16,className:"inline mr-1"}),"Horaires"]}),l.jsx("input",{type:"text",value:f.hours,onChange:g=>b("hours",g.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),f.banner_url?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:f.banner_url,alt:"Bannière",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>h(g=>({...g,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:l.jsx(We,{size:16})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(Yo,{className:"w-12 h-12 text-gray-400 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour télécharger une bannière"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"banner_url")},disabled:u})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>h(g=>({...g,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:l.jsx(We,{size:14})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx(Yo,{className:"w-8 h-8 text-gray-400 mb-1"}),l.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"logo_url")},disabled:u})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Réseaux Sociaux"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(nn,{size:16,className:"inline mr-1"}),"Téléphone"]}),l.jsx("input",{type:"tel",value:f.telephone,onChange:g=>b("telephone",g.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),l.jsx("input",{type:"tel",value:f.whatsapp,onChange:g=>b("whatsapp",g.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ho,{size:16,className:"inline mr-1"}),"Instagram"]}),l.jsx("input",{type:"url",value:f.instagram,onChange:g=>b("instagram",g.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vo,{size:16,className:"inline mr-1"}),"Facebook"]}),l.jsx("input",{type:"url",value:f.facebook,onChange:g=>b("facebook",g.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(kM,{size:16,className:"inline mr-1"}),"TikTok"]}),l.jsx("input",{type:"url",value:f.tiktok,onChange:g=>b("tiktok",g.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:v,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?l.jsxs(l.Fragment,{children:[l.jsx(ye,{className:"animate-spin",size:20}),l.jsx("span",{children:"Enregistrement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Dg,{size:20}),l.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function v_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=v_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=v_(e))&&(n&&(n+=" "),n+=t);return n}var Nd={},y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(y_);var Hg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Hg);var Kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Kg);var Ed={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];o?u==="\\"&&a+1<i?(a++,s+=r[a]):u===o?o="":s+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,a++}return s&&n.push(s),n}e.toPath=t})(Ed);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y_,r=Hg,n=Kg,i=Ed;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Nd);var r6=Nd.get;const Cd=xi(r6);var yr=e=>e===0?0:e>0?1:-1,kr=e=>typeof e=="number"&&e!=+e,Wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!kr(e),sn=e=>ie(e)||typeof e=="string",n6=0,Zo=e=>{var t=++n6;return"".concat(e||"").concat(t)},yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var a;if(Wi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return kr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},x_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function pn(e,t,r){return ie(e)&&ie(t)?e+r*(t-e):t}function b_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Cd(n,t))===r)}var lt=e=>e===null||typeof e>"u",_l=e=>lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),i6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gg(e){if(typeof e!="string")return!1;var t=i6;return t.includes(e)}var a6=["viewBox","children"],_x=["points","pathLength"],eh={svg:a6,polygon:_x,polyline:_x},Yg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Gg(i)&&(n[i]=a=>r[i](r,a))}),n},s6=(e,t,r)=>n=>(e(t,r,n),null),w_=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Gg(i)&&typeof a=="function"&&(n||(n={}),n[i]=s6(a,t,r))}),n},o6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function j_(e){if(typeof e!="string")return!1;var t=o6;return t.includes(e)}function pa(e){var t=Object.entries(e).filter(r=>{var[n]=r;return j_(n)});return Object.fromEntries(t)}var __=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,l6=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(eh==null?void 0:eh[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&a.includes(t)||j_(t)),c=!!r&&Gg(t);return s||o||c},ct=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;l6((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},c6=["children","width","height","viewBox","className","style","title","desc"];function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(null,arguments)}function u6(e,t){if(e==null)return{};var r,n,i=d6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qg=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=u6(e,c6),f=a||{width:n,height:i,x:0,y:0},h=je("recharts-surface",s);return y.createElement("svg",Um({},ct(d,!0,"svg"),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),f6=["children","className"];function Bm(){return Bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bm.apply(null,arguments)}function h6(e,t){if(e==null)return{};var r,n,i=m6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function m6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cs=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=h6(e,f6),a=je("recharts-layer",n);return y.createElement("g",Bm({className:a},ct(i,!0),{ref:t}),r)}),k_=y.createContext(null),p6=()=>y.useContext(k_);function ke(e){return function(){return e}}const S_=Math.cos,vu=Math.sin,Kr=Math.sqrt,yu=Math.PI,Pd=2*yu,Fm=Math.PI,Wm=2*Fm,$i=1e-6,g6=Wm-$i;function N_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function v6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return N_;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class y6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?N_:v6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$i)if(!(Math.abs(f*c-u*d)>$i)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,x=i-o,b=c*c+u*u,w=m*m+x*x,v=Math.sqrt(b),g=Math.sqrt(h),p=a*Math.tan((Fm-Math.acos((b+h-w)/(2*v*g)))/2),j=p/g,S=p/v;Math.abs(j-1)>$i&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*x)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$i||Math.abs(this._y1-d)>$i)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Wm+Wm),h>g6?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>$i&&this._append`A${n},${n},0,${+(h>=Fm)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Jg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new y6(t)}function Xg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function E_(e){this._context=e}E_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Od(e){return new E_(e)}function C_(e){return e[0]}function P_(e){return e[1]}function O_(e,t){var r=ke(!0),n=null,i=Od,a=null,s=Jg(o);e=typeof e=="function"?e:e===void 0?C_:ke(e),t=typeof t=="function"?t:t===void 0?P_:ke(t);function o(c){var u,d=(c=Xg(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:ke(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:ke(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ke(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function lc(e,t,r){var n=null,i=ke(!0),a=null,s=Od,o=null,c=Jg(u);e=typeof e=="function"?e:e===void 0?C_:ke(+e),t=typeof t=="function"?t:ke(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P_:ke(+r);function u(f){var h,m,x,b=(f=Xg(f)).length,w,v=!1,g,p=new Array(b),j=new Array(b);for(a==null&&(o=s(g=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===v)if(v=!v)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=h-1;x>=m;--x)o.point(p[x],j[x]);o.lineEnd(),o.areaEnd()}v&&(p[h]=+e(w,h,f),j[h]=+t(w,h,f),o.point(n?+n(w,h,f):p[h],r?+r(w,h,f):j[h]))}if(g)return o=null,g+""||null}function d(){return O_().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ke(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ke(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ke(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class A_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function x6(e){return new A_(e,!0)}function b6(e){return new A_(e,!1)}const Zg={draw(e,t){const r=Kr(t/yu);e.moveTo(r,0),e.arc(0,0,r,0,Pd)}},w6={draw(e,t){const r=Kr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},T_=Kr(1/3),j6=T_*2,_6={draw(e,t){const r=Kr(t/j6),n=r*T_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},k6={draw(e,t){const r=Kr(t),n=-r/2;e.rect(n,n,r,r)}},S6=.8908130915292852,M_=vu(yu/10)/vu(7*yu/10),N6=vu(Pd/10)*M_,E6=-S_(Pd/10)*M_,C6={draw(e,t){const r=Kr(t*S6),n=N6*r,i=E6*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Pd*a/5,o=S_(s),c=vu(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},th=Kr(3),P6={draw(e,t){const r=-Kr(t/(th*3));e.moveTo(0,r*2),e.lineTo(-th*r,-r),e.lineTo(th*r,-r),e.closePath()}},ur=-.5,dr=Kr(3)/2,qm=1/Kr(12),O6=(qm/2+1)*3,A6={draw(e,t){const r=Kr(t/O6),n=r/2,i=r*qm,a=n,s=r*qm+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(ur*n-dr*i,dr*n+ur*i),e.lineTo(ur*a-dr*s,dr*a+ur*s),e.lineTo(ur*o-dr*c,dr*o+ur*c),e.lineTo(ur*n+dr*i,ur*i-dr*n),e.lineTo(ur*a+dr*s,ur*s-dr*a),e.lineTo(ur*o+dr*c,ur*c-dr*o),e.closePath()}};function T6(e,t){let r=null,n=Jg(i);e=typeof e=="function"?e:ke(e||Zg),t=typeof t=="function"?t:ke(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ke(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ke(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function xu(){}function bu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function I_(e){this._context=e}I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M6(e){return new I_(e)}function D_(e){this._context=e}D_.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new D_(e)}function $_(e){this._context=e}$_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:bu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function D6(e){return new $_(e)}function L_(e){this._context=e}L_.prototype={areaStart:xu,areaEnd:xu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $6(e){return new L_(e)}function kx(e){return e<0?-1:1}function Sx(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(kx(a)+kx(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Nx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function wu(e){this._context=e}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rh(this,this._t0,Nx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rh(this,Nx(this,r=Sx(this,e,t)),r);break;default:rh(this,this._t0,r=Sx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function R_(e){this._context=new z_(e)}(R_.prototype=Object.create(wu.prototype)).point=function(e,t){wu.prototype.point.call(this,t,e)};function z_(e){this._context=e}z_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function L6(e){return new wu(e)}function R6(e){return new R_(e)}function U_(e){this._context=e}U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Ex(e),i=Ex(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ex(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function z6(e){return new U_(e)}function Ad(e,t){this._context=e,this._t=t}Ad.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function U6(e){return new Ad(e,.5)}function B6(e){return new Ad(e,0)}function F6(e){return new Ad(e,1)}function fs(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Vm(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function W6(e,t){return e[t]}function q6(e){const t=[];return t.key=e,t}function V6(){var e=ke([]),t=Vm,r=fs,n=W6;function i(a){var s=Array.from(e.apply(this,arguments),q6),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Xg(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ke(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ke(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Vm:typeof a=="function"?a:ke(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??fs,i):r},i}function H6(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}fs(e,t)}}function K6(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}fs(e,t)}}function G6(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,x=0;x<o;++x){var b=e[t[x]],w=b[n][1]||0,v=b[n-1][1]||0;m+=w-v}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,fs(e,t)}}var Y6=["type","size","sizeType"];function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(null,arguments)}function Cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cx(Object(r),!0).forEach(function(n){Q6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q6(e,t,r){return(t=J6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J6(e){var t=X6(e,"string");return typeof t=="symbol"?t:t+""}function X6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z6(e,t){if(e==null)return{};var r,n,i=e5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B_={symbolCircle:Zg,symbolCross:w6,symbolDiamond:_6,symbolSquare:k6,symbolStar:C6,symbolTriangle:P6,symbolWye:A6},t5=Math.PI/180,r5=e=>{var t="symbol".concat(_l(e));return B_[t]||Zg},n5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*t5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},i5=(e,t)=>{B_["symbol".concat(_l(e))]=t},F_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Z6(e,Y6),a=Px(Px({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=r5(s),m=T6().type(h).size(n5(r,n,s));return m()},{className:c,cx:u,cy:d}=a,f=ct(a,!0);return u===+u&&d===+d&&r===+r?y.createElement("path",Hm({},f,{className:je("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};F_.registerSymbol=i5;function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(null,arguments)}function Ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(r),!0).forEach(function(n){e0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ox(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e0(e,t,r){return(t=s5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5(e){var t=o5(e,"string");return typeof t=="symbol"?t:t+""}function o5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fr=32;class t0 extends y.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=fr/2,a=fr/6,s=fr/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:fr,y2:i,className:"recharts-legend-icon"});if(c==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(fr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var u=a5({},t);return delete u.legendIcon,y.cloneElement(t.legendIcon,u)}return y.createElement(F_,{fill:o,cx:i,cy:i,size:fr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:fr,height:fr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=je({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?a:d.color,b=h?h(d.value,d,f):d.value;return y.createElement("li",Km({className:m,style:c,key:"legend-item-".concat(f)},w_(this.props,d,f)),y.createElement(Qg,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,s)),y.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}e0(t0,"displayName","Legend");e0(t0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var W_={},q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(q_);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(r0);var V_={},Td={},H_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(H_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Td);var K_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(K_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Td,r=K_;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(V_);var G_={},Y_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nd;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Y_);var Q_={},nh={},ih={},n0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(n0);var i0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(i0);var a0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(a0);var Ax;function l5(){return Ax||(Ax=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0(),r=n0,n=i0,i=a0;function a(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function x(b,w,v,g,p,j){const S=m(b,w,v,g,p,j);return S!==void 0?!!S:s(b,w,x,j)},new Map)}function s(f,h,m,x){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,x);case"function":return Object.keys(h).length>0?s(f,{...h},m,x):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function o(f,h,m,x){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,x);if(h instanceof Map)return c(f,h,m,x);if(h instanceof Set)return d(f,h,m,x);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(x&&x.has(h))return x.get(h)===f;x&&x.set(h,f);try{for(let w=0;w<b.length;w++){const v=b[w];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!m(f[v],h[v],v,f,h,x))return!1}return!0}finally{x&&x.delete(h)}}function c(f,h,m,x){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const v=f.get(b);if(m(v,w,b,f,h,x)===!1)return!1}return!0}function u(f,h,m,x){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const v=h[w];let g=!1;for(let p=0;p<f.length;p++){if(b.has(p))continue;const j=f[p];let S=!1;if(m(j,v,w,f,h,x)&&(S=!0),S){b.add(p),g=!0;break}}if(!g)return!1}return!0}function d(f,h,m,x){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,x):!1}e.isMatchWith=a,e.isSetMatch=d}(ih)),ih}var Tx;function s0(){return Tx||(Tx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l5();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(nh)),nh}var J_={},o0={},X_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(X_);var l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(l0);var c0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",x="[object Error]",b="[object DataView]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",g="[object Uint16Array]",p="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",N="[object BigInt64Array]",E="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=b,e.dateTag=o,e.errorTag=x,e.float32ArrayTag=E,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=g,e.uint32ArrayTag=p,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=v})(c0);var Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Z_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_,r=l0,n=c0,i=i0,a=Z_;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,x=void 0){const b=x==null?void 0:x(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=o(d[v],v,h,m,x);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[v,g]of d)w.set(v,o(g,v,h,m,x));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const v of d)w.add(o(v,void 0,h,m,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=o(d[v],v,h,m,x);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,x),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,x),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,x),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,x),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,x),w}return d}function c(d,f,h=d,m,x){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const v=b[w],g=Object.getOwnPropertyDescriptor(d,v);(g==null||g.writable)&&(d[v]=o(f[v],v,h,m,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(o0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(J_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0(),r=J_;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(Q_);var ek={},tk={},rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,r=c0;function n(i,a){return t.cloneDeepWith(i,(s,o,c,u)=>{const d=a==null?void 0:a(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(tk);var nk={},u0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(u0);var ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hg,r=u0,n=ik,i=Ed;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s0(),r=Kg,n=tk,i=Nd,a=nk;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(ek);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0,r=Y_,n=Q_,i=ek;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(G_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_,r=r0,n=V_,i=G_;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(W_);var c5=W_.uniqBy;const Mx=xi(c5);function ak(e,t,r){return t===!0?Mx(e,r):typeof t=="function"?Mx(e,t):e}var sk={exports:{}},ok={},lk={exports:{}},ck={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=y;function u5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d5=typeof Object.is=="function"?Object.is:u5,f5=hs.useState,h5=hs.useEffect,m5=hs.useLayoutEffect,p5=hs.useDebugValue;function g5(e,t){var r=t(),n=f5({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return m5(function(){i.value=r,i.getSnapshot=t,ah(i)&&a({inst:i})},[e,r,t]),h5(function(){return ah(i)&&a({inst:i}),e(function(){ah(i)&&a({inst:i})})},[e]),p5(r),r}function ah(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!d5(e,r)}catch{return!0}}function v5(e,t){return t()}var y5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v5:g5;ck.useSyncExternalStore=hs.useSyncExternalStore!==void 0?hs.useSyncExternalStore:y5;lk.exports=ck;var x5=lk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=y,b5=x5;function w5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j5=typeof Object.is=="function"?Object.is:w5,_5=b5.useSyncExternalStore,k5=Md.useRef,S5=Md.useEffect,N5=Md.useMemo,E5=Md.useDebugValue;ok.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=k5(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=N5(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var x=s.value;if(i(x,m))return f=x}return f=m}if(x=f,j5(d,m))return x;var b=n(m);return i!==void 0&&i(x,b)?(d=m,x):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var o=_5(e,a[0],a[1]);return S5(function(){s.hasValue=!0,s.value=o},[o]),E5(o),o};sk.exports=ok;var C5=sk.exports,d0=y.createContext(null),P5=e=>e,bt=()=>{var e=y.useContext(d0);return e?e.store.dispatch:P5},Rc=()=>{},O5=()=>Rc,A5=(e,t)=>e===t;function re(e){var t=y.useContext(d0);return C5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:O5,t?t.store.getState:Rc,t?t.store.getState:Rc,t?e:Rc,A5)}function T5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function M5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function I5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Ix=e=>Array.isArray(e)?e:[e];function D5(e){const t=Array.isArray(e[0])?e[0]:e;return I5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $5(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var L5=class{constructor(e){this.value=e}deref(){return this.value}},R5=typeof WeakRef<"u"?WeakRef:L5,z5=0,Dx=1;function cc(){return{s:z5,v:void 0,o:null,p:null}}function uk(e,t={}){let r=cc();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const x=arguments[h];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const w=b.get(x);w===void 0?(o=cc(),b.set(x,o)):o=w}else{let b=o.p;b===null&&(o.p=b=new Map);const w=b.get(x);w===void 0?(o=cc(),b.set(x,o)):o=w}}const u=o;let d;if(o.s===Dx)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new R5(d):d}return u.s=Dx,u.v=d,d}return s.clearCache=()=>{r=cc(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function U5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),T5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=uk,argsMemoizeOptions:x=[],devModeChecks:b={}}=d,w=Ix(h),v=Ix(x),g=D5(i),p=f(function(){return a++,u.apply(null,arguments)},...w),j=m(function(){s++;const k=$5(g,arguments);return o=p.apply(null,k),o},...v);return Object.assign(j,{resultFunc:u,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=U5(uk),B5=Object.assign((e,t=T)=>{M5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>B5}),dk={},fk={},hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(hk);var mk={},f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(f0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hk,r=mk,n=Ed;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,x)=>{let b=m;for(let w=0;w<x.length&&b!=null;++w)b=b[x[w]];return b},d=(m,x)=>x==null||m==null?x:typeof m=="object"&&"key"in m?Object.hasOwn(x,m.key)?x[m.key]:u(x,m.path):typeof m=="function"?m(x):Array.isArray(m)?u(x,m):typeof x=="object"?x[m]:x,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(x=>d(x,m))})).slice().sort((m,x)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],x.criteria[b],o[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(fk);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(pk);var h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u0,r=Td,n=n0,i=a0;function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}e.isIterateeCall=a})(h0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk,r=pk,n=h0;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(dk);var F5=dk.sortBy;const Id=xi(F5);var gk=e=>e.legend.settings,W5=e=>e.legend.size,q5=e=>e.legend.payload,V5=T([q5,gk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Id(n,r):n});function H5(){return re(V5)}var uc=1;function vk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>uc||Math.abs(s.left-t.left)>uc||Math.abs(s.top-t.top)>uc||Math.abs(s.width-t.width)>uc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function mt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K5=typeof Symbol=="function"&&Symbol.observable||"@@observable",$x=K5,sh=()=>Math.random().toString(36).substring(7).split("").join("."),G5={INIT:`@@redux/INIT${sh()}`,REPLACE:`@@redux/REPLACE${sh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sh()}`},ju=G5;function m0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yk(e,t,r){if(typeof e!="function")throw new Error(mt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(mt(1));return r(yk)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((w,v)=>{s.set(v,w)}))}function d(){if(c)throw new Error(mt(3));return i}function f(w){if(typeof w!="function")throw new Error(mt(4));if(c)throw new Error(mt(5));let v=!0;u();const g=o++;return s.set(g,w),function(){if(v){if(c)throw new Error(mt(6));v=!1,u(),s.delete(g),a=null}}}function h(w){if(!m0(w))throw new Error(mt(7));if(typeof w.type>"u")throw new Error(mt(8));if(typeof w.type!="string")throw new Error(mt(17));if(c)throw new Error(mt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(a=s).forEach(g=>{g()}),w}function m(w){if(typeof w!="function")throw new Error(mt(10));n=w,h({type:ju.REPLACE})}function x(){const w=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(mt(11));function g(){const j=v;j.next&&j.next(d())}return g(),{unsubscribe:w(g)}},[$x](){return this}}}return h({type:ju.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[$x]:x}}function Y5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ju.INIT})>"u")throw new Error(mt(12));if(typeof r(void 0,{type:ju.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(mt(13))})}function xk(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{Y5(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],x=h(m,o);if(typeof x>"u")throw o&&o.type,new Error(mt(14));u[f]=x,c=c||x!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function _u(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Q5(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(mt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=_u(...o)(i.dispatch),{...i,dispatch:a}}}function bk(e){return m0(e)&&"type"in e&&typeof e.type=="string"}var wk=Symbol.for("immer-nothing"),Lx=Symbol.for("immer-draftable"),nr=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ms=Object.getPrototypeOf;function aa(e){return!!e&&!!e[nr]}function Tn(e){var t;return e?jk(e)||Array.isArray(e)||!!e[Lx]||!!((t=e.constructor)!=null&&t[Lx])||kl(e)||$d(e):!1}var J5=Object.prototype.constructor.toString();function jk(e){if(!e||typeof e!="object")return!1;const t=ms(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===J5}function ku(e,t){Dd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Dd(e){const t=e[nr];return t?t.type_:Array.isArray(e)?1:kl(e)?2:$d(e)?3:0}function Gm(e,t){return Dd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _k(e,t,r){const n=Dd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function X5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kl(e){return e instanceof Map}function $d(e){return e instanceof Set}function Li(e){return e.copy_||e.base_}function Ym(e,t){if(kl(e))return new Map(e);if($d(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=jk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[nr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(ms(e),n)}else{const n=ms(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function p0(e,t=!1){return Ld(e)||aa(e)||!Tn(e)||(Dd(e)>1&&Object.defineProperties(e,{set:{value:dc},add:{value:dc},clear:{value:dc},delete:{value:dc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>p0(r,!0))),e}function dc(){Rr(2)}function Ld(e){return Object.isFrozen(e)}var Z5={};function sa(e){const t=Z5[e];return t||Rr(0,e),t}var el;function kk(){return el}function eI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rx(e,t){t&&(sa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Qm(e){Jm(e),e.drafts_.forEach(tI),e.drafts_=null}function Jm(e){e===el&&(el=e.parent_)}function zx(e){return el=eI(el,e)}function tI(e){const t=e[nr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ux(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[nr].modified_&&(Qm(t),Rr(4)),Tn(e)&&(e=Su(t,e),t.parent_||Nu(t,e)),t.patches_&&sa("Patches").generateReplacementPatches_(r[nr].base_,e,t.patches_,t.inversePatches_)):e=Su(t,r,[]),Qm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wk?e:void 0}function Su(e,t,r){if(Ld(t))return t;const n=t[nr];if(!n)return ku(t,(i,a)=>Bx(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Nu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),ku(a,(o,c)=>Bx(e,n,i,o,c,r,s)),Nu(e,i,!1),r&&e.patches_&&sa("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Bx(e,t,r,n,i,a,s){if(aa(i)){const o=a&&t&&t.type_!==3&&!Gm(t.assigned_,n)?a.concat(n):void 0,c=Su(e,i,o);if(_k(r,n,c),aa(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Tn(i)&&!Ld(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Su(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(kl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Nu(e,i)}}function Nu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&p0(t,r)}function rI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:kk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=g0;r&&(i=[n],a=tl);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var g0={get(e,t){if(t===nr)return e;const r=Li(e);if(!Gm(r,t))return nI(e,r,t);const n=r[t];return e.finalized_||!Tn(n)?n:n===oh(e.base_,t)?(lh(e),e.copy_[t]=Zm(n,e)):n},has(e,t){return t in Li(e)},ownKeys(e){return Reflect.ownKeys(Li(e))},set(e,t,r){const n=Sk(Li(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=oh(Li(e),t),a=i==null?void 0:i[nr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(X5(r,i)&&(r!==void 0||Gm(e.base_,t)))return!0;lh(e),Xm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lh(e),Xm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Li(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return ms(e.base_)},setPrototypeOf(){Rr(12)}},tl={};ku(g0,(e,t)=>{tl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});tl.deleteProperty=function(e,t){return tl.set.call(this,e,t,void 0)};tl.set=function(e,t,r){return g0.set.call(this,e[0],t,r,e[0])};function oh(e,t){const r=e[nr];return(r?Li(r):e)[t]}function nI(e,t,r){var i;const n=Sk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Sk(e,t){if(!(t in e))return;let r=ms(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ms(r)}}function Xm(e){e.modified_||(e.modified_=!0,e.parent_&&Xm(e.parent_))}function lh(e){e.copy_||(e.copy_=Ym(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Rr(6),n!==void 0&&typeof n!="function"&&Rr(7);let i;if(Tn(t)){const a=zx(this),s=Zm(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?Qm(a):Jm(a)}return Rx(a,n),Ux(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===wk&&(i=void 0),this.autoFreeze_&&p0(i,!0),n){const a=[],s=[];sa("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Rr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||Rr(8),aa(e)&&(e=kn(e));const t=zx(this),r=Zm(e,void 0);return r[nr].isManual_=!0,Jm(t),r}finishDraft(e,t){const r=e&&e[nr];(!r||!r.isManual_)&&Rr(9);const{scope_:n}=r;return Rx(n,t),Ux(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=sa("Patches").applyPatches_;return aa(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Zm(e,t){const r=kl(e)?sa("MapSet").proxyMap_(e,t):$d(e)?sa("MapSet").proxySet_(e,t):rI(e,t);return(t?t.scope_:kk()).drafts_.push(r),r}function kn(e){return aa(e)||Rr(10,e),Nk(e)}function Nk(e){if(!Tn(e)||Ld(e))return e;const t=e[nr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ym(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ym(e,!0);return ku(r,(n,i)=>{_k(r,n,Nk(i))}),t&&(t.finalized_=!1),r}var aI=new iI,Ek=aI.produce;function Ck(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var sI=Ck(),oI=Ck,lI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_u:_u.apply(null,arguments)};function Sr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(tr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>bk(n)&&n.type===e,r}var Pk=class oo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,oo.prototype)}static get[Symbol.species](){return oo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new oo(...t[0].concat(this)):new oo(...t.concat(this))}};function Fx(e){return Tn(e)?Ek(e,()=>{}):e}function fc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function cI(e){return typeof e=="boolean"}var uI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Pk;return r&&(cI(r)?s.push(sI):s.push(oI(r.extraArgument))),s},dI="RTK_autoBatch",Wx=e=>t=>{setTimeout(t,e)},fI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Wx(10):e.type==="callback"?e.queueNotification:Wx(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[dI]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},hI=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Pk(e);return n&&i.push(fI(typeof n=="object"?n:void 0)),i};function mI(e){const t=uI(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(m0(r))c=xk(r);else throw new Error(tr(1));let u;typeof n=="function"?u=n(t):u=t();let d=_u;i&&(d=lI({trace:!1,...typeof i=="object"&&i}));const f=Q5(...u),h=hI(f);let m=typeof o=="function"?o(h):h();const x=d(...m);return yk(c,s,x)}function Ok(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(tr(28));if(o in t)throw new Error(tr(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function pI(e){return typeof e=="function"}function gI(e,t){let[r,n,i]=Ok(t),a;if(pI(e))a=()=>Fx(e());else{const o=Fx(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(aa(d)){const m=f(d,c);return m===void 0?d:m}else{if(Tn(d))return Ek(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var vI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yI=(e=21)=>{let t="",r=e;for(;r--;)t+=vI[Math.random()*64|0];return t},xI=Symbol.for("rtk-slice-createasyncthunk");function bI(e,t){return`${e}/${t}`}function wI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[xI];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(tr(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(_I()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(tr(12));if(k in u.sliceCaseReducersByType)throw new Error(tr(13));return u.sliceCaseReducersByType[k]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=o[j],k={reducerName:j,type:bI(a,j),createNotation:typeof i.reducers=="function"};SI(S)?EI(k,S,d,t):kI(k,S,d)});function f(){const[j={},S=[],k=void 0]=typeof i.extraReducers=="function"?Ok(i.extraReducers):[i.extraReducers],_={...j,...u.sliceCaseReducersByType};return gI(i.initialState,N=>{for(let E in _)N.addCase(E,_[E]);for(let E of u.sliceMatchers)N.addMatcher(E.matcher,E.reducer);for(let E of S)N.addMatcher(E.matcher,E.reducer);k&&N.addDefaultCase(k)})}const h=j=>j,m=new Map,x=new WeakMap;let b;function w(j,S){return b||(b=f()),b(j,S)}function v(){return b||(b=f()),b.getInitialState()}function g(j,S=!1){function k(N){let E=N[j];return typeof E>"u"&&S&&(E=fc(x,k,v)),E}function _(N=h){const E=fc(m,S,()=>new WeakMap);return fc(E,N,()=>{const P={};for(const[O,M]of Object.entries(i.selectors??{}))P[O]=jI(M,N,()=>fc(x,N,v),S);return P})}return{reducerPath:j,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const p={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...g(s),injectInto(j,{reducerPath:S,...k}={}){const _=S??s;return j.inject({reducerPath:_,reducer:w},k),{...p,...g(_,!0)}}};return p}}function jI(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var lr=wI();function _I(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function kI({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!NI(n))throw new Error(tr(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Sr(e,s):Sr(e))}function SI(e){return e._reducerDefinitionType==="asyncThunk"}function NI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function EI({type:e,reducerName:t},r,n,i){if(!i)throw new Error(tr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||hc,pending:o||hc,rejected:c||hc,settled:u||hc})}function hc(){}var CI="task",Ak="listener",Tk="completed",v0="cancelled",PI=`task-${v0}`,OI=`task-${Tk}`,ep=`${Ak}-${v0}`,AI=`${Ak}-${Tk}`,Rd=class{constructor(e){uf(this,"name","TaskAbortError");uf(this,"message");this.code=e,this.message=`${CI} ${v0} (reason: ${e})`}},y0=(e,t)=>{if(typeof e!="function")throw new TypeError(tr(32))},Eu=()=>{},Mk=(e,t=Eu)=>(e.catch(t),e),Ik=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Yi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qi=e=>{if(e.aborted){const{reason:t}=e;throw new Rd(t)}};function Dk(e,t){let r=Eu;return new Promise((n,i)=>{const a=()=>i(new Rd(e.reason));if(e.aborted){a();return}r=Ik(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Eu})}var TI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Rd?"cancelled":"rejected",error:r}}finally{t==null||t()}},Cu=e=>t=>Mk(Dk(e,t).then(r=>(Qi(e),r))),$k=e=>{const t=Cu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ja}=Object,qx={},zd="listenerMiddleware",MI=(e,t)=>{const r=n=>Ik(e,()=>Yi(n,e.reason));return(n,i)=>{y0(n);const a=new AbortController;r(a);const s=TI(async()=>{Qi(e),Qi(a.signal);const o=await n({pause:Cu(a.signal),delay:$k(a.signal),signal:a.signal});return Qi(a.signal),o},()=>Yi(a,OI));return i!=null&&i.autoJoin&&t.push(s.catch(Eu)),{result:Cu(e)(s),cancel(){Yi(a,PI)}}}},II=(e,t)=>{const r=async(n,i)=>{Qi(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await Dk(t,Promise.race(o));return Qi(t),c}finally{a()}};return(n,i)=>Mk(r(n,i))},Lk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Sr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(tr(21));return y0(a),{predicate:i,type:t,effect:a}},Rk=Ja(e=>{const{type:t,predicate:r,effect:n}=Lk(e);return{id:yI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(tr(22))}}},{withTypes:()=>Rk}),Vx=(e,t)=>{const{type:r,effect:n,predicate:i}=Lk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},tp=e=>{e.pending.forEach(t=>{Yi(t,ep)})},DI=e=>()=>{e.forEach(tp),e.clear()},Hx=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},zk=Ja(Sr(`${zd}/add`),{withTypes:()=>zk}),$I=Sr(`${zd}/removeAll`),Uk=Ja(Sr(`${zd}/remove`),{withTypes:()=>Uk}),LI=(...e)=>{console.error(`${zd}/error`,...e)},Sl=(e={})=>{const t=new Map,{extra:r,onError:n=LI}=e;y0(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&tp(d)}),a=d=>{const f=Vx(t,d)??Rk(d);return i(f)};Ja(a,{withTypes:()=>a});const s=d=>{const f=Vx(t,d);return f&&(f.unsubscribe(),d.cancelActive&&tp(f)),!!f};Ja(s,{withTypes:()=>s});const o=async(d,f,h,m)=>{const x=new AbortController,b=II(a,x.signal),w=[];try{d.pending.add(x),await Promise.resolve(d.effect(f,Ja({},h,{getOriginalState:m,condition:(v,g)=>b(v,g).then(Boolean),take:b,delay:$k(x.signal),pause:Cu(x.signal),extra:r,signal:x.signal,fork:MI(x.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,g,p)=>{v!==x&&(Yi(v,ep),p.delete(v))})},cancel:()=>{Yi(x,ep),d.pending.delete(x)},throwIfCancelled:()=>{Qi(x.signal)}})))}catch(v){v instanceof Rd||Hx(n,v,{raisedBy:"effect"})}finally{await Promise.all(w),Yi(x,AI),d.pending.delete(x)}},c=DI(t);return{middleware:d=>f=>h=>{if(!bk(h))return f(h);if(zk.match(h))return a(h.payload);if($I.match(h)){c();return}if(Uk.match(h))return s(h.payload);let m=d.getState();const x=()=>{if(m===qx)throw new Error(tr(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),v=Array.from(t.values());for(const g of v){let p=!1;try{p=g.predicate(h,w,m)}catch(j){p=!1,Hx(n,j,{raisedBy:"predicate"})}p&&o(g,h,d,x)}}}finally{m=qx}return b},startListening:a,stopListening:s,clearListeners:c}};function tr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Bk=lr({name:"chartLayout",initialState:RI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:zI,setLayout:UI,setChartSize:BI,setScale:FI}=Bk.actions,WI=Bk.reducer;function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){qI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qI(e,t,r){return(t=VI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VI(e){var t=HI(e,"string");return typeof t=="symbol"?t:t+""}function HI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pu=Math.PI/180,KI=e=>e*180/Math.PI,vt=(e,t,r,n)=>({x:e+Math.cos(-Pu*n)*r,y:t+Math.sin(-Pu*n)*r}),GI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},YI=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},QI=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=YI({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:KI(c),angleInRadian:c}},JI=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},XI=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},ZI=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=QI({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=JI(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Gx(Gx({},t),{},{radius:i,angle:XI(d,t)}):null};function Fk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Yx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yx(Object(r),!0).forEach(function(n){eD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eD(e,t,r){return(t=tD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tD(e){var t=rD(e,"string");return typeof t=="symbol"?t:t+""}function rD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return lt(e)||lt(t)?r:sn(t)?Cd(e,t,r):typeof t=="function"?t(e):r}var nD=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(yr(d-u)!==yr(f-d)){var m=[];if(yr(f-d)===yr(i[1]-i[0])){h=f;var x=d+i[1]-i[0];m[0]=Math.min(x,(x+u)/2),m[1]=Math.max(x,(x+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var v=Math.min(u,f),g=Math.max(u,f);if(e>(v+d)/2&&e<=(g+d)/2){({index:s}=r[c]);break}}}else if(t){for(var p=0;p<o;p++)if(p===0&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p>0&&p<o-1&&e>(t[p].coordinate+t[p-1].coordinate)/2&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p===o-1&&e>(t[p].coordinate+t[p-1].coordinate)/2){({index:s}=t[p]);break}}return s},iD=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ie(e[a]))return gr(gr({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ie(e[s]))return gr(gr({},e),{},{[s]:e[s]+(i||0)})}return e},Ni=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Wk=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},qk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var x=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/x:0;if(b=m==="angleAxis"&&a&&a.length>=2?yr(a[0]-a[1])*2*b:b,f||h){var w=(f||h||[]).map((v,g)=>{var p=n?n.indexOf(v):v;return{coordinate:s(p)+b,value:v,offset:b,index:g}});return w.filter(v=>!kr(v.coordinate))}return c&&u?u.map((v,g)=>({coordinate:s(v)+b,value:v,index:g,offset:b})):s.ticks&&!r&&d!=null?s.ticks(d).map((v,g)=>({coordinate:s(v)+b,value:v,offset:b,index:g})):s.domain().map((v,g)=>({coordinate:s(v)+b,value:n?n[v]:v,index:g,offset:b}))},Qx=1e-4,aD=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Qx,a=Math.max(n[0],n[1])+Qx,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},sD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=kr(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},oD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=kr(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},lD={sign:sD,expand:H6,none:fs,silhouette:K6,wiggle:G6,positive:oD},cD=(e,t,r)=>{var n=lD[r],i=V6().keys(t).value((a,s)=>+It(a,s,0)).order(Vm).offset(n);return i(e)};function Jx(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(i[t.dataKey])){var o=b_(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=It(i,lt(s)?t.dataKey:s);return lt(c)?null:t.scale(c)}var uD=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},dD=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],fD=(e,t,r)=>{if(e!=null)return dD(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((c,u)=>{var d=Fk(u,t,r),f=uD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Xx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Id(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function eb(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return gr(gr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Vk(e,t){if(e)return String(e);if(typeof t=="string")return t}function hD(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?ZI({x:e,y:t},n):null}var mD=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return gr(gr(gr({},n),vt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return gr(gr(gr({},n),vt(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},pD=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Rn=e=>e.layout.width,zn=e=>e.layout.height,gD=e=>e.layout.scale,Hk=e=>e.layout.margin,Ud=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bd=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vD="data-recharts-item-index",yD="data-recharts-item-data-key",Nl=60;function tb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tb(Object(r),!0).forEach(function(n){xD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xD(e,t,r){return(t=bD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bD(e){var t=wD(e,"string");return typeof t=="symbol"?t:t+""}function wD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jD=e=>e.brush.height;function _D(e){var t=Bd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nl;return r+i}return r},0)}function kD(e){var t=Bd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nl;return r+i}return r},0)}function SD(e){var t=Ud(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function ND(e){var t=Ud(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var wt=T([Rn,zn,Hk,jD,_D,kD,SD,ND,gk,W5],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=mc(mc({},f),d),m=h.bottom;h.bottom+=n,h=iD(h,c,u);var x=e-h.left-h.right,b=t-h.top-h.bottom;return mc(mc({brushBottom:m},h),{},{width:Math.max(x,0),height:Math.max(b,0)})}),ED=T(wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Kk=T(Rn,zn,(e,t)=>({x:0,y:0,width:e,height:t})),CD=y.createContext(null),Er=()=>y.useContext(CD)!=null,Fd=e=>e.brush,Wd=T([Fd,wt,Hk],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(e.width)?e.width:t.width})),x0=()=>{var e,t=Er(),r=re(ED),n=re(Wd),i=(e=re(Fd))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},PD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Gk=()=>{var e;return(e=re(wt))!==null&&e!==void 0?e:PD},b0=()=>re(Rn),w0=()=>re(zn),OD=()=>re(e=>e.layout.margin),Oe=e=>e.layout.layoutType,j0=()=>re(Oe),AD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Yk=lr({name:"legend",initialState:AD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=kn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:rb,setLegendSettings:TD,addLegendPayload:MD,removeLegendPayload:ID}=Yk.actions,DD=Yk.reducer,$D=["contextPayload"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(n){_0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _0(e,t,r){return(t=LD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LD(e){var t=RD(e,"string");return typeof t=="symbol"?t:t+""}function RD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zD(e,t){if(e==null)return{};var r,n,i=UD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BD(e){return e.value}function FD(e){var{contextPayload:t}=e,r=zD(e,$D),n=ak(t,e.payloadUniqBy,BD),i=ps(ps({},r),{},{payload:n});return y.isValidElement(e.content)?y.cloneElement(e.content,i):typeof e.content=="function"?y.createElement(e.content,i):y.createElement(t0,i)}function WD(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ps(ps({},u),d)}function qD(e){var t=bt();return y.useEffect(()=>{t(TD(e))},[t,e]),null}function VD(e){var t=bt();return y.useEffect(()=>(t(rb(e)),()=>{t(rb({width:0,height:0}))}),[t,e]),null}function HD(e){var t=H5(),r=p6(),n=OD(),{width:i,height:a,wrapperStyle:s,portal:o}=e,[c,u]=vk([t]),d=b0(),f=w0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=qd.getWidthOrHeight(e.layout,a,i,h),x=o?s:ps(ps({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},WD(s,e,n,d,f,c)),s),b=o??r;if(b==null)return null;var w=y.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:u},y.createElement(qD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),y.createElement(VD,{width:c.width,height:c.height}),y.createElement(FD,np({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Sg.createPortal(w,b)}class qd extends y.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ie(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return y.createElement(HD,this.props)}}_0(qd,"displayName","Legend");_0(qd,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(n){KD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KD(e,t,r){return(t=GD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GD(e){var t=YD(e,"string");return typeof t=="symbol"?t:t+""}function YD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QD(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var JD=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var S={padding:0,margin:0},k=(o?Id(a,o):a).map((_,N)=>{if(_.type==="none")return null;var E=_.formatter||s||QD,{value:P,name:O}=_,M=P,I=O;if(E){var K=E(P,O,_,N,a);if(Array.isArray(K))[M,I]=K;else if(K!=null)M=K;else return null}var ne=ch({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ne},sn(I)?y.createElement("span",{className:"recharts-tooltip-item-name"},I):null,sn(I)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},M),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},x=ch({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=ch({margin:0},i),w=!lt(d),v=w?d:"",g=je("recharts-default-tooltip",c),p=je("recharts-tooltip-label",u);w&&f&&a!==void 0&&a!==null&&(v=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",ip({className:g,style:x},j),y.createElement("p",{className:p,style:b},y.isValidElement(v)?v:"".concat(v)),m())},Gs="recharts-tooltip-wrapper",XD={visibility:"hidden"};function ZD(e){var{coordinate:t,translateX:r,translateY:n}=e;return je(Gs,{["".concat(Gs,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(Gs,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(Gs,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(Gs,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function ab(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&ie(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,x=h;return m<x?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+o,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function e$(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function t$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=ab({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=ab({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=e$({translateX:d,translateY:f,useTranslate3d:o})):u=XD,{cssProperties:u,cssClasses:ZD({translateX:d,translateY:f,coordinate:r})}}function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e,t,r){return(t=r$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$(e){var t=n$(e,"string");return typeof t=="symbol"?t:t+""}function n$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class i$ extends y.PureComponent{constructor(){super(...arguments),ap(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ap(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:x,lastBoundingBox:b,innerRef:w,hasPortalFromProps:v}=this.props,{cssClasses:g,cssProperties:p}=t$({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),j=v?{}:pc(pc({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=pc(pc({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},x);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:S,ref:w},a)}}var a$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ps={devToolsEnabled:!1,isSsr:a$()},Qk=()=>re(e=>e.rootProps.accessibilityLayer);function Vr(e){return Number.isFinite(e)}function Ou(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ob(Object(r),!0).forEach(function(n){s$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s$(e,t,r){return(t=o$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o$(e){var t=l$(e,"string");return typeof t=="symbol"?t:t+""}function l$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cb={curveBasisClosed:I6,curveBasisOpen:D6,curveBasis:M6,curveBumpX:x6,curveBumpY:b6,curveLinearClosed:$6,curveLinear:Od,curveMonotoneX:L6,curveMonotoneY:R6,curveNatural:z6,curveStep:U6,curveStepAfter:F6,curveStepBefore:B6},gc=e=>Vr(e.x)&&Vr(e.y),Ys=e=>e.x,Qs=e=>e.y,c$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(_l(e));return(r==="curveMonotone"||r==="curveBump")&&t?cb["".concat(r).concat(t==="vertical"?"Y":"X")]:cb[r]||Od},u$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=c$(t,i),o=a?r.filter(gc):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>gc(f)):n,d=o.map((f,h)=>lb(lb({},f),{},{base:u[h]}));return i==="vertical"?c=lc().y(Qs).x1(Ys).x0(f=>f.base.x):c=lc().x(Ys).y1(Qs).y0(f=>f.base.y),c.defined(gc).curve(s),c(d)}return i==="vertical"&&ie(n)?c=lc().y(Qs).x1(Ys).x0(n):ie(n)?c=lc().x(Ys).y1(Qs).y0(n):c=O_().x(Ys).y(Qs),c.defined(gc).curve(s),c(o)},Jk=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?u$(e):n;return y.createElement("path",sp({},pa(e),Yg(e),{className:je("recharts-curve",t),d:a===null?void 0:a,ref:i}))},d$=["x","y","top","left","width","height","className"];function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}function ub(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function f$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(r),!0).forEach(function(n){h$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ub(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h$(e,t,r){return(t=m$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$(e,t){if(e==null)return{};var r,n,i=v$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y$=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),x$=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=g$(e,d$),u=f$({x:t,y:r,top:n,left:i,width:a,height:s},c);return!ie(t)||!ie(r)||!ie(a)||!ie(s)||!ie(n)||!ie(i)?null:y.createElement("path",op({},ct(u,!0),{className:je("recharts-cross",o),d:y$(t,r,a,s,n,i)}))};function b$(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(n){j$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j$(e,t,r){return(t=_$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=k$(e,"string");return typeof t=="symbol"?t:t+""}function k$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cr(e,t){var r=w$({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function S$(){}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){N$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t,r){return(t=E$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E$(e){var t=C$(e,"string");return typeof t=="symbol"?t:t+""}function C$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),O$=(e,t,r)=>e.map(n=>"".concat(P$(n)," ").concat(t,"ms ").concat(r)).join(","),A$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),rl=(e,t)=>Object.keys(t).reduce((r,n)=>hb(hb({},r),{},{[n]:e(n,t[n])}),{});function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){T$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T$(e,t,r){return(t=M$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Au=(e,t,r)=>e+(t-e)*r,lp=e=>{var{from:t,to:r}=e;return t!==r},Xk=(e,t,r)=>{var n=rl((i,a)=>{if(lp(a)){var[s,o]=e(a.from,a.to,a.velocity);return gt(gt({},a),{},{from:s,velocity:o})}return a},t);return r<1?rl((i,a)=>lp(a)?gt(gt({},a),{},{velocity:Au(a.velocity,n[i].velocity,r),from:Au(a.from,n[i].from,r)}):a,t):Xk(e,n,r-1)};function D$(e,t,r,n,i,a){var s,o=n.reduce((h,m)=>gt(gt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>rl((h,m)=>m.from,o),u=()=>!Object.values(o).filter(lp).length,d=null,f=h=>{s||(s=h);var m=h-s,x=m/r.dt;o=Xk(r,o,x),i(gt(gt(gt({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function $$(e,t,r,n,i,a,s){var o=null,c=i.reduce((f,h)=>gt(gt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=rl((b,w)=>Au(...w,r(h)),c);if(a(gt(gt(gt({},e),t),m)),h<1)o=s.setTimeout(d);else{var x=rl((b,w)=>Au(...w,r(1)),c);a(gt(gt(gt({},e),t),x))}};return()=>(o=s.setTimeout(d),()=>{o()})}const L$=(e,t,r,n,i,a)=>{var s=A$(e,t);return r.isStepper===!0?D$(e,t,r,s,i,a):$$(e,t,r,n,s,i,a)};var Tu=1e-4,Zk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eS=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),pb=(e,t)=>r=>{var n=Zk(e,t);return eS(n,r)},R$=(e,t)=>r=>{var n=Zk(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return eS(i,r)},gb=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(x=>parseFloat(x)))}}else s.length===4&&([t,n,r,i]=s);var u=pb(t,r),d=pb(n,i),f=R$(t,r),h=x=>x>1?1:x<0?0:x,m=x=>{for(var b=x>1?1:x,w=b,v=0;v<8;++v){var g=u(w)-b,p=f(w);if(Math.abs(g-b)<Tu||p<Tu)return d(w);w=h(w-g/p)}return d(w)};return m.isStepper=!1,m},z$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-o)<Tu&&Math.abs(f)<Tu?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},U$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gb(e);case"spring":return z$();default:if(e.split("(")[0]==="cubic-bezier")return gb(e)}return typeof e=="function"?e:null};function B$(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class F${setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function W$(){return B$(new F$)}var q$=y.createContext(W$);function V$(e,t){var r=y.useContext(q$);return y.useMemo(()=>t??r(e),[e,t,r])}var H$={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},vb={t:0},uh={t:1};function tS(e){var t=Cr(e,H$),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=V$(t.animationId,t.animationManager),[f,h]=y.useState(r?vb:uh),m=y.useRef(null);return y.useEffect(()=>{r||h(uh)},[r]),y.useEffect(()=>{if(!r||!n)return S$;var x=L$(vb,uh,U$(a),i,h,d.getTimeoutController()),b=()=>{m.current=x()};return d.start([c,s,b,i,o]),()=>{d.stop(),m.current&&m.current(),o()}},[r,n,i,a,s,c,o,d]),u(f.t)}function rS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Zo(t)),n=y.useRef(e);return n.current!==e&&(r.current=Zo(t),n.current=e),r.current}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return(t=G$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G$(e){var t=Y$(e,"string");return typeof t=="symbol"?t:t+""}function Y$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mu.apply(null,arguments)}var bb=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Q$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J$=e=>{var t=Cr(e,Q$),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:x,isUpdateAnimationActive:b}=t,w=y.useRef(o),v=y.useRef(c),g=y.useRef(a),p=y.useRef(s),j=y.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),S=rS(j,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var k=je("recharts-rectangle",d);if(!b)return y.createElement("path",Mu({},ct(t,!0),{className:k,d:bb(a,s,o,c,u)}));var _=w.current,N=v.current,E=g.current,P=p.current,O="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),I=O$(["strokeDasharray"],h,typeof f=="string"?f:void 0);return y.createElement(tS,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},K=>{var ne=pn(_,o,K),G=pn(N,c,K),H=pn(E,a,K),F=pn(P,s,K);r.current&&(w.current=ne,v.current=G,g.current=H,p.current=F);var C;return x?K>0?C={transition:I,strokeDasharray:M}:C={strokeDasharray:O}:C={strokeDasharray:M},y.createElement("path",Mu({},ct(t,!0),{className:k,d:bb(H,F,ne,G,u),ref:r,style:xb(xb({},C),t.style)}))})};function nS(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=vt(t,r,n,i),o=vt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}var X$=(e,t)=>{var r=yr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/Pu,f=c?i:i+a*d,h=vt(t,r,u,f),m=vt(t,r,n,f),x=c?i-a*d:i,b=vt(t,r,u*Math.cos(d*Pu),x);return{center:h,circleTangency:m,lineTangency:b,theta:d}},iS=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=X$(a,s),c=a+o,u=vt(t,r,i,a),d=vt(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=vt(t,r,n,a),m=vt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Z$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=yr(u-c),{circleTangency:f,lineTangency:h,theta:m}=vc({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:w}=vc({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(c-u):Math.abs(c-u)-m-w;if(v<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):iS({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var g="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:p,lineTangency:j,theta:S}=vc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:_,theta:N}=vc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-S-N;if(E<0&&a===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(p.x,",").concat(p.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},eL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tL=e=>{var t=Cr(e,eL),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=je("recharts-sector",f),m=a-i,x=yi(s,m,0,!0),b;return x>0&&Math.abs(u-d)<360?b=Z$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(x,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=iS({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),y.createElement("path",cp({},ct(t,!0),{className:h,d:b}))};function rL(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=vt(o,c,u,f),m=vt(o,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return nS(t);return[{x:n,y:i},{x:a,y:s}]}var aS={},sS={},oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(sS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h0,r=sS;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(aS);var nL=aS.range;const lS=xi(nL);function pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k0(e){let t,r,n;e.length!==2?(t=pi,r=(o,c)=>pi(e(o),c),n=(o,c)=>e(o)-c):(t=e===pi||e===iL?e:aL,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function aL(){return 0}function cS(e){return e===null?NaN:+e}function*sL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oL=k0(pi),El=oL.right;k0(cS).center;class wb extends Map{constructor(t,r=uL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(jb(this,t))}has(t){return super.has(jb(this,t))}set(t,r){return super.set(lL(this,t),r)}delete(t){return super.delete(cL(this,t))}}function jb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dL(e=pi){if(e===pi)return uS;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function uS(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fL=Math.sqrt(50),hL=Math.sqrt(10),mL=Math.sqrt(2);function Iu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=fL?10:a>=hL?5:a>=mL?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Iu(e,t,r*2):[o,c,u]}function up(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Iu(t,e,r):Iu(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function dp(e,t,r){return t=+t,e=+e,r=+r,Iu(e,t,r)[2]}function fp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?dp(t,e,r):dp(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function _b(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function kb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dS(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?uS:dL(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));dS(e,t,m,x,i)}const a=e[t];let s=r,o=n;for(Js(e,r,t),i(e[n],a)>0&&Js(e,r,n);s<o;){for(Js(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Js(e,r,o):(++o,Js(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Js(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function pL(e,t,r){if(e=Float64Array.from(sL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return kb(e);if(t>=1)return _b(e);var n,i=(n-1)*t,a=Math.floor(i),s=_b(dS(e,a).subarray(0,a+1)),o=kb(e.subarray(a+1));return s+(o-s)*(i-a)}}function gL(e,t,r=cS){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function vL(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Pr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Un(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hp=Symbol("implicit");function S0(){var e=new wb,t=[],r=[],n=hp;function i(a){let s=e.get(a);if(s===void 0){if(n!==hp)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new wb;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return S0(t,r).unknown(n)},Pr.apply(i,arguments),i}function N0(){var e=S0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,x=m?i:n,b=m?n:i;a=(b-x)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),x+=(b-x-a*(h-c))*d,s=a*(1-c),o&&(x=Math.round(x),s=Math.round(s));var w=vL(h).map(function(v){return x+a*v});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return N0(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Pr.apply(f(),arguments)}function fS(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fS(t())},e}function yL(){return fS(N0.apply(null,arguments).paddingInner(1))}function E0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hS(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cl(){}var nl=.7,Du=1/nl,Xa="\\s*([+-]?\\d+)\\s*",il="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xL=/^#([0-9a-f]{3,8})$/,bL=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),wL=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),jL=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${il}\\)$`),_L=new RegExp(`^rgba\\(${an},${an},${an},${il}\\)$`),kL=new RegExp(`^hsl\\(${il},${an},${an}\\)$`),SL=new RegExp(`^hsla\\(${il},${an},${an},${il}\\)$`),Sb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};E0(Cl,al,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Nb,formatHex:Nb,formatHex8:NL,formatHsl:EL,formatRgb:Eb,toString:Eb});function Nb(){return this.rgb().formatHex()}function NL(){return this.rgb().formatHex8()}function EL(){return mS(this).formatHsl()}function Eb(){return this.rgb().formatRgb()}function al(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Cb(t):r===3?new Bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bL.exec(e))?new Bt(t[1],t[2],t[3],1):(t=wL.exec(e))?new Bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jL.exec(e))?yc(t[1],t[2],t[3],t[4]):(t=_L.exec(e))?yc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=kL.exec(e))?Ab(t[1],t[2]/100,t[3]/100,1):(t=SL.exec(e))?Ab(t[1],t[2]/100,t[3]/100,t[4]):Sb.hasOwnProperty(e)?Cb(Sb[e]):e==="transparent"?new Bt(NaN,NaN,NaN,0):null}function Cb(e){return new Bt(e>>16&255,e>>8&255,e&255,1)}function yc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Bt(e,t,r,n)}function CL(e){return e instanceof Cl||(e=al(e)),e?(e=e.rgb(),new Bt(e.r,e.g,e.b,e.opacity)):new Bt}function mp(e,t,r,n){return arguments.length===1?CL(e):new Bt(e,t,r,n??1)}function Bt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}E0(Bt,mp,hS(Cl,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nl:Math.pow(nl,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bt(Ji(this.r),Ji(this.g),Ji(this.b),$u(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pb,formatHex:Pb,formatHex8:PL,formatRgb:Ob,toString:Ob}));function Pb(){return`#${qi(this.r)}${qi(this.g)}${qi(this.b)}`}function PL(){return`#${qi(this.r)}${qi(this.g)}${qi(this.b)}${qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ob(){const e=$u(this.opacity);return`${e===1?"rgb(":"rgba("}${Ji(this.r)}, ${Ji(this.g)}, ${Ji(this.b)}${e===1?")":`, ${e})`}`}function $u(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ji(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qi(e){return e=Ji(e),(e<16?"0":"")+e.toString(16)}function Ab(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new zr(e,t,r,n)}function mS(e){if(e instanceof zr)return new zr(e.h,e.s,e.l,e.opacity);if(e instanceof Cl||(e=al(e)),!e)return new zr;if(e instanceof zr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new zr(s,o,c,e.opacity)}function OL(e,t,r,n){return arguments.length===1?mS(e):new zr(e,t,r,n??1)}function zr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}E0(zr,OL,hS(Cl,{brighter(e){return e=e==null?Du:Math.pow(Du,e),new zr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nl:Math.pow(nl,e),new zr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Bt(dh(e>=240?e-240:e+120,i,n),dh(e,i,n),dh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new zr(Tb(this.h),xc(this.s),xc(this.l),$u(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$u(this.opacity);return`${e===1?"hsl(":"hsla("}${Tb(this.h)}, ${xc(this.s)*100}%, ${xc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Tb(e){return e=(e||0)%360,e<0?e+360:e}function xc(e){return Math.max(0,Math.min(1,e||0))}function dh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const C0=e=>()=>e;function AL(e,t){return function(r){return e+r*t}}function TL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ML(e){return(e=+e)==1?pS:function(t,r){return r-t?TL(t,r,e):C0(isNaN(t)?r:t)}}function pS(e,t){var r=t-e;return r?AL(e,r):C0(isNaN(e)?t:e)}const Mb=function e(t){var r=ML(t);function n(i,a){var s=r((i=mp(i)).r,(a=mp(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=pS(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function IL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function DL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $L(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Os(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function LL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Lu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function RL(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Os(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var pp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fh=new RegExp(pp.source,"g");function zL(e){return function(){return e}}function UL(e){return function(t){return e(t)+""}}function BL(e,t){var r=pp.lastIndex=fh.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=pp.exec(e))&&(i=fh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Lu(n,i)})),r=fh.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?UL(c[0].x):zL(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function Os(e,t){var r=typeof t,n;return t==null||r==="boolean"?C0(t):(r==="number"?Lu:r==="string"?(n=al(t))?(t=n,Mb):BL:t instanceof al?Mb:t instanceof Date?LL:DL(t)?IL:Array.isArray(t)?$L:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RL:Lu)(e,t)}function P0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function FL(e,t){t===void 0&&(t=e,e=Os);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function WL(e){return function(){return e}}function Ru(e){return+e}var Ib=[0,1];function Tt(e){return e}function gp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WL(isNaN(t)?NaN:.5)}function qL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VL(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=gp(i,n),a=r(s,a)):(n=gp(n,i),a=r(a,s)),function(o){return a(n(o))}}function HL(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=gp(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=El(e,o,1,n)-1;return a[c](i[c](o))}}function Pl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Vd(){var e=Ib,t=Ib,r=Os,n,i,a,s=Tt,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Tt&&(s=qL(e[0],e[h-1])),o=h>2?HL:VL,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),Lu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ru),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=P0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Tt,d()):s!==Tt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function O0(){return Vd()(Tt,Tt)}function KL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gs(e){return e=zu(Math.abs(e)),e?e[1]:NaN}function GL(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function YL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sl(e){if(!(t=QL.exec(e)))throw new Error("invalid format: "+e);var t;return new A0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sl.prototype=A0.prototype;function A0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}A0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JL(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var gS;function XL(e,t){var r=zu(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(gS=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+zu(e,Math.max(0,t+a-1))[0]}function Db(e,t){var r=zu(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $b={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Db(e*100,t),r:Db,s:XL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Lb(e){return e}var Rb=Array.prototype.map,zb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ZL(e){var t=e.grouping===void 0||e.thousands===void 0?Lb:GL(Rb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Lb:YL(Rb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=sl(f);var h=f.fill,m=f.align,x=f.sign,b=f.symbol,w=f.zero,v=f.width,g=f.comma,p=f.precision,j=f.trim,S=f.type;S==="n"?(g=!0,S="g"):$b[S]||(p===void 0&&(p=12),j=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=b==="$"?n:/[%p]/.test(S)?s:"",N=$b[S],E=/[defgprs%]/.test(S);p=p===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function P(O){var M=k,I=_,K,ne,G;if(S==="c")I=N(O)+I,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?c:N(Math.abs(O),p),j&&(O=JL(O)),H&&+O==0&&x!=="+"&&(H=!1),M=(H?x==="("?x:o:x==="-"||x==="("?"":x)+M,I=(S==="s"?zb[8+gS/3]:"")+I+(H&&x==="("?")":""),E){for(K=-1,ne=O.length;++K<ne;)if(G=O.charCodeAt(K),48>G||G>57){I=(G===46?i+O.slice(K+1):O.slice(K))+I,O=O.slice(0,K);break}}}g&&!w&&(O=t(O,1/0));var F=M.length+O.length+I.length,C=F<v?new Array(v-F+1).join(h):"";switch(g&&w&&(O=t(C+O,C.length?v-I.length:1/0),C=""),m){case"<":O=M+O+I+C;break;case"=":O=M+C+O+I;break;case"^":O=C.slice(0,F=C.length>>1)+M+O+I+C.slice(F);break;default:O=C+M+O+I;break}return a(O)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=sl(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(gs(h)/3)))*3,b=Math.pow(10,-x),w=zb[8+x/3];return function(v){return m(b*v)+w}}return{format:u,formatPrefix:d}}var bc,T0,vS;eR({thousands:",",grouping:[3],currency:["$",""]});function eR(e){return bc=ZL(e),T0=bc.format,vS=bc.formatPrefix,bc}function tR(e){return Math.max(0,-gs(Math.abs(e)))}function rR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gs(t)/3)))*3-gs(Math.abs(e)))}function nR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gs(t)-gs(e))+1}function yS(e,t,r,n){var i=fp(e,t,r),a;switch(n=sl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=rR(i,s))&&(n.precision=a),vS(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nR(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tR(i))&&(n.precision=a-(n.type==="%")*2);break}}return T0(n)}function Ei(e){var t=e.domain;return e.ticks=function(r){var n=t();return up(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return yS(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=dp(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function xS(){var e=O0();return e.copy=function(){return Pl(e,xS())},Pr.apply(e,arguments),Ei(e)}function bS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ru),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bS(e).unknown(t)},e=arguments.length?Array.from(e,Ru):[0,1],Ei(r)}function wS(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Ub(e){return Math.log(e)}function Bb(e){return Math.exp(e)}function iR(e){return-Math.log(-e)}function aR(e){return-Math.exp(-e)}function sR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oR(e){return e===10?sR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fb(e){return(t,r)=>-e(-t,r)}function M0(e){const t=e(Ub,Bb),r=t.domain;let n=10,i,a;function s(){return i=lR(n),a=oR(n),r()[0]<0?(i=Fb(i),a=Fb(a),e(iR,aR)):e(Ub,Bb),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),x,b;const w=o==null?10:+o;let v=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(x=1;x<n;++x)if(b=h<0?x/a(-h):x*a(h),!(b<u)){if(b>d)break;v.push(b)}}else for(;h<=m;++h)for(x=n-1;x>=1;--x)if(b=h>0?x/a(-h):x*a(h),!(b<u)){if(b>d)break;v.push(b)}v.length*2<w&&(v=up(u,d,w))}else v=up(h,m,Math.min(m-h,w)).map(a);return f?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=sl(c)).precision==null&&(c.trim=!0),c=T0(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(wS(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function jS(){const e=M0(Vd()).domain([1,10]);return e.copy=()=>Pl(e,jS()).base(e.base()),Pr.apply(e,arguments),e}function Wb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function I0(e){var t=1,r=e(Wb(t),qb(t));return r.constant=function(n){return arguments.length?e(Wb(t=+n),qb(t)):t},Ei(r)}function _S(){var e=I0(Vd());return e.copy=function(){return Pl(e,_S()).constant(e.constant())},Pr.apply(e,arguments)}function Vb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uR(e){return e<0?-e*e:e*e}function D0(e){var t=e(Tt,Tt),r=1;function n(){return r===1?e(Tt,Tt):r===.5?e(cR,uR):e(Vb(r),Vb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ei(t)}function $0(){var e=D0(Vd());return e.copy=function(){return Pl(e,$0()).exponent(e.exponent())},Pr.apply(e,arguments),e}function dR(){return $0.apply(null,arguments).exponent(.5)}function Hb(e){return Math.sign(e)*e*e}function fR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kS(){var e=O0(),t=[0,1],r=!1,n;function i(a){var s=fR(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Hb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ru)).map(Hb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return kS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pr.apply(i,arguments),Ei(i)}function SS(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=gL(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[El(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return SS().domain(e).range(t).unknown(n)},Pr.apply(a,arguments)}function NS(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[El(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return NS().domain([e,t]).range(i).unknown(a)},Pr.apply(Ei(s),arguments)}function ES(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[El(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return ES().domain(e).range(t).unknown(r)},Pr.apply(i,arguments)}const hh=new Date,mh=new Date;function tt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>tt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(hh.setTime(+a),mh.setTime(+s),e(hh),e(mh),Math.floor(r(hh,mh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Uu=tt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Uu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Uu);Uu.range;const bn=1e3,xr=bn*60,wn=xr*60,Mn=wn*24,L0=Mn*7,Kb=Mn*30,ph=Mn*365,Vi=tt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getUTCSeconds());Vi.range;const R0=tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getMinutes());R0.range;const z0=tt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCMinutes());z0.range;const U0=tt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn-e.getMinutes()*xr)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getHours());U0.range;const B0=tt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCHours());B0.range;const Ol=tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xr)/Mn,e=>e.getDate()-1);Ol.range;const Hd=tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>e.getUTCDate()-1);Hd.range;const CS=tt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>Math.floor(e/Mn));CS.range;function ga(e){return tt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xr)/L0)}const Kd=ga(0),Bu=ga(1),hR=ga(2),mR=ga(3),vs=ga(4),pR=ga(5),gR=ga(6);Kd.range;Bu.range;hR.range;mR.range;vs.range;pR.range;gR.range;function va(e){return tt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/L0)}const Gd=va(0),Fu=va(1),vR=va(2),yR=va(3),ys=va(4),xR=va(5),bR=va(6);Gd.range;Fu.range;vR.range;yR.range;ys.range;xR.range;bR.range;const F0=tt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());F0.range;const W0=tt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());W0.range;const In=tt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});In.range;const Dn=tt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Dn.range;function PS(e,t,r,n,i,a){const s=[[Vi,1,bn],[Vi,5,5*bn],[Vi,15,15*bn],[Vi,30,30*bn],[a,1,xr],[a,5,5*xr],[a,15,15*xr],[a,30,30*xr],[i,1,wn],[i,3,3*wn],[i,6,6*wn],[i,12,12*wn],[n,1,Mn],[n,2,2*Mn],[r,1,L0],[t,1,Kb],[t,3,3*Kb],[e,1,ph]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),x=m?m.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,m=k0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(fp(u/ph,d/ph,f));if(m===0)return Uu.every(Math.max(fp(u,d,f),1));const[x,b]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return x.every(b)}return[o,c]}const[wR,jR]=PS(Dn,W0,Gd,CS,B0,z0),[_R,kR]=PS(In,F0,Kd,Ol,U0,R0);function gh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function SR(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Zs(i),d=eo(i),f=Zs(a),h=eo(a),m=Zs(s),x=eo(s),b=Zs(o),w=eo(o),v=Zs(c),g=eo(c),p={a:H,A:F,b:C,B:$,c:null,d:Zb,e:Zb,f:GR,g:i8,G:s8,H:VR,I:HR,j:KR,L:OS,m:YR,M:QR,p:V,q:R,Q:rw,s:nw,S:JR,u:XR,U:ZR,V:e8,w:t8,W:r8,x:null,X:null,y:n8,Y:a8,Z:o8,"%":tw},j={a:oe,A:fe,b:ce,B:ze,c:null,d:ew,e:ew,f:d8,g:w8,G:_8,H:l8,I:c8,j:u8,L:TS,m:f8,M:h8,p:ve,q:Ct,Q:rw,s:nw,S:m8,u:p8,U:g8,V:v8,w:y8,W:x8,x:null,X:null,y:b8,Y:j8,Z:k8,"%":tw},S={a:P,A:O,b:M,B:I,c:K,d:Jb,e:Jb,f:BR,g:Qb,G:Yb,H:Xb,I:Xb,j:LR,L:UR,m:$R,M:RR,p:E,q:DR,Q:WR,s:qR,S:zR,u:OR,U:AR,V:TR,w:PR,W:MR,x:ne,X:G,y:Qb,Y:Yb,Z:IR,"%":FR};p.x=k(r,p),p.X=k(n,p),p.c=k(t,p),j.x=k(r,j),j.X=k(n,j),j.c=k(t,j);function k(Y,ae){return function(le){var z=[],nt=-1,ge=0,it=Y.length,Ge,A,Z;for(le instanceof Date||(le=new Date(+le));++nt<it;)Y.charCodeAt(nt)===37&&(z.push(Y.slice(ge,nt)),(A=Gb[Ge=Y.charAt(++nt)])!=null?Ge=Y.charAt(++nt):A=Ge==="e"?" ":"0",(Z=ae[Ge])&&(Ge=Z(le,A)),z.push(Ge),ge=nt+1);return z.push(Y.slice(ge,nt)),z.join("")}}function _(Y,ae){return function(le){var z=Xs(1900,void 0,1),nt=N(z,Y,le+="",0),ge,it;if(nt!=le.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ae&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(ge=vh(Xs(z.y,0,1)),it=ge.getUTCDay(),ge=it>4||it===0?Fu.ceil(ge):Fu(ge),ge=Hd.offset(ge,(z.V-1)*7),z.y=ge.getUTCFullYear(),z.m=ge.getUTCMonth(),z.d=ge.getUTCDate()+(z.w+6)%7):(ge=gh(Xs(z.y,0,1)),it=ge.getDay(),ge=it>4||it===0?Bu.ceil(ge):Bu(ge),ge=Ol.offset(ge,(z.V-1)*7),z.y=ge.getFullYear(),z.m=ge.getMonth(),z.d=ge.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),it="Z"in z?vh(Xs(z.y,0,1)).getUTCDay():gh(Xs(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(it+5)%7:z.w+z.U*7-(it+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,vh(z)):gh(z)}}function N(Y,ae,le,z){for(var nt=0,ge=ae.length,it=le.length,Ge,A;nt<ge;){if(z>=it)return-1;if(Ge=ae.charCodeAt(nt++),Ge===37){if(Ge=ae.charAt(nt++),A=S[Ge in Gb?ae.charAt(nt++):Ge],!A||(z=A(Y,le,z))<0)return-1}else if(Ge!=le.charCodeAt(z++))return-1}return z}function E(Y,ae,le){var z=u.exec(ae.slice(le));return z?(Y.p=d.get(z[0].toLowerCase()),le+z[0].length):-1}function P(Y,ae,le){var z=m.exec(ae.slice(le));return z?(Y.w=x.get(z[0].toLowerCase()),le+z[0].length):-1}function O(Y,ae,le){var z=f.exec(ae.slice(le));return z?(Y.w=h.get(z[0].toLowerCase()),le+z[0].length):-1}function M(Y,ae,le){var z=v.exec(ae.slice(le));return z?(Y.m=g.get(z[0].toLowerCase()),le+z[0].length):-1}function I(Y,ae,le){var z=b.exec(ae.slice(le));return z?(Y.m=w.get(z[0].toLowerCase()),le+z[0].length):-1}function K(Y,ae,le){return N(Y,t,ae,le)}function ne(Y,ae,le){return N(Y,r,ae,le)}function G(Y,ae,le){return N(Y,n,ae,le)}function H(Y){return s[Y.getDay()]}function F(Y){return a[Y.getDay()]}function C(Y){return c[Y.getMonth()]}function $(Y){return o[Y.getMonth()]}function V(Y){return i[+(Y.getHours()>=12)]}function R(Y){return 1+~~(Y.getMonth()/3)}function oe(Y){return s[Y.getUTCDay()]}function fe(Y){return a[Y.getUTCDay()]}function ce(Y){return c[Y.getUTCMonth()]}function ze(Y){return o[Y.getUTCMonth()]}function ve(Y){return i[+(Y.getUTCHours()>=12)]}function Ct(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var ae=k(Y+="",p);return ae.toString=function(){return Y},ae},parse:function(Y){var ae=_(Y+="",!1);return ae.toString=function(){return Y},ae},utcFormat:function(Y){var ae=k(Y+="",j);return ae.toString=function(){return Y},ae},utcParse:function(Y){var ae=_(Y+="",!0);return ae.toString=function(){return Y},ae}}}var Gb={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,NR=/^%/,ER=/[\\^$*+?|[\]().{}]/g;function pe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function CR(e){return e.replace(ER,"\\$&")}function Zs(e){return new RegExp("^(?:"+e.map(CR).join("|")+")","i")}function eo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function PR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function AR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function MR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Yb(e,t,r){var n=ut.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Qb(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function IR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function DR(e,t,r){var n=ut.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $R(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Jb(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LR(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Xb(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function RR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function zR(e,t,r){var n=ut.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function UR(e,t,r){var n=ut.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function BR(e,t,r){var n=ut.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function FR(e,t,r){var n=NR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function WR(e,t,r){var n=ut.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=ut.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Zb(e,t){return pe(e.getDate(),t,2)}function VR(e,t){return pe(e.getHours(),t,2)}function HR(e,t){return pe(e.getHours()%12||12,t,2)}function KR(e,t){return pe(1+Ol.count(In(e),e),t,3)}function OS(e,t){return pe(e.getMilliseconds(),t,3)}function GR(e,t){return OS(e,t)+"000"}function YR(e,t){return pe(e.getMonth()+1,t,2)}function QR(e,t){return pe(e.getMinutes(),t,2)}function JR(e,t){return pe(e.getSeconds(),t,2)}function XR(e){var t=e.getDay();return t===0?7:t}function ZR(e,t){return pe(Kd.count(In(e)-1,e),t,2)}function AS(e){var t=e.getDay();return t>=4||t===0?vs(e):vs.ceil(e)}function e8(e,t){return e=AS(e),pe(vs.count(In(e),e)+(In(e).getDay()===4),t,2)}function t8(e){return e.getDay()}function r8(e,t){return pe(Bu.count(In(e)-1,e),t,2)}function n8(e,t){return pe(e.getFullYear()%100,t,2)}function i8(e,t){return e=AS(e),pe(e.getFullYear()%100,t,2)}function a8(e,t){return pe(e.getFullYear()%1e4,t,4)}function s8(e,t){var r=e.getDay();return e=r>=4||r===0?vs(e):vs.ceil(e),pe(e.getFullYear()%1e4,t,4)}function o8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function ew(e,t){return pe(e.getUTCDate(),t,2)}function l8(e,t){return pe(e.getUTCHours(),t,2)}function c8(e,t){return pe(e.getUTCHours()%12||12,t,2)}function u8(e,t){return pe(1+Hd.count(Dn(e),e),t,3)}function TS(e,t){return pe(e.getUTCMilliseconds(),t,3)}function d8(e,t){return TS(e,t)+"000"}function f8(e,t){return pe(e.getUTCMonth()+1,t,2)}function h8(e,t){return pe(e.getUTCMinutes(),t,2)}function m8(e,t){return pe(e.getUTCSeconds(),t,2)}function p8(e){var t=e.getUTCDay();return t===0?7:t}function g8(e,t){return pe(Gd.count(Dn(e)-1,e),t,2)}function MS(e){var t=e.getUTCDay();return t>=4||t===0?ys(e):ys.ceil(e)}function v8(e,t){return e=MS(e),pe(ys.count(Dn(e),e)+(Dn(e).getUTCDay()===4),t,2)}function y8(e){return e.getUTCDay()}function x8(e,t){return pe(Fu.count(Dn(e)-1,e),t,2)}function b8(e,t){return pe(e.getUTCFullYear()%100,t,2)}function w8(e,t){return e=MS(e),pe(e.getUTCFullYear()%100,t,2)}function j8(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function _8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ys(e):ys.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function k8(){return"+0000"}function tw(){return"%"}function rw(e){return+e}function nw(e){return Math.floor(+e/1e3)}var Na,IS,DS;S8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function S8(e){return Na=SR(e),IS=Na.format,Na.parse,DS=Na.utcFormat,Na.utcParse,Na}function N8(e){return new Date(e)}function E8(e){return e instanceof Date?+e:+new Date(+e)}function q0(e,t,r,n,i,a,s,o,c,u){var d=O0(),f=d.invert,h=d.domain,m=u(".%L"),x=u(":%S"),b=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),g=u("%b %d"),p=u("%B"),j=u("%Y");function S(k){return(c(k)<k?m:o(k)<k?x:s(k)<k?b:a(k)<k?w:n(k)<k?i(k)<k?v:g:r(k)<k?p:j)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,E8)):h().map(N8)},d.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},d.tickFormat=function(k,_){return _==null?S:u(_)},d.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(wS(_,k)):d},d.copy=function(){return Pl(d,q0(e,t,r,n,i,a,s,o,c,u))},d}function C8(){return Pr.apply(q0(_R,kR,In,F0,Kd,Ol,U0,R0,Vi,IS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function P8(){return Pr.apply(q0(wR,jR,Dn,W0,Gd,Hd,B0,z0,Vi,DS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yd(){var e=0,t=1,r,n,i,a,s=Tt,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,x;return arguments.length?([m,x]=h,s=f(m,x),u):[s(0),s(1)]}}return u.range=d(Os),u.rangeRound=d(P0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Ci(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $S(){var e=Ei(Yd()(Tt));return e.copy=function(){return Ci(e,$S())},Un.apply(e,arguments)}function LS(){var e=M0(Yd()).domain([1,10]);return e.copy=function(){return Ci(e,LS()).base(e.base())},Un.apply(e,arguments)}function RS(){var e=I0(Yd());return e.copy=function(){return Ci(e,RS()).constant(e.constant())},Un.apply(e,arguments)}function V0(){var e=D0(Yd());return e.copy=function(){return Ci(e,V0()).exponent(e.exponent())},Un.apply(e,arguments)}function O8(){return V0.apply(null,arguments).exponent(.5)}function zS(){var e=[],t=Tt;function r(n){if(n!=null&&!isNaN(n=+n))return t((El(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(pi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>pL(e,a/n))},r.copy=function(){return zS(t).domain(e)},Un.apply(r,arguments)}function Qd(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=Tt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function x(b){return function(w){var v,g,p;return arguments.length?([v,g,p]=w,u=FL(b,[v,g,p]),m):[u(0),u(.5),u(1)]}}return m.range=x(Os),m.rangeRound=x(P0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),a=b(t),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function US(){var e=Ei(Qd()(Tt));return e.copy=function(){return Ci(e,US())},Un.apply(e,arguments)}function BS(){var e=M0(Qd()).domain([.1,1,10]);return e.copy=function(){return Ci(e,BS()).base(e.base())},Un.apply(e,arguments)}function FS(){var e=I0(Qd());return e.copy=function(){return Ci(e,FS()).constant(e.constant())},Un.apply(e,arguments)}function H0(){var e=D0(Qd());return e.copy=function(){return Ci(e,H0()).exponent(e.exponent())},Un.apply(e,arguments)}function A8(){return H0.apply(null,arguments).exponent(.5)}const lo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:N0,scaleDiverging:US,scaleDivergingLog:BS,scaleDivergingPow:H0,scaleDivergingSqrt:A8,scaleDivergingSymlog:FS,scaleIdentity:bS,scaleImplicit:hp,scaleLinear:xS,scaleLog:jS,scaleOrdinal:S0,scalePoint:yL,scalePow:$0,scaleQuantile:SS,scaleQuantize:NS,scaleRadial:kS,scaleSequential:$S,scaleSequentialLog:LS,scaleSequentialPow:V0,scaleSequentialQuantile:zS,scaleSequentialSqrt:O8,scaleSequentialSymlog:RS,scaleSqrt:dR,scaleSymlog:_S,scaleThreshold:ES,scaleTime:C8,scaleUtc:P8,tickFormat:yS},Symbol.toStringTag,{value:"Module"}));var Pi=e=>e.chartData,T8=T([Pi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),K0=(e,t,r,n)=>n?T8(e):Pi(e);function xs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Vr(t)&&Vr(r))return!0}return!1}function iw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function M8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Vr(r))i=r;else if(typeof r=="function")return;if(Vr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(xs(s))return s}}function I8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(xs(n))return iw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ie(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Xx.test(i)){var c=Xx.exec(i);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(ie(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Zx.test(a)){var d=Zx.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(xs(h))return t==null?h:iw(h,t,r)}}}var As=1e9,D8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y0,Me=!0,Nr="[DecimalError] ",Xi=Nr+"Invalid argument: ",G0=Nr+"Exponent out of range: ",Ts=Math.floor,Ri=Math.pow,$8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xt,at=1e7,Ce=7,WS=9007199254740991,Wu=Ts(WS/Ce),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ce;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};X.dividedBy=X.div=function(e){return Sn(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,r=t.constructor;return we(Sn(t,new r(e),0,1),r.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return He(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xt))throw Error(Nr+"NaN");if(r.s<1)throw Error(Nr+(r.s?"NaN":"-Infinity"));return r.eq(Xt)?new n(0):(Me=!1,t=Sn(ol(r,a),ol(e,a),a),Me=!0,we(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HS(t,e):qS(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Nr+"NaN");return r.s?(Me=!1,t=Sn(r,e,0,1).times(e),Me=!0,r.minus(t)):we(new n(r),i)};X.naturalExponential=X.exp=function(){return VS(this)};X.naturalLogarithm=X.ln=function(){return ol(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qS(t,e):HS(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xi+e);if(t=He(i)+1,n=i.d.length-1,r=n*Ce+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};X.squareRoot=X.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Nr+"NaN")}for(e=He(o),Me=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=en(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ts((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Sn(o,a,s+2)).times(.5),en(a.d).slice(0,s)===(t=en(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(we(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Me=!0,we(n,r)};X.times=X.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+m[n]*h[i-n-1]+t,a[i--]=o%at|0,t=o/at|0;a[i]=(a[i]+t)%at|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Me?we(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(on(e,0,As),t===void 0?t=n.rounding:on(t,0,8),we(r,e+He(r)+1,t))};X.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=oa(n,!0):(on(e,0,As),t===void 0?t=i.rounding:on(t,0,8),n=we(new i(n),e+1,t),r=oa(n,!0,e+1)),r};X.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?oa(i):(on(e,0,As),t===void 0?t=a.rounding:on(t,0,8),n=we(new a(i),e+He(i)+1,t),r=oa(n.abs(),!1,e+He(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return we(new t(e),He(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Xt);if(o=new c(o),!o.s){if(e.s<1)throw Error(Nr+"Infinity");return o}if(o.eq(Xt))return o;if(n=c.precision,e.eq(Xt))return we(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=WS){for(i=new c(Xt),t=Math.ceil(n/Ce+4),Me=!1;r%2&&(i=i.times(o),sw(i.d,t)),r=Ts(r/2),r!==0;)o=o.times(o),sw(o.d,t);return Me=!0,e.s<0?new c(Xt).div(i):we(i,n)}}else if(a<0)throw Error(Nr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Me=!1,i=e.times(ol(o,n+u)),Me=!0,i=VS(i),i.s=a,i};X.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=He(i),n=oa(i,r<=a.toExpNeg||r>=a.toExpPos)):(on(e,1,As),t===void 0?t=a.rounding:on(t,0,8),i=we(new a(i),e,t),r=He(i),n=oa(i,e<=r||r<=a.toExpNeg,e)),n};X.toSignificantDigits=X.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(on(e,1,As),t===void 0?t=n.rounding:on(t,0,8)),we(new n(r),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=He(e),r=e.constructor;return oa(e,t<=r.toExpNeg||t>=r.toExpPos)};function qS(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Me?we(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/Ce),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/at|0,c[a]%=at;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Me?we(t,f):t}function on(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xi+e)}function en(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ce-n.length,r&&(a+=Qn(r)),a+=n;s=e[t],n=s+"",r=Ce-n.length,r&&(a+=Qn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Sn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%at|0,s=a/at|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*at+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,m,x,b,w,v,g,p,j,S,k,_,N,E=n.constructor,P=n.s==i.s?1:-1,O=n.d,M=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(Nr+"Division by zero");for(c=n.e-i.e,_=M.length,S=O.length,m=new E(P),x=m.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--c,a==null?g=a=E.precision:s?g=a+(He(n)-He(i))+1:g=a,g<0)return new E(0);if(g=g/Ce+2|0,u=0,_==1)for(d=0,M=M[0],g++;(u<S||d)&&g--;u++)p=d*at+(O[u]||0),x[u]=p/M|0,d=p%M|0;else{for(d=at/(M[0]+1)|0,d>1&&(M=e(M,d),O=e(O,d),_=M.length,S=O.length),j=_,b=O.slice(0,_),w=b.length;w<_;)b[w++]=0;N=M.slice(),N.unshift(0),k=M[0],M[1]>=at/2&&++k;do d=0,o=t(M,b,_,w),o<0?(v=b[0],_!=w&&(v=v*at+(b[1]||0)),d=v/k|0,d>1?(d>=at&&(d=at-1),f=e(M,d),h=f.length,w=b.length,o=t(f,b,h,w),o==1&&(d--,r(f,_<h?N:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),o==-1&&(w=b.length,o=t(M,b,_,w),o<1&&(d++,r(b,_<w?N:M,w))),w=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[w++]=O[j]||0:(b=[O[j]],w=1);while((j++<S||b[0]!==void 0)&&g--)}return x[0]||x.shift(),m.e=c,we(m,s?a+He(m)+1:a)}}();function VS(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(He(e)>16)throw Error(G0+He(e));if(!e.s)return new d(Xt);for(t==null?(Me=!1,o=f):o=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ri(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Xt),d.precision=o;;){if(i=we(i.times(e),o),r=r.times(++c),s=a.plus(Sn(i,r,o)),en(s.d).slice(0,o)===en(a.d).slice(0,o)){for(;u--;)a=we(a.times(a),o);return d.precision=f,t==null?(Me=!0,we(a,f)):a}a=s}}function He(e){for(var t=e.e*Ce,r=e.d[0];r>=10;r/=10)t++;return t}function yh(e,t,r){if(t>e.LN10.sd())throw Me=!0,r&&(e.precision=r),Error(Nr+"LN10 precision limit exceeded");return we(new e(e.LN10),t)}function Qn(e){for(var t="";e--;)t+="0";return t}function ol(e,t){var r,n,i,a,s,o,c,u,d,f=1,h=10,m=e,x=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Nr+(m.s?"NaN":"-Infinity"));if(m.eq(Xt))return new b(0);if(t==null?(Me=!1,u=w):u=t,m.eq(10))return t==null&&(Me=!0),yh(b,u);if(u+=h,b.precision=u,r=en(x),n=r.charAt(0),a=He(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=en(m.d),n=r.charAt(0),f++;a=He(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return c=yh(b,u+2,w).times(a+""),m=ol(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Me=!0,we(m,w)):m;for(o=s=m=Sn(m.minus(Xt),m.plus(Xt),u),d=we(m.times(m),u),i=3;;){if(s=we(s.times(d),u),c=o.plus(Sn(s,new b(i),u)),en(c.d).slice(0,u)===en(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(yh(b,u+2,w).times(a+""))),o=Sn(o,new b(f),u),b.precision=w,t==null?(Me=!0,we(o,w)):o;o=c,i+=2}}function aw(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ts(r/Ce),e.d=[],n=(r+1)%Ce,r<0&&(n+=Ce),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ce;n<i;)e.d.push(+t.slice(n,n+=Ce));t=t.slice(n),n=Ce-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Me&&(e.e>Wu||e.e<-Wu))throw Error(G0+r)}else e.s=0,e.e=0,e.d=[0];return e}function we(e,t,r){var n,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ce,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ce),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Ce,i=n-Ce+s}if(r!==void 0&&(a=Ri(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Ri(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=He(e),f.length=1,t=t-a-1,f[0]=Ri(10,(Ce-t%Ce)%Ce),e.e=Ts(-t/Ce)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ri(10,Ce-n),f[d]=i>0?(u/Ri(10,s-i)%Ri(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==at&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=at)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Me&&(e.e>Wu||e.e<-Wu))throw Error(G0+He(e));return e}function HS(e,t){var r,n,i,a,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Me?we(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(m/Ce),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=at-1;--c[a],c[i]+=at}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Me?we(t,m):t):new h(0)}function oa(e,t,r){var n,i=He(e),a=en(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Qn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Qn(-i-1)+a,r&&(n=r-s)>0&&(a+=Qn(n))):i>=s?(a+=Qn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Qn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Qn(n))),e.s<0?"-"+a:a}function sw(e,t){if(e.length>t)return e.length=t,!0}function KS(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xi+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aw(s,a.toString())}else if(typeof a!="string")throw Error(Xi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,$8.test(a))aw(s,a);else throw Error(Xi+a)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KS,i.config=i.set=L8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function L8(e){if(!e||typeof e!="object")throw Error(Nr+"Object expected");var t,r,n,i=["precision",1,As,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ts(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Xi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xi+r+": "+n);return this}var Y0=KS(D8);Xt=new Y0(1);const xe=Y0;var R8=e=>e,GS={"@@functional/placeholder":!0},YS=e=>e===GS,ow=e=>function t(){return arguments.length===0||arguments.length===1&&YS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},QS=(e,t)=>e===1?t:ow(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==GS).length;return a>=e?t(...n):QS(e-a,ow(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>YS(d)?o.shift():d);return t(...u,...o)}))}),Jd=e=>QS(e.length,e),vp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},z8=Jd((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),U8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return R8;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},yp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),JS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=i,r=e(...i)),r}};function XS(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function ZS(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Jd((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Jd((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Jd((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var eN=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},tN=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=XS(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new xe(c.toNumber()):new xe(Math.ceil(c.toNumber()))},B8=(e,t,r)=>{var n=new xe(1),i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(XS(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));var s=Math.floor((t-1)/2),o=U8(z8(c=>i.add(new xe(c-s).mul(n)).toNumber()),vp);return o(0,t)},rN=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=tN(new xe(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new xe(0):(o=new xe(t).add(r).div(2),o=o.sub(new xe(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new xe(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?rN(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new xe(c).mul(s)),tickMax:o.add(new xe(u).mul(s))})};function F8(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=eN([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...vp(0,n-1).map(()=>1/0)]:[...vp(0,n-1).map(()=>-1/0),o];return t>r?yp(c):c}if(s===o)return B8(s,n,i);var{step:u,tickMin:d,tickMax:f}=rN(s,o,a,i,0),h=ZS(d,f.add(new xe(.1).mul(u)),u);return t>r?yp(h):h}function W8(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=eN([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),c=tN(new xe(s).sub(a).div(o-1),i,0),u=[...ZS(new xe(a),new xe(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?yp(u):u}var q8=JS(F8),V8=JS(W8),H8=e=>e.rootProps.barCategoryGap,Xd=e=>e.rootProps.stackOffset,Q0=e=>e.options.chartName,J0=e=>e.rootProps.syncId,nN=e=>e.rootProps.syncMethod,X0=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Qt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Zd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},K8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},G8={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,ticks:void 0,type:Qt.type,unit:void 0},Y8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Q8={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Qt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,ticks:void 0,type:"category",unit:void 0},Z0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Y8:K8,ev=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Q8:G8,ef=e=>e.polarOptions,tv=T([Rn,zn,wt],GI),iN=T([ef,tv],(e,t)=>{if(e!=null)return yi(e.innerRadius,t,0)}),aN=T([ef,tv],(e,t)=>{if(e!=null)return yi(e.outerRadius,t,t*.8)}),J8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},sN=T([ef],J8);T([Z0,sN],Zd);var oN=T([tv,iN,aN],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([ev,oN],Zd);var lN=T([Oe,ef,iN,aN,Rn,zn],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:yi(s,i,i/2),cy:yi(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ke=(e,t)=>t,tf=(e,t,r)=>r;function cN(e){return e==null?void 0:e.id}var rt=e=>{var t=Oe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ms=e=>e.tooltip.settings.axisId,dt=e=>{var t=rt(e),r=Ms(e);return Al(e,t,r)},uN=T([dt],e=>e==null?void 0:e.dataKey);function dN(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=cN(o);u.forEach((f,h)=>{var m=a==null||i?h:String(It(f,a,null)),x=It(f,o.dataKey,0),b;s.has(m)?b=s.get(m):b={},Object.assign(b,{[d]:x}),s.set(m,b)})}}),Array.from(s.values())}function rv(e){return e.stackId!=null&&e.dataKey!=null}function lw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lw(Object(r),!0).forEach(function(n){X8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X8(e,t,r){return(t=Z8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z8(e){var t=ez(e,"string");return typeof t=="symbol"?t:t+""}function ez(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xp=[0,"auto"],Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fN=(e,t)=>e.cartesianAxis.xAxis[t],Bn=(e,t)=>{var r=fN(e,t);return r??Kt},Gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nl},hN=(e,t)=>e.cartesianAxis.yAxis[t],Fn=(e,t)=>{var r=hN(e,t);return r??Gt},tz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},nv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??tz},Vt=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);case"zAxis":return nv(e,r);case"angleAxis":return Z0(e,r);case"radiusAxis":return ev(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rz=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Al=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);case"angleAxis":return Z0(e,r);case"radiusAxis":return ev(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mN=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function pN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var gN=e=>e.graphicalItems.cartesianItems,nz=T([Ke,tf],pN),vN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tl=T([gN,Vt,nz],vN),yN=T([Tl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rv)),xN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bN=T([Tl],xN),wN=e=>e.map(t=>t.data).filter(Boolean).flat(1),iz=T([Tl],wN),jN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},iv=T([iz,K0],jN),_N=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:It(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:It(i,n)}))):e.map(n=>({value:n})),rf=T([iv,Vt,Tl],_N);function kN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ya(e){return e.filter(t=>sn(t)||t instanceof Date).map(Number).filter(t=>kr(t)===!1)}function az(e,t,r){return!r||typeof t!="number"||kr(t)?[]:r.length?ya(r.flatMap(n=>{var i=It(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Vr(a)||!Vr(s)))return[t-a,t+s]})):[]}var sz=T([yN,K0,dt],dN),SN=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,c=o.map(cN);return[s,{stackedData:cD(e,c,r),graphicalItems:o}]}))},oz=T([sz,yN,Xd],SN),NN=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=fD(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},lz=T([oz,Pi,Ke],NN),EN=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var o,c,u=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>kN(i,f)),d=It(a,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:az(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:It(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),nf=e=>e.errorBars,CN=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>kN(r,n));T([bN,nf,Ke],CN);var cz=T([iv,Vt,bN,nf,Ke],EN);function uz(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var cw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ya(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},dz=(e,t,r)=>{var n=e.map(uz).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&x_(n))?lS(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},av=e=>{var t;if(e==null||!("domain"in e))return xp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ya(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:xp},Vu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},PN=e=>e.referenceElements.dots,Is=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fz=T([PN,Ke,tf],Is),ON=e=>e.referenceElements.areas,hz=T([ON,Ke,tf],Is),AN=e=>e.referenceElements.lines,mz=T([AN,Ke,tf],Is),TN=(e,t)=>{var r=ya(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pz=T(fz,Ke,TN),MN=(e,t)=>{var r=ya(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gz=T([hz,Ke],MN),IN=(e,t)=>{var r=ya(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vz=T(mz,Ke,IN),yz=T(pz,vz,gz,(e,t,r)=>Vu(e,r,t)),xz=T([Vt],av),DN=(e,t,r,n,i,a,s)=>{var o=M8(t,e.allowDataOverflow);if(o!=null)return o;var c=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=c?Vu(r,i,cw(n)):Vu(i,cw(n));return I8(t,u,e.allowDataOverflow)},bz=T([Vt,xz,lz,cz,yz,Oe,Ke],DN),wz=[0,1],$N=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=Ni(t,a);return u&&o==null?lS(0,r.length):c==="category"?dz(n,e,u):i==="expand"?wz:s}},sv=T([Vt,Oe,iv,rf,Xd,Ke,bz],$N),LN=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(_l(a));return o in lo?o:"point"}}},Ml=T([Vt,Oe,mN,Q0,Ke],LN);function jz(e){if(e!=null){if(e in lo)return lo[e]();var t="scale".concat(_l(e));if(t in lo)return lo[t]()}}function ov(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=jz(t);if(i!=null){var a=i.domain(r).range(n);return aD(a),a}}}var RN=(e,t,r)=>{var n=av(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xs(e))return q8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xs(e))return V8(e,t.tickCount,t.allowDecimals)}},lv=T([sv,Al,Ml],RN),zN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xs(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},_z=T([Vt,sv,lv,Ke],zN),kz=T(rf,Vt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ya(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),UN=T(kz,Oe,H8,wt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Vr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=yi(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),Sz=(e,t)=>{var r=Bn(e,t);return r==null||typeof r.padding!="string"?0:UN(e,"xAxis",t,r.padding)},Nz=(e,t)=>{var r=Fn(e,t);return r==null||typeof r.padding!="string"?0:UN(e,"yAxis",t,r.padding)},Ez=T(Bn,Sz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Cz=T(Fn,Nz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Pz=T([wt,Ez,Wd,Fd,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Oz=T([wt,Oe,Cz,Wd,Fd,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Il=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Pz(e,r,n);case"yAxis":return Oz(e,r,n);case"zAxis":return(i=nv(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return sN(e);case"radiusAxis":return oN(e,r);default:return}},BN=T([Vt,Il],Zd),Ds=T([Vt,Ml,_z,BN],ov);T([Tl,nf,Ke],CN);function FN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var af=(e,t)=>t,sf=(e,t,r)=>r,Az=T(Ud,af,sf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(FN)),Tz=T(Bd,af,sf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(FN)),WN=(e,t)=>({width:e.width,height:t.height}),Mz=(e,t)=>{var r=typeof t.width=="number"?t.width:Nl;return{width:r,height:e.height}},Iz=T(wt,Bn,WN),Dz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},$z=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Lz=T(zn,wt,Az,af,sf,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=WN(t,o);s==null&&(s=Dz(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),Rz=T(Rn,wt,Tz,af,sf,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=Mz(t,o);s==null&&(s=$z(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),zz=(e,t)=>{var r=Bn(e,t);if(r!=null)return Lz(e,r.orientation,r.mirror)},Uz=T([wt,Bn,zz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Bz=(e,t)=>{var r=Fn(e,t);if(r!=null)return Rz(e,r.orientation,r.mirror)},Fz=T([wt,Fn,Bz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Wz=T(wt,Fn,(e,t)=>{var r=typeof t.width=="number"?t.width:Nl;return{width:r,height:e.height}}),qN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Ni(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&x_(c))return c}},cv=T([Oe,rf,Vt,Ke],qN),VN=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Ni(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},uv=T([Oe,rf,Al,Ke],VN),uw=T([Oe,rz,Ml,Ds,cv,uv,Il,lv,Ke],(e,t,r,n,i,a,s,o,c)=>{if(t==null)return null;var u=Ni(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),qz=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=Ni(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/m:0;x=c==="angleAxis"&&a!=null&&a.length>=2?yr(a[0]-a[1])*2*x:x;var b=f||i;if(b){var w=b.map((v,g)=>{var p=s?s.indexOf(v):v;return{index:g,coordinate:n(p)+x,value:v,offset:x}});return w.filter(v=>!kr(v.coordinate))}return u&&o?o.map((v,g)=>({coordinate:n(v)+x,value:v,index:g,offset:x})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+x,value:v,offset:x})):n.domain().map((v,g)=>({coordinate:n(v)+x,value:s?s[v]:v,index:g,offset:x}))}},HN=T([Oe,Al,Ml,Ds,lv,Il,cv,uv,Ke],qz),Vz=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ni(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?yr(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},KN=T([Oe,Al,Ds,Il,cv,uv,Ke],Vz),GN=T(Vt,Ds,(e,t)=>{if(!(e==null||t==null))return qu(qu({},e),{},{scale:t})}),Hz=T([Vt,Ml,sv,BN],ov);T((e,t,r)=>nv(e,r),Hz,(e,t)=>{if(!(e==null||t==null))return qu(qu({},e),{},{scale:t})});var Kz=T([Oe,Ud,Bd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YN=e=>e.options.defaultTooltipEventType,QN=e=>e.options.validateTooltipEventTypes;function JN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function dv(e,t){var r=YN(e),n=QN(e);return JN(t,r,n)}function Gz(e){return re(t=>dv(t,e))}var XN=(e,t)=>{var r,n=Number(t);if(!(kr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Yz=e=>e.tooltip.settings,ti={active:!1,index:null,dataKey:void 0,coordinate:void 0},Qz={itemInteraction:{click:ti,hover:ti},axisInteraction:{click:ti,hover:ti},keyboardInteraction:ti,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ZN=lr({name:"tooltip",initialState:Qz,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=kn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Jz,removeTooltipEntrySettings:Xz,setTooltipSettingsState:Zz,setActiveMouseOverItemIndex:eU,mouseLeaveItem:zq,mouseLeaveChart:eE,setActiveClickItemIndex:Uq,setMouseOverAxisIndex:tE,setMouseClickAxisIndex:tU,setSyncInteraction:bp,setKeyboardInteraction:wp}=ZN.actions,rU=ZN.reducer;function dw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(r),!0).forEach(function(n){nU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nU(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=aU(e,"string");return typeof t=="symbol"?t:t+""}function aU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function oU(e){return e.index!=null}var rE=(e,t,r,n)=>{if(t==null)return ti;var i=sU(e,t,r);if(i==null)return ti;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(oU(i)){if(a)return wc(wc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return wc(wc({},ti),{},{coordinate:i.coordinate})},fv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Vr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},nE=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},iE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Dl=e=>e.options.tooltipPayloadSearcher,$s=e=>e.tooltip;function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fw(Object(r),!0).forEach(function(n){lU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lU(e,t,r){return(t=cU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=uU(e,"string");return typeof t=="symbol"?t:t+""}function uU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dU(e,t){return e??t}var aE=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var x,{dataDefinedOnItem:b,settings:w}=m,v=dU(b,o),g=Array.isArray(v)?Fk(v,u,d):v,p=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:n,j=w==null?void 0:w.nameKey,S;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&s==="axis"?S=b_(g,n,i):S=a(g,t,c,j),Array.isArray(S))S.forEach(_=>{var N=hw(hw({},w),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(eb({tooltipEntrySettings:N,dataKey:_.dataKey,payload:_.payload,value:It(_.payload,_.dataKey),name:_.name}))});else{var k;h.push(eb({tooltipEntrySettings:w,dataKey:p,payload:S,value:It(S,p),name:(k=It(S,j))!==null&&k!==void 0?k:w==null?void 0:w.name}))}return h},f)}},hv=T([dt,Oe,mN,Q0,rt],LN),fU=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),hU=T([rt,Ms],pN),$l=T([fU,dt,hU],vN),mU=T([$l],e=>e.filter(rv)),pU=T([$l],wN),Ls=T([pU,Pi],jN),gU=T([mU,Pi,dt],dN),mv=T([Ls,dt,$l],_N),vU=T([dt],av),yU=T([$l],e=>e.filter(rv)),xU=T([gU,yU,Xd],SN),bU=T([xU,Pi,rt],NN),wU=T([$l],xN),jU=T([Ls,dt,wU,nf,rt],EN),_U=T([PN,rt,Ms],Is),kU=T([_U,rt],TN),SU=T([ON,rt,Ms],Is),NU=T([SU,rt],MN),EU=T([AN,rt,Ms],Is),CU=T([EU,rt],IN),PU=T([kU,CU,NU],Vu),OU=T([dt,vU,bU,jU,PU,Oe,rt],DN),sE=T([dt,Oe,Ls,mv,Xd,rt,OU],$N),AU=T([sE,dt,hv],RN),TU=T([dt,sE,AU,rt],zN),oE=e=>{var t=rt(e),r=Ms(e),n=!1;return Il(e,t,r,n)},lE=T([dt,oE],Zd),cE=T([dt,hv,TU,lE],ov),MU=T([Oe,mv,dt,rt],qN),IU=T([Oe,mv,dt,rt],VN),DU=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=Ni(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?yr(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Wn=T([Oe,dt,hv,cE,oE,MU,IU,rt],DU),pv=T([YN,QN,Yz],(e,t,r)=>JN(r.shared,e,t)),uE=e=>e.tooltip.settings.trigger,gv=e=>e.tooltip.settings.defaultIndex,of=T([$s,pv,uE,gv],rE),ll=T([of,Ls],fv),dE=T([Wn,ll],XN),$U=T([of],e=>{if(e)return e.dataKey}),fE=T([$s,pv,uE,gv],iE),LU=T([Rn,zn,Oe,wt,Wn,gv,fE,Dl],nE),RU=T([of,LU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zU=T([of],e=>e.active),UU=T([fE,ll,Pi,uN,dE,Dl,pv],aE),BU=T([UU],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=qU(e,"string");return typeof t=="symbol"?t:t+""}function qU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=()=>re(dt),HU=()=>{var e=VU(),t=re(Wn),r=re(cE);return rp(pw(pw({},e),{},{scale:r}),t)},KU=()=>re(Q0),vv=(e,t)=>t,hE=(e,t,r)=>r,yv=(e,t,r,n)=>n,GU=T(Wn,e=>Id(e,t=>t.coordinate)),xv=T([$s,vv,hE,yv],rE),mE=T([xv,Ls],fv),YU=(e,t,r)=>{if(t!=null){var n=$s(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},pE=T([$s,vv,hE,yv],iE),Hu=T([Rn,zn,Oe,wt,Wn,yv,pE,Dl],nE),QU=T([xv,Hu],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),gE=T(Wn,mE,XN),JU=T([pE,mE,Pi,uN,gE,Dl,vv],aE),XU=T([xv],e=>({isActive:e.active,activeIndex:e.index})),ZU=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a)){var c=hD(e.chartX,e.chartY,t,r,o);if(c){var u=pD(c,t),d=nD(u,s,a,n,i),f=mD(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){e7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e7(e,t,r){return(t=t7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,x;if(u==="ScatterChart")m=d,x=x$;else if(u==="BarChart")m=b$(s,d,i,a),x=J$;else if(s==="radial"){var{cx:b,cy:w,radius:v,startAngle:g,endAngle:p}=nS(d);m={cx:b,cy:w,startAngle:g,endAngle:p,innerRadius:v,outerRadius:v},x=tL}else m={points:rL(s,d,i)},x=Jk;var j=typeof o=="object"&&"className"in o?o.className:void 0,S=jc(jc(jc(jc({stroke:"#ccc",pointerEvents:"none"},i),m),ct(o,!1)),{},{payload:f,payloadIndex:h,className:je("recharts-tooltip-cursor",j)});return y.isValidElement(o)?y.cloneElement(o,S):y.createElement(x,S)}function i7(e){var t=HU(),r=Gk(),n=j0(),i=KU();return y.createElement(n7,jp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var vE=y.createContext(null),a7=()=>y.useContext(vE),yE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,x=new Array(m);h<m;h++)x[h]=f[h].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,x){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],v=arguments.length,g,p;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,x),!0}for(p=1,g=new Array(v-1);p<v;p++)g[p-1]=arguments[p];w.fn.apply(w.context,g)}else{var j=w.length,S;for(p=0;p<j;p++)switch(w[p].once&&this.removeListener(u,w[p].fn,void 0,!0),v){case 1:w[p].fn.call(w[p].context);break;case 2:w[p].fn.call(w[p].context,d);break;case 3:w[p].fn.call(w[p].context,d,f);break;case 4:w[p].fn.call(w[p].context,d,f,h);break;default:if(!g)for(S=1,g=new Array(v-1);S<v;S++)g[S-1]=arguments[S];w[p].fn.apply(w[p].context,g)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&s(this,m);else{for(var b=0,w=[],v=x.length;b<v;b++)(x[b].fn!==d||h&&!x[b].once||f&&x[b].context!==f)&&w.push(x[b]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(yE);var s7=yE.exports;const o7=xi(s7);var cl=new o7,_p="recharts.syncEvent.tooltip",vw="recharts.syncEvent.brush";function l7(e,t){if(t){var r=Number.parseInt(t,10);if(!kr(r))return e==null?void 0:e[r]}}var c7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},xE=lr({name:"options",initialState:c7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),u7=xE.reducer,{createEventEmitter:d7}=xE.actions;function f7(e){return e.tooltip.syncInteraction}var h7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},bE=lr({name:"chartData",initialState:h7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yw,setDataStartEndIndexes:m7,setComputedData:Bq}=bE.actions,p7=bE.reducer,g7=["x","y"];function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=x7(e,"string");return typeof t=="symbol"?t:t+""}function x7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t){if(e==null)return{};var r,n,i=w7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wE=()=>{};function j7(){var e=re(J0),t=re(X0),r=bt(),n=re(nN),i=re(Wn),a=j0(),s=x0(),o=re(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return wE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x,y:b}=m,w=b7(m,g7),v=Ti(Ti(Ti({},w),typeof x=="number"&&{x:Math.max(s.x,Math.min(x,s.x+s.width))}),typeof b=="number"&&{y:Math.max(s.y,Math.min(b,s.y+s.height))}),g=Ti(Ti({},d),{},{payload:Ti(Ti({},d.payload),{},{coordinate:v})});r(g)}else r(d);return}if(i!=null){var p;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(i,j);p=i[S]}else n==="value"&&(p=i.find(I=>String(I.value)===d.payload.label));var{coordinate:k}=d.payload;if(p==null||d.payload.active===!1||k==null||s==null){r(bp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:N}=k,E=Math.min(_,s.x+s.width),P=Math.min(N,s.y+s.height),O={x:a==="horizontal"?p.coordinate:E,y:a==="horizontal"?P:p.coordinate},M=bp({active:d.payload.active,coordinate:O,dataKey:d.payload.dataKey,index:String(p.index),label:d.payload.label});r(M)}}};return cl.on(_p,c),()=>{cl.off(_p,c)}},[o,r,t,e,n,i,a,s])}function _7(){var e=re(J0),t=re(X0),r=bt();y.useEffect(()=>{if(e==null)return wE;var n=(i,a,s)=>{t!==s&&e===i&&r(m7(a))};return cl.on(vw,n),()=>{cl.off(vw,n)}},[r,t,e])}function k7(){var e=bt();y.useEffect(()=>{e(d7())},[e]),j7(),_7()}function S7(e,t,r,n,i,a){var s=re(h=>YU(h,e,t)),o=re(X0),c=re(J0),u=re(nN),d=re(f7),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=bp({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});cl.emit(_p,c,h,o)}},[f,r,s,i,n,o,c,u,a])}function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){N7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7(e,t,r){return(t=E7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P7(e){return e.dataKey}function O7(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(JD,t)}var jw=[],A7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ps.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function T7(e){var t=Cr(e,A7),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:x,cursor:b,shared:w,trigger:v,defaultIndex:g,portal:p,axisId:j}=t,S=bt(),k=typeof g=="number"?String(g):g;y.useEffect(()=>{S(Zz({shared:w,trigger:v,axisId:j,active:r,defaultIndex:k}))},[S,w,v,j,r,k]);var _=x0(),N=Qk(),E=Gz(w),{activeIndex:P,isActive:O}=re(ce=>XU(ce,E,v,k)),M=re(ce=>JU(ce,E,v,k)),I=re(ce=>gE(ce,E,v,k)),K=re(ce=>QU(ce,E,v,k)),ne=M,G=a7(),H=r??O,[F,C]=vk([ne,H]),$=E==="axis"?I:void 0;S7(E,v,K,$,P,H);var V=p??G;if(V==null)return null;var R=ne??jw;H||(R=jw),o&&R.length&&(R=ak(ne.filter(ce=>ce.value!=null&&(ce.hide!==!0||t.includeHidden)),d,P7));var oe=R.length>0,fe=y.createElement(i$,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:H,coordinate:K,hasPayload:oe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:_,wrapperStyle:x,lastBoundingBox:F,innerRef:C,hasPortalFromProps:!!p},O7(s,ww(ww({},t),{},{payload:R,label:$,active:H,coordinate:K,accessibilityLayer:N})));return y.createElement(y.Fragment,null,Sg.createPortal(fe,V),H&&y.createElement(i7,{cursor:b,tooltipEventType:E,coordinate:K,payload:ne,index:P}))}var jE={},_E={},kE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},x=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{x(),s=void 0,o=null},w=()=>{d()},v=function(...g){if(i!=null&&i.aborted)return;s=this,o=g;const p=h==null;m(),c&&p&&d()};return v.schedule=m,v.cancel=b,v.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(kE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},x=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=x,m}e.debounce=r})(_E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(jE);var M7=jE.throttle;const I7=xi(M7);var ko=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){D7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D7(e,t,r){return(t=$7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R7=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:x={}}=e,b=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>b.current);var[v,g]=y.useState({containerWidth:n.width,containerHeight:n.height}),p=y.useCallback((S,k)=>{g(_=>{var N=Math.round(S),E=Math.round(k);return _.containerWidth===N&&_.containerHeight===E?_:{containerWidth:N,containerHeight:E}})},[]);y.useEffect(()=>{var S=E=>{var P,{width:O,height:M}=E[0].contentRect;p(O,M),(P=w.current)===null||P===void 0||P.call(w,O,M)};d>0&&(S=I7(S,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(S),{width:_,height:N}=b.current.getBoundingClientRect();return p(_,N),k.observe(b.current),()=>{k.disconnect()}},[p,d]);var j=y.useMemo(()=>{var{containerWidth:S,containerHeight:k}=v;if(S<0||k<0)return null;ko(Wi(i)||Wi(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),ko(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Wi(i)?S:i,N=Wi(a)?k:a;return r&&r>0&&(_?N=_/r:N&&(_=N*r),c&&N>c&&(N=c)),ko(_>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,i,a,s,o,r),y.Children.map(u,E=>y.cloneElement(E,{width:_,height:N,style:xh({width:_,height:N},E.props.style)}))},[r,u,a,c,o,s,v,i]);return y.createElement("div",{id:f?"".concat(f):void 0,className:je("recharts-responsive-container",h),style:xh(xh({},x),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function z7(e,t,r){return(t=U7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F7{constructor(t){z7(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){q7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K7={cacheSize:2e3,enableCache:!0},SE=W7({},K7),Sw=new F7(SE.cacheSize),G7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Nw="recharts_measurement_span";function Y7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var Ew=(e,t)=>{try{var r=document.getElementById(Nw);r||(r=document.createElement("span"),r.setAttribute("id",Nw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,G7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},So=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ps.isSsr)return{width:0,height:0};if(!SE.enableCache)return Ew(t,r);var n=Y7(t,r),i=Sw.get(n);if(i)return i;var a=Ew(t,r);return Sw.set(n,a),a},Cw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X7=Object.keys(NE),Ba="NaN";function Z7(e,t){return e*NE[t]}class Lt{static parse(t){var r,[,n,i]=(r=J7.exec(t))!==null&&r!==void 0?r:[];return new Lt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,kr(t)&&(this.unit=""),r!==""&&!Q7.test(r)&&(this.num=NaN,this.unit=""),X7.includes(r)&&(this.num=Z7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Lt(NaN,""):new Lt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Lt(NaN,""):new Lt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Lt(NaN,""):new Lt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Lt(NaN,""):new Lt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return kr(this.num)}}function EE(e){if(e.includes(Ba))return Ba;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Cw.exec(t))!==null&&r!==void 0?r:[],s=Lt.parse(n??""),o=Lt.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Ba;t=t.replace(Cw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Pw.exec(t))!==null&&u!==void 0?u:[],m=Lt.parse(d??""),x=Lt.parse(h??""),b=f==="+"?m.add(x):m.subtract(x);if(b.isNaN())return Ba;t=t.replace(Pw,b.toString())}return t}var Ow=/\(([^()]*)\)/;function eB(e){for(var t=e,r;(r=Ow.exec(t))!=null;){var[,n]=r;t=t.replace(Ow,EE(n))}return t}function tB(e){var t=e.replace(/\s+/g,"");return t=eB(t),t=EE(t),t}function rB(e){try{return tB(e)}catch{return Ba}}function bh(e){var t=rB(e.slice(5,-1));return t===Ba?"":t}var nB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iB=["dx","dy","angle","className","breakAll"];function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(null,arguments)}function Aw(e,t){if(e==null)return{};var r,n,i=aB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CE=/[ \f\n\r\t\v\u2028\u2029]+/,PE=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];lt(t)||(r?i=t.toString().split(""):i=t.toString().split(CE));var a=i.map(o=>({word:o,width:So(o,n).width})),s=r?0:So(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},sB=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=ie(a),d=s,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((M,I)=>{var{word:K,width:ne}=I,G=M[M.length-1];if(G&&(n==null||i||G.width+ne+r<Number(n)))G.words.push(K),G.width+=ne+r;else{var H={words:[K],width:ne};M.push(H)}return M},[])},h=f(t),m=P=>P.reduce((O,M)=>O.width>M.width?O:M);if(!u||i)return h;var x=h.length>a||m(h).width>Number(n);if(!x)return h;for(var b="…",w=P=>{var O=d.slice(0,P),M=PE({breakAll:c,style:o,children:O+b}).wordsWithComputedWidth,I=f(M),K=I.length>a||m(I).width>Number(n);return[K,I]},v=0,g=d.length-1,p=0,j;v<=g&&p<=d.length-1;){var S=Math.floor((v+g)/2),k=S-1,[_,N]=w(k),[E]=w(S);if(!_&&!E&&(v=S+1),_&&E&&(g=S-1),!_&&E){j=N;break}p++}return j||h},Tw=e=>{var t=lt(e)?[]:e.toString().split(CE);return[{words:t}]},oB=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Ps.isSsr){var o,c,u=PE({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return Tw(n);return sB({breakAll:a,children:n,maxLines:s,style:i},o,c,t,r)}return Tw(n)},Mw="#808080",bv=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=Mw}=e,d=Aw(e,nB),f=y.useMemo(()=>oB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:x,className:b,breakAll:w}=d,v=Aw(d,iB);if(!sn(r)||!sn(n)||f.length===0)return null;var g=r+(ie(h)?h:0),p=n+(ie(m)?m:0),j;switch(c){case"start":j=bh("calc(".concat(a,")"));break;case"middle":j=bh("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=bh("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(s){var k=f[0].width,{width:_}=d;S.push("scale(".concat(ie(_)?_/k:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(g,", ").concat(p,")")),S.length&&(v.transform=S.join(" ")),y.createElement("text",kp({},ct(v,!0),{ref:t,x:g,y:p,className:je("recharts-text",b),textAnchor:o,fill:u.includes("url")?Mw:u}),f.map((N,E)=>{var P=N.words.join(w?"":" ");return y.createElement("tspan",{x:g,dy:E===0?j:i,key:"".concat(P,"-").concat(E)},P)}))});bv.displayName="Text";var lB=["labelRef"];function cB(e,t){if(e==null)return{};var r,n,i=uB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){dB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dB(e,t,r){return(t=fB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fB(e){var t=hB(e,"string");return typeof t=="symbol"?t:t+""}function hB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(null,arguments)}var OE=y.createContext(null),mB=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=y.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return y.createElement(OE.Provider,{value:s},a)},AE=()=>{var e=y.useContext(OE),t=x0();return e||t},pB=y.createContext(null),gB=()=>{var e=y.useContext(pB),t=re(lN);return e||t},vB=e=>{var{value:t,formatter:r}=e,n=lt(e.children)?t:e.children;return typeof r=="function"?r(n):n},wv=e=>e!=null&&typeof e=="function",yB=(e,t)=>{var r=yr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},xB=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,x=(u+d)/2,b=yB(f,h),w=b>=0?1:-1,v,g;switch(t){case"insideStart":v=f+w*a,g=m;break;case"insideEnd":v=h-w*a,g=!m;break;case"end":v=h+w*a,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=b<=0?g:!g;var p=vt(o,c,x,v),j=vt(o,c,x,v+(g?1:-1)*359),S="M".concat(p.x,",").concat(p.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(g?0:1,`,
    `).concat(j.x,",").concat(j.y),k=lt(e.id)?Zo("recharts-radial-line-"):e.id;return y.createElement("text",vn({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",s)}),y.createElement("defs",null,y.createElement("path",{id:k,d:S})),y.createElement("textPath",{xlinkHref:"#".concat(k)},r))},bB=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=vt(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:x}=vt(n,i,h,u);return{x:m,y:x,textAnchor:"middle",verticalAnchor:"middle"}},TE=e=>"cx"in e&&ie(e.cx),wB=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!TE(r)&&(a=r);var{x:s,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",x=c>=0?1:-1,b=x*n,w=x>0?"end":"start",v=x>0?"start":"end";if(i==="top"){var g={x:s+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h};return Be(Be({},g),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var p={x:s+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:m};return Be(Be({},p),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var j={x:s-b,y:o+u/2,textAnchor:w,verticalAnchor:"middle"};return Be(Be({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var S={x:s+c+b,y:o+u/2,textAnchor:v,verticalAnchor:"middle"};return Be(Be({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:u}:{})}var k=a?{width:c,height:u}:{};return i==="insideLeft"?Be({x:s+b,y:o+u/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideRight"?Be({x:s+c-b,y:o+u/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?Be({x:s+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?Be({x:s+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?Be({x:s+b,y:o+f,textAnchor:v,verticalAnchor:m},k):i==="insideTopRight"?Be({x:s+c-b,y:o+f,textAnchor:w,verticalAnchor:m},k):i==="insideBottomLeft"?Be({x:s+b,y:o+u-f,textAnchor:v,verticalAnchor:h},k):i==="insideBottomRight"?Be({x:s+c-b,y:o+u-f,textAnchor:w,verticalAnchor:h},k):i&&typeof i=="object"&&(ie(i.x)||Wi(i.x))&&(ie(i.y)||Wi(i.y))?Be({x:s+yi(i.x,c),y:o+yi(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Be({x:s+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},jB={offset:5};function Jn(e){var t=Cr(e,jB),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=gB(),f=AE(),h=n==="center"?f:d??f,m=r||h;if(!m||lt(i)&&lt(a)&&!y.isValidElement(s)&&typeof s!="function")return null;var x=Be(Be({},t),{},{viewBox:m});if(y.isValidElement(s)){var b=cB(x,lB);return y.cloneElement(s,b)}var w;if(typeof s=="function"){if(w=y.createElement(s,x),y.isValidElement(w))return w}else w=vB(t);var v=TE(m),g=ct(t,!0);if(v&&(n==="insideStart"||n==="insideEnd"||n==="end"))return xB(t,n,w,g,m);var p=v?bB(m,t.offset,t.position):wB(t,m);return y.createElement(bv,vn({ref:u,className:je("recharts-label",o)},g,p,{breakAll:c}),w)}Jn.displayName="Label";var _B=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Jn,vn({key:"label-implicit"},n)):sn(e)?y.createElement(Jn,vn({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Jn?y.cloneElement(e,Be({key:"label-implicit"},n)):y.createElement(Jn,vn({key:"label-implicit",content:e},n)):wv(e)?y.createElement(Jn,vn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Jn,vn({},e,{key:"label-implicit"},n)):null};function kB(e){var{label:t}=e,r=AE();return _B(t,r)||null}var ME={},IE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(IE);var DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IE,r=DE,n=Td;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(ME);var SB=ME.last;const NB=xi(SB);var EB=["valueAccessor"],CB=["dataKey","clockWise","id","textBreakAll"];function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}function Dw(e,t){if(e==null)return{};var r,n,i=PB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OB=e=>Array.isArray(e.value)?NB(e.value):e.value,$E=y.createContext(void 0),AB=$E.Provider,LE=y.createContext(void 0);LE.Provider;function TB(){return y.useContext($E)}function MB(){return y.useContext(LE)}function zc(e){var{valueAccessor:t=OB}=e,r=Dw(e,EB),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,o=Dw(r,CB),c=TB(),u=MB(),d=c||u;return!d||!d.length?null:y.createElement(Cs,{className:"recharts-label-list"},d.map((f,h)=>{var m,x=lt(n)?t(f,h):It(f&&f.payload,n),b=lt(a)?{}:{id:"".concat(a,"-").concat(h)};return y.createElement(Jn,Ku({},ct(f,!0),o,b,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:x,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}zc.displayName="LabelList";function IB(e){var{label:t}=e;return t?t===!0?y.createElement(zc,{key:"labelList-implicit"}):y.isValidElement(t)||wv(t)?y.createElement(zc,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(zc,Ku({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Sp(){return Sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sp.apply(null,arguments)}var RE=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=je("recharts-dot",i);return t===+t&&r===+r&&n===+n?y.createElement("circle",Sp({},pa(e),Yg(e),{className:a,cx:t,cy:r,r:n})):null},DB={radiusAxis:{},angleAxis:{}},$B=lr({name:"polarAxis",initialState:DB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),LB=$B.reducer;function RB(e){var{fn:t,args:r}=e,n=bt(),i=Er();return y.useEffect(()=>{if(!i){var a=t(r);return n(Jz(a)),()=>{n(Xz(a))}}},[t,r,n,i]),null}var zB=()=>{};function UB(e){var{legendPayload:t}=e,r=bt(),n=Er();return y.useEffect(()=>n?zB:(r(MD(t)),()=>{r(ID(t))}),[r,n,t]),null}var wh,BB=()=>{var[e]=y.useState(()=>Zo("uid-"));return e},FB=(wh=OC.useId)!==null&&wh!==void 0?wh:BB;function WB(e,t){var r=FB();return t||(e?"".concat(e,"-").concat(r):r)}var qB=y.createContext(void 0),VB=e=>{var{id:t,type:r,children:n}=e,i=WB("recharts-".concat(r),t);return y.createElement(qB.Provider,{value:i},n(i))},HB={cartesianItems:[],polarItems:[]},zE=lr({name:"graphicalItems",initialState:HB,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=kn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=kn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=kn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:KB,replaceCartesianGraphicalItem:GB,removeCartesianGraphicalItem:YB,addPolarGraphicalItem:Fq,removePolarGraphicalItem:Wq}=zE.actions,QB=zE.reducer;function JB(e){var t=bt(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(KB(e)):r.current!==e&&t(GB({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(YB(r.current)),r.current=null)},[t]),null}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){XB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XB(e,t,r){return(t=ZB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(e){var t=eF(e,"string");return typeof t=="symbol"?t:t+""}function eF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tF={xAxis:{},yAxis:{},zAxis:{}},UE=lr({name:"cartesianAxis",initialState:tF,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Lw(Lw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:rF,removeXAxis:nF,addYAxis:iF,removeYAxis:aF,addZAxis:qq,removeZAxis:Vq,updateYAxisWidth:sF}=UE.actions,oF=UE.reducer,lF=T([wt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),cF=T([lF,Rn,zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),jv=()=>re(cF),uF=()=>re(BU);function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){dF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dF(e,t,r){return(t=fF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=zw(zw({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ct(i,!1)),Yg(i)),o;return y.isValidElement(i)?o=y.cloneElement(i,s):typeof i=="function"?o=i(s):o=y.createElement(RE,s),y.createElement(Cs,{className:"recharts-active-dot"},o)};function pF(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=re(ll),s=uF();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return lt(o)?null:mF({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var gF={},vF=lr({name:"errorBars",initialState:gF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),yF=vF.reducer,xF=["children"];function bF(e,t){if(e==null)return{};var r,n,i=wF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_F=y.createContext(jF);function kF(e){var{children:t}=e,r=bF(e,xF);return y.createElement(_F.Provider,{value:r},t)}function BE(e,t){var r,n,i=re(u=>Bn(u,e)),a=re(u=>Fn(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Gt.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function SF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=jv(),{needClipX:a,needClipY:s,needClip:o}=BE(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var NF=e=>{var{chartData:t}=e,r=bt(),n=Er();return y.useEffect(()=>n?()=>{}:(r(yw(t)),()=>{r(yw(void 0))}),[t,r,n]),null},Uw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},EF=lr({name:"brush",initialState:Uw,reducers:{setBrushSettings(e,t){return t.payload==null?Uw:t.payload}}}),CF=EF.reducer;function PF(e,t,r){return(t=OF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _v{static create(t){return new _v(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}PF(_v,"EPS",1e-4);function TF(e){return(e%180+180)%180}var MF=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=TF(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},IF={dots:[],areas:[],lines:[]},DF=lr({name:"referenceElements",initialState:IF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),$F=DF.reducer,LF=y.createContext(void 0),RF=e=>{var{children:t}=e,[r]=y.useState("".concat(Zo("recharts"),"-clip")),n=jv();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return y.createElement(LF.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function bs(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function zF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return MF(n,r)}function UF(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Gu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function BF(e,t){return FE(e,t+1)}function FF(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:FE(n,u)};var b=c,w,v=()=>(w===void 0&&(w=r(x,b)),w),g=x.coordinate,p=c===0||Gu(e,g,v,d,o);p||(c=0,d=s,u+=1),p&&(d=g+e*(v()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){WF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WF(e,t,r){return(t=qF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qF(e){var t=VF(e,"string");return typeof t=="symbol"?t:t+""}function VF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HF(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(h){var m=a[h],x,b=()=>(x===void 0&&(x=r(m,h)),x);if(h===s-1){var w=e*(m.coordinate+e*b()/2-c);a[h]=m=kt(kt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[h]=m=kt(kt({},m),{},{tickCoord:m.coordinate});var v=Gu(e,m.tickCoord,b,o,c);v&&(c=m.tickCoord-e*(b()/2+i),a[h]=kt(kt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function KF(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=kt(kt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Gu(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=kt(kt({},d),{},{isShow:!0}))}for(var x=a?o-1:o,b=function(g){var p=s[g],j,S=()=>(j===void 0&&(j=r(p,g)),j);if(g===0){var k=e*(p.coordinate-e*S()/2-c);s[g]=p=kt(kt({},p),{},{tickCoord:k<0?p.coordinate-k*e:p.coordinate})}else s[g]=p=kt(kt({},p),{},{tickCoord:p.coordinate});var _=Gu(e,p.tickCoord,S,c,u);_&&(c=p.tickCoord+e*(S()/2+i),s[g]=kt(kt({},p),{},{isShow:!0}))},w=0;w<x;w++)b(w);return s}function kv(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ie(c)||Ps.isSsr){var h;return(h=BF(i,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?So(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(p,j)=>{var S=typeof u=="function"?u(p.value,j):p.value;return x==="width"?zF(So(S,{fontSize:t,letterSpacing:r}),b,f):So(S,{fontSize:t,letterSpacing:r})[x]},v=i.length>=2?yr(i[1].coordinate-i[0].coordinate):1,g=UF(a,v,x);return c==="equidistantPreserveStart"?FF(v,g,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=KF(v,g,w,i,s,c==="preserveStartEnd"):m=HF(v,g,w,i,s),m.filter(p=>p.isShow))}var GF=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},YF=["axisLine","width","height","className","hide","ticks"],QF=["viewBox"],JF=["viewBox"];function Np(e,t){if(e==null)return{};var r,n,i=XF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(null,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(n){ZF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZF(e,t,r){return(t=e9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e9(e){var t=t9(e,"string");return typeof t=="symbol"?t:t+""}function t9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function r9(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Xe(Xe(Xe({},c),ct(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Xe(Xe({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Xe(Xe({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return y.createElement("line",la({},u,{className:je("recharts-cartesian-axis-line",Cd(o,"className"))}))}function n9(e,t,r,n,i,a,s,o,c){var u,d,f,h,m,x,b=o?-1:1,w=e.tickSize||s,v=ie(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!o*i,f=h-b*w,x=f-b*c,m=v;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-b*w,m=u-b*c,x=v;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+b*w,m=u+b*c,x=v;break;default:u=d=e.coordinate,h=r+ +o*i,f=h+b*w,x=f+b*c,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:x}}}function i9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function a9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function s9(e){var{option:t,tickProps:r,value:n}=e,i,a=je(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,Xe(Xe({},r),{},{className:a}));else if(typeof t=="function")i=t(Xe(Xe({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=je(s,t==null?void 0:t.className)),i=y.createElement(bv,la({},r,{className:s}),n)}return i}function o9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:o,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:x,tickSize:b,tickMargin:w,fontSize:v,letterSpacing:g,getTicksConfig:p,events:j}=e,S=kv(Xe(Xe({},p),{},{ticks:t}),v,g),k=i9(u,d),_=a9(u,d),N=pa(p),E=ct(r,!1),P=Xe(Xe({},N),{},{fill:"none"},ct(n,!1)),O=S.map((M,I)=>{var{line:K,tick:ne}=n9(M,f,h,m,x,u,b,d,w),G=Xe(Xe(Xe(Xe({textAnchor:k,verticalAnchor:_},N),{},{stroke:"none",fill:i},E),ne),{},{index:I,payload:M,visibleTicksCount:S.length,tickFormatter:a,padding:o},c);return y.createElement(Cs,la({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},w_(j,M,I)),n&&y.createElement("line",la({},P,K,{className:je("recharts-cartesian-axis-tick-line",Cd(n,"className"))})),r&&y.createElement(s9,{option:r,tickProps:G,value:"".concat(typeof a=="function"?a(M.value,I):M.value).concat(s||"")}))});return O.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var l9=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o}=e,c=Np(e,YF),[u,d]=y.useState(""),[f,h]=y.useState(""),m=y.useRef([]);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return GF({ticks:m.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=y.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var v=w[0];if(v){var g=window.getComputedStyle(v),p=g.fontSize,j=g.letterSpacing;(p!==u||j!==f)&&(d(p),h(j))}}},[u,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:y.createElement(Cs,{className:je("recharts-cartesian-axis",a),ref:x},y.createElement(r9,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:pa(e)}),y.createElement(o9,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),y.createElement(mB,{x:e.x,y:e.y,width:e.width,height:e.height},y.createElement(kB,{label:e.label}),e.children))}),c9=y.memo(l9,(e,t)=>{var{viewBox:r}=e,n=Np(e,QF),{viewBox:i}=t,a=Np(t,JF);return bs(r,i)&&bs(n,a)}),Nv=y.forwardRef((e,t)=>{var r=Cr(e,Sv);return y.createElement(c9,la({},r,{ref:t}))});Nv.displayName="CartesianAxis";var u9=["x1","y1","x2","y2","key"],d9=["offset"],f9=["xAxisId","yAxisId"],h9=["xAxisId","yAxisId"];function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){m9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m9(e,t,r){return(t=p9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(null,arguments)}function Yu(e,t){if(e==null)return{};var r,n,i=v9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function v9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var y9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return y.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function WE(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=t,c=Yu(t,u9),u=pa(c),d=Yu(u,d9);r=y.createElement("line",Hi({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function x9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Yu(e,f9),s=i.map((o,c)=>{var u=Nt(Nt({},a),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return WE(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function b9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=Yu(e,h9),s=i.map((o,c)=>{var u=Nt(Nt({},a),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return WE(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function w9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],x=m?i+s-f:u[h+1]-f;if(x<=0)return null;var b=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:x,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function j9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],x=m?i+s-f:u[h+1]-f;if(x<=0)return null;var b=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:x,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _9=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Wk(kv(Nt(Nt(Nt({},Sv),r),{},{ticks:qk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},k9=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Wk(kv(Nt(Nt(Nt({},Sv),r),{},{ticks:qk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},S9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function qE(e){var t=b0(),r=w0(),n=Gk(),i=Nt(Nt({},Cr(e,S9)),{},{x:ie(e.x)?e.x:n.left,y:ie(e.y)?e.y:n.top,width:ie(e.width)?e.width:n.width,height:ie(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,x=Er(),b=re(E=>uw(E,"xAxis",a,x)),w=re(E=>uw(E,"yAxis",s,x));if(!ie(u)||u<=0||!ie(d)||d<=0||!ie(o)||o!==+o||!ie(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||_9,g=i.horizontalCoordinatesGenerator||k9,{horizontalPoints:p,verticalPoints:j}=i;if((!p||!p.length)&&typeof g=="function"){var S=h&&h.length,k=g({yAxis:w?Nt(Nt({},w),{},{ticks:S?h:w.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);ko(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(p=k)}if((!j||!j.length)&&typeof v=="function"){var _=m&&m.length,N=v({xAxis:b?Nt(Nt({},b),{},{ticks:_?m:b.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);ko(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(y9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(w9,Hi({},i,{horizontalPoints:p})),y.createElement(j9,Hi({},i,{verticalPoints:j})),y.createElement(x9,Hi({},i,{offset:n,horizontalPoints:p,xAxis:b,yAxis:w})),y.createElement(b9,Hi({},i,{offset:n,verticalPoints:j,xAxis:b,yAxis:w})))}qE.displayName="CartesianGrid";var VE=(e,t,r,n)=>GN(e,"xAxis",t,n),HE=(e,t,r,n)=>KN(e,"xAxis",t,n),KE=(e,t,r,n)=>GN(e,"yAxis",r,n),GE=(e,t,r,n)=>KN(e,"yAxis",r,n),N9=T([Oe,VE,KE,HE,GE],(e,t,r,n,i)=>Ni(e,"xAxis")?rp(t,n,!1):rp(r,i,!1)),E9=(e,t,r,n,i)=>i;function C9(e){return e.type==="line"}var P9=T([gN,E9],(e,t)=>e.filter(C9).find(r=>r.id===t)),O9=T([Oe,VE,KE,HE,GE,P9,N9,K0],(e,t,r,n,i,a,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return X9({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}}),A9=["id"],T9=["type","layout","connectNulls","needClip"],M9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ev(e,t){if(e==null)return{};var r,n,i=L9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ca.apply(null,arguments)}var R9=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Vk(r,t),payload:e}]};function z9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Vk(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var YE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function U9(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var B9=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return YE(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){o=[...r.slice(0,c),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...U9(r,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function F9(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=je("recharts-line-dot",typeof e!="boolean"?e.className:"");r=y.createElement(RE,ca({},t,{className:n}))}return r}function W9(e,t){return e==null?!1:t?!0:e.length===1}function q9(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!W9(r,i))return null;var o=Ev(n,A9),c=__(i),u=pa(o),d=ct(i,!0),f=r.map((m,x)=>{var b=Jt(Jt(Jt({key:"dot-".concat(x),r:3},u),d),{},{index:x,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:r});return F9(i,b)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return y.createElement(Cs,ca({className:"recharts-line-dots",key:"dots"},h),f)}function V9(e){var{showLabels:t,children:r,points:n}=e,i=y.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Jt(Jt({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(AB,{value:t?i:null},r)}function Vw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:c,needClip:u}=a,d=Ev(a,T9),f=Jt(Jt({},ct(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return y.createElement(y.Fragment,null,(n==null?void 0:n.length)>1&&y.createElement(Jk,ca({},f,{pathRef:r})),y.createElement(q9,{points:n,clipPathId:t,props:a}))}function H9(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function K9(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:x,onAnimationEnd:b,onAnimationStart:w}=r,v=i.current,g=rS(r,"recharts-line-"),[p,j]=y.useState(!1),S=!p,k=y.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),_=y.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),N=H9(n.current),E=a.current;return y.createElement(V9,{points:s,showLabels:S},r.children,y.createElement(tS,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:_,key:g},P=>{var O=pn(E,N+E,P),M=Math.min(O,N),I;if(c)if(o){var K="".concat(o).split(/[,\s]+/gim).map(H=>parseFloat(H));I=B9(M,N,K)}else I=YE(N,M);else I=o==null?void 0:String(o);if(v){var ne=v.length/s.length,G=P===1?s:s.map((H,F)=>{var C=Math.floor(F*ne);if(v[C]){var $=v[C];return Jt(Jt({},H),{},{x:pn($.x,H.x,P),y:pn($.y,H.y,P)})}return h?Jt(Jt({},H),{},{x:pn(m*2,H.x,P),y:pn(x/2,H.y,P)}):Jt(Jt({},H),{},{x:H.x,y:H.y})});return i.current=G,y.createElement(Vw,{props:r,points:G,clipPathId:t,pathRef:n,strokeDasharray:I})}return P>0&&N>0&&(i.current=s,a.current=M),y.createElement(Vw,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:I})}),y.createElement(IB,{label:r.label}))}function G9(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),i=y.useRef(0),a=y.useRef(null);return y.createElement(K9,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var Y9=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:It(e.payload,t)});class Q9 extends y.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var x=je("recharts-line",a),b=h,{r:w=3,strokeWidth:v=2}=(t=ct(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=__(n),p=w*2+v;return y.createElement(y.Fragment,null,y.createElement(Cs,{className:x},m&&y.createElement("defs",null,y.createElement(SF,{clipPathId:b,xAxisId:s,yAxisId:o}),!g&&y.createElement("clipPath",{id:"clipPath-dots-".concat(b)},y.createElement("rect",{x:u-p/2,y:c-p/2,width:d+p,height:f+p}))),y.createElement(kF,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:Y9,errorBarOffset:0},y.createElement(G9,{props:this.props,clipPathId:b}))),y.createElement(pF,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var QE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ps.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function J9(e){var t=Cr(e,QE),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:x,id:b}=t,w=Ev(t,M9),{needClip:v}=BE(m,x),g=jv(),p=j0(),j=Er(),S=re(P=>O9(P,m,x,j,b));if(p!=="horizontal"&&p!=="vertical"||S==null||g==null)return null;var{height:k,width:_,x:N,y:E}=g;return y.createElement(Q9,ca({},w,{id:b,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:x,points:S,layout:p,height:k,width:_,left:N,top:E,needClip:v}))}function X9(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=It(u,s);if(t==="horizontal"){var h=Jx({axis:r,ticks:i,bandSize:o,entry:u,index:d}),m=lt(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var x=lt(f)?null:r.scale(f),b=Jx({axis:n,ticks:a,bandSize:o,entry:u,index:d});return x==null||b==null?null:{x,y:b,value:f,payload:u}}).filter(Boolean)}function Z9(e){var t=Cr(e,QE),r=Er();return y.createElement(VB,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(UB,{legendPayload:R9(t)}),y.createElement(RB,{fn:z9,args:t}),y.createElement(JB,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(J9,ca({},t,{id:n}))))}var co=y.memo(Z9);co.displayName="Line";var eW=["dangerouslySetInnerHTML","ticks"],tW=["id"],rW=["domain"],nW=["domain"];function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ep.apply(null,arguments)}function Qu(e,t){if(e==null)return{};var r,n,i=iW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aW(e){var t=bt();return y.useEffect(()=>(t(rF(e)),()=>{t(nF(e))}),[e,t]),null}var sW=e=>{var{xAxisId:t,className:r}=e,n=re(Kk),i=Er(),a="xAxis",s=re(m=>Ds(m,a,t,i)),o=re(m=>HN(m,a,t,i)),c=re(m=>Iz(m,t)),u=re(m=>Uz(m,t)),d=re(m=>fN(m,t));if(c==null||u==null||d==null)return null;var f=Qu(e,eW),h=Qu(d,tW);return y.createElement(Nv,Ep({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:je("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},oW={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,height:Kt.height,hide:!1,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tickCount:Kt.tickCount,type:Kt.type,xAxisId:0},lW=e=>{var t,r,n,i,a,s=Cr(e,oW);return y.createElement(y.Fragment,null,y.createElement(aW,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(sW,s))},cW=(e,t)=>{var{domain:r}=e,n=Qu(e,rW),{domain:i}=t,a=Qu(t,nW);return bs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:bs({domain:r},{domain:i}):!1},JE=y.memo(lW,cW);JE.displayName="XAxis";var uW=["dangerouslySetInnerHTML","ticks"],dW=["id"],fW=["domain"],hW=["domain"];function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(null,arguments)}function Ju(e,t){if(e==null)return{};var r,n,i=mW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pW(e){var t=bt();return y.useEffect(()=>(t(iF(e)),()=>{t(aF(e))}),[e,t]),null}var gW=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=y.useRef(null),s=y.useRef(null),o=re(Kk),c=Er(),u=bt(),d="yAxis",f=re(g=>Ds(g,d,t,c)),h=re(g=>Wz(g,t)),m=re(g=>Fz(g,t)),x=re(g=>HN(g,d,t,c)),b=re(g=>hN(g,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!h||wv(i)||y.isValidElement(i)||b==null)){var g=a.current;if(g){var p=g.getCalculatedWidth();Math.round(h.width)!==Math.round(p)&&u(sF({id:t,width:p}))}}},[x,h,u,i,t,n,b]),h==null||m==null||b==null)return null;var w=Ju(e,uW),v=Ju(b,dW);return y.createElement(Nv,Cp({},w,v,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:je("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:x}))},vW={allowDataOverflow:Gt.allowDataOverflow,allowDecimals:Gt.allowDecimals,allowDuplicatedCategory:Gt.allowDuplicatedCategory,hide:!1,mirror:Gt.mirror,orientation:Gt.orientation,padding:Gt.padding,reversed:Gt.reversed,scale:Gt.scale,tickCount:Gt.tickCount,type:Gt.type,width:Gt.width,yAxisId:0},yW=e=>{var t,r,n,i,a,s=Cr(e,vW);return y.createElement(y.Fragment,null,y.createElement(pW,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),y.createElement(gW,s))},xW=(e,t)=>{var{domain:r}=e,n=Ju(e,fW),{domain:i}=t,a=Ju(t,hW);return bs(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:bs({domain:r},{domain:i}):!1},XE=y.memo(yW,xW);XE.displayName="YAxis";var bW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=y;function wW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jW=typeof Object.is=="function"?Object.is:wW,_W=Ll.useSyncExternalStore,kW=Ll.useRef,SW=Ll.useEffect,NW=Ll.useMemo,EW=Ll.useDebugValue;bW.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=kW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=NW(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var x=s.value;if(i(x,m))return f=x}return f=m}if(x=f,jW(d,m))return x;var b=n(m);return i!==void 0&&i(x,b)?(d=m,x):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var o=_W(e,a[0],a[1]);return SW(function(){s.hasValue=!0,s.value=o},[o]),EW(o),o};function CW(e){e()}function PW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){CW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Hw={notify(){},get:()=>[]};function OW(e,t){let r,n=Hw,i=0,a=!1;function s(b){d();const w=n.subscribe(b);let v=!1;return()=>{v||(v=!0,w(),f())}}function o(){n.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=PW())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Hw)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const x={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return x}var AW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TW=AW(),MW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",IW=MW(),DW=()=>TW||IW?y.useLayoutEffect:y.useEffect,$W=DW(),jh=Symbol.for("react-redux-context"),_h=typeof globalThis<"u"?globalThis:{};function LW(){if(!y.createContext)return{};const e=_h[jh]??(_h[jh]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var RW=LW();function zW(e){const{children:t,context:r,serverState:n,store:i}=e,a=y.useMemo(()=>{const c=OW(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=y.useMemo(()=>i.getState(),[i]);$W(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||RW;return y.createElement(o.Provider,{value:a},t)}var UW=zW,BW=(e,t)=>t,Cv=T([BW,Oe,lN,rt,lE,Wn,GU,wt],ZU),Pv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ZE=Sr("mouseClick"),eC=Sl();eC.startListening({actionCreator:ZE,effect:(e,t)=>{var r=e.payload,n=Cv(t.getState(),Pv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(tU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Pp=Sr("mouseMove"),tC=Sl();tC.startListening({actionCreator:Pp,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=dv(n,n.tooltip.settings.shared),a=Cv(n,Pv(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(tE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(eE()))}});var Kw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rC=lr({name:"rootProps",initialState:Kw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Kw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),FW=rC.reducer,{updateOptions:WW}=rC.actions,qW=lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),VW=qW.reducer,nC=Sr("keyDown"),iC=Sr("focus"),Ov=Sl();Ov.startListening({actionCreator:nC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(fv(i,Ls(r))),o=Wn(r);if(a==="Enter"){var c=Hu(r,"axis","hover",String(i.index));t.dispatch(wp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=Kz(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var m=Hu(r,"axis","hover",String(h));t.dispatch(wp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Ov.startListening({actionCreator:iC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Hu(r,"axis","hover",String(a));t.dispatch(wp({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var hr=Sr("externalEvent"),aC=Sl();aC.startListening({actionCreator:hr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:RU(r),activeDataKey:$U(r),activeIndex:ll(r),activeLabel:dE(r),activeTooltipIndex:ll(r),isTooltipActive:zU(r)};e.payload.handler(n,e.payload.reactEvent)}}});var HW=T([$s],e=>e.tooltipItemPayloads),KW=T([HW,Dl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),sC=Sr("touchMove"),oC=Sl();oC.startListening({actionCreator:sC,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=dv(n,n.tooltip.settings.shared);if(i==="axis"){var a=Cv(n,Pv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(tE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(vD),d=(s=c.getAttribute(yD))!==null&&s!==void 0?s:void 0,f=KW(t.getState(),u,d);t.dispatch(eU({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var GW=xk({brush:CF,cartesianAxis:oF,chartData:p7,errorBars:yF,graphicalItems:QB,layout:WI,legend:DD,options:u7,polarAxis:LB,polarOptions:VW,referenceElements:$F,rootProps:FW,tooltip:rU}),YW=function(t){return mI({reducer:GW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([eC.middleware,tC.middleware,Ov.middleware,aC.middleware,oC.middleware]),devTools:Ps.devToolsEnabled})};function QW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Er(),a=y.useRef(null);if(i)return r;a.current==null&&(a.current=YW(t));var s=d0;return y.createElement(UW,{context:s,store:a.current},r)}function JW(e){var{layout:t,width:r,height:n,margin:i}=e,a=bt(),s=Er();return y.useEffect(()=>{s||(a(UI(t)),a(BI({width:r,height:n})),a(zI(i)))},[a,s,t,r,n,i]),null}function XW(e){var t=bt();return y.useEffect(()=>{t(WW(e))},[t,e]),null}var ZW=["children"];function eq(e,t){if(e==null)return{};var r,n,i=tq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(null,arguments)}var rq={width:"100%",height:"100%"},nq=y.forwardRef((e,t)=>{var r=b0(),n=w0(),i=Qk();if(!Ou(r)||!Ou(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0,y.createElement(Qg,Xu({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:rq,ref:t}),a)}),iq=e=>{var{children:t}=e,r=re(Wd);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return y.createElement(Qg,{width:n,height:i,x:s,y:a},t)},Gw=y.forwardRef((e,t)=>{var{children:r}=e,n=eq(e,ZW),i=Er();return i?y.createElement(iq,null,r):y.createElement(nq,Xu({ref:t},n),r)});function aq(){var e=bt(),[t,r]=y.useState(null),n=re(gD);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Vr(a)&&a!==n&&e(FI(a))}},[t,e,n]),r}function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=cq(e,"string");return typeof t=="symbol"?t:t+""}function cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uq=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:x,onTouchStart:b,style:w,width:v}=e,g=bt(),[p,j]=y.useState(null),[S,k]=y.useState(null);k7();var _=aq(),N=y.useCallback(R=>{_(R),typeof t=="function"&&t(R),j(R),k(R)},[_,t,j,k]),E=y.useCallback(R=>{g(ZE(R)),g(hr({handler:a,reactEvent:R}))},[g,a]),P=y.useCallback(R=>{g(Pp(R)),g(hr({handler:u,reactEvent:R}))},[g,u]),O=y.useCallback(R=>{g(eE()),g(hr({handler:d,reactEvent:R}))},[g,d]),M=y.useCallback(R=>{g(Pp(R)),g(hr({handler:f,reactEvent:R}))},[g,f]),I=y.useCallback(()=>{g(iC())},[g]),K=y.useCallback(R=>{g(nC(R.key))},[g]),ne=y.useCallback(R=>{g(hr({handler:s,reactEvent:R}))},[g,s]),G=y.useCallback(R=>{g(hr({handler:o,reactEvent:R}))},[g,o]),H=y.useCallback(R=>{g(hr({handler:c,reactEvent:R}))},[g,c]),F=y.useCallback(R=>{g(hr({handler:h,reactEvent:R}))},[g,h]),C=y.useCallback(R=>{g(hr({handler:b,reactEvent:R}))},[g,b]),$=y.useCallback(R=>{g(sC(R)),g(hr({handler:x,reactEvent:R}))},[g,x]),V=y.useCallback(R=>{g(hr({handler:m,reactEvent:R}))},[g,m]);return y.createElement(vE.Provider,{value:p},y.createElement(k_.Provider,{value:S},y.createElement("div",{className:je("recharts-wrapper",n),style:sq({position:"relative",cursor:"default",width:v,height:i},w),onClick:E,onContextMenu:ne,onDoubleClick:G,onFocus:I,onKeyDown:K,onMouseDown:H,onMouseEnter:P,onMouseLeave:O,onMouseMove:M,onMouseUp:F,onTouchEnd:V,onTouchMove:$,onTouchStart:C,ref:N},r)))}),dq=["children","className","width","height","style","compact","title","desc"];function fq(e,t){if(e==null)return{};var r,n,i=hq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mq=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:c,desc:u}=e,d=fq(e,dq),f=pa(d);return o?y.createElement(Gw,{otherAttributes:f,title:c,desc:u},r):y.createElement(uq,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(Gw,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(RF,null,r)))}),pq=["width","height"];function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(null,arguments)}function gq(e,t){if(e==null)return{};var r,n,i=vq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yq={top:5,right:5,bottom:5,left:5},xq={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yq,reverseStackOrder:!1,syncMethod:"index"},bq=y.forwardRef(function(t,r){var n,i=Cr(t.categoricalChartProps,xq),{width:a,height:s}=i,o=gq(i,pq);if(!Ou(a)||!Ou(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(QW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(NF,{chartData:h.data}),y.createElement(JW,{width:a,height:s,layout:i.layout,margin:i.margin}),y.createElement(XW,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(mq,Op({},o,{width:a,height:s,ref:r})))}),wq=["axis"],jq=y.forwardRef((e,t)=>y.createElement(bq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:wq,tooltipPayloadSearcher:l7,categoricalChartProps:e,ref:t}));const _q=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const i=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],a=o=>new Date(o).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(o,c)=>[o,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Évolution des visites"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accès"})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[l.jsx(Lr,{className:"w-4 h-4 text-gray-500"}),l.jsx("select",{value:r,onChange:o=>n(o.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:i.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),l.jsx("div",{className:"h-80",children:t?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"text-gray-500",children:"Chargement des données..."})}):e.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:"📊"}),l.jsx("div",{className:"text-gray-500",children:"Aucune donnée disponible"})]})}):l.jsx(R7,{width:"100%",height:"100%",children:l.jsxs(jq,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx(qE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),l.jsx(JE,{dataKey:"date",tickFormatter:a,stroke:"#666",fontSize:12}),l.jsx(XE,{stroke:"#666",fontSize:12}),l.jsx(T7,{formatter:s,labelFormatter:o=>`Date: ${a(o)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),l.jsx(qd,{}),l.jsx(co,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),l.jsx(co,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),l.jsx(co,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),l.jsx(co,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((o,c)=>o+c.qr_scan,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((o,c)=>o+c.gmb,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((o,c)=>o+c.direct_link,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((o,c)=>o+c.share,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},kq=()=>{const{user:e}=sr(),[t,r]=y.useState("7"),[n,i]=y.useState([]),[a,s]=y.useState(!0),[o,c]=y.useState([{icon:Qa,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:lx,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:Fr,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:ux,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=y.useState(!0),[f,h]=y.useState(0),[m,x]=y.useState(""),[b,w]=y.useState(""),[v,g]=y.useState(""),p=y.useRef(null);y.useEffect(()=>{if(e){const _=Date.now();_-f>5e3&&(h(_),S(),j(),k())}},[e,t,f]),y.useEffect(()=>{const _=()=>{if(!document.hidden&&e){const N=Date.now();N-f>3e4&&(h(N),S(),j())}};return document.addEventListener("visibilitychange",_),()=>document.removeEventListener("visibilitychange",_)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:_,error:N}=await U.from("menus").select("id").eq("user_id",e.id);if(N||!_||_.length===0){i([]);return}const E=_.map(G=>G.id),P=new Date,O=new Date;O.setDate(O.getDate()-parseInt(t));const{data:M,error:I}=await U.from("menu_analytics").select("visit_type, visited_at").in("menu_id",E).gte("visited_at",O.toISOString()).lte("visited_at",P.toISOString()).order("visited_at",{ascending:!0});if(I){i([]);return}const K={};for(let G=new Date(O);G<=P;G.setDate(G.getDate()+1)){const H=G.toISOString().split("T")[0];K[H]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}M==null||M.forEach(G=>{const H=G.visited_at.split("T")[0];K[H]&&(K[H][G.visit_type]++,K[H].total++)});const ne=Object.entries(K).map(([G,H])=>({date:G,qr_scan:H.qr_scan,gmb:H.gmb,direct_link:H.direct_link,share:H.share,total:H.total})).sort((G,H)=>new Date(G.date).getTime()-new Date(H.date).getTime());i(ne)}catch(_){console.error("Error loading trend data:",_),i([])}finally{s(!1)}}},S=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:_,error:N}=await U.from("menus").select("id").eq("user_id",e.id);if(N||!_||_.length===0){c(Ct=>Ct.map(Y=>({...Y,value:"0",change:"Aucune donnée"}))),d(!1);return}const E=_.map(Ct=>Ct.id),P=new Date,O=new Date(P.getFullYear(),P.getMonth(),P.getDate()),M=new Date(O);M.setDate(M.getDate()-7);const I=[U.from("menu_analytics").select("id").in("menu_id",E),U.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","qr_scan"),U.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","gmb"),U.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","qr_scan").gte("visited_at",O.toISOString()),U.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","gmb").gte("visited_at",O.toISOString()),U.from("menu_analytics").select("id").in("menu_id",E).gte("visited_at",M.toISOString())],K=await Promise.allSettled(I),ne=K[0].status==="fulfilled"?K[0].value.data:[],G=K[1].status==="fulfilled"?K[1].value.data:[],H=K[2].status==="fulfilled"?K[2].value.data:[],F=K[3].status==="fulfilled"?K[3].value.data:[],C=K[4].status==="fulfilled"?K[4].value.data:[],$=K[5].status==="fulfilled"?K[5].value.data:[],V=(ne==null?void 0:ne.length)||0,R=(G==null?void 0:G.length)||0,oe=(H==null?void 0:H.length)||0,fe=(F==null?void 0:F.length)||0,ce=(C==null?void 0:C.length)||0,ze=($==null?void 0:$.length)||0,ve=V-R-oe;c([{icon:Qa,label:"Scans QR Code",value:R.toString(),change:fe>0?`+${fe} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:lx,label:"Visites GMB",value:oe.toString(),change:ce>0?`+${ce} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:Fr,label:"Vues directes",value:ve.toString(),change:ve>0?`${ve} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:ux,label:"Total des vues",value:V.toString(),change:`${R} QR + ${oe} GMB + ${ve} directes`,color:"text-purple-600"}])}catch(_){console.error("Error loading stats:",_),c(N=>N.map(E=>({...E,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},k=async()=>{if(e)try{const{data:_,error:N}=await U.from("menus").select("nom, slug").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(N||!_)return;const{data:E}=await U.from("restaurant_profiles").select("name").eq("user_id",e.id).maybeSingle(),P=(E==null?void 0:E.name)||_.nom||"Mon Restaurant",O=_.slug||_.nom;w(P),g(O);const M=`${window.location.origin}/menu/${O}?source=qr_scan`;if(p.current){await ki.toCanvas(p.current,M,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const I=p.current.toDataURL();x(I)}}catch(_){console.error("Error loading QR code:",_)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),l.jsx("p",{className:"text-gray-600",children:"Gérez facilement votre menu en ligne et offrez une expérience moderne à vos clients."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((_,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:_.label}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.value}),l.jsx("p",{className:`text-xs ${_.color} mt-1`,children:_.change})]}),l.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:l.jsx(_.icon,{size:24,className:_.color})})]})},N))})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[l.jsx("canvas",{ref:p,style:{display:"none"}}),m?l.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):l.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:l.jsx(Qa,{size:48,className:"text-gray-400"})})]})})})]}),l.jsx(_q,{data:n,loading:a,timeRange:t,onTimeRangeChange:r})]})},Sq=()=>{const{user:e}=sr(),[t,r]=y.useState(null),[n,i]=y.useState([]),[a,s]=y.useState(!0),[o,c]=y.useState(""),[u,d]=y.useState("all"),[f,h]=y.useState(null),[m,x]=y.useState("month"),[b,w]=y.useState(new Date);y.useEffect(()=>{e&&v()},[e]),y.useEffect(()=>{t&&g()},[t]);const v=async()=>{try{const{data:C,error:$}=await U.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if($){console.error("Erreur lors du chargement du menu:",$);return}r(C)}catch(C){console.error("Erreur lors du chargement du menu:",C)}},g=async()=>{if(t){s(!0);try{const{data:C,error:$}=await U.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if($){console.error("Erreur lors du chargement des réservations:",$);return}i(C||[])}catch(C){console.error("Erreur lors du chargement des réservations:",C)}finally{s(!1)}}},p=(C,$)=>{h({type:C,text:$}),setTimeout(()=>h(null),5e3)},j=async(C,$)=>{try{const{error:V}=await U.from("reservations").update({status:$,updated_at:new Date().toISOString()}).eq("id",C);if(V)throw V;i(oe=>oe.map(fe=>fe.id===C?{...fe,status:$}:fe)),p("success",`Réservation ${{confirmed:"confirmée",cancelled:"annulée",completed:"terminée",pending:"en attente"}[$]} avec succès`)}catch(V){console.error("Erreur lors de la mise à jour:",V),p("error","Erreur lors de la mise à jour")}},S=n.filter(C=>{const $=C.customer_name.toLowerCase().includes(o.toLowerCase())||C.customer_email.toLowerCase().includes(o.toLowerCase())||C.customer_phone.includes(o),V=u==="all"||C.status===u;return $&&V}),k=C=>{switch(C){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},_=C=>{switch(C){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},N=C=>{switch(C){case"pending":return"En attente";case"confirmed":return"Confirmée";case"cancelled":return"Annulée";case"completed":return"Terminée";default:return C}},E=C=>new Date(C).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),P=C=>C.slice(0,5),O=C=>{const $=C.toISOString().split("T")[0];return S.filter(V=>V.reservation_date===$)},M=C=>{const $=C.getFullYear(),V=C.getMonth(),R=new Date($,V,1),oe=new Date(R);oe.setDate(oe.getDate()-R.getDay());const fe=[],ce=new Date(oe);for(let ze=0;ze<42;ze++)fe.push(new Date(ce)),ce.setDate(ce.getDate()+1);return fe},I=C=>{const $=new Date(C);$.setDate(C.getDate()-C.getDay());const V=[];for(let R=0;R<7;R++){const oe=new Date($);oe.setDate($.getDate()+R),V.push(oe)}return V},K=C=>{const $=new Date(b);switch(m){case"day":$.setDate($.getDate()+(C==="next"?1:-1));break;case"week":$.setDate($.getDate()+(C==="next"?7:-7));break;case"month":$.setMonth($.getMonth()+(C==="next"?1:-1));break}w($)},ne=()=>{let C="";switch(m){case"day":C=b.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const $=new Date(b);$.setDate(b.getDate()-b.getDay());const V=new Date($);V.setDate($.getDate()+6),C=`${$.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${V.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":C=b.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>K("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(I2,{size:20})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:C}),l.jsx("button",{onClick:()=>K("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(Ag,{size:20})})]})},G=()=>{const C=O(b),$=Array.from({length:14},(V,R)=>`${(R+8).toString().padStart(2,"0")}:00`);return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ne(),l.jsx("div",{className:"space-y-2",children:$.map(V=>{const R=C.filter(oe=>oe.reservation_time.startsWith(V.split(":")[0]));return l.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[l.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:V}),l.jsx("div",{className:"flex-1 ml-4",children:R.length>0?l.jsx("div",{className:"space-y-1",children:R.map(oe=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${k(oe.status)}`}),l.jsx("span",{className:"text-sm font-medium",children:oe.customer_name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",oe.party_size," pers.)"]}),l.jsx("span",{className:"text-xs text-gray-500",children:P(oe.reservation_time)})]},oe.id))}):l.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},V)})})]})},H=()=>{const C=I(b),$=Array.from({length:14},(V,R)=>`${(R+8).toString().padStart(2,"0")}:00`);return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ne(),l.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[l.jsx("div",{className:"font-medium text-gray-600 p-2"}),C.map(V=>l.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[l.jsx("div",{children:V.toLocaleDateString("fr-FR",{weekday:"short"})}),l.jsx("div",{className:"text-lg",children:V.getDate()})]},V.toISOString())),$.map(V=>l.jsxs(s1.Fragment,{children:[l.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:V}),C.map(R=>{const oe=O(R).filter(fe=>fe.reservation_time.startsWith(V.split(":")[0]));return l.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:oe.map(fe=>l.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${k(fe.status)}`,children:[l.jsx("div",{className:"font-medium truncate",children:fe.customer_name}),l.jsxs("div",{children:[fe.party_size,"p ",P(fe.reservation_time)]})]},fe.id))},`${R.toISOString()}-${V}`)})]},V))]})]})},F=()=>{const C=M(b),$=b.getMonth();return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ne(),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(V=>l.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:V},V))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:C.map(V=>{const R=V.getMonth()===$,oe=O(V),fe=V.toDateString()===new Date().toDateString();return l.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${R?"bg-white":"bg-gray-50"} ${fe?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:`text-sm font-medium mb-1 ${R?"text-gray-900":"text-gray-400"}`,children:V.getDate()}),l.jsxs("div",{className:"space-y-1",children:[oe.slice(0,3).map(ce=>l.jsxs("div",{className:`text-xs p-1 rounded text-white ${k(ce.status)}`,children:[l.jsx("div",{className:"font-medium truncate",children:ce.customer_name}),l.jsx("div",{children:P(ce.reservation_time)})]},ce.id)),oe.length>3&&l.jsxs("div",{className:"text-xs text-gray-500",children:["+",oe.length-3," autres"]})]})]},V.toISOString())})})]})};return a&&!t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?l.jsxs("div",{className:"space-y-6",children:[f&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(Ve,{className:"w-5 h-5"}):l.jsx(We,{className:"w-5 h-5"}),l.jsx("span",{children:f.text})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des réservations"}),l.jsx("p",{className:"text-gray-600",children:"Gérez les réservations de table de votre restaurant"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[l.jsx(D2,{size:16}),l.jsx("span",{children:"Voir le menu"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),l.jsx(Lr,{className:"w-8 h-8 text-gray-400"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(C=>C.status==="pending").length})]}),l.jsx(qo,{className:"w-8 h-8 text-orange-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmées"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(C=>C.status==="confirmed").length})]}),l.jsx(Ve,{className:"w-8 h-8 text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(C=>{const $=new Date(C.reservation_date),V=new Date,R=new Date(V);return R.setDate(V.getDate()+7),$>=V&&$<=R}).length})]}),l.jsx(dx,{className:"w-8 h-8 text-blue-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>x("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Pm,{size:16}),l.jsx("span",{children:"Liste"})]}),l.jsxs("button",{onClick:()=>x("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(dM,{size:16}),l.jsx("span",{children:"Jour"})]}),l.jsxs("button",{onClick:()=>x("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(vM,{size:16}),l.jsx("span",{children:"Semaine"})]}),l.jsxs("button",{onClick:()=>x("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Lr,{size:16}),l.jsx("span",{children:"Mois"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(NM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Rechercher...",value:o,onChange:C=>c(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),l.jsx("div",{className:"sm:w-48",children:l.jsxs("div",{className:"relative",children:[l.jsx(gM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsxs("select",{value:u,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[l.jsx("option",{value:"all",children:"Tous les statuts"}),l.jsx("option",{value:"pending",children:"En attente"}),l.jsx("option",{value:"confirmed",children:"Confirmées"}),l.jsx("option",{value:"cancelled",children:"Annulées"}),l.jsx("option",{value:"completed",children:"Terminées"})]})]})})]})]})}),m!=="list"&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Légende des couleurs"}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Confirmée"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Annulée"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Terminée"})]})]})]}),m==="day"&&G(),m==="week"&&H(),m==="month"&&F(),m==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement des réservations..."})}):S.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Lr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune réservation":"Aucun résultat"}),l.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des réservations via votre menu en ligne.":"Aucune réservation ne correspond à vos critères de recherche."}),n.length===0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",l.jsx("strong",{children:"Comment ça marche :"}),' Un bouton "Réserver une table" sera automatiquement ajouté à votre menu en ligne. Les clients pourront faire des réservations directement depuis votre menu.']})})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:S.map(C=>l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.customer_name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(C.status)}`,children:N(C.status)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Lr,{className:"w-4 h-4"}),l.jsx("span",{children:E(C.reservation_date)})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(qo,{className:"w-4 h-4"}),l.jsx("span",{children:P(C.reservation_time)})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(dx,{className:"w-4 h-4"}),l.jsxs("span",{children:[C.party_size," personne",C.party_size>1?"s":""]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(nn,{className:"w-4 h-4"}),l.jsx("span",{children:C.customer_phone})]})]}),C.customer_email&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[l.jsx(Om,{className:"w-4 h-4"}),l.jsx("span",{children:C.customer_email})]}),C.special_requests&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spéciales :"}),l.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:C.special_requests})]})]}),C.status==="pending"&&l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>j(C.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[l.jsx(Ve,{size:14}),l.jsx("span",{children:"Confirmer"})]}),l.jsxs("button",{onClick:()=>j(C.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[l.jsx(We,{size:14}),l.jsx("span",{children:"Annuler"})]})]}),C.status==="confirmed"&&l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>j(C.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[l.jsx(Ve,{size:14}),l.jsx("span",{children:"Terminer"})]}),l.jsxs("button",{onClick:()=>j(C.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[l.jsx(We,{size:14}),l.jsx("span",{children:"Annuler"})]})]})]})},C.id))})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Lr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir gérer les réservations."}),l.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})};function Nq(){const{loading:e,user:t}=sr();return e?l.jsx(ma,{fullScreen:!0}):l.jsx(F4,{children:l.jsxs(y4,{children:[l.jsx(ht,{path:"/onboarding",element:l.jsx(e3,{})}),l.jsx(ht,{path:"/reset-password",element:l.jsx(r3,{})}),l.jsx(ht,{path:"/m/:slug",element:l.jsx(J3,{})}),l.jsx(ht,{path:"/m/:slug/:menuSlug",element:l.jsx(X3,{})}),l.jsx(ht,{path:"/m/:slug/reservation",element:l.jsx(Z3,{})}),l.jsx(ht,{path:"/m/:slug/contact",element:l.jsx(e6,{})}),l.jsx(ht,{path:"/",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"accueil",children:l.jsx(kq,{})})})}),l.jsx(ht,{path:"/mes-menus",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"mes-menus",children:l.jsx(s3,{})})})}),l.jsx(ht,{path:"/mon-menu/nouveau",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"mes-menus",children:l.jsx(yx,{})})})}),l.jsx(ht,{path:"/mon-menu/:menuId",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"mes-menus",children:l.jsx(yx,{})})})}),l.jsx(ht,{path:"/categories/:menuId",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"mes-menus",children:l.jsx(a3,{})})})}),l.jsx(ht,{path:"/import-ai/:menuId",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"mes-menus",children:l.jsx(o3,{})})})}),l.jsx(ht,{path:"/identite-visuelle",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"identite-visuelle",children:l.jsx(t6,{})})})}),l.jsx(ht,{path:"/qr-code",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"qr-code",children:l.jsx(Y3,{})})})}),l.jsx(ht,{path:"/account-settings",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"account-settings",children:l.jsx(t3,{})})})}),l.jsx(ht,{path:"/reservations",element:l.jsx(Qr,{children:l.jsx(Tr,{currentPage:"reservations",children:l.jsx(Sq,{})})})})]})})}c2(document.getElementById("root")).render(l.jsx(y.StrictMode,{children:l.jsx(CM,{children:l.jsx(aM,{children:l.jsx(Nq,{})})})}));
