var pC=Object.defineProperty;var gC=(e,t,r)=>t in e?pC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var xf=(e,t,r)=>gC(e,typeof t!="symbol"?t+"":t,r);function vC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var t1={exports:{}},od={},r1={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),xC=Symbol.for("react.portal"),bC=Symbol.for("react.fragment"),wC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),_C=Symbol.for("react.provider"),kC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),EC=Symbol.for("react.memo"),CC=Symbol.for("react.lazy"),Bv=Symbol.iterator;function PC(e){return e===null||typeof e!="object"?null:(e=Bv&&e[Bv]||e["@@iterator"],typeof e=="function"?e:null)}var n1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i1=Object.assign,a1={};function Cs(e,t,r){this.props=e,this.context=t,this.refs=a1,this.updater=r||n1}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s1(){}s1.prototype=Cs.prototype;function Fp(e,t,r){this.props=e,this.context=t,this.refs=a1,this.updater=r||n1}var Wp=Fp.prototype=new s1;Wp.constructor=Fp;i1(Wp,Cs.prototype);Wp.isPureReactComponent=!0;var Fv=Array.isArray,o1=Object.prototype.hasOwnProperty,qp={current:null},l1={key:!0,ref:!0,__self:!0,__source:!0};function c1(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)o1.call(t,n)&&!l1.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:vl,type:e,key:a,ref:s,props:i,_owner:qp.current}}function OC(e,t){return{$$typeof:vl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vp(e){return typeof e=="object"&&e!==null&&e.$$typeof===vl}function AC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Wv=/\/+/g;function bf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AC(""+e.key):t.toString(36)}function Tc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vl:case xC:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+bf(s,0):n,Fv(i)?(r="",e!=null&&(r=e.replace(Wv,"$&/")+"/"),Tc(i,t,r,"",function(u){return u})):i!=null&&(Vp(i)&&(i=OC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Fv(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+bf(a,l);s+=Tc(a,t,r,c,i)}else if(c=PC(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+bf(a,l++),s+=Tc(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Kl(e,t,r){if(e==null)return e;var n=[],i=0;return Tc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function TC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},Mc={transition:null},MC={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:qp};function u1(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Kl,forEach:function(e,t,r){Kl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Kl(e,function(){t++}),t},toArray:function(e){return Kl(e,function(t){return t})||[]},only:function(e){if(!Vp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Cs;he.Fragment=bC;he.Profiler=jC;he.PureComponent=Fp;he.StrictMode=wC;he.Suspense=SC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;he.act=u1;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=i1({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=qp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)o1.call(t,c)&&!l1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vl,type:e.type,key:i,ref:a,props:n,_owner:s}};he.createContext=function(e){return e={$$typeof:kC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_C,_context:e},e.Consumer=e};he.createElement=c1;he.createFactory=function(e){var t=c1.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:NC,render:e}};he.isValidElement=Vp;he.lazy=function(e){return{$$typeof:CC,_payload:{_status:-1,_result:e},_init:TC}};he.memo=function(e,t){return{$$typeof:EC,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Mc.transition;Mc.transition={};try{e()}finally{Mc.transition=t}};he.unstable_act=u1;he.useCallback=function(e,t){return Dt.current.useCallback(e,t)};he.useContext=function(e){return Dt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Dt.current.useEffect(e,t)};he.useId=function(){return Dt.current.useId()};he.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Dt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};he.useRef=function(e){return Dt.current.useRef(e)};he.useState=function(e){return Dt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return Dt.current.useTransition()};he.version="18.3.1";r1.exports=he;var v=r1.exports;const d1=xi(v),IC=vC({__proto__:null,default:d1},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=v,LC=Symbol.for("react.element"),$C=Symbol.for("react.fragment"),RC=Object.prototype.hasOwnProperty,zC=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UC={key:!0,ref:!0,__self:!0,__source:!0};function f1(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)RC.call(t,n)&&!UC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:LC,type:e,key:a,ref:s,props:i,_owner:zC.current}}od.Fragment=$C;od.jsx=f1;od.jsxs=f1;t1.exports=od;var o=t1.exports,h1={exports:{}},nr={},m1={exports:{}},p1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,P){var z=L.length;L.push(P);e:for(;0<z;){var F=z-1>>>1,U=L[F];if(0<i(U,P))L[F]=P,L[z]=U,z=F;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var P=L[0],z=L.pop();if(z!==P){L[0]=z;e:for(var F=0,U=L.length,oe=U>>>1;F<oe;){var ue=2*(F+1)-1,me=L[ue],Me=ue+1,re=L[Me];if(0>i(me,z))Me<U&&0>i(re,me)?(L[F]=re,L[Me]=z,F=Me):(L[F]=me,L[ue]=z,F=ue);else if(Me<U&&0>i(re,z))L[F]=re,L[Me]=z,F=Me;else break e}}return P}function i(L,P){var z=L.sortIndex-P.sortIndex;return z!==0?z:L.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(L){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=L)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function j(L){if(b=!1,p(L),!y)if(r(c)!==null)y=!0,Y(_);else{var P=r(u);P!==null&&M(j,P.startTime-L)}}function _(L,P){y=!1,b&&(b=!1,x(E),E=-1),m=!0;var z=h;try{for(p(P),f=r(c);f!==null&&(!(f.expirationTime>P)||L&&!O());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var U=F(f.expirationTime<=P);P=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),p(P)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var ue=r(u);ue!==null&&M(j,ue.startTime-P),oe=!1}return oe}finally{f=null,h=z,m=!1}}var N=!1,k=null,E=-1,S=5,C=-1;function O(){return!(e.unstable_now()-C<S)}function T(){if(k!==null){var L=e.unstable_now();C=L;var P=!0;try{P=k(!0,L)}finally{P?I():(N=!1,k=null)}}else N=!1}var I;if(typeof g=="function")I=function(){g(T)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,J=R.port2;R.port1.onmessage=T,I=function(){J.postMessage(null)}}else I=function(){w(T,0)};function Y(L){k=L,N||(N=!0,I())}function M(L,P){E=w(function(){L(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,Y(_))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var z=h;h=P;try{return L()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return P()}finally{h=z}},e.unstable_scheduleCallback=function(L,P,z){var F=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?F+z:F):z=F,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,L={id:d++,callback:P,priorityLevel:L,startTime:z,expirationTime:U,sortIndex:-1},z>F?(L.sortIndex=z,t(u,L),r(c)===null&&L===r(u)&&(b?(x(E),E=-1):b=!0,M(j,z-F))):(L.sortIndex=U,t(c,L),y||m||(y=!0,Y(_))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var P=h;return function(){var z=h;h=P;try{return L.apply(this,arguments)}finally{h=z}}}})(p1);m1.exports=p1;var BC=m1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=v,tr=BC;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g1=new Set,Do={};function pa(e,t){as(e,t),as(e+"Capture",t)}function as(e,t){for(Do[e]=t,e=0;e<t.length;e++)g1.add(t[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,WC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qv={},Vv={};function qC(e){return Mh.call(Vv,e)?!0:Mh.call(qv,e)?!1:WC.test(e)?Vv[e]=!0:(qv[e]=!0,!1)}function VC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HC(e,t,r,n){if(t===null||typeof t>"u"||VC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){bt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){bt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){bt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hp=/[\-:]([a-z])/g;function Kp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hp,Kp);bt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hp,Kp);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hp,Kp);bt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});bt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){bt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gp(e,t,r,n){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HC(t,r,i,n)&&(r=null),n||i===null?qC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ln=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Da=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),Yp=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),v1=Symbol.for("react.provider"),y1=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),Dh=Symbol.for("react.suspense"),Lh=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),Gn=Symbol.for("react.lazy"),x1=Symbol.for("react.offscreen"),Hv=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,wf;function fo(e){if(wf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);wf=t&&t[1]||""}return`
`+wf+e}var jf=!1;function _f(e,t){if(!e||jf)return"";jf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{jf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fo(e):""}function KC(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=_f(e.type,!1),e;case 11:return e=_f(e.type.render,!1),e;case 1:return e=_f(e.type,!0),e;default:return""}}function $h(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case La:return"Fragment";case Da:return"Portal";case Ih:return"Profiler";case Yp:return"StrictMode";case Dh:return"Suspense";case Lh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case y1:return(e.displayName||"Context")+".Consumer";case v1:return(e._context.displayName||"Context")+".Provider";case Qp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jp:return t=e.displayName||null,t!==null?t:$h(e.type)||"Memo";case Gn:t=e._payload,e=e._init;try{return $h(e(t))}catch{}}return null}function GC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(t);case 8:return t===Yp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YC(e){var t=b1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yl(e){e._valueTracker||(e._valueTracker=YC(e))}function w1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=b1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rh(e,t){var r=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j1(e,t){t=t.checked,t!=null&&Gp(e,"checked",t,!1)}function zh(e,t){j1(e,t);var r=gi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Uh(e,t.type,gi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Uh(e,t,r){(t!=="number"||Yc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ho=Array.isArray;function Ga(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(ho(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gi(r)}}function _1(e,t){var r=gi(t.value),n=gi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Qv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function k1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?k1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ql,N1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QC=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(e){QC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bo[t]=bo[e]})});function S1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bo.hasOwnProperty(e)&&bo[e]?(""+t).trim():t+"px"}function E1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=S1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var JC=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wh(e,t){if(t){if(JC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function qh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function Xp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hh=null,Ya=null,Qa=null;function Jv(e){if(e=bl(e)){if(typeof Hh!="function")throw Error(V(280));var t=e.stateNode;t&&(t=fd(t),Hh(e.stateNode,e.type,t))}}function C1(e){Ya?Qa?Qa.push(e):Qa=[e]:Ya=e}function P1(){if(Ya){var e=Ya,t=Qa;if(Qa=Ya=null,Jv(e),t)for(e=0;e<t.length;e++)Jv(t[e])}}function O1(e,t){return e(t)}function A1(){}var kf=!1;function T1(e,t,r){if(kf)return e(t,r);kf=!0;try{return O1(e,t,r)}finally{kf=!1,(Ya!==null||Qa!==null)&&(A1(),P1())}}function $o(e,t){var r=e.stateNode;if(r===null)return null;var n=fd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var Kh=!1;if(Sn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Kh=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Kh=!1}function XC(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wo=!1,Qc=null,Jc=!1,Gh=null,ZC={onError:function(e){wo=!0,Qc=e}};function eP(e,t,r,n,i,a,s,l,c){wo=!1,Qc=null,XC.apply(ZC,arguments)}function tP(e,t,r,n,i,a,s,l,c){if(eP.apply(this,arguments),wo){if(wo){var u=Qc;wo=!1,Qc=null}else throw Error(V(198));Jc||(Jc=!0,Gh=u)}}function ga(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xv(e){if(ga(e)!==e)throw Error(V(188))}function rP(e){var t=e.alternate;if(!t){if(t=ga(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Xv(i),e;if(a===n)return Xv(i),t;a=a.sibling}throw Error(V(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function I1(e){return e=rP(e),e!==null?D1(e):null}function D1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=D1(e);if(t!==null)return t;e=e.sibling}return null}var L1=tr.unstable_scheduleCallback,Zv=tr.unstable_cancelCallback,nP=tr.unstable_shouldYield,iP=tr.unstable_requestPaint,We=tr.unstable_now,aP=tr.unstable_getCurrentPriorityLevel,Zp=tr.unstable_ImmediatePriority,$1=tr.unstable_UserBlockingPriority,Xc=tr.unstable_NormalPriority,sP=tr.unstable_LowPriority,R1=tr.unstable_IdlePriority,ld=null,tn=null;function oP(e){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(ld,e,void 0,(e.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:uP,lP=Math.log,cP=Math.LN2;function uP(e){return e>>>=0,e===0?32:31-(lP(e)/cP|0)|0}var Jl=64,Xl=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=mo(l):(a&=s,a!==0&&(n=mo(a)))}else s=r&~i,s!==0?n=mo(s):a!==0&&(n=mo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Fr(t),i=1<<r,n|=e[r],t&=~i;return n}function dP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Fr(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=dP(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Yh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function z1(){var e=Jl;return Jl<<=1,!(Jl&4194240)&&(Jl=64),e}function Nf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function yl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fr(t),e[t]=r}function hP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Fr(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function eg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Fr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var be=0;function U1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B1,tg,F1,W1,q1,Qh=!1,Zl=[],oi=null,li=null,ci=null,Ro=new Map,zo=new Map,Zn=[],mP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ey(e,t){switch(e){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(t.pointerId)}}function Qs(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=bl(t),t!==null&&tg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pP(e,t,r,n,i){switch(t){case"focusin":return oi=Qs(oi,e,t,r,n,i),!0;case"dragenter":return li=Qs(li,e,t,r,n,i),!0;case"mouseover":return ci=Qs(ci,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ro.set(a,Qs(Ro.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,zo.set(a,Qs(zo.get(a)||null,e,t,r,n,i)),!0}return!1}function V1(e){var t=Bi(e.target);if(t!==null){var r=ga(t);if(r!==null){if(t=r.tag,t===13){if(t=M1(r),t!==null){e.blockedOn=t,q1(e.priority,function(){F1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vh=n,r.target.dispatchEvent(n),Vh=null}else return t=bl(r),t!==null&&tg(t),e.blockedOn=r,!1;t.shift()}return!0}function ty(e,t,r){Ic(e)&&r.delete(t)}function gP(){Qh=!1,oi!==null&&Ic(oi)&&(oi=null),li!==null&&Ic(li)&&(li=null),ci!==null&&Ic(ci)&&(ci=null),Ro.forEach(ty),zo.forEach(ty)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Qh||(Qh=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,gP)))}function Uo(e){function t(i){return Js(i,e)}if(0<Zl.length){Js(Zl[0],e);for(var r=1;r<Zl.length;r++){var n=Zl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oi!==null&&Js(oi,e),li!==null&&Js(li,e),ci!==null&&Js(ci,e),Ro.forEach(t),zo.forEach(t),r=0;r<Zn.length;r++)n=Zn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zn.length&&(r=Zn[0],r.blockedOn===null);)V1(r),r.blockedOn===null&&Zn.shift()}var Ja=Ln.ReactCurrentBatchConfig,eu=!0;function vP(e,t,r,n){var i=be,a=Ja.transition;Ja.transition=null;try{be=1,rg(e,t,r,n)}finally{be=i,Ja.transition=a}}function yP(e,t,r,n){var i=be,a=Ja.transition;Ja.transition=null;try{be=4,rg(e,t,r,n)}finally{be=i,Ja.transition=a}}function rg(e,t,r,n){if(eu){var i=Jh(e,t,r,n);if(i===null)Df(e,t,n,tu,r),ey(e,n);else if(pP(i,e,t,r,n))n.stopPropagation();else if(ey(e,n),t&4&&-1<mP.indexOf(e)){for(;i!==null;){var a=bl(i);if(a!==null&&B1(a),a=Jh(e,t,r,n),a===null&&Df(e,t,n,tu,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Df(e,t,n,null,r)}}var tu=null;function Jh(e,t,r,n){if(tu=null,e=Xp(n),e=Bi(e),e!==null)if(t=ga(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tu=e,null}function H1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aP()){case Zp:return 1;case $1:return 4;case Xc:case sP:return 16;case R1:return 536870912;default:return 16}default:return 16}}var ni=null,ng=null,Dc=null;function K1(){if(Dc)return Dc;var e,t=ng,r=t.length,n,i="value"in ni?ni.value:ni.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Dc=i.slice(e,1<n?1-n:void 0)}function Lc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ec(){return!0}function ry(){return!1}function ir(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ec:ry,this.isPropagationStopped=ry,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),t}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ig=ir(Ps),xl=Re({},Ps,{view:0,detail:0}),xP=ir(xl),Sf,Ef,Xs,cd=Re({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ag,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(Sf=e.screenX-Xs.screenX,Ef=e.screenY-Xs.screenY):Ef=Sf=0,Xs=e),Sf)},movementY:function(e){return"movementY"in e?e.movementY:Ef}}),ny=ir(cd),bP=Re({},cd,{dataTransfer:0}),wP=ir(bP),jP=Re({},xl,{relatedTarget:0}),Cf=ir(jP),_P=Re({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),kP=ir(_P),NP=Re({},Ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SP=ir(NP),EP=Re({},Ps,{data:0}),iy=ir(EP),CP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OP[e])?!!t[e]:!1}function ag(){return AP}var TP=Re({},xl,{key:function(e){if(e.key){var t=CP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ag,charCode:function(e){return e.type==="keypress"?Lc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MP=ir(TP),IP=Re({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ay=ir(IP),DP=Re({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ag}),LP=ir(DP),$P=Re({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),RP=ir($P),zP=Re({},cd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UP=ir(zP),BP=[9,13,27,32],sg=Sn&&"CompositionEvent"in window,jo=null;Sn&&"documentMode"in document&&(jo=document.documentMode);var FP=Sn&&"TextEvent"in window&&!jo,G1=Sn&&(!sg||jo&&8<jo&&11>=jo),sy=" ",oy=!1;function Y1(e,t){switch(e){case"keyup":return BP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function WP(e,t){switch(e){case"compositionend":return Q1(t);case"keypress":return t.which!==32?null:(oy=!0,sy);case"textInput":return e=t.data,e===sy&&oy?null:e;default:return null}}function qP(e,t){if($a)return e==="compositionend"||!sg&&Y1(e,t)?(e=K1(),Dc=ng=ni=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return G1&&t.locale!=="ko"?null:t.data;default:return null}}var VP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!VP[e.type]:t==="textarea"}function J1(e,t,r,n){C1(n),t=ru(t,"onChange"),0<t.length&&(r=new ig("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _o=null,Bo=null;function HP(e){lj(e,0)}function ud(e){var t=Ua(e);if(w1(t))return e}function KP(e,t){if(e==="change")return t}var X1=!1;if(Sn){var Pf;if(Sn){var Of="oninput"in document;if(!Of){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),Of=typeof cy.oninput=="function"}Pf=Of}else Pf=!1;X1=Pf&&(!document.documentMode||9<document.documentMode)}function uy(){_o&&(_o.detachEvent("onpropertychange",Z1),Bo=_o=null)}function Z1(e){if(e.propertyName==="value"&&ud(Bo)){var t=[];J1(t,Bo,e,Xp(e)),T1(HP,t)}}function GP(e,t,r){e==="focusin"?(uy(),_o=t,Bo=r,_o.attachEvent("onpropertychange",Z1)):e==="focusout"&&uy()}function YP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ud(Bo)}function QP(e,t){if(e==="click")return ud(t)}function JP(e,t){if(e==="input"||e==="change")return ud(t)}function XP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qr=typeof Object.is=="function"?Object.is:XP;function Fo(e,t){if(qr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Mh.call(t,i)||!qr(e[i],t[i]))return!1}return!0}function dy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fy(e,t){var r=dy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dy(r)}}function ej(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ej(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tj(){for(var e=window,t=Yc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yc(e.document)}return t}function og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZP(e){var t=tj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ej(r.ownerDocument.documentElement,r)){if(n!==null&&og(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=fy(r,a);var s=fy(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eO=Sn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Xh=null,ko=null,Zh=!1;function hy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zh||Ra==null||Ra!==Yc(n)||(n=Ra,"selectionStart"in n&&og(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ko&&Fo(ko,n)||(ko=n,n=ru(Xh,"onSelect"),0<n.length&&(t=new ig("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ra)))}function tc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var za={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Af={},rj={};Sn&&(rj=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function dd(e){if(Af[e])return Af[e];if(!za[e])return e;var t=za[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rj)return Af[e]=t[r];return e}var nj=dd("animationend"),ij=dd("animationiteration"),aj=dd("animationstart"),sj=dd("transitionend"),oj=new Map,my="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(e,t){oj.set(e,t),pa(t,[e])}for(var Tf=0;Tf<my.length;Tf++){var Mf=my[Tf],tO=Mf.toLowerCase(),rO=Mf[0].toUpperCase()+Mf.slice(1);bi(tO,"on"+rO)}bi(nj,"onAnimationEnd");bi(ij,"onAnimationIteration");bi(aj,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(sj,"onTransitionEnd");as("onMouseEnter",["mouseout","mouseover"]);as("onMouseLeave",["mouseout","mouseover"]);as("onPointerEnter",["pointerout","pointerover"]);as("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nO=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function py(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tP(n,t,void 0,e),e.currentTarget=null}function lj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;py(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;py(i,l,u),a=c}}}if(Jc)throw e=Gh,Jc=!1,Gh=null,e}function Se(e,t){var r=t[im];r===void 0&&(r=t[im]=new Set);var n=e+"__bubble";r.has(n)||(cj(t,e,2,!1),r.add(n))}function If(e,t,r){var n=0;t&&(n|=4),cj(r,e,n,t)}var rc="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[rc]){e[rc]=!0,g1.forEach(function(r){r!=="selectionchange"&&(nO.has(r)||If(r,!1,e),If(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rc]||(t[rc]=!0,If("selectionchange",!1,t))}}function cj(e,t,r,n){switch(H1(t)){case 1:var i=vP;break;case 4:i=yP;break;default:i=rg}r=i.bind(null,t,r,e),i=void 0,!Kh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Df(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Bi(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}T1(function(){var u=a,d=Xp(r),f=[];e:{var h=oj.get(e);if(h!==void 0){var m=ig,y=e;switch(e){case"keypress":if(Lc(r)===0)break e;case"keydown":case"keyup":m=MP;break;case"focusin":y="focus",m=Cf;break;case"focusout":y="blur",m=Cf;break;case"beforeblur":case"afterblur":m=Cf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LP;break;case nj:case ij:case aj:m=kP;break;case sj:m=RP;break;case"scroll":m=xP;break;case"wheel":m=UP;break;case"copy":case"cut":case"paste":m=SP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ay}var b=(t&4)!==0,w=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,x!==null&&(j=$o(g,x),j!=null&&b.push(qo(g,j,p)))),w)break;g=g.return}0<b.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Vh&&(y=r.relatedTarget||r.fromElement)&&(Bi(y)||y[En]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Bi(y):null,y!==null&&(w=ga(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(b=ny,j="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=ay,j="onPointerLeave",x="onPointerEnter",g="pointer"),w=m==null?h:Ua(m),p=y==null?h:Ua(y),h=new b(j,g+"leave",m,r,d),h.target=w,h.relatedTarget=p,j=null,Bi(d)===u&&(b=new b(x,g+"enter",y,r,d),b.target=p,b.relatedTarget=w,j=b),w=j,m&&y)t:{for(b=m,x=y,g=0,p=b;p;p=Na(p))g++;for(p=0,j=x;j;j=Na(j))p++;for(;0<g-p;)b=Na(b),g--;for(;0<p-g;)x=Na(x),p--;for(;g--;){if(b===x||x!==null&&b===x.alternate)break t;b=Na(b),x=Na(x)}b=null}else b=null;m!==null&&gy(f,h,m,b,!1),y!==null&&w!==null&&gy(f,w,y,b,!0)}}e:{if(h=u?Ua(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=KP;else if(ly(h))if(X1)_=JP;else{_=YP;var N=GP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=QP);if(_&&(_=_(e,u))){J1(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Uh(h,"number",h.value)}switch(N=u?Ua(u):window,e){case"focusin":(ly(N)||N.contentEditable==="true")&&(Ra=N,Xh=u,ko=null);break;case"focusout":ko=Xh=Ra=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,hy(f,r,d);break;case"selectionchange":if(eO)break;case"keydown":case"keyup":hy(f,r,d)}var k;if(sg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else $a?Y1(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(G1&&r.locale!=="ko"&&($a||E!=="onCompositionStart"?E==="onCompositionEnd"&&$a&&(k=K1()):(ni=d,ng="value"in ni?ni.value:ni.textContent,$a=!0)),N=ru(u,E),0<N.length&&(E=new iy(E,e,null,r,d),f.push({event:E,listeners:N}),k?E.data=k:(k=Q1(r),k!==null&&(E.data=k)))),(k=FP?WP(e,r):qP(e,r))&&(u=ru(u,"onBeforeInput"),0<u.length&&(d=new iy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}lj(f,t)})}function qo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ru(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$o(e,r),a!=null&&n.unshift(qo(e,a,i)),a=$o(e,t),a!=null&&n.push(qo(e,a,i))),e=e.return}return n}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gy(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=$o(r,a),c!=null&&s.unshift(qo(r,c,l))):i||(c=$o(r,a),c!=null&&s.push(qo(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var iO=/\r\n?/g,aO=/\u0000|\uFFFD/g;function vy(e){return(typeof e=="string"?e:""+e).replace(iO,`
`).replace(aO,"")}function nc(e,t,r){if(t=vy(t),vy(e)!==t&&r)throw Error(V(425))}function nu(){}var em=null,tm=null;function rm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nm=typeof setTimeout=="function"?setTimeout:void 0,sO=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,oO=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(e){return yy.resolve(null).then(e).catch(lO)}:nm;function lO(e){setTimeout(function(){throw e})}function Lf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Uo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Uo(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Os,Vo="__reactProps$"+Os,En="__reactContainer$"+Os,im="__reactEvents$"+Os,cO="__reactListeners$"+Os,uO="__reactHandles$"+Os;function Bi(e){var t=e[Zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[En]||r[Zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xy(e);e!==null;){if(r=e[Zr])return r;e=xy(e)}return t}e=r,r=e.parentNode}return null}function bl(e){return e=e[Zr]||e[En],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ua(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function fd(e){return e[Vo]||null}var am=[],Ba=-1;function wi(e){return{current:e}}function Ce(e){0>Ba||(e.current=am[Ba],am[Ba]=null,Ba--)}function Ne(e,t){Ba++,am[Ba]=e.current,e.current=t}var vi={},Ct=wi(vi),Ft=wi(!1),ra=vi;function ss(e,t){var r=e.type.contextTypes;if(!r)return vi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(e){return e=e.childContextTypes,e!=null}function iu(){Ce(Ft),Ce(Ct)}function by(e,t,r){if(Ct.current!==vi)throw Error(V(168));Ne(Ct,t),Ne(Ft,r)}function uj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(V(108,GC(e)||"Unknown",i));return Re({},r,n)}function au(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,ra=Ct.current,Ne(Ct,e),Ne(Ft,Ft.current),!0}function wy(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=uj(e,t,ra),n.__reactInternalMemoizedMergedChildContext=e,Ce(Ft),Ce(Ct),Ne(Ct,e)):Ce(Ft),Ne(Ft,r)}var mn=null,hd=!1,$f=!1;function dj(e){mn===null?mn=[e]:mn.push(e)}function dO(e){hd=!0,dj(e)}function ji(){if(!$f&&mn!==null){$f=!0;var e=0,t=be;try{var r=mn;for(be=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,hd=!1}catch(i){throw mn!==null&&(mn=mn.slice(e+1)),L1(Zp,ji),i}finally{be=t,$f=!1}}return null}var Fa=[],Wa=0,su=null,ou=0,hr=[],mr=0,na=null,yn=1,xn="";function Ii(e,t){Fa[Wa++]=ou,Fa[Wa++]=su,su=e,ou=t}function fj(e,t,r){hr[mr++]=yn,hr[mr++]=xn,hr[mr++]=na,na=e;var n=yn;e=xn;var i=32-Fr(n)-1;n&=~(1<<i),r+=1;var a=32-Fr(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,yn=1<<32-Fr(t)+i|r<<i|n,xn=a+e}else yn=1<<a|r<<i|n,xn=e}function lg(e){e.return!==null&&(Ii(e,1),fj(e,1,0))}function cg(e){for(;e===su;)su=Fa[--Wa],Fa[Wa]=null,ou=Fa[--Wa],Fa[Wa]=null;for(;e===na;)na=hr[--mr],hr[mr]=null,xn=hr[--mr],hr[mr]=null,yn=hr[--mr],hr[mr]=null}var Zt=null,Xt=null,Ae=!1,zr=null;function hj(e,t){var r=vr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=na!==null?{id:yn,overflow:xn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zt=e,Xt=null,!0):!1;default:return!1}}function sm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function om(e){if(Ae){var t=Xt;if(t){var r=t;if(!jy(e,t)){if(sm(e))throw Error(V(418));t=ui(r.nextSibling);var n=Zt;t&&jy(e,t)?hj(n,r):(e.flags=e.flags&-4097|2,Ae=!1,Zt=e)}}else{if(sm(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ae=!1,Zt=e}}}function _y(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function ic(e){if(e!==Zt)return!1;if(!Ae)return _y(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!rm(e.type,e.memoizedProps)),t&&(t=Xt)){if(sm(e))throw mj(),Error(V(418));for(;t;)hj(e,t),t=ui(t.nextSibling)}if(_y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xt=ui(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xt=null}}else Xt=Zt?ui(e.stateNode.nextSibling):null;return!0}function mj(){for(var e=Xt;e;)e=ui(e.nextSibling)}function os(){Xt=Zt=null,Ae=!1}function ug(e){zr===null?zr=[e]:zr.push(e)}var fO=Ln.ReactCurrentBatchConfig;function Zs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function ac(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ky(e){var t=e._init;return t(e._payload)}function pj(e){function t(x,g){if(e){var p=x.deletions;p===null?(x.deletions=[g],x.flags|=16):p.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function i(x,g){return x=mi(x,g),x.index=0,x.sibling=null,x}function a(x,g,p){return x.index=p,e?(p=x.alternate,p!==null?(p=p.index,p<g?(x.flags|=2,g):p):(x.flags|=2,g)):(x.flags|=1048576,g)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,p,j){return g===null||g.tag!==6?(g=qf(p,x.mode,j),g.return=x,g):(g=i(g,p),g.return=x,g)}function c(x,g,p,j){var _=p.type;return _===La?d(x,g,p.props.children,j,p.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gn&&ky(_)===g.type)?(j=i(g,p.props),j.ref=Zs(x,g,p),j.return=x,j):(j=Wc(p.type,p.key,p.props,null,x.mode,j),j.ref=Zs(x,g,p),j.return=x,j)}function u(x,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=Vf(p,x.mode,j),g.return=x,g):(g=i(g,p.children||[]),g.return=x,g)}function d(x,g,p,j,_){return g===null||g.tag!==7?(g=Yi(p,x.mode,j,_),g.return=x,g):(g=i(g,p),g.return=x,g)}function f(x,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qf(""+g,x.mode,p),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Gl:return p=Wc(g.type,g.key,g.props,null,x.mode,p),p.ref=Zs(x,null,g),p.return=x,p;case Da:return g=Vf(g,x.mode,p),g.return=x,g;case Gn:var j=g._init;return f(x,j(g._payload),p)}if(ho(g)||Gs(g))return g=Yi(g,x.mode,p,null),g.return=x,g;ac(x,g)}return null}function h(x,g,p,j){var _=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(x,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Gl:return p.key===_?c(x,g,p,j):null;case Da:return p.key===_?u(x,g,p,j):null;case Gn:return _=p._init,h(x,g,_(p._payload),j)}if(ho(p)||Gs(p))return _!==null?null:d(x,g,p,j,null);ac(x,p)}return null}function m(x,g,p,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(p)||null,l(g,x,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Gl:return x=x.get(j.key===null?p:j.key)||null,c(g,x,j,_);case Da:return x=x.get(j.key===null?p:j.key)||null,u(g,x,j,_);case Gn:var N=j._init;return m(x,g,p,N(j._payload),_)}if(ho(j)||Gs(j))return x=x.get(p)||null,d(g,x,j,_,null);ac(g,j)}return null}function y(x,g,p,j){for(var _=null,N=null,k=g,E=g=0,S=null;k!==null&&E<p.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var C=h(x,k,p[E],j);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(x,k),g=a(C,g,E),N===null?_=C:N.sibling=C,N=C,k=S}if(E===p.length)return r(x,k),Ae&&Ii(x,E),_;if(k===null){for(;E<p.length;E++)k=f(x,p[E],j),k!==null&&(g=a(k,g,E),N===null?_=k:N.sibling=k,N=k);return Ae&&Ii(x,E),_}for(k=n(x,k);E<p.length;E++)S=m(k,x,E,p[E],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),g=a(S,g,E),N===null?_=S:N.sibling=S,N=S);return e&&k.forEach(function(O){return t(x,O)}),Ae&&Ii(x,E),_}function b(x,g,p,j){var _=Gs(p);if(typeof _!="function")throw Error(V(150));if(p=_.call(p),p==null)throw Error(V(151));for(var N=_=null,k=g,E=g=0,S=null,C=p.next();k!==null&&!C.done;E++,C=p.next()){k.index>E?(S=k,k=null):S=k.sibling;var O=h(x,k,C.value,j);if(O===null){k===null&&(k=S);break}e&&k&&O.alternate===null&&t(x,k),g=a(O,g,E),N===null?_=O:N.sibling=O,N=O,k=S}if(C.done)return r(x,k),Ae&&Ii(x,E),_;if(k===null){for(;!C.done;E++,C=p.next())C=f(x,C.value,j),C!==null&&(g=a(C,g,E),N===null?_=C:N.sibling=C,N=C);return Ae&&Ii(x,E),_}for(k=n(x,k);!C.done;E++,C=p.next())C=m(k,x,E,C.value,j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),g=a(C,g,E),N===null?_=C:N.sibling=C,N=C);return e&&k.forEach(function(T){return t(x,T)}),Ae&&Ii(x,E),_}function w(x,g,p,j){if(typeof p=="object"&&p!==null&&p.type===La&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Gl:e:{for(var _=p.key,N=g;N!==null;){if(N.key===_){if(_=p.type,_===La){if(N.tag===7){r(x,N.sibling),g=i(N,p.props.children),g.return=x,x=g;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Gn&&ky(_)===N.type){r(x,N.sibling),g=i(N,p.props),g.ref=Zs(x,N,p),g.return=x,x=g;break e}r(x,N);break}else t(x,N);N=N.sibling}p.type===La?(g=Yi(p.props.children,x.mode,j,p.key),g.return=x,x=g):(j=Wc(p.type,p.key,p.props,null,x.mode,j),j.ref=Zs(x,g,p),j.return=x,x=j)}return s(x);case Da:e:{for(N=p.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(x,g.sibling),g=i(g,p.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Vf(p,x.mode,j),g.return=x,x=g}return s(x);case Gn:return N=p._init,w(x,g,N(p._payload),j)}if(ho(p))return y(x,g,p,j);if(Gs(p))return b(x,g,p,j);ac(x,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(x,g.sibling),g=i(g,p),g.return=x,x=g):(r(x,g),g=qf(p,x.mode,j),g.return=x,x=g),s(x)):r(x,g)}return w}var ls=pj(!0),gj=pj(!1),lu=wi(null),cu=null,qa=null,dg=null;function fg(){dg=qa=cu=null}function hg(e){var t=lu.current;Ce(lu),e._currentValue=t}function lm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Xa(e,t){cu=e,dg=qa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function _r(e){var t=e._currentValue;if(dg!==e)if(e={context:e,memoizedValue:t,next:null},qa===null){if(cu===null)throw Error(V(308));qa=e,cu.dependencies={lanes:0,firstContext:e}}else qa=qa.next=e;return t}var Fi=null;function mg(e){Fi===null?Fi=[e]:Fi.push(e)}function vj(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,mg(t)):(r.next=i.next,i.next=r),t.interleaved=r,Cn(e,n)}function Cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yn=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Cn(e,r)}return i=n.interleaved,i===null?(t.next=t,mg(n)):(t.next=i.next,i.next=t),n.interleaved=t,Cn(e,r)}function $c(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eg(e,r)}}function Ny(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uu(e,t,r,n){var i=e.updateQueue;Yn=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,b=l;switch(h=t,m=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Re({},f,h);break e;case 2:Yn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);aa|=s,e.lanes=s,e.memoizedState=f}}function Sy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(V(191,i));i.call(n)}}}var wl={},rn=wi(wl),Ho=wi(wl),Ko=wi(wl);function Wi(e){if(e===wl)throw Error(V(174));return e}function gg(e,t){switch(Ne(Ko,t),Ne(Ho,e),Ne(rn,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fh(t,e)}Ce(rn),Ne(rn,t)}function cs(){Ce(rn),Ce(Ho),Ce(Ko)}function xj(e){Wi(Ko.current);var t=Wi(rn.current),r=Fh(t,e.type);t!==r&&(Ne(Ho,e),Ne(rn,r))}function vg(e){Ho.current===e&&(Ce(rn),Ce(Ho))}var De=wi(0);function du(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rf=[];function yg(){for(var e=0;e<Rf.length;e++)Rf[e]._workInProgressVersionPrimary=null;Rf.length=0}var Rc=Ln.ReactCurrentDispatcher,zf=Ln.ReactCurrentBatchConfig,ia=0,Le=null,Xe=null,ot=null,fu=!1,No=!1,Go=0,hO=0;function _t(){throw Error(V(321))}function xg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qr(e[r],t[r]))return!1;return!0}function bg(e,t,r,n,i,a){if(ia=a,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rc.current=e===null||e.memoizedState===null?vO:yO,e=r(n,i),No){a=0;do{if(No=!1,Go=0,25<=a)throw Error(V(301));a+=1,ot=Xe=null,t.updateQueue=null,Rc.current=xO,e=r(n,i)}while(No)}if(Rc.current=hu,t=Xe!==null&&Xe.next!==null,ia=0,ot=Xe=Le=null,fu=!1,t)throw Error(V(300));return e}function wg(){var e=Go!==0;return Go=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=e:ot=ot.next=e,ot}function kr(){if(Xe===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=ot===null?Le.memoizedState:ot.next;if(t!==null)ot=t,Xe=e;else{if(e===null)throw Error(V(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},ot===null?Le.memoizedState=ot=e:ot=ot.next=e}return ot}function Yo(e,t){return typeof t=="function"?t(e):t}function Uf(e){var t=kr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=Xe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Le.lanes|=d,aa|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,qr(n,t.memoizedState)||(Ut=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Le.lanes|=a,aa|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Bf(e){var t=kr(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);qr(a,t.memoizedState)||(Ut=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function bj(){}function wj(e,t){var r=Le,n=kr(),i=t(),a=!qr(n.memoizedState,i);if(a&&(n.memoizedState=i,Ut=!0),n=n.queue,jg(kj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ot!==null&&ot.memoizedState.tag&1){if(r.flags|=2048,Qo(9,_j.bind(null,r,n,i,t),void 0,null),lt===null)throw Error(V(349));ia&30||jj(r,t,i)}return i}function jj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _j(e,t,r,n){t.value=r,t.getSnapshot=n,Nj(t)&&Sj(e)}function kj(e,t,r){return r(function(){Nj(t)&&Sj(e)})}function Nj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qr(e,r)}catch{return!0}}function Sj(e){var t=Cn(e,1);t!==null&&Wr(t,e,1,-1)}function Ey(e){var t=Jr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e},t.queue=e,e=e.dispatch=gO.bind(null,Le,e),[t.memoizedState,e]}function Qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ej(){return kr().memoizedState}function zc(e,t,r,n){var i=Jr();Le.flags|=e,i.memoizedState=Qo(1|t,r,void 0,n===void 0?null:n)}function md(e,t,r,n){var i=kr();n=n===void 0?null:n;var a=void 0;if(Xe!==null){var s=Xe.memoizedState;if(a=s.destroy,n!==null&&xg(n,s.deps)){i.memoizedState=Qo(t,r,a,n);return}}Le.flags|=e,i.memoizedState=Qo(1|t,r,a,n)}function Cy(e,t){return zc(8390656,8,e,t)}function jg(e,t){return md(2048,8,e,t)}function Cj(e,t){return md(4,2,e,t)}function Pj(e,t){return md(4,4,e,t)}function Oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Aj(e,t,r){return r=r!=null?r.concat([e]):null,md(4,4,Oj.bind(null,t,e),r)}function _g(){}function Tj(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mj(e,t){var r=kr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ij(e,t,r){return ia&21?(qr(r,t)||(r=z1(),Le.lanes|=r,aa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=r)}function mO(e,t){var r=be;be=r!==0&&4>r?r:4,e(!0);var n=zf.transition;zf.transition={};try{e(!1),t()}finally{be=r,zf.transition=n}}function Dj(){return kr().memoizedState}function pO(e,t,r){var n=hi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lj(e))$j(t,r);else if(r=vj(e,t,r,n),r!==null){var i=Mt();Wr(r,e,n,i),Rj(r,t,n)}}function gO(e,t,r){var n=hi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lj(e))$j(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,qr(l,s)){var c=t.interleaved;c===null?(i.next=i,mg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=vj(e,t,i,n),r!==null&&(i=Mt(),Wr(r,e,n,i),Rj(r,t,n))}}function Lj(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function $j(e,t){No=fu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,eg(e,r)}}var hu={readContext:_r,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},vO={readContext:_r,useCallback:function(e,t){return Jr().memoizedState=[e,t===void 0?null:t],e},useContext:_r,useEffect:Cy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zc(4194308,4,Oj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zc(4194308,4,e,t)},useInsertionEffect:function(e,t){return zc(4,2,e,t)},useMemo:function(e,t){var r=Jr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Jr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pO.bind(null,Le,e),[n.memoizedState,e]},useRef:function(e){var t=Jr();return e={current:e},t.memoizedState=e},useState:Ey,useDebugValue:_g,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=Ey(!1),t=e[0];return e=mO.bind(null,e[1]),Jr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Le,i=Jr();if(Ae){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),lt===null)throw Error(V(349));ia&30||jj(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Cy(kj.bind(null,n,a,e),[e]),n.flags|=2048,Qo(9,_j.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Jr(),t=lt.identifierPrefix;if(Ae){var r=xn,n=yn;r=(n&~(1<<32-Fr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Go++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=hO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yO={readContext:_r,useCallback:Tj,useContext:_r,useEffect:jg,useImperativeHandle:Aj,useInsertionEffect:Cj,useLayoutEffect:Pj,useMemo:Mj,useReducer:Uf,useRef:Ej,useState:function(){return Uf(Yo)},useDebugValue:_g,useDeferredValue:function(e){var t=kr();return Ij(t,Xe.memoizedState,e)},useTransition:function(){var e=Uf(Yo)[0],t=kr().memoizedState;return[e,t]},useMutableSource:bj,useSyncExternalStore:wj,useId:Dj,unstable_isNewReconciler:!1},xO={readContext:_r,useCallback:Tj,useContext:_r,useEffect:jg,useImperativeHandle:Aj,useInsertionEffect:Cj,useLayoutEffect:Pj,useMemo:Mj,useReducer:Bf,useRef:Ej,useState:function(){return Bf(Yo)},useDebugValue:_g,useDeferredValue:function(e){var t=kr();return Xe===null?t.memoizedState=e:Ij(t,Xe.memoizedState,e)},useTransition:function(){var e=Bf(Yo)[0],t=kr().memoizedState;return[e,t]},useMutableSource:bj,useSyncExternalStore:wj,useId:Dj,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function cm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pd={isMounted:function(e){return(e=e._reactInternals)?ga(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=hi(e),a=jn(n,i);a.payload=t,r!=null&&(a.callback=r),t=di(e,a,i),t!==null&&(Wr(t,e,i,n),$c(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),i=hi(e),a=jn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=di(e,a,i),t!==null&&(Wr(t,e,i,n),$c(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=hi(e),i=jn(r,n);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,n),t!==null&&(Wr(t,e,n,r),$c(t,e,n))}};function Py(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Fo(r,n)||!Fo(i,a):!0}function zj(e,t,r){var n=!1,i=vi,a=t.contextType;return typeof a=="object"&&a!==null?a=_r(a):(i=Wt(t)?ra:Ct.current,n=t.contextTypes,a=(n=n!=null)?ss(e,i):vi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Oy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pd.enqueueReplaceState(t,t.state,null)}function um(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},pg(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=_r(a):(a=Wt(t)?ra:Ct.current,i.context=ss(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(cm(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&pd.enqueueReplaceState(i,i.state,null),uu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,t){try{var r="",n=t;do r+=KC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ff(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function dm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bO=typeof WeakMap=="function"?WeakMap:Map;function Uj(e,t,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pu||(pu=!0,wm=n),dm(e,t)},r}function Bj(e,t,r){r=jn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){dm(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){dm(e,t),typeof n!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Ay(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bO;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=IO.bind(null,e,t,r),t.then(e,e))}function Ty(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function My(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=jn(-1,1),t.tag=2,di(r,t,1))),r.lanes|=1),e)}var wO=Ln.ReactCurrentOwner,Ut=!1;function At(e,t,r,n){t.child=e===null?gj(t,null,r,n):ls(t,e.child,r,n)}function Iy(e,t,r,n,i){r=r.render;var a=t.ref;return Xa(t,i),n=bg(e,t,r,n,a,i),r=wg(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(Ae&&r&&lg(t),t.flags|=1,At(e,t,n,i),t.child)}function Dy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Ag(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Fj(e,t,a,n,i)):(e=Wc(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(s,n)&&e.ref===t.ref)return Pn(e,t,i)}return t.flags|=1,e=mi(a,n),e.ref=t.ref,e.return=t,t.child=e}function Fj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Fo(a,n)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,Pn(e,t,i)}return fm(e,t,r,n,i)}function Wj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ha,Gt),Gt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Ha,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ne(Ha,Gt),Gt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ne(Ha,Gt),Gt|=n;return At(e,t,i,r),t.child}function qj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fm(e,t,r,n,i){var a=Wt(r)?ra:Ct.current;return a=ss(t,a),Xa(t,i),r=bg(e,t,r,n,a,i),n=wg(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Pn(e,t,i)):(Ae&&n&&lg(t),t.flags|=1,At(e,t,r,i),t.child)}function Ly(e,t,r,n,i){if(Wt(r)){var a=!0;au(t)}else a=!1;if(Xa(t,i),t.stateNode===null)Uc(e,t),zj(t,r,n),um(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=_r(u):(u=Wt(r)?ra:Ct.current,u=ss(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Oy(t,s,n,u),Yn=!1;var h=t.memoizedState;s.state=h,uu(t,n,s,i),c=t.memoizedState,l!==n||h!==c||Ft.current||Yn?(typeof d=="function"&&(cm(t,r,d,n),c=t.memoizedState),(l=Yn||Py(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,yj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Lr(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=_r(c):(c=Wt(r)?ra:Ct.current,c=ss(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Oy(t,s,n,c),Yn=!1,h=t.memoizedState,s.state=h,uu(t,n,s,i);var y=t.memoizedState;l!==f||h!==y||Ft.current||Yn?(typeof m=="function"&&(cm(t,r,m,n),y=t.memoizedState),(u=Yn||Py(t,r,u,n,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return hm(e,t,r,n,a,i)}function hm(e,t,r,n,i,a){qj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&wy(t,r,!1),Pn(e,t,a);n=t.stateNode,wO.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ls(t,e.child,null,a),t.child=ls(t,null,l,a)):At(e,t,l,a),t.memoizedState=n.state,i&&wy(t,r,!0),t.child}function Vj(e){var t=e.stateNode;t.pendingContext?by(e,t.pendingContext,t.pendingContext!==t.context):t.context&&by(e,t.context,!1),gg(e,t.containerInfo)}function $y(e,t,r,n,i){return os(),ug(i),t.flags|=256,At(e,t,r,n),t.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function pm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hj(e,t,r){var n=t.pendingProps,i=De.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(De,i&1),e===null)return om(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=yd(s,n,0,null),e=Yi(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pm(r),t.memoizedState=mm,e):kg(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return jO(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=mi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=mi(l,a):(a=Yi(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?pm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=mm,n}return a=e.child,e=a.sibling,n=mi(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kg(e,t){return t=yd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sc(e,t,r,n){return n!==null&&ug(n),ls(t,e.child,null,r),e=kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jO(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Ff(Error(V(422))),sc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=yd({mode:"visible",children:n.children},i,0,null),a=Yi(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&ls(t,e.child,null,s),t.child.memoizedState=pm(s),t.memoizedState=mm,a);if(!(t.mode&1))return sc(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(V(419)),n=Ff(a,n,void 0),sc(e,t,s,n)}if(l=(s&e.childLanes)!==0,Ut||l){if(n=lt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Cn(e,i),Wr(n,e,i,-1))}return Og(),n=Ff(Error(V(421))),sc(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=DO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xt=ui(i.nextSibling),Zt=t,Ae=!0,zr=null,e!==null&&(hr[mr++]=yn,hr[mr++]=xn,hr[mr++]=na,yn=e.id,xn=e.overflow,na=t),t=kg(t,n.children),t.flags|=4096,t)}function Ry(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),lm(e.return,t,r)}function Wf(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Kj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(At(e,t,n.children,r),n=De.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ry(e,r,t);else if(e.tag===19)Ry(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(De,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&du(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Wf(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&du(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Wf(t,!0,r,null,a);break;case"together":Wf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),aa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=mi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _O(e,t,r){switch(t.tag){case 3:Vj(t),os();break;case 5:xj(t);break;case 1:Wt(t.type)&&au(t);break;case 4:gg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ne(lu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(De,De.current&1),t.flags|=128,null):r&t.child.childLanes?Hj(e,t,r):(Ne(De,De.current&1),e=Pn(e,t,r),e!==null?e.sibling:null);Ne(De,De.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(De,De.current),n)break;return null;case 22:case 23:return t.lanes=0,Wj(e,t,r)}return Pn(e,t,r)}var Gj,gm,Yj,Qj;Gj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};gm=function(){};Yj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Wi(rn.current);var a=null;switch(r){case"input":i=Rh(e,i),n=Rh(e,n),a=[];break;case"select":i=Re({},i,{value:void 0}),n=Re({},n,{value:void 0}),a=[];break;case"textarea":i=Bh(e,i),n=Bh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=nu)}Wh(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Do.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Do.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Qj=function(e,t,r,n){r!==n&&(t.flags|=4)};function eo(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kO(e,t,r){var n=t.pendingProps;switch(cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Wt(t.type)&&iu(),kt(t),null;case 3:return n=t.stateNode,cs(),Ce(Ft),Ce(Ct),yg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr!==null&&(km(zr),zr=null))),gm(e,t),kt(t),null;case 5:vg(t);var i=Wi(Ko.current);if(r=t.type,e!==null&&t.stateNode!=null)Yj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return kt(t),null}if(e=Wi(rn.current),ic(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zr]=t,n[Vo]=a,e=(t.mode&1)!==0,r){case"dialog":Se("cancel",n),Se("close",n);break;case"iframe":case"object":case"embed":Se("load",n);break;case"video":case"audio":for(i=0;i<po.length;i++)Se(po[i],n);break;case"source":Se("error",n);break;case"img":case"image":case"link":Se("error",n),Se("load",n);break;case"details":Se("toggle",n);break;case"input":Kv(n,a),Se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Se("invalid",n);break;case"textarea":Yv(n,a),Se("invalid",n)}Wh(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&nc(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&nc(n.textContent,l,e),i=["children",""+l]):Do.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Se("scroll",n)}switch(r){case"input":Yl(n),Gv(n,a,!0);break;case"textarea":Yl(n),Qv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=nu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=k1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Zr]=t,e[Vo]=n,Gj(e,t,!1,!1),t.stateNode=e;e:{switch(s=qh(r,n),r){case"dialog":Se("cancel",e),Se("close",e),i=n;break;case"iframe":case"object":case"embed":Se("load",e),i=n;break;case"video":case"audio":for(i=0;i<po.length;i++)Se(po[i],e);i=n;break;case"source":Se("error",e),i=n;break;case"img":case"image":case"link":Se("error",e),Se("load",e),i=n;break;case"details":Se("toggle",e),i=n;break;case"input":Kv(e,n),i=Rh(e,n),Se("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Re({},n,{value:void 0}),Se("invalid",e);break;case"textarea":Yv(e,n),i=Bh(e,n),Se("invalid",e);break;default:i=n}Wh(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?E1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N1(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Lo(e,c):typeof c=="number"&&Lo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Do.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Se("scroll",e):c!=null&&Gp(e,a,c,s))}switch(r){case"input":Yl(e),Gv(e,n,!1);break;case"textarea":Yl(e),Qv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ga(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ga(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=nu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Qj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=Wi(Ko.current),Wi(rn.current),ic(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zr]=t,(a=n.nodeValue!==r)&&(e=Zt,e!==null))switch(e.tag){case 3:nc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zr]=t,t.stateNode=n}return kt(t),null;case 13:if(Ce(De),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&Xt!==null&&t.mode&1&&!(t.flags&128))mj(),os(),t.flags|=98560,a=!1;else if(a=ic(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[Zr]=t}else os(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),a=!1}else zr!==null&&(km(zr),zr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?tt===0&&(tt=3):Og())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return cs(),gm(e,t),e===null&&Wo(t.stateNode.containerInfo),kt(t),null;case 10:return hg(t.type._context),kt(t),null;case 17:return Wt(t.type)&&iu(),kt(t),null;case 19:if(Ce(De),a=t.memoizedState,a===null)return kt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)eo(a,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=du(e),s!==null){for(t.flags|=128,eo(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(De,De.current&1|2),t.child}e=e.sibling}a.tail!==null&&We()>ds&&(t.flags|=128,n=!0,eo(a,!1),t.lanes=4194304)}else{if(!n)if(e=du(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),eo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ae)return kt(t),null}else 2*We()-a.renderingStartTime>ds&&r!==1073741824&&(t.flags|=128,n=!0,eo(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=We(),t.sibling=null,r=De.current,Ne(De,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Pg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function NO(e,t){switch(cg(t),t.tag){case 1:return Wt(t.type)&&iu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cs(),Ce(Ft),Ce(Ct),yg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vg(t),null;case 13:if(Ce(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));os()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(De),null;case 4:return cs(),null;case 10:return hg(t.type._context),null;case 22:case 23:return Pg(),null;case 24:return null;default:return null}}var oc=!1,St=!1,SO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Va(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(e,t,n)}else r.current=null}function vm(e,t,r){try{r()}catch(n){Ue(e,t,n)}}var zy=!1;function EO(e,t){if(em=eu,e=tj(),og(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(tm={focusedElem:e,selectionRange:r},eu=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,w=y.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Lr(t.type,b),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){Ue(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return y=zy,zy=!1,y}function So(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&vm(t,r,a)}i=i.next}while(i!==n)}}function gd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ym(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Jj(e){var t=e.alternate;t!==null&&(e.alternate=null,Jj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zr],delete t[Vo],delete t[im],delete t[cO],delete t[uO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xj(e){return e.tag===5||e.tag===3||e.tag===4}function Uy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=nu));else if(n!==4&&(e=e.child,e!==null))for(xm(e,t,r),e=e.sibling;e!==null;)xm(e,t,r),e=e.sibling}function bm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bm(e,t,r),e=e.sibling;e!==null;)bm(e,t,r),e=e.sibling}var gt=null,$r=!1;function qn(e,t,r){for(r=r.child;r!==null;)Zj(e,t,r),r=r.sibling}function Zj(e,t,r){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(ld,r)}catch{}switch(r.tag){case 5:St||Va(r,t);case 6:var n=gt,i=$r;gt=null,qn(e,t,r),gt=n,$r=i,gt!==null&&($r?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&($r?(e=gt,r=r.stateNode,e.nodeType===8?Lf(e.parentNode,r):e.nodeType===1&&Lf(e,r),Uo(e)):Lf(gt,r.stateNode));break;case 4:n=gt,i=$r,gt=r.stateNode.containerInfo,$r=!0,qn(e,t,r),gt=n,$r=i;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&vm(r,t,s),i=i.next}while(i!==n)}qn(e,t,r);break;case 1:if(!St&&(Va(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ue(r,t,l)}qn(e,t,r);break;case 21:qn(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,qn(e,t,r),St=n):qn(e,t,r);break;default:qn(e,t,r)}}function By(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SO),t.forEach(function(n){var i=LO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,$r=!1;break e;case 3:gt=l.stateNode.containerInfo,$r=!0;break e;case 4:gt=l.stateNode.containerInfo,$r=!0;break e}l=l.return}if(gt===null)throw Error(V(160));Zj(a,s,i),gt=null,$r=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ue(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e2(t,e),t=t.sibling}function e2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mr(t,e),Yr(e),n&4){try{So(3,e,e.return),gd(3,e)}catch(b){Ue(e,e.return,b)}try{So(5,e,e.return)}catch(b){Ue(e,e.return,b)}}break;case 1:Mr(t,e),Yr(e),n&512&&r!==null&&Va(r,r.return);break;case 5:if(Mr(t,e),Yr(e),n&512&&r!==null&&Va(r,r.return),e.flags&32){var i=e.stateNode;try{Lo(i,"")}catch(b){Ue(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&j1(i,a),qh(l,s);var u=qh(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?E1(i,f):d==="dangerouslySetInnerHTML"?N1(i,f):d==="children"?Lo(i,f):Gp(i,d,f,u)}switch(l){case"input":zh(i,a);break;case"textarea":_1(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ga(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ga(i,!!a.multiple,a.defaultValue,!0):Ga(i,!!a.multiple,a.multiple?[]:"",!1))}i[Vo]=a}catch(b){Ue(e,e.return,b)}}break;case 6:if(Mr(t,e),Yr(e),n&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Ue(e,e.return,b)}}break;case 3:if(Mr(t,e),Yr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(b){Ue(e,e.return,b)}break;case 4:Mr(t,e),Yr(e);break;case 13:Mr(t,e),Yr(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Eg=We())),n&4&&By(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(St=(u=St)||d,Mr(t,e),St=u):Mr(t,e),Yr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,m=h.child,h.tag){case 0:case 11:case 14:case 15:So(4,h,h.return);break;case 1:Va(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Ue(n,r,b)}}break;case 5:Va(h,h.return);break;case 22:if(h.memoizedState!==null){Wy(f);continue}}m!==null?(m.return=h,Z=m):Wy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=S1("display",s))}catch(b){Ue(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Ue(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mr(t,e),Yr(e),n&4&&By(e);break;case 21:break;default:Mr(t,e),Yr(e)}}function Yr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xj(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Lo(i,""),n.flags&=-33);var a=Uy(e);bm(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Uy(e);xm(e,l,s);break;default:throw Error(V(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CO(e,t,r){Z=e,t2(e)}function t2(e,t,r){for(var n=(e.mode&1)!==0;Z!==null;){var i=Z,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||oc;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||St;l=oc;var u=St;if(oc=s,(St=c)&&!u)for(Z=i;Z!==null;)s=Z,c=s.child,s.tag===22&&s.memoizedState!==null?qy(i):c!==null?(c.return=s,Z=c):qy(i);for(;a!==null;)Z=a,t2(a),a=a.sibling;Z=i,oc=l,St=u}Fy(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Z=a):Fy(e)}}function Fy(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||gd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Lr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Sy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sy(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Uo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}St||t.flags&512&&ym(t)}catch(h){Ue(t,t.return,h)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Wy(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function qy(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gd(4,t)}catch(c){Ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ue(t,i,c)}}var a=t.return;try{ym(t)}catch(c){Ue(t,a,c)}break;case 5:var s=t.return;try{ym(t)}catch(c){Ue(t,s,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var PO=Math.ceil,mu=Ln.ReactCurrentDispatcher,Ng=Ln.ReactCurrentOwner,wr=Ln.ReactCurrentBatchConfig,pe=0,lt=null,Ke=null,xt=0,Gt=0,Ha=wi(0),tt=0,Jo=null,aa=0,vd=0,Sg=0,Eo=null,Rt=null,Eg=0,ds=1/0,fn=null,pu=!1,wm=null,fi=null,lc=!1,ii=null,gu=0,Co=0,jm=null,Bc=-1,Fc=0;function Mt(){return pe&6?We():Bc!==-1?Bc:Bc=We()}function hi(e){return e.mode&1?pe&2&&xt!==0?xt&-xt:fO.transition!==null?(Fc===0&&(Fc=z1()),Fc):(e=be,e!==0||(e=window.event,e=e===void 0?16:H1(e.type)),e):1}function Wr(e,t,r,n){if(50<Co)throw Co=0,jm=null,Error(V(185));yl(e,r,n),(!(pe&2)||e!==lt)&&(e===lt&&(!(pe&2)&&(vd|=r),tt===4&&ei(e,xt)),qt(e,n),r===1&&pe===0&&!(t.mode&1)&&(ds=We()+500,hd&&ji()))}function qt(e,t){var r=e.callbackNode;fP(e,t);var n=Zc(e,e===lt?xt:0);if(n===0)r!==null&&Zv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zv(r),t===1)e.tag===0?dO(Vy.bind(null,e)):dj(Vy.bind(null,e)),oO(function(){!(pe&6)&&ji()}),r=null;else{switch(U1(n)){case 1:r=Zp;break;case 4:r=$1;break;case 16:r=Xc;break;case 536870912:r=R1;break;default:r=Xc}r=c2(r,r2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function r2(e,t){if(Bc=-1,Fc=0,pe&6)throw Error(V(327));var r=e.callbackNode;if(Za()&&e.callbackNode!==r)return null;var n=Zc(e,e===lt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=vu(e,n);else{t=n;var i=pe;pe|=2;var a=i2();(lt!==e||xt!==t)&&(fn=null,ds=We()+500,Gi(e,t));do try{TO();break}catch(l){n2(e,l)}while(!0);fg(),mu.current=a,pe=i,Ke!==null?t=0:(lt=null,xt=0,t=tt)}if(t!==0){if(t===2&&(i=Yh(e),i!==0&&(n=i,t=_m(e,i))),t===1)throw r=Jo,Gi(e,0),ei(e,n),qt(e,We()),r;if(t===6)ei(e,n);else{if(i=e.current.alternate,!(n&30)&&!OO(i)&&(t=vu(e,n),t===2&&(a=Yh(e),a!==0&&(n=a,t=_m(e,a))),t===1))throw r=Jo,Gi(e,0),ei(e,n),qt(e,We()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Di(e,Rt,fn);break;case 3:if(ei(e,n),(n&130023424)===n&&(t=Eg+500-We(),10<t)){if(Zc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nm(Di.bind(null,e,Rt,fn),t);break}Di(e,Rt,fn);break;case 4:if(ei(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Fr(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=We()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*PO(n/1960))-n,10<n){e.timeoutHandle=nm(Di.bind(null,e,Rt,fn),n);break}Di(e,Rt,fn);break;case 5:Di(e,Rt,fn);break;default:throw Error(V(329))}}}return qt(e,We()),e.callbackNode===r?r2.bind(null,e):null}function _m(e,t){var r=Eo;return e.current.memoizedState.isDehydrated&&(Gi(e,t).flags|=256),e=vu(e,t),e!==2&&(t=Rt,Rt=r,t!==null&&km(t)),e}function km(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function OO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!qr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ei(e,t){for(t&=~Sg,t&=~vd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Fr(t),n=1<<r;e[r]=-1,t&=~n}}function Vy(e){if(pe&6)throw Error(V(327));Za();var t=Zc(e,0);if(!(t&1))return qt(e,We()),null;var r=vu(e,t);if(e.tag!==0&&r===2){var n=Yh(e);n!==0&&(t=n,r=_m(e,n))}if(r===1)throw r=Jo,Gi(e,0),ei(e,t),qt(e,We()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,Rt,fn),qt(e,We()),null}function Cg(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(ds=We()+500,hd&&ji())}}function sa(e){ii!==null&&ii.tag===0&&!(pe&6)&&Za();var t=pe;pe|=1;var r=wr.transition,n=be;try{if(wr.transition=null,be=1,e)return e()}finally{be=n,wr.transition=r,pe=t,!(pe&6)&&ji()}}function Pg(){Gt=Ha.current,Ce(Ha)}function Gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sO(r)),Ke!==null)for(r=Ke.return;r!==null;){var n=r;switch(cg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&iu();break;case 3:cs(),Ce(Ft),Ce(Ct),yg();break;case 5:vg(n);break;case 4:cs();break;case 13:Ce(De);break;case 19:Ce(De);break;case 10:hg(n.type._context);break;case 22:case 23:Pg()}r=r.return}if(lt=e,Ke=e=mi(e.current,null),xt=Gt=t,tt=0,Jo=null,Sg=vd=aa=0,Rt=Eo=null,Fi!==null){for(t=0;t<Fi.length;t++)if(r=Fi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Fi=null}return e}function n2(e,t){do{var r=Ke;try{if(fg(),Rc.current=hu,fu){for(var n=Le.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fu=!1}if(ia=0,ot=Xe=Le=null,No=!1,Go=0,Ng.current=null,r===null||r.return===null){tt=1,Jo=t,Ke=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ty(s);if(m!==null){m.flags&=-257,My(m,s,l,a,t),m.mode&1&&Ay(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){Ay(a,u,t),Og();break e}c=Error(V(426))}}else if(Ae&&l.mode&1){var w=Ty(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),My(w,s,l,a,t),ug(us(c,l));break e}}a=c=us(c,l),tt!==4&&(tt=2),Eo===null?Eo=[a]:Eo.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Uj(a,c,t);Ny(a,x);break e;case 1:l=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fi===null||!fi.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Bj(a,l,t);Ny(a,j);break e}}a=a.return}while(a!==null)}s2(r)}catch(_){t=_,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function i2(){var e=mu.current;return mu.current=hu,e===null?hu:e}function Og(){(tt===0||tt===3||tt===2)&&(tt=4),lt===null||!(aa&268435455)&&!(vd&268435455)||ei(lt,xt)}function vu(e,t){var r=pe;pe|=2;var n=i2();(lt!==e||xt!==t)&&(fn=null,Gi(e,t));do try{AO();break}catch(i){n2(e,i)}while(!0);if(fg(),pe=r,mu.current=n,Ke!==null)throw Error(V(261));return lt=null,xt=0,tt}function AO(){for(;Ke!==null;)a2(Ke)}function TO(){for(;Ke!==null&&!nP();)a2(Ke)}function a2(e){var t=l2(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?s2(e):Ke=t,Ng.current=null}function s2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=NO(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,Ke=null;return}}else if(r=kO(r,t,Gt),r!==null){Ke=r;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);tt===0&&(tt=5)}function Di(e,t,r){var n=be,i=wr.transition;try{wr.transition=null,be=1,MO(e,t,r,n)}finally{wr.transition=i,be=n}return null}function MO(e,t,r,n){do Za();while(ii!==null);if(pe&6)throw Error(V(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(hP(e,a),e===lt&&(Ke=lt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lc||(lc=!0,c2(Xc,function(){return Za(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=wr.transition,wr.transition=null;var s=be;be=1;var l=pe;pe|=4,Ng.current=null,EO(e,r),e2(r,e),ZP(tm),eu=!!em,tm=em=null,e.current=r,CO(r),iP(),pe=l,be=s,wr.transition=a}else e.current=r;if(lc&&(lc=!1,ii=e,gu=i),a=e.pendingLanes,a===0&&(fi=null),oP(r.stateNode),qt(e,We()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pu)throw pu=!1,e=wm,wm=null,e;return gu&1&&e.tag!==0&&Za(),a=e.pendingLanes,a&1?e===jm?Co++:(Co=0,jm=e):Co=0,ji(),null}function Za(){if(ii!==null){var e=U1(gu),t=wr.transition,r=be;try{if(wr.transition=null,be=16>e?16:e,ii===null)var n=!1;else{if(e=ii,ii=null,gu=0,pe&6)throw Error(V(331));var i=pe;for(pe|=4,Z=e.current;Z!==null;){var a=Z,s=a.child;if(Z.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:So(8,d,a)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,m=d.return;if(Jj(d),d===u){Z=null;break}if(h!==null){h.return=m,Z=h;break}Z=m}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}Z=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Z=s;else e:for(;Z!==null;){if(a=Z,a.flags&2048)switch(a.tag){case 0:case 11:case 15:So(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Z=x;break e}Z=a.return}}var g=e.current;for(Z=g;Z!==null;){s=Z;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,Z=p;else e:for(s=g;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gd(9,l)}}catch(_){Ue(l,l.return,_)}if(l===s){Z=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Z=j;break e}Z=l.return}}if(pe=i,ji(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(ld,e)}catch{}n=!0}return n}finally{be=r,wr.transition=t}}return!1}function Hy(e,t,r){t=us(r,t),t=Uj(e,t,1),e=di(e,t,1),t=Mt(),e!==null&&(yl(e,1,t),qt(e,t))}function Ue(e,t,r){if(e.tag===3)Hy(e,e,r);else for(;t!==null;){if(t.tag===3){Hy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fi===null||!fi.has(n))){e=us(r,e),e=Bj(t,e,1),t=di(t,e,1),e=Mt(),t!==null&&(yl(t,1,e),qt(t,e));break}}t=t.return}}function IO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,lt===e&&(xt&r)===r&&(tt===4||tt===3&&(xt&130023424)===xt&&500>We()-Eg?Gi(e,0):Sg|=r),qt(e,t)}function o2(e,t){t===0&&(e.mode&1?(t=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):t=1);var r=Mt();e=Cn(e,t),e!==null&&(yl(e,t,r),qt(e,r))}function DO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),o2(e,r)}function LO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),o2(e,r)}var l2;l2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ut=!1,_O(e,t,r);Ut=!!(e.flags&131072)}else Ut=!1,Ae&&t.flags&1048576&&fj(t,ou,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Uc(e,t),e=t.pendingProps;var i=ss(t,Ct.current);Xa(t,r),i=bg(null,t,n,e,i,r);var a=wg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wt(n)?(a=!0,au(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pg(t),i.updater=pd,t.stateNode=i,i._reactInternals=t,um(t,n,e,r),t=hm(null,t,n,!0,a,r)):(t.tag=0,Ae&&a&&lg(t),At(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Uc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=RO(n),e=Lr(n,e),i){case 0:t=fm(null,t,n,e,r);break e;case 1:t=Ly(null,t,n,e,r);break e;case 11:t=Iy(null,t,n,e,r);break e;case 14:t=Dy(null,t,n,Lr(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),fm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),Ly(e,t,n,i,r);case 3:e:{if(Vj(t),e===null)throw Error(V(387));n=t.pendingProps,a=t.memoizedState,i=a.element,yj(e,t),uu(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=us(Error(V(423)),t),t=$y(e,t,n,r,i);break e}else if(n!==i){i=us(Error(V(424)),t),t=$y(e,t,n,r,i);break e}else for(Xt=ui(t.stateNode.containerInfo.firstChild),Zt=t,Ae=!0,zr=null,r=gj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(os(),n===i){t=Pn(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return xj(t),e===null&&om(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,rm(n,i)?s=null:a!==null&&rm(n,a)&&(t.flags|=32),qj(e,t),At(e,t,s,r),t.child;case 6:return e===null&&om(t),null;case 13:return Hj(e,t,r);case 4:return gg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ls(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),Iy(e,t,n,i,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ne(lu,n._currentValue),n._currentValue=s,a!==null)if(qr(a.value,s)){if(a.children===i.children&&!Ft.current){t=Pn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=jn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),lm(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(V(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),lm(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}At(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Xa(t,r),i=_r(i),n=n(i),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,i=Lr(n,t.pendingProps),i=Lr(n.type,i),Dy(e,t,n,i,r);case 15:return Fj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Lr(n,i),Uc(e,t),t.tag=1,Wt(n)?(e=!0,au(t)):e=!1,Xa(t,r),zj(t,n,i),um(t,n,i,r),hm(null,t,n,!0,e,r);case 19:return Kj(e,t,r);case 22:return Wj(e,t,r)}throw Error(V(156,t.tag))};function c2(e,t){return L1(e,t)}function $O(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(e,t,r,n){return new $O(e,t,r,n)}function Ag(e){return e=e.prototype,!(!e||!e.isReactComponent)}function RO(e){if(typeof e=="function")return Ag(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qp)return 11;if(e===Jp)return 14}return 2}function mi(e,t){var r=e.alternate;return r===null?(r=vr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wc(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")Ag(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case La:return Yi(r.children,i,a,t);case Yp:s=8,i|=8;break;case Ih:return e=vr(12,r,t,i|2),e.elementType=Ih,e.lanes=a,e;case Dh:return e=vr(13,r,t,i),e.elementType=Dh,e.lanes=a,e;case Lh:return e=vr(19,r,t,i),e.elementType=Lh,e.lanes=a,e;case x1:return yd(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v1:s=10;break e;case y1:s=9;break e;case Qp:s=11;break e;case Jp:s=14;break e;case Gn:s=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=vr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Yi(e,t,r,n){return e=vr(7,e,n,t),e.lanes=r,e}function yd(e,t,r,n){return e=vr(22,e,n,t),e.elementType=x1,e.lanes=r,e.stateNode={isHidden:!1},e}function qf(e,t,r){return e=vr(6,e,null,t),e.lanes=r,e}function Vf(e,t,r){return t=vr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tg(e,t,r,n,i,a,s,l,c){return e=new zO(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(a),e}function UO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Da,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function u2(e){if(!e)return vi;e=e._reactInternals;e:{if(ga(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Wt(r))return uj(e,r,t)}return t}function d2(e,t,r,n,i,a,s,l,c){return e=Tg(r,n,!0,e,i,a,s,l,c),e.context=u2(null),r=e.current,n=Mt(),i=hi(r),a=jn(n,i),a.callback=t??null,di(r,a,i),e.current.lanes=i,yl(e,i,n),qt(e,n),e}function xd(e,t,r,n){var i=t.current,a=Mt(),s=hi(i);return r=u2(r),t.context===null?t.context=r:t.pendingContext=r,t=jn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=di(i,t,s),e!==null&&(Wr(e,i,s,a),$c(e,i,s)),s}function yu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mg(e,t){Ky(e,t),(e=e.alternate)&&Ky(e,t)}function BO(){return null}var f2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ig(e){this._internalRoot=e}bd.prototype.render=Ig.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));xd(e,t,null,null)};bd.prototype.unmount=Ig.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;sa(function(){xd(null,e,null,null)}),t[En]=null}};function bd(e){this._internalRoot=e}bd.prototype.unstable_scheduleHydration=function(e){if(e){var t=W1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zn.length&&t!==0&&t<Zn[r].priority;r++);Zn.splice(r,0,e),r===0&&V1(e)}};function Dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gy(){}function FO(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=yu(s);a.call(u)}}var s=d2(t,n,e,0,null,!1,!1,"",Gy);return e._reactRootContainer=s,e[En]=s.current,Wo(e.nodeType===8?e.parentNode:e),sa(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=yu(c);l.call(u)}}var c=Tg(e,0,!1,null,null,!1,!1,"",Gy);return e._reactRootContainer=c,e[En]=c.current,Wo(e.nodeType===8?e.parentNode:e),sa(function(){xd(t,c,r,n)}),c}function jd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=yu(s);l.call(c)}}xd(t,s,e,i)}else s=FO(r,t,e,i,n);return yu(s)}B1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mo(t.pendingLanes);r!==0&&(eg(t,r|1),qt(t,We()),!(pe&6)&&(ds=We()+500,ji()))}break;case 13:sa(function(){var n=Cn(e,1);if(n!==null){var i=Mt();Wr(n,e,1,i)}}),Mg(e,1)}};tg=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var r=Mt();Wr(t,e,134217728,r)}Mg(e,134217728)}};F1=function(e){if(e.tag===13){var t=hi(e),r=Cn(e,t);if(r!==null){var n=Mt();Wr(r,e,t,n)}Mg(e,t)}};W1=function(){return be};q1=function(e,t){var r=be;try{return be=e,t()}finally{be=r}};Hh=function(e,t,r){switch(t){case"input":if(zh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=fd(n);if(!i)throw Error(V(90));w1(n),zh(n,i)}}}break;case"textarea":_1(e,r);break;case"select":t=r.value,t!=null&&Ga(e,!!r.multiple,t,!1)}};O1=Cg;A1=sa;var WO={usingClientEntryPoint:!1,Events:[bl,Ua,fd,C1,P1,Cg]},to={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qO={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=I1(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||BO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ld=cc.inject(qO),tn=cc}catch{}}nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WO;nr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(t))throw Error(V(200));return UO(e,t,null,r)};nr.createRoot=function(e,t){if(!Dg(e))throw Error(V(299));var r=!1,n="",i=f2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Tg(e,1,!1,null,null,r,!1,n,i),e[En]=t.current,Wo(e.nodeType===8?e.parentNode:e),new Ig(t)};nr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=I1(t),e=e===null?null:e.stateNode,e};nr.flushSync=function(e){return sa(e)};nr.hydrate=function(e,t,r){if(!wd(t))throw Error(V(200));return jd(null,e,t,!0,r)};nr.hydrateRoot=function(e,t,r){if(!Dg(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=f2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=d2(t,null,e,1,r??null,i,!1,a,s),e[En]=t.current,Wo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new bd(t)};nr.render=function(e,t,r){if(!wd(t))throw Error(V(200));return jd(null,e,t,!1,r)};nr.unmountComponentAtNode=function(e){if(!wd(e))throw Error(V(40));return e._reactRootContainer?(sa(function(){jd(null,null,e,!1,function(){e._reactRootContainer=null,e[En]=null})}),!0):!1};nr.unstable_batchedUpdates=Cg;nr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wd(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return jd(e,t,r,!1,n)};nr.version="18.3.1-next-f1338f8080-20240426";function h2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h2)}catch(e){console.error(e)}}h2(),h1.exports=nr;var Lg=h1.exports,m2,Yy=Lg;m2=Yy.createRoot,Yy.hydrateRoot;const VO="modulepreload",HO=function(e){return"/"+e},Qy={},jl=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=HO(c),c in Qy)return;Qy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":VO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},KO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jl(async()=>{const{default:n}=await Promise.resolve().then(()=>As);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $g extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GO extends $g{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Jy extends $g{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xy extends $g{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Nm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Nm||(Nm={}));var YO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class QO{constructor(t,{headers:r={},customFetch:n,region:i=Nm.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=KO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return YO(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new GO(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Jy(f);if(!f.ok)throw new Xy(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Xy||i instanceof Jy?i.context:void 0}}})}}var zt={},Rg={},_d={},_l={},kd={},Nd={},JO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},fs=JO();const XO=fs.fetch,p2=fs.fetch.bind(fs),g2=fs.Headers,ZO=fs.Request,eA=fs.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:g2,Request:ZO,Response:eA,default:p2,fetch:XO},Symbol.toStringTag,{value:"Module"})),tA=yC(As);var Sd={};Object.defineProperty(Sd,"__esModule",{value:!0});let rA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Sd.default=rA;var v2=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nd,"__esModule",{value:!0});const nA=v2(tA),iA=v2(Sd);let aA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,l,c,u;let d=null,f=null,h=null,m=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,y="OK")}catch{a.status===404&&w===""?(m=204,y="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new iA.default(d)}return{error:d,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,l,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Nd.default=aA;var sA=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kd,"__esModule",{value:!0});const oA=sA(Nd);let lA=class extends oA.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};kd.default=lA;var cA=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_l,"__esModule",{value:!0});const uA=cA(kd);let dA=class extends uA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};_l.default=dA;var fA=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_d,"__esModule",{value:!0});const ro=fA(_l);let hA=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new ro.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ro.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ro.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new ro.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new ro.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};_d.default=hA;var y2=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rg,"__esModule",{value:!0});const mA=y2(_d),pA=y2(_l);let gA=class x2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new mA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new x2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new pA.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};Rg.default=gA;var Ts=jr&&jr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zt,"__esModule",{value:!0});zt.PostgrestError=zt.PostgrestBuilder=zt.PostgrestTransformBuilder=zt.PostgrestFilterBuilder=zt.PostgrestQueryBuilder=zt.PostgrestClient=void 0;const b2=Ts(Rg);zt.PostgrestClient=b2.default;const w2=Ts(_d);zt.PostgrestQueryBuilder=w2.default;const j2=Ts(_l);zt.PostgrestFilterBuilder=j2.default;const _2=Ts(kd);zt.PostgrestTransformBuilder=_2.default;const k2=Ts(Nd);zt.PostgrestBuilder=k2.default;const N2=Ts(Sd);zt.PostgrestError=N2.default;var vA=zt.default={PostgrestClient:b2.default,PostgrestQueryBuilder:w2.default,PostgrestFilterBuilder:j2.default,PostgrestTransformBuilder:_2.default,PostgrestBuilder:k2.default,PostgrestError:N2.default};const{PostgrestClient:yA,PostgrestQueryBuilder:Rq,PostgrestFilterBuilder:zq,PostgrestTransformBuilder:Uq,PostgrestBuilder:Bq,PostgrestError:Fq}=vA;class xA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bA="2.15.5",wA=`realtime-js/${bA}`,jA="1.0.0",Sm=1e4,_A=1e3,kA=100;var Po;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Po||(Po={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Rr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rr||(Rr={}));var Em;(function(e){e.websocket="websocket"})(Em||(Em={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class NA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class S2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const Zy=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=SA(s,e,t,i),a),{})},SA=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?E2(a,s):Cm(s)},E2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return OA(t,r)}switch(e){case _e.bool:return EA(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return CA(t);case _e.json:case _e.jsonb:return PA(t);case _e.timestamp:return AA(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Cm(t);default:return Cm(t)}},Cm=e=>e,EA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},OA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>E2(t,l))}return e},AA=e=>typeof e=="string"?e.replace(" ","T"):e,C2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hf{constructor(t,r,n={},i=Sm){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ex;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ex||(ex={}));class Oo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Oo.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Oo.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tx||(tx={}));var Ao;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ao||(Ao={}));var hn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class zg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hf(this,Rr.join,this.params,this.timeout),this.rejoinTimer=new S2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Oo(this),this.broadcastEndpointURL=C2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ao.PRESENCE]&&this.bindings[Ao.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(hn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(hn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,x=[];for(let g=0;g<w;g++){const p=b[g],{filter:{event:j,schema:_,table:N,filter:k}}=p,E=m&&m[g];if(E&&E.event===j&&E.schema===_&&E.table===N&&E.filter===k)x.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(hn.SUBSCRIBED);return}}).receive("error",m=>{this.state=Qe.errored,t==null||t(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qe.joined&&t===Ao.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Hf(this,Rr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>kA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Rr;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,b,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var y,b,w,x,g,p;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:w,commit_timestamp:x,type:g,errors:p}=y;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:x,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&zg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rr.close,{},t)}_onError(t){this._on(Rr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Zy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Zy(t.columns,t.old_record)),r}}const Kf=()=>{},uc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TA=[1e3,2e3,5e3,1e4],MA=1e4,IA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class DA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sm,this.transport=null,this.heartbeatIntervalMs=uc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kf,this.ref=0,this.reconnectTimer=null,this.logger=Kf,this.conn=null,this.sendBuffer=[],this.serializer=new NA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>jl(async()=>{const{default:l}=await Promise.resolve().then(()=>As);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Em.websocket}`,this.httpEndpoint=C2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=xA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Po.connecting:return Ui.Connecting;case Po.open:return Ui.Open;case Po.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new zg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_A,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},uc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([IA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:wA};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Rr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new S2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Sm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:uc.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Kf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>TA[f-1]||MA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ug extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class LA extends Ug{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pm extends Ug{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var $A=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const P2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jl(async()=>{const{default:n}=await Promise.resolve().then(()=>As);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},RA=()=>$A(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jl(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Om=e=>{if(Array.isArray(e))return e.map(r=>Om(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Om(n)}),t},zA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var va=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Gf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UA=(e,t,r)=>va(void 0,void 0,void 0,function*(){const n=yield RA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new LA(Gf(i),a,s))}).catch(i=>{t(new Pm(Gf(i),i))}):t(new Pm(Gf(e),e))}),BA=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(zA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function kl(e,t,r,n,i,a){return va(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,BA(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>UA(c,l,n))})})}function xu(e,t,r,n){return va(this,void 0,void 0,function*(){return kl(e,"GET",t,r,n)})}function Xr(e,t,r,n,i){return va(this,void 0,void 0,function*(){return kl(e,"POST",t,n,i,r)})}function Am(e,t,r,n,i){return va(this,void 0,void 0,function*(){return kl(e,"PUT",t,n,i,r)})}function FA(e,t,r,n){return va(this,void 0,void 0,function*(){return kl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function O2(e,t,r,n,i){return va(this,void 0,void 0,function*(){return kl(e,"DELETE",t,n,i,r)})}var Ot=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const WA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rx={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qA{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=P2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Ot(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},rx),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Am:Xr)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Je(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Ot(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:rx.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Am(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Je(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Xr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),l=s.searchParams.get("token");if(!l)throw new Ug("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield Xr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Ot(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Xr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Ot(this,void 0,void 0,function*(){try{const i=yield Xr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}download(t,r){return Ot(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield xu(this.fetch,`${this.url}/${i}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Je(l))return{data:null,error:l};throw l}})}info(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield xu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Om(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}exists(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield FA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n)&&n instanceof Pm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ot(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},WA),r),{prefix:t||""});return{data:yield Xr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Je(i))return{data:null,error:i};throw i}})}listV2(t,r){return Ot(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Xr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const VA="2.12.1",HA={"X-Client-Info":`storage-js/${VA}`};var Sa=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class KA{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},HA),r),this.fetch=P2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Sa(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}getBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield xu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Sa(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Sa(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Je(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Sa(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}}class GA extends KA{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new qA(this.url,this.headers,t,this.fetch)}}const YA="2.57.4";let go="";typeof Deno<"u"?go="deno":typeof document<"u"?go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?go="react-native":go="node";const QA={"X-Client-Info":`supabase-js-${go}/${YA}`},JA={headers:QA},XA={schema:"public"},ZA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eT={};var tT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rT=e=>{let t;return e?t=e:typeof fetch>"u"?t=p2:t=fetch,(...r)=>t(...r)},nT=()=>typeof Headers>"u"?g2:Headers,iT=(e,t,r)=>{const n=rT(r),i=nT();return(a,s)=>tT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var aT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function sT(e){return e.endsWith("/")?e:e+"/"}function oT(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>aT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function lT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const A2="2.71.1",Ma=30*1e3,Tm=3,Yf=Tm*Ma,cT="http://localhost:9999",uT="supabase.auth.token",dT={"X-Client-Info":`gotrue-js/${A2}`},Mm="X-Supabase-Api-Version",T2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hT=10*60*1e3;class Bg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mT extends Bg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pT(e){return ce(e)&&e.name==="AuthApiError"}class M2 extends Bg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _i extends Bg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Hn extends _i{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gT(e){return ce(e)&&e.name==="AuthSessionMissingError"}class dc extends _i{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fc extends _i{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hc extends _i{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vT(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class nx extends _i{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Im extends _i{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qf(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class ix extends _i{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Dm extends _i{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ax=` 	
\r=`.split(""),yT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ax.length;t+=1)e[ax[t].charCodeAt(0)]=-2;for(let t=0;t<bu.length;t+=1)e[bu[t].charCodeAt(0)]=t;return e})();function sx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bu[n]),t.queuedBits-=6}}function I2(e,t,r){const n=yT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ox(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{wT(s,n,r)};for(let s=0;s<e.length;s+=1)I2(e.charCodeAt(s),i,a);return t.join("")}function xT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}xT(n,t)}}function wT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)I2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function _T(e){const t=[];return bT(e,r=>t.push(r)),new Uint8Array(t)}function kT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>sx(i,r,n)),sx(null,r,n),t.join("")}function NT(e){return Math.round(Date.now()/1e3)+e}function ST(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",Ai={tested:!1,writable:!1},D2=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ai.tested)return Ai.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ai.tested=!0,Ai.writable=!0}catch{Ai.tested=!0,Ai.writable=!1}return Ai.writable};function ET(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const L2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>jl(async()=>{const{default:n}=await Promise.resolve().then(()=>As);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},CT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ia=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ti=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vn=async(e,t)=>{await e.removeItem(t)};class Ed{constructor(){this.promise=new Ed.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ed.promiseConstructor=Promise;function Jf(e){const t=e.split(".");if(t.length!==3)throw new Dm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fT.test(t[n]))throw new Dm("JWT not in base64url format");return{header:JSON.parse(ox(t[0])),payload:JSON.parse(ox(t[1])),signature:jT(t[2]),raw:{header:t[0],payload:t[1]}}}async function PT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function AT(e){return("0"+e.toString(16)).substr(-2)}function TT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,AT).join("")}async function MT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function IT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await MT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ea(e,t,r=!1){const n=TT();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ia(e,`${t}-code-verifier`,i);const a=await IT(n);return[a,n===a?"plain":"s256"]}const DT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function LT(e){const t=e.headers.get(Mm);if(!t||!t.match(DT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $T(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function RT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ca(e){if(!zT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xf(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lx(e){return JSON.parse(JSON.stringify(e))}var UT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Li=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BT=[502,503,504];async function cx(e){var t;if(!CT(e))throw new Im(Li(e),0);if(BT.includes(e.status))throw new Im(Li(e),e.status);let r;try{r=await e.json()}catch(a){throw new M2(Li(a),a)}let n;const i=LT(e);if(i&&i.getTime()>=T2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ix(Li(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Hn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new ix(Li(r),e.status,r.weak_password.reasons);throw new mT(Li(r),e.status||500,n)}const FT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fe(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[Mm]||(a[Mm]=T2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await WT(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function WT(e,t,r,n,i,a){const s=FT(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Im(Li(c),0)}if(l.ok||await cx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await cx(c)}}function dn(e){var t;let r=null;KT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=NT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ux(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ti(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qT(e){return{data:e,error:null}}function VT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=UT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function HT(e){return e}function KT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zf=["global","local","others"];var GT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class YT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=L2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Zf[0]){if(Zf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zf.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ti})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=GT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:VT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ce(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ti})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:HT});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ca(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ti})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ca(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ti})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ca(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ti})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ca(t.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ca(t.userId),Ca(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}function dx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function QT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pa={debug:!!(globalThis&&D2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class JT extends $2{}async function XT(e,t,r){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Pa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new JT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Pa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}QT();const ZT={url:cT,storageKey:uT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fx(e,t,r){return await r()}const Oa={};class Xo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xo.nextInstanceID,Xo.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ZT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new YT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=L2(i.fetch),this.lock=i.lock||fx,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XT:this.lock=fx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dx(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dx(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${A2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ET(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),vT(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ce(r)?{error:r}:{error:new M2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:dn}),{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ea(this.storage,this.storageKey)),a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:dn})}else throw new fc("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ux})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ux})}else throw new fc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,l,c,u,d,f,h,m;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:w,wallet:x,statement:g,options:p}=t;let j;if(Ir())if(typeof x=="object")j=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),b=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:w,error:x}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:kT(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dn});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new dc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(ce(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dn});if(await Vn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new dc}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(ce(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new dc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ea(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new fc("You must provide either an email or phone number.")}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:dn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await Ea(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:qT})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Hn;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new fc("You must provide either an email or phone number and a type")}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ti(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Yf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ti(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Xf()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ti}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ti})})}catch(r){if(ce(r))return gT(r)&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Hn;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ea(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:ti});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Jf(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(ce(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ce(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ir())throw new hc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nx("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new hc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ma&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const x={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ce(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ti(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(pT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Vn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ST(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ea(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(ce(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ce(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OT(async i=>(i>0&&await PT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Qf(a)&&Date.now()+s-n<Ma})}catch(n){if(this._debug(r,"error",n),ce(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ti(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ti(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ia(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Xf()}else if(i&&!i.user&&!i.user){const s=await Ti(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Vn(this.storage,this.storageKey+"-user"),await Ia(this.storage,this.storageKey,i)):i.user=Xf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Yf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Qf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ed;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Hn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),ce(a)){const s={session:null,error:a};return Qf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ia(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=lx(i);await Ia(this.storage,this.storageKey,a)}else{const i=lx(r);await Ia(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Vn(this.storage,this.storageKey),await Vn(this.storage,this.storageKey+"-code-verifier"),await Vn(this.storage,this.storageKey+"-user"),this.userStorage&&await Vn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ma);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ma);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ma}ms, refresh threshold is ${Tm} ticks`),i<=Tm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ea(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ce(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ce(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Jf(i.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hT>i)return n;const{data:a,error:s}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Jf(n);r!=null&&r.allowExpired||$T(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const d=RT(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,_T(`${l}.${c}`)))throw new Dm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}Xo.nextInstanceID=0;const e4=Xo;class t4 extends e4{constructor(t){super(t)}}var r4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class n4{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const l=lT(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:XA,realtime:eT,auth:Object.assign(Object.assign({},ZA),{storageKey:c}),global:JA},d=oT(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=iT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yA(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new GA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new QO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return r4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new DA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const i4=(e,t,r)=>new n4(e,t,r);function a4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}a4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s4="https://dpbohbsxstthvhzgqxje.supabase.co",o4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0",B=i4(s4,o4,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),ai=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),hs=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:i,error:a}=await B.storage.from("cloudmenu").upload(n,e);if(a)return{url:"",error:a.message};const{data:s}=B.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},es=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await B.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},l4=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await B.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},R2=v.createContext(void 0);function ar(){const e=v.useContext(R2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function c4({children:e}){const[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{const b=new URLSearchParams(window.location.search),w=b.has("code")||b.has("access_token")||b.has("token_type");d(w)},[]),v.useEffect(()=>{const b=()=>{const w=!document.hidden,x=a;if(x!==w&&s(w),w&&!x&&t&&!u){const g=Date.now(),p=sessionStorage.getItem("lastSessionCheck");g-(p?parseInt(p):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",g.toString()),B.auth.getSession().then(({data:{session:_}})=>{!_&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(_=>{console.error("Error checking session on tab visibility change:",_)}))}};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[t,u]),v.useEffect(()=>{let b=!0,w=null;const x=u?15e3:8e3,g=setTimeout(()=>{b&&n&&(console.warn(`Auth initialization timeout after ${x}ms - forcing completion`),i(!1),B.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&b&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},x);return c(g),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),_=sessionStorage.getItem("lastAuthInit");if(j-(_?parseInt(_):0)<60*60*1e3&&t&&!u){i(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:k}}=await B.auth.getSession();g&&clearTimeout(g),b&&r((k==null?void 0:k.user)??null)}catch(k){console.error("Error initializing auth:",k),g&&clearTimeout(g),b&&r(null)}finally{b&&(i(!1),g&&clearTimeout(g))}})(),w=B.auth.onAuthStateChange(async(j,_)=>{var N;if(b&&!(!a&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((N=_==null?void 0:_.user)==null?void 0:N.id)===t.id))try{r((_==null?void 0:_.user)??null)}catch(k){console.error("Error in auth state change:",k)}finally{b&&i(!1)}}),()=>{b=!1,l&&clearTimeout(l),w&&w.data.subscription.unsubscribe()}},[a,u]);const f=async(b,w)=>{const{error:x}=await B.auth.signInWithPassword({email:b,password:w});return{error:x??void 0}},h=async(b,w)=>{const{error:x}=await B.auth.signUp({email:b,password:w});return{error:x??void 0}},m=async()=>{try{const{error:b}=await B.auth.signOut();b?console.error("Erreur lors de la déconnexion:",b):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},y={user:t,loading:n,signIn:f,signUp:h,signOut:m};return o.jsx(R2.Provider,{value:y,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...u4,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${d4(e)}`,l].join(" "),...u},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=te("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=te("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=te("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=te("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=te("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=te("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class A4 extends v.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(f4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontré une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner à l'accueil."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(C4,{className:"w-4 h-4"}),o.jsx("span",{children:"Recharger"})]}),o.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 Si le problème persiste:"}),o.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[o.jsx("li",{children:"• Vérifiez votre connexion internet"}),o.jsx("li",{children:"• Effacez le cache de votre navigateur"}),o.jsx("li",{children:"• Contactez le support si nécessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vx="popstate";function T4(e={}){function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return qm("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:il(i)}return I4(t,r,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Vr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function M4(){return Math.random().toString(36).substring(2,10)}function yx(e,t){return{usr:e.state,key:e.key,idx:t}}function qm(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ms(t):t,state:r,key:t&&t.key||n||M4()}}function il({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ms(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function I4(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let w=d(),x=w==null?null:w-u;u=w,c&&c({action:l,location:b.location,delta:x})}function h(w,x){l="PUSH";let g=qm(b.location,w,x);u=d()+1;let p=yx(g,u),j=b.createHref(g);try{s.pushState(p,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(j)}a&&c&&c({action:l,location:b.location,delta:1})}function m(w,x){l="REPLACE";let g=qm(b.location,w,x);u=d();let p=yx(g,u),j=b.createHref(g);s.replaceState(p,"",j),a&&c&&c({action:l,location:b.location,delta:0})}function y(w){return D4(w)}let b={get action(){return l},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(vx,f),c=w,()=>{i.removeEventListener(vx,f),c=null}},createHref(w){return t(i,w)},createURL:y,encodeLocation(w){let x=y(w);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(w){return s.go(w)}};return b}function D4(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$e(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:il(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function B2(e,t,r="/"){return L4(e,t,r,!1)}function L4(e,t,r,n){let i=typeof t=="string"?Ms(t):t,a=An(i.pathname||"/",r);if(a==null)return null;let s=F2(e);$4(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=G4(a);l=H4(s[c],u,n)}return l}function F2(e,t=[],r=[],n="",i=!1){let a=(s,l,c=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;$e(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=_n([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&($e(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),F2(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:q4(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let u of W2(s.path))a(s,l,!0,u)}),t}function W2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=W2(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function $4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:V4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var R4=/^:[\w-]+$/,z4=3,U4=2,B4=1,F4=10,W4=-2,xx=e=>e==="*";function q4(e,t){let r=e.split("/"),n=r.length;return r.some(xx)&&(n+=W4),t&&(n+=U4),r.filter(i=>!xx(i)).reduce((i,a)=>i+(R4.test(a)?z4:a===""?B4:F4),n)}function V4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function H4(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=ju({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:_n([a,f.pathname]),pathnameBase:X4(_n([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=_n([a,f.pathnameBase]))}return s}function ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=K4(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function K4(e,t=!1,r=!0){Vr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function G4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Vr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function An(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Y4(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ms(e):e;return{pathname:r?r.startsWith("/")?r:Q4(r,t):t,search:Z4(n),hash:eM(i)}}function Q4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rh(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function q2(e){let t=J4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function V2(e,t,r,n=!1){let i;typeof e=="string"?i=Ms(e):(i={...e},$e(!i.pathname||!i.pathname.includes("?"),rh("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),rh("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),rh("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Y4(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var _n=e=>e.join("/").replace(/\/\/+/g,"/"),X4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var H2=["POST","PUT","PATCH","DELETE"];new Set(H2);var rM=["GET",...H2];new Set(rM);var Is=v.createContext(null);Is.displayName="DataRouter";var Cd=v.createContext(null);Cd.displayName="DataRouterState";v.createContext(!1);var K2=v.createContext({isTransitioning:!1});K2.displayName="ViewTransition";var nM=v.createContext(new Map);nM.displayName="Fetchers";var iM=v.createContext(null);iM.displayName="Await";var ln=v.createContext(null);ln.displayName="Navigation";var El=v.createContext(null);El.displayName="Location";var cn=v.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var Hg=v.createContext(null);Hg.displayName="RouteError";function aM(e,{relative:t}={}){$e(Cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(ln),{hash:i,pathname:a,search:s}=Pl(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:_n([r,a])),n.createHref({pathname:l,search:s,hash:i})}function Cl(){return v.useContext(El)!=null}function $n(){return $e(Cl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(El).location}var G2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y2(e){v.useContext(ln).static||v.useLayoutEffect(e)}function Kr(){let{isDataRoute:e}=v.useContext(cn);return e?yM():sM()}function sM(){$e(Cl(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Is),{basename:t,navigator:r}=v.useContext(ln),{matches:n}=v.useContext(cn),{pathname:i}=$n(),a=JSON.stringify(q2(n)),s=v.useRef(!1);return Y2(()=>{s.current=!0}),v.useCallback((c,u={})=>{if(Vr(s.current,G2),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=V2(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_n([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}v.createContext(null);function ya(){let{matches:e}=v.useContext(cn),t=e[e.length-1];return t?t.params:{}}function Pl(e,{relative:t}={}){let{matches:r}=v.useContext(cn),{pathname:n}=$n(),i=JSON.stringify(q2(r));return v.useMemo(()=>V2(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function oM(e,t){return Q2(e,t)}function Q2(e,t,r,n,i){var g;$e(Cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(ln),{matches:s}=v.useContext(cn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let p=f&&f.path||"";J2(u,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=$n(),m;if(t){let p=typeof t=="string"?Ms(t):t;$e(d==="/"||((g=p.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let y=m.pathname||"/",b=y;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=B2(e,{pathname:b});Vr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Vr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=fM(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:_n([d,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:_n([d,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n,i);return t&&x?v.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function lM(){let e=vM(),t=tM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:i},r):null,s)}var cM=v.createElement(lM,null),uM=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(cn.Provider,{value:this.props.routeContext},v.createElement(Hg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dM({routeContext:e,match:t,children:r}){let n=v.useContext(Is);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(cn.Provider,{value:e},r)}function fM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);$e(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,m=!1,y=null,b=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||cM,l&&(c<0&&f===0?(J2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),x=()=>{let g;return h?g=y:m?g=b:d.route.Component?g=v.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,v.createElement(dM,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(uM,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):x()},null)}function Kg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hM(e){let t=v.useContext(Is);return $e(t,Kg(e)),t}function mM(e){let t=v.useContext(Cd);return $e(t,Kg(e)),t}function pM(e){let t=v.useContext(cn);return $e(t,Kg(e)),t}function Gg(e){let t=pM(e),r=t.matches[t.matches.length-1];return $e(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function gM(){return Gg("useRouteId")}function vM(){var n;let e=v.useContext(Hg),t=mM("useRouteError"),r=Gg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function yM(){let{router:e}=hM("useNavigate"),t=Gg("useNavigate"),r=v.useRef(!1);return Y2(()=>{r.current=!0}),v.useCallback(async(i,a={})=>{Vr(r.current,G2),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var bx={};function J2(e,t,r){!t&&!bx[e]&&(bx[e]=!0,Vr(!1,r))}v.memo(xM);function xM({routes:e,future:t,state:r,unstable_onError:n}){return Q2(e,void 0,r,n,t)}function mt(e){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bM({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){$e(!Cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=Ms(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=v.useMemo(()=>{let y=An(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Vr(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(ln.Provider,{value:l},v.createElement(El.Provider,{children:t,value:m}))}function wM({children:e,location:t}){return oM(Vm(e),t)}function Vm(e,t=[]){let r=[];return v.Children.forEach(e,(n,i)=>{if(!v.isValidElement(n))return;let a=[...t,i];if(n.type===v.Fragment){r.push.apply(r,Vm(n.props.children,a));return}$e(n.type===mt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Vm(n.props.children,a)),r.push(s)}),r}var Vc="get",Hc="application/x-www-form-urlencoded";function Pd(e){return e!=null&&typeof e.tagName=="string"}function jM(e){return Pd(e)&&e.tagName.toLowerCase()==="button"}function _M(e){return Pd(e)&&e.tagName.toLowerCase()==="form"}function kM(e){return Pd(e)&&e.tagName.toLowerCase()==="input"}function NM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SM(e,t){return e.button===0&&(!t||t==="_self")&&!NM(e)}function Hm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function EM(e,t){let r=Hm(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var mc=null;function CM(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var PM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nh(e){return e!=null&&!PM.has(e)?(Vr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):e}function OM(e,t){let r,n,i,a,s;if(_M(e)){let l=e.getAttribute("action");n=l?An(l,t):null,r=e.getAttribute("method")||Vc,i=nh(e.getAttribute("enctype"))||Hc,a=new FormData(e)}else if(jM(e)||kM(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?An(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Vc,i=nh(e.getAttribute("formenctype"))||nh(l.getAttribute("enctype"))||Hc,a=new FormData(l,e),!CM()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(Pd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Vc,n=null,i=Hc,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function AM(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&An(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function TM(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MM(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function IM(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await TM(a,r);return s.links?s.links():[]}return[]}));return RM(n.flat(1).filter(MM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function wx(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function DM(e,t,{includeHydrateFallback:r}={}){return LM(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LM(e){return[...new Set(e)]}function $M(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function RM(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify($M(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function X2(){let e=v.useContext(Is);return Yg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zM(){let e=v.useContext(Cd);return Yg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Qg=v.createContext(void 0);Qg.displayName="FrameworkContext";function Z2(){let e=v.useContext(Qg);return Yg(e,"You must render this element inside a <HydratedRouter> element"),e}function UM(e,t){let r=v.useContext(Qg),[n,i]=v.useState(!1),[a,s]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=x=>{x.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{i(!0)},y=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:no(l,m),onBlur:no(c,y),onMouseEnter:no(u,m),onMouseLeave:no(d,y),onTouchStart:no(f,m)}]:[!1,h,{}]}function no(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function BM({page:e,...t}){let{router:r}=X2(),n=v.useMemo(()=>B2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(WM,{page:e,matches:n,...t}):null}function FM(e){let{manifest:t,routeModules:r}=Z2(),[n,i]=v.useState([]);return v.useEffect(()=>{let a=!1;return IM(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function WM({page:e,matches:t,...r}){let n=$n(),{manifest:i,routeModules:a}=Z2(),{basename:s}=X2(),{loaderData:l,matches:c}=zM(),u=v.useMemo(()=>wx(e,t,c,i,n,"data"),[e,t,c,i,n]),d=v.useMemo(()=>wx(e,t,c,i,n,"assets"),[e,t,c,i,n]),f=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(t.forEach(x=>{var p;let g=i.routes[x.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===x.route.id)&&x.route.id in l&&((p=a[x.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?b=!0:y.add(x.route.id))}),y.size===0)return[];let w=AM(e,s,"data");return b&&y.size>0&&w.searchParams.set("_routes",t.filter(x=>y.has(x.route.id)).map(x=>x.route.id).join(",")),[w.pathname+w.search]},[s,l,n,i,u,t,e,a]),h=v.useMemo(()=>DM(d,i),[d,i]),m=FM(d);return v.createElement(v.Fragment,null,f.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),h.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:b})=>v.createElement("link",{key:y,nonce:r.nonce,...b})))}function qM(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var e_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e_&&(window.__reactRouterVersion="7.9.1")}catch{}function VM({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=T4({window:r,v5Compat:!0}));let i=n.current,[a,s]=v.useState({action:i.action,location:i.location}),l=v.useCallback(c=>{v.startTransition(()=>s(c))},[s]);return v.useLayoutEffect(()=>i.listen(l),[i,l]),v.createElement(bM,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var t_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=v.useContext(ln),b=typeof u=="string"&&t_.test(u),w,x=!1;if(typeof u=="string"&&b&&(w=u,e_))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),O=An(C.pathname,y);C.origin===S.origin&&O!=null?u=O+C.search+C.hash:x=!0}catch{Vr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=aM(u,{relative:i}),[p,j,_]=UM(n,h),N=YM(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function k(S){t&&t(S),S.defaultPrevented||N(S)}let E=v.createElement("a",{...h,..._,href:w||g,onClick:x||a?t:k,ref:qM(m,j),target:c,"data-discover":!b&&r==="render"?"true":void 0});return p&&!b?v.createElement(v.Fragment,null,E,v.createElement(BM,{page:g})):E});et.displayName="Link";var HM=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let f=Pl(s,{relative:u.relative}),h=$n(),m=v.useContext(Cd),{navigator:y,basename:b}=v.useContext(ln),w=m!=null&&t3(f)&&l===!0,x=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,g=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),p=p?p.toLowerCase():null,x=x.toLowerCase()),p&&b&&(p=An(p,b)||p);const j=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=g===x||!i&&g.startsWith(x)&&g.charAt(j)==="/",N=p!=null&&(p===x||!i&&p.startsWith(x)&&p.charAt(x.length)==="/"),k={isActive:_,isPending:N,isTransitioning:w},E=_?t:void 0,S;typeof n=="function"?S=n(k):S=[n,_?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(k):a;return v.createElement(et,{...u,"aria-current":E,className:S,ref:d,style:C,to:s,viewTransition:l},typeof c=="function"?c(k):c)});HM.displayName="NavLink";var KM=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=Vc,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=ZM(),b=e3(l,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&t_.test(l),g=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let j=p.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||s;y(j||p.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:m,method:w,action:b,onSubmit:n?c:g,...h,"data-discover":!x&&e==="render"?"true":void 0})});KM.displayName="Form";function GM(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(e){let t=v.useContext(Is);return $e(t,GM(e)),t}function YM(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=Kr(),c=$n(),u=Pl(e,{relative:a});return v.useCallback(d=>{if(SM(d,t)){d.preventDefault();let f=r!==void 0?r:il(c)===il(u);l(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,l,u,r,n,t,e,i,a,s])}function QM(e){Vr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Hm(e)),r=v.useRef(!1),n=$n(),i=v.useMemo(()=>EM(n.search,r.current?null:t.current),[n.search]),a=Kr(),s=v.useCallback((l,c)=>{const u=Hm(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var JM=0,XM=()=>`__${String(++JM)}__`;function ZM(){let{router:e}=r_("useSubmit"),{basename:t}=v.useContext(ln),r=gM();return v.useCallback(async(n,i={})=>{let{action:a,method:s,encType:l,formData:c,body:u}=OM(n,t);if(i.navigate===!1){let d=i.fetcherKey||XM();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function e3(e,{relative:t}={}){let{basename:r}=v.useContext(ln),n=v.useContext(cn);$e(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Pl(e||".",{relative:t})},s=$n();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:_n([r,a.pathname])),il(a)}function t3(e,{relative:t}={}){let r=v.useContext(K2);$e(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=r_("useViewTransitionState"),i=Pl(e,{relative:t});if(!r.isTransitioning)return!1;let a=An(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=An(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ju(i.pathname,s)!=null||ju(i.pathname,a)!=null}const r3=()=>{const[e,t]=v.useState("classic"),[r,n]=v.useState(""),[i,a]=v.useState(""),[s,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[y,b]=v.useState(""),[w,x]=v.useState(!1),[g,p]=v.useState(!1),[j,_]=v.useState(""),[N,k]=v.useState(!1),{signIn:E,signUp:S}=ar(),C=async Y=>{if(Y.preventDefault(),!r.trim()||!i.trim()){O("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:M}=await E(r,i);M&&O("error",M.message==="Invalid login credentials"?"Email ou mot de passe incorrect":M.message)}catch{O("error","Une erreur est survenue")}finally{u(!1)}},O=(Y,M)=>{m({type:Y,text:M}),setTimeout(()=>m(null),5e3)},T=async Y=>{if(Y.preventDefault(),!j.trim()){O("error","Veuillez entrer votre adresse email");return}k(!0);try{const{error:M}=await B.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});M?O("error",M.message):(O("success","Un email de réinitialisation a été envoyé à votre adresse email."),p(!1),_(""))}catch{O("error","Une erreur est survenue")}finally{k(!1)}},I=async Y=>{if(Y.preventDefault(),!y.trim()){O("error","Veuillez entrer votre adresse email");return}x(!0);try{const{error:M}=await B.auth.signInWithOtp({email:y,options:{emailRedirectTo:`${window.location.origin}/`}});M?O("error",M.message):(O("success","Un lien de connexion a été envoyé à votre adresse email ! Cliquez sur le lien pour vous connecter."),b(""))}catch{O("error","Une erreur est survenue")}finally{x(!1)}},R=async()=>{try{const{error:Y}=await B.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});Y&&O("error",Y.message)}catch{O("error","Erreur lors de la connexion avec Google")}},J=async()=>{if(!r.trim()||!i.trim()){O("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:Y}=await S(r,i);Y?O("error",Y.message):(O("success","Compte créé avec succès ! Vous pouvez maintenant vous connecter."),a(""))}catch{O("error","Une erreur est survenue")}finally{f(!1)}};return g?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oublié"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de réinitialisation"})]}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Lm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(On,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:o.jsxs("form",{onSubmit:T,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:Y=>_(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:N,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:N?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Envoyer le lien de réinitialisation"}),o.jsx(eh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{p(!1),_(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour à la connexion"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Lm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(On,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"flex bg-gray-50",children:[o.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ts,{className:"w-4 h-4"}),o.jsx("span",{children:"Email & Mot de passe"})]})}),o.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(th,{className:"w-4 h-4"}),o.jsx("span",{children:"Connexion magique"})]})})]}),o.jsxs("div",{className:"p-8",children:[e==="classic"&&o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(nl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:Y=>n(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ts,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:Y=>a(Y.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>l(!s),children:s?o.jsx(Qi,{size:20}):o.jsx(nn,{size:20})})]})]}),o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oublié ?"})}),o.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[o.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Se connecter"}),o.jsx(eh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("button",{type:"button",onClick:J,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsx("span",{children:"Créer un compte"})})]})]}),e==="magic"&&o.jsxs("form",{onSubmit:I,className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(th,{className:"w-8 h-8 text-orange-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanément."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(zm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:y,onChange:Y=>b(Y.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(th,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Envoyer le lien magique"}),o.jsx(eh,{className:"ml-2 w-4 h-4"})]})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),o.jsxs("button",{type:"button",onClick:R,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(nl,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de démonstration"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function Qr({children:e}){const{user:t,loading:r}=ar(),n=Kr(),[i,a]=v.useState(!1),[s,l]=v.useState(null),[c,u]=v.useState(!0),[d,f]=v.useState(!document.hidden),[h,m]=v.useState(null),[y,b]=v.useState(!1);v.useEffect(()=>{const g=new URLSearchParams(window.location.search),p=g.has("code")||g.has("access_token")||g.has("token_type");b(p)},[]),v.useEffect(()=>{if(y)return;const g=setTimeout(()=>{(i||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),a(!1))},1e4);return m(g),()=>{clearTimeout(g),m(null)}},[i,r,c,y]),v.useEffect(()=>{const g=()=>{const p=!document.hidden;p!==d&&f(p)};return document.addEventListener("visibilitychange",g),()=>document.removeEventListener("visibilitychange",g)},[d]),v.useEffect(()=>{let g=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){g&&l(!1);return}const j=Date.now(),_=sessionStorage.getItem("lastMenuCheck");if(j-(_?parseInt(_):0)<5*60*1e3&&s!==null)return;const k=s===null&&window.location.pathname!=="/onboarding";k&&a(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:E,error:S}=await B.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!g)return;if(S&&S.code!=="PGRST116"){console.error("Error checking restaurant profile:",S),l(!1),n("/onboarding",{replace:!0});return}const C=!!E;l(C),!C&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(E){if(!g)return;console.error("Exception during profile check:",E),l(!1),n("/onboarding",{replace:!0})}finally{g&&k&&a(!1)}})(),()=>{g=!1})},[t,r,n,s,d,y]),v.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),x=i&&s===null;if(w||x){const g=y?"Finalisation de la connexion...":w?"Chargement...":x?"Vérification du compte...":"Initialisation...";return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:g})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vérification du compte..."})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(r3,{})}const n3=()=>{const{user:e,loading:t}=ar(),r=Kr(),[n,i]=v.useState(1),[a,s]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState(!1),x=3;v.useEffect(()=>{e&&g()},[e]),v.useEffect(()=>{const O=setTimeout(()=>{if(u.restaurant_name.trim()){const T=ai(u.restaurant_name);d(I=>({...I,slug:T})),y(!0)}else d(T=>({...T,slug:""})),y(null)},500);return()=>clearTimeout(O)},[u.restaurant_name]);const g=async()=>{try{const{data:C,error:O}=await B.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(O&&O.code!=="PGRST116"){console.error("Erreur lors de la vérification du profil:",O);return}C&&r("/",{replace:!0})}catch(C){console.error("Erreur lors de la vérification du profil:",C)}},p=(C,O)=>{c({type:C,text:O}),setTimeout(()=>c(null),5e3)},j=(C,O)=>{d(T=>({...T,[C]:O}))},_=async(C,O)=>{if(!C||!e)return;const T=5*1024*1024;if(C.size>T){p("error","Le fichier est trop volumineux (max 5MB)");return}if(!C.type.startsWith("image/")){p("error","Veuillez sélectionner une image valide");return}w(!0);try{const I=O==="banner"?"banners":"logos",R=await hs(C,e.id,I);j(O==="banner"?"banner_url":"logo_url",R),p("success",`${O==="banner"?"Bannière":"Logo"} uploadé avec succès`)}catch{p("error","Erreur lors de l'upload")}finally{w(!1)}},N=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},k=()=>{N()&&n<x&&i(n+1)},E=()=>{n>1&&i(n-1)},S=async()=>{if(e){s(!0);try{const C={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:O}=await B.from("restaurant_profiles").insert([C]);if(O)throw O;p("success","Restaurant créé avec succès ! Bienvenue sur CloudMenu ! 🎉"),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(C){console.error("Erreur lors de la création du restaurant:",C),p("error","Erreur lors de la création du restaurant")}finally{s(!1)}}};return t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 relative",children:[o.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette étape"}),o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),o.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques étapes simples"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(x)].map((C,O)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${O+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:O+1}),O<x-1&&o.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${O+1<n?"bg-orange-600":"bg-gray-200"}`})]},O))}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Informations de base"}),o.jsx("span",{children:"Images"}),o.jsx("span",{children:"Contact"})]})]}),l&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[l.type==="success"?o.jsx(Be,{className:"w-5 h-5"}):o.jsx(Pe,{className:"w-5 h-5"}),o.jsx("span",{children:l.text})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre établissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Commençons par les informations essentielles de votre restaurant."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),o.jsx("input",{type:"text",value:u.restaurant_name,onChange:C=>j("restaurant_name",C.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?o.jsx(ye,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?o.jsx(Be,{className:"w-5 h-5 text-green-600"}):m===!1?o.jsx(On,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom différent."}),m===!0&&o.jsx("p",{className:"mt-2 text-sm text-green-600",children:"✅ Cette URL est disponible et sera réservée pour votre établissement."}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"💡 Cette URL sera définitive et servira à générer votre QR code."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),o.jsx("textarea",{value:u.description,onChange:C=>j("description",C.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre établissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannière pour personnaliser votre menu (optionnel)."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannière du restaurant"}),o.jsxs("div",{className:"space-y-3",children:[u.banner_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:u.banner_url,alt:"Bannière",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),o.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Pe,{size:12})})]}),o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var T;const O=(T=C.target.files)==null?void 0:T[0];O&&_(O,"banner")},className:"hidden",disabled:b}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:b?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin text-orange-600"}),o.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ms,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannière"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 5MB"})]})})]})]})]})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(yr,{className:"inline w-4 h-4 mr-1"}),"Téléphone"]}),o.jsx("input",{type:"tel",value:u.telephone,onChange:C=>j("telephone",C.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ji,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),o.jsx("input",{type:"tel",value:u.whatsapp,onChange:C=>j("whatsapp",C.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Réseaux sociaux"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(la,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:u.instagram,onChange:C=>j("instagram",C.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(oa,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:u.facebook,onChange:C=>j("facebook",C.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),o.jsx("input",{type:"url",value:u.tiktok,onChange:C=>j("tiktok",C.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),o.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[o.jsxs("button",{onClick:E,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(z2,{size:20}),o.jsx("span",{children:"Précédent"})]}),n<x?o.jsxs("button",{onClick:k,disabled:!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx("span",{children:"Suivant"}),o.jsx(Fg,{size:20})]}):o.jsxs("button",{onClick:S,disabled:a||!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsx(Be,{size:20}),o.jsx("span",{children:a?"Création...":"Créer mon restaurant"})]})]})]}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En créant votre menu, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},i3=()=>{var p;const{user:e}=ar();v.useState(!1);const[t,r]=v.useState(null),[n,i]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=v.useState({current:!1,new:!1,confirm:!1}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(""),[m,y]=v.useState(!1),b=(j,_)=>{r({type:j,text:_}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){b("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){b("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){b("error","Le nouveau mot de passe doit contenir au moins 6 caractères");return}c(!0);try{const{error:_}=await B.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(_){b("error","Mot de passe actuel incorrect");return}const{error:N}=await B.auth.updateUser({password:n.newPassword});if(N){b("error","Erreur lors de la mise à jour du mot de passe");return}i({currentPassword:"",newPassword:"",confirmPassword:""}),b("success","Mot de passe mis à jour avec succès")}catch(_){console.error("Erreur lors du changement de mot de passe:",_),b("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},x=async()=>{if(f!=="SUPPRIMER"){b("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}y(!0);try{const{data:j,error:_}=await B.from("menus").select("id").eq("user_id",e.id);_&&console.error("Erreur lors de la récupération des menus:",_);const{error:N}=await B.auth.admin.deleteUser(e.id);if(N){b("error","Erreur lors de la suppression du compte");return}b("success","Compte supprimé avec succès")}catch(j){console.error("Erreur lors de la suppression du compte:",j),b("error","Erreur lors de la suppression du compte")}finally{y(!1),d(!1),h("")}};if(!e)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const g=((p=e.email)==null?void 0:p.split("@")[0])||"Utilisateur";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?o.jsx(Be,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Pe,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:t.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramètres du compte"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez vos informations personnelles et paramètres de sécurité"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(nl,{size:20}),o.jsx("span",{children:"Informations du profil"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(nl,{size:20,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:g}),o.jsx("div",{className:"text-sm text-gray-500",children:"Généré automatiquement depuis votre email"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas être modifié pour des raisons de sécurité"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte créé le"}),o.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(ts,{size:20}),o.jsx("span",{children:"Changer le mot de passe"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.current?"text":"password",value:n.currentPassword,onChange:j=>i(_=>({..._,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.current?o.jsx(Qi,{size:16}):o.jsx(nn,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.new?"text":"password",value:n.newPassword,onChange:j=>i(_=>({..._,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.new?o.jsx(Qi,{size:16}):o.jsx(nn,{size:16})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:a.confirm?"text":"password",value:n.confirmPassword,onChange:j=>i(_=>({..._,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.confirm?o.jsx(Qi,{size:16}):o.jsx(nn,{size:16})})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:l,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[l?o.jsx(ye,{className:"w-4 h-4 animate-spin"}):o.jsx(Sl,{size:16}),o.jsx("span",{children:l?"Mise à jour...":"Mettre à jour le mot de passe"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[o.jsx(On,{size:20}),o.jsx("span",{children:"Zone de danger"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer définitivement le compte"}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irréversible. Tous vos menus, catégories, plats et données analytiques seront supprimés définitivement."}),u?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",o.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),o.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:x,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?o.jsx(ye,{className:"w-4 h-4 animate-spin"}):o.jsx(ca,{size:16}),o.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),o.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(ca,{size:16}),o.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},a3=()=>{QM();const e=Kr(),[t,r]=v.useState(""),[n,i]=v.useState(""),[a,s]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,y]=v.useState(null);v.useEffect(()=>{(async()=>{try{const{data:{session:g},error:p}=await B.auth.getSession();if(p){console.error("Session error:",p),y(!1);return}g&&g.user?y(!0):y(!1)}catch(g){console.error("Error checking session:",g),y(!1)}})()},[]);const b=(x,g)=>{h({type:x,text:g}),setTimeout(()=>h(null),5e3)},w=async x=>{if(x.preventDefault(),!t.trim()||!n.trim()){b("error","Veuillez remplir tous les champs");return}if(t!==n){b("error","Les mots de passe ne correspondent pas");return}if(t.length<6){b("error","Le mot de passe doit contenir au moins 6 caractères");return}d(!0);try{const{error:g}=await B.auth.updateUser({password:t});g?b("error",g.message):(b("success","Mot de passe mis à jour avec succès ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{b("error","Une erreur est survenue")}finally{d(!1)}};return m===null?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vérification du lien..."})]})}):m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe sécurisé pour votre compte"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ts,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"🔐 Réinitialisation de mot de passe"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Vous êtes dans le processus de réinitialisation de votre mot de passe. Une fois votre nouveau mot de passe défini, vous serez automatiquement connecté à votre tableau de bord."})]})]})}),f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Lm,{className:"w-5 h-5"}):o.jsx(On,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:f.text})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:x=>r(x.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!a),children:a?o.jsx(Qi,{size:20}):o.jsx(nn,{size:20})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:x=>i(x.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!l),children:l?o.jsx(Qi,{size:20}):o.jsx(nn,{size:20})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):"Mettre à jour le mot de passe"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour à la connexion"})})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"🔒 Sécurité"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et sécurisé. Une fois modifié, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full space-y-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx(On,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expiré"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de réinitialisation de mot de passe n'est plus valide ou a expiré."}),o.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour à la connexion"})]})})})},n_=v.memo(({onMenuToggle:e})=>{var c;const[t,r]=v.useState(!1),{user:n,signOut:i}=ar(),a=async()=>{r(!1);try{await i()}catch(u){console.error("Erreur lors de la déconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",l=(n==null?void 0:n.email)||"";return o.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(wu,{size:20})}),o.jsx("div",{className:"flex items-center",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(h4,{size:18,className:"sm:w-5 sm:h-5"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(nl,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),o.jsxs("div",{className:"text-left hidden sm:block",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:l})]}),o.jsx(Zo,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-sm text-gray-500",children:l}),o.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configuré"})]}),o.jsxs("div",{className:"py-1",children:[o.jsxs(et,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(rl,{size:16}),o.jsx("span",{children:"Paramètres du compte"})]}),o.jsxs("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(S4,{size:16}),o.jsx("span",{children:"Se déconnecter"})]})]})]})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});n_.displayName="Header";const i_=v.memo(({isOpen:e,onClose:t})=>{const r=$n(),n=[{section:"Tableau de bord",items:[{icon:j4,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:Vg,label:"Identité Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:k4,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:rs,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:gr,label:"Réservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:rl,label:"Paramètres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return o.jsx(o.Fragment,{children:o.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[o.jsx("div",{className:"lg:hidden flex justify-end p-4",children:o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:o.jsx(Pe,{size:20})})}),o.jsx("div",{className:"p-4 lg:pt-4",children:n.map((i,a)=>o.jsxs("div",{className:"mb-6 lg:mb-8",children:[o.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:i.section}),o.jsx("nav",{className:"space-y-1",children:i.items.map((s,l)=>s.path?o.jsxs(et,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l):o.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l))})]},a))})]})})});i_.displayName="Sidebar";const s3=({children:e})=>o.jsx("div",{className:"animate-fadeIn",children:e}),Dr=v.memo(({children:e,currentPage:t})=>{const[r,n]=v.useState(!1),i=v.useCallback(()=>n(l=>!l),[]),a=v.useCallback(()=>n(!1),[]),s=v.useCallback(()=>{r&&a()},[r,a]);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(n_,{onMenuToggle:i}),o.jsx(i_,{currentPage:t,isOpen:r,onClose:a}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),o.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:o.jsx(s3,{children:e})})})]})});Dr.displayName="MainLayout";const xa=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?o.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},jx=[{code:"en",name:"English",flag:"🇬🇧"},{code:"es",name:"Español",flag:"🇪🇸"},{code:"de",name:"Deutsch",flag:"🇩🇪"},{code:"it",name:"Italiano",flag:"🇮🇹"},{code:"pt",name:"Português",flag:"🇵🇹"},{code:"ar",name:"العربية",flag:"🇸🇦"},{code:"zh",name:"中文",flag:"🇨🇳"},{code:"ja",name:"日本語",flag:"🇯🇵"},{code:"ru",name:"Русский",flag:"🇷🇺"},{code:"nl",name:"Nederlands",flag:"🇳🇱"}],o3=({menuId:e,defaultLanguage:t,menuName:r})=>{const[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState("");v.useEffect(()=>{x()},[e]);const x=async()=>{try{const{data:S,error:C}=await B.from("menu_languages").select("*").eq("menu_id",e).order("created_at",{ascending:!0});if(C)throw C;i(S||[])}catch(S){console.error("Error loading languages:",S)}finally{s(!1)}},g=(S,C)=>{d({type:S,text:C}),setTimeout(()=>d(null),3e3)},p=async(S,C)=>{c(S);try{const{data:{session:O}}=await B.auth.getSession();if(!O)throw new Error("Not authenticated");const T=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-menu",{method:"POST",headers:{Authorization:`Bearer ${O.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({menuId:e,targetLanguage:S,languageName:C})});if(!T.ok){const R=await T.json();throw new Error(R.error||"Translation failed")}const I=await T.json();g("success",`Traduction en ${C} réussie`),await x(),h(!1)}catch(O){console.error("Translation error:",O),g("error",O.message||"Erreur lors de la traduction")}finally{c(null)}},j=(S,C)=>{y(S),w(C)},_=()=>{y(null),w("")},N=async S=>{if(!b.trim()){g("error","Le titre ne peut pas être vide");return}try{const{error:C}=await B.from("menu_languages").update({menu_title:b.trim()}).eq("id",S);if(C)throw C;g("success","Titre mis à jour"),await x(),y(null),w("")}catch(C){console.error("Error updating menu title:",C),g("error","Erreur lors de la mise à jour")}},k=async(S,C)=>{if(confirm("Voulez-vous vraiment supprimer cette traduction ?"))try{const{data:O}=await B.from("categories").select("id").eq("menu_id",e);if(O){const I=O.map(J=>J.id);await B.from("category_translations").delete().in("category_id",I).eq("language_code",C);const{data:R}=await B.from("menu_items").select("id").in("category_id",I);R&&await B.from("menu_item_translations").delete().in("menu_item_id",R.map(J=>J.id)).eq("language_code",C)}const{error:T}=await B.from("menu_languages").delete().eq("id",S);if(T)throw T;g("success","Traduction supprimée"),await x()}catch(O){console.error("Error deleting language:",O),g("error","Erreur lors de la suppression")}},E=jx.filter(S=>!n.some(C=>C.language_code===S.code)&&S.code!==t);return a?o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(ye,{className:"w-6 h-6 animate-spin text-gray-400"})})}):o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(qg,{size:20}),o.jsx("span",{children:"Traductions"})]}),!f&&E.length>0&&o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:[o.jsx(tl,{size:16}),o.jsx("span",{children:"Ajouter une langue"})]})]}),u&&o.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[u.type==="success"?o.jsx(Be,{size:16}):o.jsx(Pe,{size:16}),o.jsx("span",{className:"text-sm",children:u.text})]}),f&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Sélectionner une langue"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Pe,{size:18})})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(S=>o.jsxs("button",{onClick:()=>p(S.code,S.name),disabled:l!==null,className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-white hover:border-orange-300 transition-colors disabled:opacity-50",children:[o.jsx("span",{className:"text-2xl",children:S.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.name}),l===S.code&&o.jsx(ye,{className:"w-4 h-4 animate-spin text-orange-600"})]},S.code))})]}),o.jsx("div",{className:"space-y-3",children:n.length===0?o.jsx("p",{className:"text-sm text-gray-600 py-4 text-center",children:"Aucune traduction ajoutée. Ajoutez des langues pour traduire automatiquement votre menu."}):n.map(S=>{const C=jx.find(T=>T.code===S.language_code),O=m===S.id;return o.jsx("div",{className:"p-3 sm:p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:(C==null?void 0:C.flag)||"🌐"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-gray-900 mb-1",children:(C==null?void 0:C.name)||S.language_code}),O?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:b,onChange:T=>w(T.target.value),placeholder:"Titre du menu",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",autoFocus:!0}),o.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Sauvegarder",children:o.jsx(Sl,{size:16})}),o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Annuler",children:o.jsx(Pe,{size:16})})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("span",{className:"truncate",children:S.menu_title||r}),o.jsx("button",{onClick:()=>j(S.id,S.menu_title||r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",title:"Modifier le titre",children:o.jsx(Bm,{size:14})})]})]})]}),!O&&o.jsx("button",{onClick:()=>k(S.id,S.language_code),className:"text-red-600 hover:text-red-700 p-2 rounded hover:bg-red-50 flex-shrink-0",title:"Supprimer cette traduction",children:o.jsx(ca,{size:16})})]})},S.id)})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[o.jsx("strong",{children:"Note :"})," Les traductions sont générées automatiquement par IA. Vous pouvez ensuite les modifier directement dans la page de gestion des articles."]})})]})},_x=()=>{const{menuId:e}=ya(),t=Kr(),r=e===void 0,[n,i]=v.useState(!1),[a,s]=v.useState(!0),[l,c]=v.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0,currency_symbol:"€"}),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(null),[b,w]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:{user:E}}=await B.auth.getUser();if(E){const{data:S}=await B.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",E.id).maybeSingle();i(!!S),S&&r&&c(C=>({...C,nom:S.restaurant_name,slug:S.slug}))}s(!1)})()},[r]),v.useEffect(()=>{!r&&e?x(e):d(!1)},[e,r]);const x=async k=>{d(!0);try{const{data:{user:E}}=await B.auth.getUser();if(!E)return;const{data:S,error:C}=await B.from("menus").select("*").eq("id",k).eq("user_id",E.id).maybeSingle();if(C){console.error("Erreur lors du chargement du menu:",C),j("error","Erreur lors du chargement du menu");return}if(!S){j("error","Menu non trouvé"),t("/mes-menus");return}w(S),c({nom:S.nom,menu_name:S.menu_name||"",description:S.description,slug:S.slug,banniere_url:S.banniere_url,language:S.language||"fr",status:S.status||"published",couleur_primaire:S.couleur_primaire,couleur_secondaire:S.couleur_secondaire,couleur_texte:S.couleur_texte,couleur_fond:S.couleur_fond,afficher_powered_by:S.afficher_powered_by,lien_cloudmenu:S.lien_cloudmenu,currency_symbol:S.currency_symbol||"€"})}catch(E){console.error("Erreur lors du chargement du menu:",E),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},g=(k,E)=>{c(S=>{const C={...S,[k]:E};return k==="nom"&&typeof E=="string"&&r&&!n&&(C.slug=ai(E)),C})},p=async(k,E)=>{if(!k)return;const S=5*1024*1024;if(k.size>S){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!k.type.startsWith("image/")){j("error","Veuillez sélectionner une image valide");return}d(!0);try{const C=l.banniere_url;C&&await es(C);const T=await hs(k,"bannieres");if(T.error){j("error",T.error);return}g("banniere_url",T.url),j("success","Bannière uploadée avec succès")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(k,E)=>{y({type:k,text:E}),setTimeout(()=>y(null),5e3)},_=async()=>{if(!n&&!l.nom.trim()){j("error","Le nom de l'établissement est obligatoire");return}h(!0);try{const{data:{user:k}}=await B.auth.getUser();if(!k){j("error","Vous devez être connecté");return}if(b){let E=l.slug;if(l.status==="published"&&!b.slug){const{data:O}=await B.from("restaurant_profiles").select("slug").eq("user_id",k.id).maybeSingle(),T=(O==null?void 0:O.slug)||ai(l.nom),I=ai(l.menu_name||l.nom);E=`${T}/${I}`}const S={nom:l.nom,menu_name:l.menu_name,description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{error:C}=await B.from("menus").update(S).eq("id",b.id);if(C)throw C;j("success","Menu mis à jour avec succès"),setTimeout(()=>{t(`/categories/${b.id}`)},1500)}else{let E=l.slug;if(l.status==="published"){const T=l.slug,I=ai(l.menu_name||"menu");E=`${T}/${I}`}else l.status==="draft"&&(E="");const S={user_id:k.id,nom:l.nom,menu_name:l.menu_name||"Menu principal",description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{data:C,error:O}=await B.from("menus").insert([S]).select().single();if(O)throw O;w(C),j("success","Menu créé avec succès"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(k){console.error("Erreur lors de la sauvegarde:",k),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},N=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!b||a?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(xa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?o.jsx(Be,{className:"w-5 h-5"}):o.jsx(Pe,{className:"w-5 h-5"}),o.jsx("span",{children:m.text})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("button",{onClick:()=>t(r?"/mes-menus":`/categories/${e}`),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Nl,{size:20}),o.jsx("span",{children:r?"Retour à mes menus":"Retour aux articles"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Créer un nouveau menu":"Modifier le menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identité visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le résultat en temps réel"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(_4,{size:20}),o.jsx("span",{children:"Informations générales"})]}),o.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'établissement"}),o.jsx("input",{type:"text",value:l.nom,onChange:k=>g("nom",k.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'établissement est partagé entre tous vos menus"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),o.jsx("input",{type:"text",value:l.menu_name,onChange:k=>g("menu_name",k.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom à ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos différents menus (boissons, plats, desserts...)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:l.description,onChange:k=>g("description",k.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Symbole de devise"}),o.jsx("input",{type:"text",value:l.currency_symbol,onChange:k=>g("currency_symbol",k.target.value),placeholder:"€",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Symbole qui s'affichera à côté des prix (ex: €, $, £, CHF, DH)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),o.jsxs("div",{className:"space-y-3",children:[l.banniere_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l.banniere_url,alt:"Bannière",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),o.jsx("button",{onClick:()=>g("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:o.jsx(Pe,{size:10,className:"sm:w-3 sm:h-3"})})]}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var S;const E=(S=k.target.files)==null?void 0:S[0];E&&p(E)},className:"hidden"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[o.jsx(ms,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),o.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu'à 5MB"})]})]})]})]})]})]}),!r&&b&&o.jsx(o3,{menuId:b.id,defaultLanguage:b.default_language||"fr",menuName:b.nom}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Vg,{size:20}),o.jsx("span",{children:"Design"})]}),o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:N.map((k,E)=>o.jsxs("button",{onClick:()=>{g("couleur_primaire",k.primary),g("couleur_secondaire",k.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.primary}}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.secondary}})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:k.name})]},E))}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_primaire,onChange:k=>g("couleur_primaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_primaire,onChange:k=>g("couleur_primaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_secondaire,onChange:k=>g("couleur_secondaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_secondaire,onChange:k=>g("couleur_secondaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),o.jsxs("button",{onClick:_,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?o.jsx(ye,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):o.jsx(Sl,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),o.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},Aa={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},pt:{name:"Português",flag:"🇵🇹"},ar:{name:"العربية",flag:"🇸🇦"},zh:{name:"中文",flag:"🇨🇳"},ja:{name:"日本語",flag:"🇯🇵"},ru:{name:"Русский",flag:"🇷🇺"},nl:{name:"Nederlands",flag:"🇳🇱"}};function l3(){var ze,Hs,Ks;const{user:e}=ar(),{menuId:t}=ya(),r=Kr(),[n,i]=v.useState(null),[a,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(null),[b,w]=v.useState(null),[x,g]=v.useState(null),[p,j]=v.useState(""),[_,N]=v.useState([]),[k,E]=v.useState({}),[S,C]=v.useState({}),[O,T]=v.useState(""),[I,R]=v.useState({}),[J,Y]=v.useState(""),[M,L]=v.useState(""),[P,z]=v.useState({nom:"",description:""}),[F,U]=v.useState({});v.useEffect(()=>{e&&t&&oe()},[e,t]),v.useEffect(()=>{n&&(me(),ue())},[n]),v.useEffect(()=>{n&&p&&p!==n.default_language&&Me()},[p,n]);const oe=async()=>{if(!t){re("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:A,error:ne}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(ne){console.error("Erreur lors du chargement du menu:",ne),re("error","Erreur lors du chargement du menu");return}if(!A){re("error","Menu non trouvé"),r("/mes-menus");return}i(A)}catch(A){console.error("Erreur lors du chargement du menu:",A),re("error","Erreur lors du chargement du menu")}finally{d(!1)}},ue=async()=>{d(!0);try{const{data:A,error:ne}=await B.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(ne)throw ne;if(s(A||[]),A&&A.length>0){const{data:X,error:q}=await B.from("menu_items").select("*").in("category_id",A.map(ae=>ae.id)).order("ordre",{ascending:!0});if(q)throw q;const H={};A.forEach(ae=>{H[ae.id]=(X==null?void 0:X.filter(D=>D.category_id===ae.id))||[]}),c(H)}}catch(A){console.error("Erreur lors du chargement:",A),re("error","Erreur lors du chargement des données")}finally{d(!1)}},me=async()=>{if(n)try{const{data:A,error:ne}=await B.from("menu_languages").select("*").eq("menu_id",n.id).order("created_at",{ascending:!0});if(ne)throw ne;N(A||[]),!p&&n.default_language&&j(n.default_language)}catch(A){console.error("Error loading languages:",A)}},Me=async()=>{if(!n||!p||p===n.default_language){E({}),C({}),T((n==null?void 0:n.menu_name)||"");return}try{const A=_.find(ae=>ae.language_code===p);A!=null&&A.menu_title?T(A.menu_title):T(n.menu_name||"Menu");const ne=a.map(ae=>ae.id),{data:X}=await B.from("category_translations").select("*").in("category_id",ne).eq("language_code",p),q={};X==null||X.forEach(ae=>{q[ae.category_id]=ae}),E(q);const H=[];if(Object.values(l).forEach(ae=>{ae.forEach(D=>H.push(D.id))}),H.length>0){const{data:ae}=await B.from("menu_item_translations").select("*").in("menu_item_id",H).eq("language_code",p),D={};ae==null||ae.forEach(G=>{D[G.menu_item_id]=G}),C(D)}}catch(A){console.error("Error loading translations:",A)}},re=(A,ne)=>{g({type:A,text:ne}),setTimeout(()=>g(null),5e3)},Ar=async()=>{if(J.trim())try{const A={menu_id:n.id,nom:J,description:M||"",ordre:a.length},{data:ne,error:X}=await B.from("categories").insert([A]).select().single();if(X)throw X;s([...a,ne]),c({...l,[ne.id]:[]}),Y(""),L(""),re("success","Catégorie ajoutée avec succès")}catch(A){console.error("Erreur lors de l'ajout de la catégorie:",A),re("error","Erreur lors de l'ajout de la catégorie")}},Q=async A=>{if(P.nom.trim())try{if(p!==n.default_language){const X=k[A];if(X){const{error:q}=await B.from("category_translations").update({nom:P.nom,description:P.description||""}).eq("id",X.id);if(q)throw q}else{const{error:q}=await B.from("category_translations").insert({category_id:A,language_code:p,nom:P.nom,description:P.description||""});if(q)throw q}E({...k,[A]:{id:(X==null?void 0:X.id)||crypto.randomUUID(),category_id:A,language_code:p,nom:P.nom,description:P.description||""}}),re("success","Traduction de catégorie modifiée avec succès")}else{const{error:X}=await B.from("categories").update({nom:P.nom,description:P.description||""}).eq("id",A);if(X)throw X;s(a.map(q=>q.id===A?{...q,nom:P.nom,description:P.description||""}:q)),re("success","Catégorie modifiée avec succès")}y(null),z({nom:"",description:""})}catch(ne){console.error("Erreur lors de la modification de la catégorie:",ne),re("error","Erreur lors de la modification de la catégorie")}},le=async A=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette catégorie et tous ses éléments ?"))try{const ne=l[A]||[];for(const H of ne)if(H.image_url)try{await es(H.image_url)}catch(ae){console.warn(`Failed to delete image for item ${H.nom}:`,ae)}const{error:X}=await B.from("categories").delete().eq("id",A);if(X)throw X;s(a.filter(H=>H.id!==A));const q={...l};delete q[A],c(q),re("success","Catégorie supprimée avec succès")}catch(ne){console.error("Erreur lors de la suppression:",ne),re("error","Erreur lors de la suppression")}},de=async(A,ne,X)=>{if(!A)return;if(A.size>5*1024*1024){re("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){re("error","Veuillez sélectionner une image valide");return}const q=ne||`new-item-${X}`;h(q);try{const H=await hs(A,"menu-items");if(H.error){re("error",H.error);return}const{data:ae,error:D}=await B.from("menu_items").update({image_url:H.url}).eq("id",ne).select().single();if(D)throw D;c({...l,[X]:l[X].map(G=>G.id===ne?ae:G)}),re("success","Image mise à jour avec succès")}catch(H){console.error("Erreur lors de l'upload:",H),re("error","Erreur lors de l'upload")}finally{h(null)}},W=async(A,ne,X)=>{try{X&&await es(X);const{data:q,error:H}=await B.from("menu_items").update({image_url:""}).eq("id",A).select().single();if(H)throw H;c({...l,[ne]:l[ne].map(ae=>ae.id===A?q:ae)}),re("success","Image supprimée avec succès")}catch(q){console.error("Erreur lors de la suppression:",q),re("error","Erreur lors de la suppression")}},qe=async(A,ne)=>{if(A){if(A.size>5*1024*1024){re("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){re("error","Veuillez sélectionner une image valide");return}h(`new-item-${ne}`);try{const X=await hs(A,"menu-items");if(X.error){re("error",X.error);return}U({...F,[ne]:{...F[ne],image_url:X.url}}),re("success","Image uploadée avec succès")}catch(X){console.error("Erreur lors de l'upload:",X),re("error","Erreur lors de l'upload")}finally{h(null)}}},ge=A=>F[A]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},Ve=(A,ne)=>{U({...F,[A]:{...ge(A),...ne}})},ht=async A=>{var X,q;const ne=ge(A);if(!((X=ne.nom)!=null&&X.trim())||!ne.prix){re("error","Le nom et le prix sont obligatoires");return}try{const H={...ne,category_id:A,ordre:((q=l[A])==null?void 0:q.length)||0},{data:ae,error:D}=await B.from("menu_items").insert([H]).select().single();if(D)throw D;c({...l,[A]:[...l[A]||[],ae]});const G={...F};delete G[A],U(G),re("success","Plat ajouté avec succès")}catch(H){console.error("Erreur lors de l'ajout du plat:",H),re("error","Erreur lors de l'ajout du plat")}},Tr=async(A,ne)=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce plat ?"))try{const X=l[ne].find(H=>H.id===A);X!=null&&X.image_url&&await es(X.image_url);const{error:q}=await B.from("menu_items").delete().eq("id",A);if(q)throw q;c({...l,[ne]:l[ne].filter(H=>H.id!==A)}),re("success","Plat supprimé avec succès")}catch(X){console.error("Erreur lors de la suppression:",X),re("error","Erreur lors de la suppression")}},Oi=async(A,ne)=>{try{const{data:X,error:q}=await B.from("menu_items").update({disponible:!A.disponible}).eq("id",A.id).select().single();if(q)throw q;c({...l,[ne]:l[ne].map(H=>H.id===A.id?X:H)})}catch(X){console.error("Erreur lors de la mise à jour:",X),re("error","Erreur lors de la mise à jour")}},Hl=A=>{w(A.id);const X=p!==n.default_language?S[A.id]:null;R({nom:(X==null?void 0:X.nom)||A.nom,description:(X==null?void 0:X.description)||A.description,prix:A.prix,allergenes:A.allergenes,vegetarien:A.vegetarien,vegan:A.vegan,sans_gluten:A.sans_gluten,epice:A.epice})},Vs=()=>{w(null),R({})},gf=async(A,ne)=>{var X;if(!((X=I.nom)!=null&&X.trim())){re("error","Le nom du plat est obligatoire");return}try{if(p!==n.default_language){const H=S[A];if(H){const{error:ae}=await B.from("menu_item_translations").update({nom:I.nom,description:I.description||""}).eq("id",H.id);if(ae)throw ae}else{const{error:ae}=await B.from("menu_item_translations").insert({menu_item_id:A,language_code:p,nom:I.nom,description:I.description||""});if(ae)throw ae}C({...S,[A]:{id:(H==null?void 0:H.id)||crypto.randomUUID(),menu_item_id:A,language_code:p,nom:I.nom,description:I.description||""}}),re("success","Traduction modifiée avec succès")}else{const{data:H,error:ae}=await B.from("menu_items").update(I).eq("id",A).select().single();if(ae)throw ae;c({...l,[ne]:l[ne].map(D=>D.id===A?H:D)}),re("success","Plat modifié avec succès")}w(null),R({})}catch(q){console.error("Erreur lors de la modification:",q),re("error","Erreur lors de la modification")}},vf=async(A,ne,X)=>{if(ne!==X)try{const{data:q,error:H}=await B.from("menu_items").update({category_id:X}).eq("id",A).select().single();if(H)throw H;const ae=l[ne].filter(G=>G.id!==A),D=[...l[X]||[],q];c({...l,[ne]:ae,[X]:D}),re("success","Plat déplacé avec succès")}catch(q){console.error("Erreur lors du déplacement:",q),re("error","Erreur lors du déplacement")}};return u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(xa,{size:"lg"})}):n?o.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[x&&o.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${x.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:x.text})}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Nl,{size:20}),o.jsx("span",{children:"Retour à mes menus"})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:O||n.menu_name||"Menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catégories et plats"})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx(et,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white p-2.5 rounded-lg hover:bg-purple-700 transition-colors",title:"Import IA",children:o.jsx(Wm,{size:20})}),o.jsx(et,{to:`/mon-menu/${t}`,className:"bg-gray-600 text-white p-2.5 rounded-lg hover:bg-gray-700 transition-colors",title:"Paramètres",children:o.jsx(rl,{size:20})}),o.jsx("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white p-2.5 rounded-lg hover:bg-orange-700 transition-colors",title:"Prévisualiser",children:o.jsx(nn,{size:20})})]})]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>j(n.default_language||"fr"),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p===n.default_language?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ze=Aa[n.default_language||"fr"])==null?void 0:ze.name)||"Français",children:[o.jsx("span",{className:"text-base sm:text-lg",children:((Hs=Aa[n.default_language||"fr"])==null?void 0:Hs.flag)||"🇫🇷"}),o.jsx("span",{className:"hidden sm:inline",children:((Ks=Aa[n.default_language||"fr"])==null?void 0:Ks.name)||"Français"})]}),_.map(A=>{var ne,X,q;return o.jsxs("button",{onClick:()=>j(A.language_code),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p===A.language_code?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ne=Aa[A.language_code])==null?void 0:ne.name)||A.language_code,children:[o.jsx("span",{className:"text-base sm:text-lg",children:((X=Aa[A.language_code])==null?void 0:X.flag)||"🌐"}),o.jsx("span",{className:"hidden sm:inline",children:((q=Aa[A.language_code])==null?void 0:q.name)||A.language_code})]},A.id)})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catégorie"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("input",{type:"text",value:J,onChange:A=>Y(A.target.value),placeholder:"Nom de la catégorie (ex: Entrées, Plats, Desserts...)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:A=>A.key==="Enter"&&!A.shiftKey&&Ar()}),o.jsx("textarea",{value:M,onChange:A=>L(A.target.value),placeholder:"Description de la catégorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base resize-none",rows:2}),o.jsxs("button",{onClick:Ar,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base self-end",children:[o.jsx(tl,{size:18}),o.jsx("span",{children:"Ajouter"})]})]})]}),a.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(O4,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),o.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catégorie"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catégorie pour organiser votre menu."})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.map(A=>{var ne,X;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m===A.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:P.nom,onChange:q=>z({...P,nom:q.target.value}),placeholder:"Nom de la catégorie",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"}),o.jsx("textarea",{value:P.description,onChange:q=>z({...P,description:q.target.value}),placeholder:"Description de la catégorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 resize-none",rows:2}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>Q(A.id),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[o.jsx(Sl,{size:16}),o.jsx("span",{children:"Enregistrer"})]}),o.jsxs("button",{onClick:()=>{y(null),z({nom:"",description:""})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2",children:[o.jsx(Pe,{size:16}),o.jsx("span",{children:"Annuler"})]})]})]}):o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx(w4,{className:"text-gray-400 hidden sm:block mt-1",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:p!==n.default_language&&k[A.id]?k[A.id].nom:A.nom}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((ne=l[A.id])==null?void 0:ne.length)||0," plats"]})]}),A.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:p!==n.default_language&&k[A.id]?k[A.id].description:A.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{y(A.id);const H=p!==n.default_language?k[A.id]:null;z({nom:(H==null?void 0:H.nom)||A.nom,description:(H==null?void 0:H.description)||A.description||""})},className:"text-orange-600 hover:text-orange-700 p-2 rounded-lg hover:bg-orange-50",children:o.jsx(Bm,{size:18})}),o.jsx("button",{onClick:()=>le(A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:o.jsx(ca,{size:18})})]})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4",children:[(X=l[A.id])==null?void 0:X.map(q=>o.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${b===q.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[o.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:q.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:q.image_url,alt:q.nom,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:H=>{var D;const ae=(D=H.target.files)==null?void 0:D[0];ae&&de(ae,q.id,A.id)},className:"hidden"}),f===q.id?o.jsx(ye,{className:"w-4 h-4 text-white animate-spin"}):o.jsx(mx,{className:"w-4 h-4 text-white hover:scale-110"})]}),o.jsx("button",{onClick:()=>W(q.id,A.id,q.image_url),className:"text-white hover:text-red-300",children:o.jsx(Pe,{className:"w-4 h-4"})})]})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:H=>{var D;const ae=(D=H.target.files)==null?void 0:D[0];ae&&de(ae,q.id,A.id)},className:"hidden"}),f===q.id?o.jsx(ye,{className:"text-gray-400 animate-spin",size:24}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(mx,{className:"text-gray-400",size:20}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),o.jsx("div",{className:"flex-1",children:b===q.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),o.jsx("input",{type:"text",value:I.nom||"",onChange:H=>R({...I,nom:H.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Prix (",n.currency_symbol||"€",")"]}),o.jsx("input",{type:"number",value:I.prix||"",onChange:H=>R({...I,prix:parseFloat(H.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:I.description||"",onChange:H=>R({...I,description:H.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.vegetarien||!1,onChange:H=>R({...I,vegetarien:H.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Végétarien"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.vegan||!1,onChange:H=>R({...I,vegan:H.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vegan"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.sans_gluten||!1,onChange:H=>R({...I,sans_gluten:H.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:I.epice||!1,onChange:H=>R({...I,epice:H.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Épicé"})]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:p!==n.default_language&&S[q.id]?S[q.id].nom:q.nom}),q.vegetarien&&o.jsx(Qn,{className:"text-green-600",size:16}),q.vegan&&o.jsx(Qn,{className:"text-green-700",size:16}),q.epice&&o.jsx(qc,{className:"text-red-600",size:16})]}),(p!==n.default_language&&S[q.id]?S[q.id].description:q.description)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:p!==n.default_language&&S[q.id]?S[q.id].description:q.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[q.prix.toFixed(2)," ",n.currency_symbol||"€"]}),q.allergenes.length>0&&o.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergènes: ",q.allergenes.join(", ")]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[a.length>1&&b!==q.id&&o.jsx("select",{value:A.id,onChange:H=>vf(q.id,A.id,H.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Déplacer vers une autre catégorie",children:a.map(H=>o.jsx("option",{value:H.id,children:p!==n.default_language&&k[H.id]?k[H.id].nom:H.nom},H.id))}),b===q.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>gf(q.id,A.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:o.jsx(Be,{size:18})}),o.jsx("button",{onClick:Vs,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:o.jsx(Pe,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Hl(q),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:o.jsx(Bm,{size:18})}),o.jsx("button",{onClick:()=>Oi(q,A.id),className:`p-2 rounded-lg ${q.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:q.disponible?"Disponible":"Non disponible",children:q.disponible?o.jsx(nn,{size:18}):o.jsx(Qi,{size:18})}),o.jsx("button",{onClick:()=>Tr(q.id,A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:o.jsx(ca,{size:18})})]})]})]},q.id)),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const q=ge(A.id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),o.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:q.image_url?o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("img",{src:q.image_url,alt:"Aperçu",className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>Ve(A.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Pe,{size:12})})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:H=>{var D;const ae=(D=H.target.files)==null?void 0:D[0];ae&&qe(ae,A.id)},className:"hidden"}),f===`new-item-${A.id}`?o.jsx(ye,{className:"text-gray-400 animate-spin",size:20}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(ms,{className:"text-gray-400",size:16}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),o.jsx("input",{type:"text",value:q.nom||"",onChange:H=>Ve(A.id,{nom:H.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:q.description||"",onChange:H=>Ve(A.id,{description:H.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Prix (",n.currency_symbol||"€",")"]}),o.jsx("input",{type:"number",value:q.prix||"",onChange:H=>Ve(A.id,{prix:parseFloat(H.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),o.jsxs("button",{onClick:()=>ht(A.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[o.jsx(tl,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},A.id)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouvé"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accès à celui-ci."}),o.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour à mes menus"})]})}const kx={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},ar:{name:"العربية",flag:"🇸🇦"}};function c3(){const{user:e}=ar(),[t,r]=v.useState([]),[n,i]=v.useState(!0),[a,s]=v.useState(null);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{i(!0);try{const{data:h,error:m}=await B.from("menus").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Erreur lors du chargement des menus:",h),c("error","Erreur lors du chargement des menus")}finally{i(!1)}},c=(h,m)=>{s({type:h,text:m}),setTimeout(()=>s(null),5e3)},u=async h=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce menu ? Toutes les catégories et plats associés seront également supprimés."))try{const{error:m}=await B.from("menus").delete().eq("id",h);if(m)throw m;r(t.filter(y=>y.id!==h)),c("success","Menu supprimé avec succès")}catch(m){console.error("Erreur lors de la suppression:",m),c("error","Erreur lors de la suppression du menu")}},d=async h=>{try{const{id:m,created_at:y,updated_at:b,slug:w,...x}=h,g={...x,menu_name:`${h.menu_name||h.nom} (Copie)`,slug:"",status:"draft"},{data:p,error:j}=await B.from("menus").insert([g]).select().single();if(j)throw j;r([p,...t]),c("success","Menu dupliqué avec succès (brouillon)")}catch(m){console.error("Erreur lors de la duplication:",m),c("error","Erreur lors de la duplication du menu")}},f=async(h,m)=>{try{let y;if(m==="actif")y={actif:!h.actif};else{const w=h.status==="draft";if(y={status:w?"published":"draft"},w&&!h.slug){const{data:x}=await B.from("restaurant_profiles").select("slug").eq("user_id",h.user_id).maybeSingle(),g=(x==null?void 0:x.slug)||ai(h.nom),p=ai(h.menu_name||h.nom);y.slug=`${g}/${p}`}}const{error:b}=await B.from("menus").update(y).eq("id",h.id);if(b)throw b;r(t.map(w=>w.id===h.id?{...w,...y}:w)),c("success","Statut mis à jour avec succès")}catch(y){console.error("Erreur lors de la mise à jour:",y),c("error","Erreur lors de la mise à jour du statut")}};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(xa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[a&&o.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:a.text})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez tous vos menus de restaurant"})]}),o.jsxs(et,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[o.jsx(tl,{size:18}),o.jsx("span",{children:"Créer un nouveau menu"})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(y4,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par créer votre premier menu pour votre restaurant."}),o.jsxs(et,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[o.jsx(tl,{size:18}),o.jsx("span",{children:"Créer mon premier menu"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(h=>{var m,y;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.banniere_url?o.jsx("div",{className:"h-32 bg-gray-200",children:o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-full h-full object-cover"})}):o.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-4xl font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.menu_name||h.nom}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(m=kx[h.language||"fr"])==null?void 0:m.flag}),o.jsx("span",{className:"text-xs text-gray-500",children:(y=kx[h.language||"fr"])==null?void 0:y.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("button",{onClick:()=>f(h,"status"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publié":"Brouillon"}),o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(et,{to:`/categories/${h.id}`,className:"w-full flex items-center justify-center gap-2 text-sm bg-orange-600 text-white hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium shadow-sm transition-colors",children:[o.jsx(Rm,{size:18}),o.jsx("span",{children:"Gérer les articles"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(et,{to:`/mon-menu/${h.id}`,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Paramètres",children:o.jsx(rl,{size:20})}),o.jsx("button",{onClick:()=>d(h),className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Dupliquer",children:o.jsx($m,{size:20})}),o.jsx("button",{onClick:()=>u(h.id),className:"flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 p-2.5 rounded-lg border border-red-200 transition-colors",title:"Supprimer",children:o.jsx(ca,{size:20})})]})]})]})]},h.id)})}),o.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilité"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[h.banniere_url?o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsx("div",{children:o.jsx("div",{className:"font-medium text-gray-900",children:h.menu_name||h.nom})})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publié":"Brouillon"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(et,{to:`/categories/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Gérer les articles",children:o.jsx(Rm,{size:18})}),o.jsx(et,{to:`/mon-menu/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramètres du menu",children:o.jsx(rl,{size:18})}),o.jsx("button",{onClick:()=>d(h),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:o.jsx($m,{size:18})}),o.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:o.jsx(ca,{size:18})})]})})]},h.id))})]})})]})]})})}const u3=()=>{const{user:e}=ar(),{menuId:t}=ya(),r=Kr(),[n,i]=v.useState(null),[a,s]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,y]=v.useState(""),[b,w]=v.useState(!0);v.useEffect(()=>{e&&t&&x()},[e,t]);const x=async()=>{if(!t){g("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:_,error:N}=await B.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(N){console.error("Erreur lors du chargement du menu:",N),g("error","Erreur lors du chargement du menu");return}if(!_){g("error","Menu non trouvé"),r("/mes-menus");return}i(_)}catch(_){console.error("Erreur lors du chargement du menu:",_),g("error","Erreur lors du chargement du menu")}finally{s(!1)}},g=(_,N)=>{h({type:_,text:N}),setTimeout(()=>h(null),5e3)},p=async _=>{if(_){if(_.size>10*1024*1024){g("error","Le fichier est trop volumineux (max 10MB)");return}if(!_.type.startsWith("image/")){g("error","Veuillez sélectionner une image valide");return}c(!0);try{g("success","Upload de l'image en cours...");const N=await hs(_,"menu-items");if(N.error){g("error",N.error);return}y("Analyse de l'image avec l'IA..."),g("success","Analyse de l'image avec l'IA...");const k=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0"},body:JSON.stringify({imageUrl:N.url,menuId:n.id,importImages:b})});if(y("Traitement de la réponse..."),!k.ok){const S=await k.json();g("error",S.error||"Erreur lors de l'analyse");return}const E=await k.json();if(!E.success){g("error",E.error||"Erreur lors de l'analyse");return}y("Insertion des données en base..."),g("success","Insertion des données et images en base..."),await j(E.data);try{await es(N.url)}catch(S){console.warn("Failed to cleanup analysis image:",S)}g("success","Menu importé avec succès ! 🎉 Vous pouvez maintenant retourner à la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(N){console.error("Erreur lors du traitement:",N),g("error","Erreur lors du traitement de l'image")}finally{c(!1),y(""),d(null)}}},j=async _=>{try{const{data:N}=await B.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),k=N&&N.length>0?N[0].ordre+1:0;for(const E of _.categories){const{data:S,error:C}=await B.from("categories").insert([{menu_id:n.id,nom:E.name,description:E.description||"",ordre:k+_.categories.indexOf(E)}]).select().single();if(C)throw C;for(const O of E.items){const{error:T}=await B.from("menu_items").insert([{category_id:S.id,nom:O.name,description:O.description||"",prix:O.price||0,image_url:O.image_url||"",allergenes:O.allergenes||[],vegetarien:O.vegetarian||!1,vegan:O.vegan||!1,sans_gluten:O.gluten_free||!1,epice:O.spicy||!1,ordre:E.items.indexOf(O)}]);if(T)throw T}}}catch(N){throw console.error("Erreur lors de l'insertion:",N),N}};return a?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(xa,{size:"lg"})}):n?o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(et,{to:"/categories",className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Nl,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),o.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Be,{className:"w-5 h-5 mt-0.5"}):o.jsx(Pe,{className:"w-5 h-5 mt-0.5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wm,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie opérer !"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var k;const N=(k=_.target.files)==null?void 0:k[0];N&&d(N)},className:"hidden",disabled:l}),o.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(v4,{className:"w-6 h-6 text-purple-600"})}),u?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour sélectionner une image de votre menu"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 10MB - Plus la photo est claire, meilleur sera le résultat"})]})]})})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[o.jsx("input",{type:"checkbox",id:"importImages",checked:b,onChange:_=>w(_.target.checked),disabled:l,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),o.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>u&&p(u),disabled:!u||l,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:l?o.jsxs(o.Fragment,{children:[o.jsx(ye,{className:"animate-spin",size:24}),o.jsx("span",{children:"Analyse en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Wm,{size:24}),o.jsx("span",{children:"Analyser le menu"})]})})})]}),l&&o.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[o.jsx(ye,{className:"animate-spin",size:20}),o.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),o.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),o.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexité de votre menu et le nombre de plats",b&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),o.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur résultat"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-green-600 font-bold",children:"📱"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien éclairée et nette"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-blue-600 font-bold",children:"📄"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"✓"})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),o.jsx(et,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})})};var ki={},d3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},a_={},sr={};let Jg;const f3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];sr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};sr.getSymbolTotalCodewords=function(t){return f3[t]};sr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};sr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Jg=t};sr.isKanjiModeEnabled=function(){return typeof Jg<"u"};sr.toSJIS=function(t){return Jg(t)};var Od={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Od);function s_(){this.buffer=[],this.length=0}s_.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var h3=s_;function Ol(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ol.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};Ol.prototype.get=function(e,t){return this.data[e*this.size+t]};Ol.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};Ol.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var m3=Ol,o_={};(function(e){const t=sr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,l=[a-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),s=a.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||i.push([a[l],a[c]]);return i}})(o_);var l_={};const p3=sr.getSymbolSize,Nx=7;l_.getPositions=function(t){const r=p3(t);return[[0,0],[r-Nx,0],[0,r-Nx]]};var c_={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let s=0,l=0,c=0,u=null,d=null;for(let f=0;f<a;f++){l=c=0,u=d=null;for(let h=0;h<a;h++){let m=i.get(f,h);m===u?l++:(l>=5&&(s+=t.N1+(l-5)),u=m,l=1),m=i.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const a=i.size;let s=0;for(let l=0;l<a-1;l++)for(let c=0;c<a-1;c++){const u=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const a=i.size;let s=0,l=0,c=0;for(let u=0;u<a;u++){l=c=0;for(let d=0;d<a;d++)l=l<<1&2047|i.get(u,d),d>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const s=a.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)a.isReserved(c,l)||a.xor(c,l,r(i,c,l))},e.getBestMask=function(i,a){const s=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<s;u++){a(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<c&&(c=d,l=u)}return l}})(c_);var Ad={};const si=Od,pc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],gc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ad.getBlocksCount=function(t,r){switch(r){case si.L:return pc[(t-1)*4+0];case si.M:return pc[(t-1)*4+1];case si.Q:return pc[(t-1)*4+2];case si.H:return pc[(t-1)*4+3];default:return}};Ad.getTotalCodewordsCount=function(t,r){switch(r){case si.L:return gc[(t-1)*4+0];case si.M:return gc[(t-1)*4+1];case si.Q:return gc[(t-1)*4+2];case si.H:return gc[(t-1)*4+3];default:return}};var u_={},Td={};const To=new Uint8Array(512),_u=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)To[r]=t,_u[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)To[r]=To[r-255]})();Td.log=function(t){if(t<1)throw new Error("log("+t+")");return _u[t]};Td.exp=function(t){return To[t]};Td.mul=function(t,r){return t===0||r===0?0:To[_u[t]+_u[r]]};(function(e){const t=Td;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<i.length;l++)a[s+l]^=t.mul(n[s],i[l]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let l=0;for(;l<a.length&&a[l]===0;)l++;a=a.slice(l)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(u_);const d_=u_;function Xg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Xg.prototype.initialize=function(t){this.degree=t,this.genPoly=d_.generateECPolynomial(this.degree)};Xg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=d_.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var g3=Xg,f_={},Ni={},Zg={};Zg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var un={};const h_="[0-9]+",v3="[A-Z $%*+\\-./:]+";let al="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";al=al.replace(/u/g,"\\u");const y3="(?:(?![A-Z0-9 $%*+\\-./:]|"+al+`)(?:.|[\r
]))+`;un.KANJI=new RegExp(al,"g");un.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");un.BYTE=new RegExp(y3,"g");un.NUMERIC=new RegExp(h_,"g");un.ALPHANUMERIC=new RegExp(v3,"g");const x3=new RegExp("^"+al+"$"),b3=new RegExp("^"+h_+"$"),w3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");un.testKanji=function(t){return x3.test(t)};un.testNumeric=function(t){return b3.test(t)};un.testAlphanumeric=function(t){return w3.test(t)};(function(e){const t=Zg,r=un;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,s){if(e.isValid(a))return a;try{return n(a)}catch{return s}}})(Ni);(function(e){const t=sr,r=Ad,n=Od,i=Ni,a=Zg,s=7973,l=t.getBCHDigit(s);function c(h,m,y){for(let b=1;b<=40;b++)if(m<=e.getCapacity(b,y,h))return b}function u(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let y=0;return h.forEach(function(b){const w=u(b.mode,m);y+=w+b.getBitsLength()}),y}function f(h,m){for(let y=1;y<=40;y++)if(d(h,y)<=e.getCapacity(y,m,i.MIXED))return y}e.from=function(m,y){return a.isValid(m)?parseInt(m,10):y},e.getCapacity=function(m,y,b){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const w=t.getSymbolTotalCodewords(m),x=r.getTotalCodewordsCount(m,y),g=(w-x)*8;if(b===i.MIXED)return g;const p=g-u(b,m);switch(b){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(m,y){let b;const w=n.from(y,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;b=m[0]}else b=m;return c(b.mode,b.getLength(),w)},e.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;t.getBCHDigit(y)-l>=0;)y^=s<<t.getBCHDigit(y)-l;return m<<12|y}})(f_);var m_={};const Km=sr,p_=1335,j3=21522,Sx=Km.getBCHDigit(p_);m_.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;Km.getBCHDigit(i)-Sx>=0;)i^=p_<<Km.getBCHDigit(i)-Sx;return(n<<10|i)^j3};var g_={};const _3=Ni;function ps(e){this.mode=_3.NUMERIC,this.data=e.toString()}ps.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ps.prototype.getLength=function(){return this.data.length};ps.prototype.getBitsLength=function(){return ps.getBitsLength(this.data.length)};ps.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var k3=ps;const N3=Ni,ih=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function gs(e){this.mode=N3.ALPHANUMERIC,this.data=e}gs.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};gs.prototype.getLength=function(){return this.data.length};gs.prototype.getBitsLength=function(){return gs.getBitsLength(this.data.length)};gs.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=ih.indexOf(this.data[r])*45;n+=ih.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(ih.indexOf(this.data[r]),6)};var S3=gs;const E3=Ni;function vs(e){this.mode=E3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}vs.getBitsLength=function(t){return t*8};vs.prototype.getLength=function(){return this.data.length};vs.prototype.getBitsLength=function(){return vs.getBitsLength(this.data.length)};vs.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var C3=vs;const P3=Ni,O3=sr;function ys(e){this.mode=P3.KANJI,this.data=e}ys.getBitsLength=function(t){return t*13};ys.prototype.getLength=function(){return this.data.length};ys.prototype.getBitsLength=function(){return ys.getBitsLength(this.data.length)};ys.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=O3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var A3=ys,v_={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},s={};s[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,y,b,w;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],y=f+m,b=s[d],w=typeof s[d]>"u",(w||b>y)&&(s[d]=y,l.push(d,y),a[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var x=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(x)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(v_);var T3=v_.exports;(function(e){const t=Ni,r=k3,n=S3,i=C3,a=A3,s=un,l=sr,c=T3;function u(x){return unescape(encodeURIComponent(x)).length}function d(x,g,p){const j=[];let _;for(;(_=x.exec(p))!==null;)j.push({data:_[0],index:_.index,mode:g,length:_[0].length});return j}function f(x){const g=d(s.NUMERIC,t.NUMERIC,x),p=d(s.ALPHANUMERIC,t.ALPHANUMERIC,x);let j,_;return l.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,x),_=d(s.KANJI,t.KANJI,x)):(j=d(s.BYTE_KANJI,t.BYTE,x),_=[]),g.concat(p,j,_).sort(function(k,E){return k.index-E.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(x,g){switch(g){case t.NUMERIC:return r.getBitsLength(x);case t.ALPHANUMERIC:return n.getBitsLength(x);case t.KANJI:return a.getBitsLength(x);case t.BYTE:return i.getBitsLength(x)}}function m(x){return x.reduce(function(g,p){const j=g.length-1>=0?g[g.length-1]:null;return j&&j.mode===p.mode?(g[g.length-1].data+=p.data,g):(g.push(p),g)},[])}function y(x){const g=[];for(let p=0;p<x.length;p++){const j=x[p];switch(j.mode){case t.NUMERIC:g.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:g.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:g.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:g.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return g}function b(x,g){const p={},j={start:{}};let _=["start"];for(let N=0;N<x.length;N++){const k=x[N],E=[];for(let S=0;S<k.length;S++){const C=k[S],O=""+N+S;E.push(O),p[O]={node:C,lastCount:0},j[O]={};for(let T=0;T<_.length;T++){const I=_[T];p[I]&&p[I].node.mode===C.mode?(j[I][O]=h(p[I].lastCount+C.length,C.mode)-h(p[I].lastCount,C.mode),p[I].lastCount+=C.length):(p[I]&&(p[I].lastCount=C.length),j[I][O]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,g))}}_=E}for(let N=0;N<_.length;N++)j[_[N]].end=0;return{map:j,table:p}}function w(x,g){let p;const j=t.getBestModeForData(x);if(p=t.from(g,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+x+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!l.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new r(x);case t.ALPHANUMERIC:return new n(x);case t.KANJI:return new a(x);case t.BYTE:return new i(x)}}e.fromArray=function(g){return g.reduce(function(p,j){return typeof j=="string"?p.push(w(j,null)):j.data&&p.push(w(j.data,j.mode)),p},[])},e.fromString=function(g,p){const j=f(g,l.isKanjiModeEnabled()),_=y(j),N=b(_,p),k=c.find_path(N.map,"start","end"),E=[];for(let S=1;S<k.length-1;S++)E.push(N.table[k[S]].node);return e.fromArray(m(E))},e.rawSplit=function(g){return e.fromArray(f(g,l.isKanjiModeEnabled()))}})(g_);const Md=sr,ah=Od,M3=h3,I3=m3,D3=o_,L3=l_,Gm=c_,Ym=Ad,$3=g3,ku=f_,R3=m_,z3=Ni,sh=g_;function U3(e,t){const r=e.size,n=L3.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],s=n[i][1];for(let l=-1;l<=7;l++)if(!(a+l<=-1||r<=a+l))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(a+l,s+c,!0,!0):e.set(a+l,s+c,!1,!0))}}function B3(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function F3(e,t){const r=D3.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?e.set(i+s,a+l,!0,!0):e.set(i+s,a+l,!1,!0)}}function W3(e,t){const r=e.size,n=ku.getEncodedBits(t);let i,a,s;for(let l=0;l<18;l++)i=Math.floor(l/3),a=l%3+r-8-3,s=(n>>l&1)===1,e.set(i,a,s,!0),e.set(a,i,s,!0)}function oh(e,t,r){const n=e.size,i=R3.getEncodedBits(t,r);let a,s;for(a=0;a<15;a++)s=(i>>a&1)===1,a<6?e.set(a,8,s,!0):a<8?e.set(a+1,8,s,!0):e.set(n-15+a,8,s,!0),a<8?e.set(8,n-a-1,s,!0):a<9?e.set(8,15-a-1+1,s,!0):e.set(8,15-a-1,s,!0);e.set(n-8,8,1,!0)}function q3(e,t){const r=e.size;let n=-1,i=r-1,a=7,s=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,l-c)){let u=!1;s<t.length&&(u=(t[s]>>>a&1)===1),e.set(i,l-c,u),a--,a===-1&&(s++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function V3(e,t,r){const n=new M3;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),z3.getCharCountIndicator(c.mode,e)),c.write(n)});const i=Md.getSymbolTotalCodewords(e),a=Ym.getTotalCodewordsCount(e,t),s=(i-a)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(s-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return H3(n,e,t)}function H3(e,t,r){const n=Md.getSymbolTotalCodewords(t),i=Ym.getTotalCodewordsCount(t,r),a=n-i,s=Ym.getBlocksCount(t,r),l=n%s,c=s-l,u=Math.floor(n/s),d=Math.floor(a/s),f=d+1,h=u-d,m=new $3(h);let y=0;const b=new Array(s),w=new Array(s);let x=0;const g=new Uint8Array(e.buffer);for(let k=0;k<s;k++){const E=k<c?d:f;b[k]=g.slice(y,y+E),w[k]=m.encode(b[k]),y+=E,x=Math.max(x,E)}const p=new Uint8Array(n);let j=0,_,N;for(_=0;_<x;_++)for(N=0;N<s;N++)_<b[N].length&&(p[j++]=b[N][_]);for(_=0;_<h;_++)for(N=0;N<s;N++)p[j++]=w[N][_];return p}function K3(e,t,r,n){let i;if(Array.isArray(e))i=sh.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=sh.rawSplit(e);u=ku.getBestVersionForData(d,r)}i=sh.fromString(e,u||40)}else throw new Error("Invalid data");const a=ku.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const s=V3(t,r,i),l=Md.getSymbolSize(t),c=new I3(l);return U3(c,t),B3(c),F3(c,t),oh(c,r,0),t>=7&&W3(c,t),q3(c,s),isNaN(n)&&(n=Gm.getBestMask(c,oh.bind(null,c,r))),Gm.applyMask(n,c),oh(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}a_.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=ah.M,i,a;return typeof r<"u"&&(n=ah.from(r.errorCorrectionLevel,ah.M),i=ku.from(r.version),a=Gm.from(r.maskPattern),r.toSJISFunc&&Md.setToSJISFunction(r.toSJISFunc)),K3(t,i,n,a)};var y_={},e0={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const s=i.modules.size,l=i.modules.data,c=e.getScale(s,a),u=Math.floor((s+a.margin*2)*c),d=a.margin*c,f=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let y=(h*u+m)*4,b=a.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),x=Math.floor((m-d)/c);b=f[l[w*s+x]?1:0]}n[y++]=b.r,n[y++]=b.g,n[y++]=b.b,n[y]=b.a}}})(e0);(function(e){const t=e0;function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,s,l){let c=l,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(a.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,a,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(a,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(a,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(y_);var x_={};const G3=e0;function Ex(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function lh(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function Y3(e,t,r){let n="",i=0,a=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!a&&(a=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=a?lh("M",c+r,.5+u+r):lh("m",i,0),i=0,a=!1),c+1<t&&e[l+1]||(n+=lh("h",s),s=0)):i++}return n}x_.render=function(t,r,n){const i=G3.getOptions(r),a=t.modules.size,s=t.modules.data,l=a+i.margin*2,c=i.color.light.a?"<path "+Ex(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Ex(i.color.dark,"stroke")+' d="'+Y3(s,a,i.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const Q3=d3,Qm=a_,b_=y_,J3=x_;function t0(e,t,r,n,i){const a=[].slice.call(arguments,1),s=a.length,l=typeof a[s-1]=="function";if(!l&&!Q3())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=Qm.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=Qm.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}ki.create=Qm.create;ki.toCanvas=t0.bind(null,b_.render);ki.toDataURL=t0.bind(null,b_.renderToDataURL);ki.toString=t0.bind(null,function(e,t,r){return J3.render(e,r)});const X3=()=>{const{user:e}=ar(),t=Kr(),[r,n]=v.useState(null),[i,a]=v.useState(!0),[s,l]=v.useState(""),[c,u]=v.useState("#000000"),[d,f]=v.useState("#ffffff"),[h,m]=v.useState(!1),[y,b]=v.useState(!1),[w,x]=v.useState(""),[g,p]=v.useState(!1);v.useRef(null);const j=v.useRef(null),_=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert foncé",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];v.useEffect(()=>{e&&N()},[e]),v.useEffect(()=>{r&&k()},[r,c,d,w]);const N=async()=>{if(e){a(!0);try{const{data:R,error:J}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(J&&J.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",J),J;n(R)}catch(R){console.error("Erreur lors du chargement:",R)}finally{a(!1)}}},k=async()=>{if(r){b(!0);try{const R=`https://a.cloudmenu.fr/m/${r.slug}?ref=qr`,J=document.createElement("canvas");if(await ki.toCanvas(J,R,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"H"}),w){const M=J.getContext("2d");if(M){const L=new Image;L.crossOrigin="anonymous",await new Promise((P,z)=>{L.onload=()=>{const F=J.width*.2,U=(J.width-F)/2,oe=(J.height-F)/2;M.fillStyle="white",M.fillRect(U-5,oe-5,F+10,F+10),M.drawImage(L,U,oe,F,F),P(null)},L.onerror=z,L.src=w})}}const Y=J.toDataURL("image/png");l(Y)}catch(R){console.error("Erreur lors de la génération du QR code:",R)}finally{b(!1)}}},E=()=>{if(!s||!r)return;const R=document.createElement("a");R.download=`qr-code-${r.slug}.png`,R.href=s,R.click()},S=async()=>{if(r)try{await navigator.clipboard.writeText(`${I}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch(R){console.error("Erreur lors de la copie:",R)}},C=R=>{u(R.color),f(R.bg)},O=async R=>{var Y;const J=(Y=R.target.files)==null?void 0:Y[0];if(J){if(!J.type.startsWith("image/")){alert("Veuillez sélectionner un fichier image valide");return}if(J.size>2*1024*1024){alert("Le fichier doit faire moins de 2MB");return}p(!0);try{const M=J.name.split(".").pop(),L=`qr-logos/${e==null?void 0:e.id}-${Date.now()}.${M}`,{data:P,error:z}=await B.storage.from("cloudmenu").upload(L,J,{cacheControl:"3600",upsert:!1});if(z)throw z;const{data:F}=B.storage.from("cloudmenu").getPublicUrl(L);x(F.publicUrl)}catch(M){console.error("Erreur lors du téléchargement du logo:",M),alert("Erreur lors du téléchargement du logo")}finally{p(!1)}}},T=()=>{x(""),j.current&&(j.current.value="")};if(i)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})});if(!r)return o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configuré"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identité visuelle de votre restaurant pour générer un QR code."}),o.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const I=r?`https://a.cloudmenu.fr/m/${r.slug}`:"";return o.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Téléchargez votre QR code personnalisé pour afficher dans votre établissement. Il permet d'accéder à tous vos menus."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(N4,{className:"w-5 h-5"}),o.jsx("span",{children:"URL de votre restaurant"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[o.jsx("input",{type:"text",value:`${I}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),o.jsx("button",{onClick:S,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?o.jsxs(o.Fragment,{children:[o.jsx(Be,{className:"w-4 h-4"}),o.jsx("span",{children:"Copié !"})]}):o.jsxs(o.Fragment,{children:[o.jsx($m,{className:"w-4 h-4"}),o.jsx("span",{children:"Copier"})]})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["🔗 ",o.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramètre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Vg,{className:"w-5 h-5"}),o.jsx("span",{children:"Personnalisation"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prédéfinies"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_.map((R,J)=>o.jsxs("button",{onClick:()=>C(R),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===R.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:R.color}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:R.bg}})]}),o.jsx("span",{className:"text-xs font-medium text-gray-700",children:R.name})]},J))})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:c,onChange:R=>u(R.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:c,onChange:R=>u(R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrière-plan"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:d,onChange:R=>f(R.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:d,onChange:R=>f(R.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Logo au centre du QR code"}),w?o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("img",{src:w,alt:"Logo preview",className:"w-12 h-12 object-contain rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Logo ajouté"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Le logo apparaîtra au centre du QR code"})]}),o.jsx("button",{onClick:T,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Retirer le logo",children:o.jsx(Pe,{className:"w-4 h-4"})})]})}):o.jsxs("div",{children:[o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:O,className:"hidden",id:"logo-upload"}),o.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${g?"border-gray-300 bg-gray-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"}`,children:g?o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Téléchargement..."})]}):o.jsxs("div",{className:"flex flex-col items-center space-y-2 text-gray-600",children:[o.jsx(ms,{className:"w-8 h-8"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:"Ajouter un logo"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 2MB"})]})]})})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(rs,{className:"w-5 h-5"}),o.jsx("span",{children:"Aperçu du QR Code"})]}),o.jsx("div",{className:"text-center",children:y?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Génération..."})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&o.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:E,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[o.jsx(g4,{className:"w-5 h-5"}),o.jsx("span",{children:"Télécharger le QR Code"})]})})]})})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Comment utiliser votre QR Code"}),o.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("span",{children:"Téléchargez le QR code en cliquant sur le bouton ci-dessus"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("span",{children:"Vos clients scannent le QR code avec leur téléphone"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("span",{children:"Ils accèdent directement à votre menu en ligne !"})]})]})]})]})]})]})};function Z3({googleBusinessUrl:e,selectedLanguage:t}){if(!e)return null;const r=l=>{const c={fr:{title:"Laissez-nous un avis",cta:"Écrire un avis sur Google"},en:{title:"Leave us a review",cta:"Write a review on Google"},es:{title:"Déjanos una reseña",cta:"Escribir una reseña en Google"},de:{title:"Hinterlassen Sie uns eine Bewertung",cta:"Bewertung auf Google schreiben"},it:{title:"Lasciaci una recensione",cta:"Scrivi una recensione su Google"}};return c[l]||c.fr},n=l=>l.includes("g.page")?l.endsWith("/")?`${l}review`:`${l}/review`:l.includes("maps")?l.includes("?")?`${l}&reviews=true`:`${l}?reviews=true`:l.endsWith("/")?`${l}review`:`${l}/review`,{title:i,cta:a}=r(t),s=n(e);return o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-5",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>o.jsx(Fm,{size:20,className:"text-yellow-400 fill-yellow-400"},c))}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Google"})]})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:i}),o.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[o.jsx(Fm,{size:18}),o.jsx("span",{children:a}),o.jsx(Wg,{size:16})]})]})}const Kn={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"},ar:{name:"العربية",flag:"🇸🇦"}},e5=()=>{const e=navigator.language.split("-")[0];return Object.keys(Kn).includes(e)?e:"fr"};function t5(){var R,J,Y;const{slug:e}=ya(),[t,r]=v.useState(null),[n,i]=v.useState([]),[a,s]=v.useState(e5()),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[f,h]=v.useState(""),[m,y]=v.useState(!1),[b,w]=v.useState(!1),[x,g]=v.useState(!1),[p,j]=v.useState([]),[_,N]=v.useState({});v.useEffect(()=>{const M=()=>{y(window.innerWidth<768)};return M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),v.useEffect(()=>{e&&(E(),k())},[e]);const k=async()=>{try{const M=window.location.href,L=await ki.toDataURL(M,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(L)}catch(M){console.error("Error generating QR code:",M)}},E=async()=>{d(!0);try{const{data:M,error:L}=await B.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(L||!M){console.error("Erreur lors du chargement du restaurant:",L),d(!1);return}r(M);const{data:P,error:z}=await B.from("menus").select("*").eq("user_id",M.user_id).eq("actif",!0).eq("status","published").order("created_at",{ascending:!0});if(z)console.error("Erreur lors du chargement des menus:",z),i([]);else if(i(P||[]),P&&P.length>0){const F=P.map(oe=>oe.id),{data:U}=await B.from("menu_languages").select("language_code, menu_id, menu_title").in("menu_id",F);if(U){const oe=Array.from(new Set(U.map(re=>re.language_code))),ue=P.map(re=>re.default_language||"fr"),me=Array.from(new Set([...ue,...oe]));j(me);const Me={};U.forEach(re=>{Me[re.menu_id]||(Me[re.menu_id]={}),Me[re.menu_id][re.language_code]=re.menu_title||""}),N(Me)}}}catch(M){console.error("Erreur:",M)}finally{d(!1)}},C=n.reduce((M,L)=>{const P=M.find(z=>z.menu_name===L.menu_name);return P?P.languages.push(L):M.push({menu_name:L.menu_name||L.nom,description:L.description,languages:[L]}),M},[]).filter(M=>{const L=M.languages[0],P=L.default_language||"fr";return a===P||_[L.id]&&_[L.id][a]});Array.from(new Set(n.map(M=>M.language||"fr")));const O=M=>M.languages[0],T=M=>`https://wa.me/${M.replace(/\D/g,"")}`,I=(M,L,P)=>{var F;const z=n.find(U=>U.id===M);return z&&(z.default_language===L||L==="fr")?P:((F=_[M])==null?void 0:F[L])||P};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(xa,{size:"lg"})}):t?m?o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate text-black",children:t.restaurant_name}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[p.length>1&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(qg,{size:18}),o.jsx("span",{className:"text-xl",children:((R=Kn[a])==null?void 0:R.flag)||"🌐"}),o.jsx("span",{className:"text-sm font-medium",children:((J=Kn[a])==null?void 0:J.name)||a}),o.jsx(Zo,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(M=>{var L,P;return o.jsx("button",{onClick:()=>{s(M),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${a===M?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(L=Kn[M])==null?void 0:L.flag}),o.jsx("span",{className:"text-sm",children:(P=Kn[M])==null?void 0:P.name})]}),a===M&&o.jsx(Be,{size:16})]})},M)})})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[t.telephone&&o.jsx("a",{href:`tel:${t.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${t.telephone}`,children:o.jsx(yr,{size:20})}),t.whatsapp&&o.jsx("a",{href:T(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${t.whatsapp}`,children:o.jsx(Ji,{size:20})}),t.instagram&&o.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(la,{size:20})}),t.facebook&&o.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(oa,{size:20})}),t.tiktok&&o.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",children:[o.jsx(gr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Réserver"})]}),p.length>1&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((Y=Kn[a])==null?void 0:Y.flag)||"🌐"}),o.jsx(Zo,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(M=>{var L,P;return o.jsx("button",{onClick:()=>{s(M),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${M===a?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(L=Kn[M])==null?void 0:L.flag}),o.jsx("span",{className:"text-sm",children:(P=Kn[M])==null?void 0:P.name})]}),a===M&&o.jsx(Be,{size:16})]})},M)})})]}),(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsx("button",{onClick:M=>{M.stopPropagation(),w(!b)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(wu,{size:24,className:"text-black"})})]}),b&&(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[t.telephone&&o.jsxs("a",{href:`tel:${t.telephone}`,className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(yr,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Téléphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.telephone})]})]}),t.whatsapp&&o.jsxs("a",{href:T(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Ji,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.whatsapp})]})]}),t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(la,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(oa,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]})]})]})]})}),o.jsxs("div",{className:"pt-16",children:[o.jsx("div",{className:"h-48 flex items-center justify-center overflow-hidden",style:{backgroundColor:t.hero_background_color||"#f3f4f6"},children:t.logo_url?o.jsx("div",{className:"flex items-center justify-center h-full px-4",children:o.jsx("img",{src:t.logo_url,alt:t.restaurant_name,className:"max-h-32 max-w-full object-contain"})}):t.banner_url?o.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"text-center px-4",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name})})}),o.jsxs("div",{className:"px-4 py-6",children:[(t.description||t.address||t.hours)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 mb-6",children:[t.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),o.jsxs("div",{className:"space-y-2",children:[t.address&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(Um,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.address})]}),t.hours&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(el,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.hours})]})]})]}),t.google_business_url&&o.jsx("div",{className:"mb-6",children:o.jsx(Z3,{googleBusinessUrl:t.google_business_url,selectedLanguage:a})})]}),o.jsxs("div",{className:"px-4 py-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:a==="fr"?"Nos Menus":a==="en"?"Our Menus":a==="es"?"Nuestros Menús":a==="de"?"Unsere Menüs":a==="it"?"I Nostri Menu":"Nos Menus"}),C.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx(wu,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600",children:a==="fr"?"Aucun menu disponible pour le moment.":a==="en"?"No menus available at the moment.":a==="es"?"No hay menús disponibles en este momento.":a==="de"?"Derzeit sind keine Menüs verfügbar.":a==="it"?"Nessun menu disponibile al momento.":"Aucun menu disponible pour le moment."})]}):o.jsx("div",{className:"space-y-3",children:C.map(M=>{const L=O(M),P=L.slug.split("/").pop(),z=I(L.id,a,M.menu_name);return o.jsx(et,{to:`/m/${e}/${P}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:z}),M.description&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:M.description})]}),o.jsx(Fg,{className:"flex-shrink-0 ml-3 text-gray-400",size:20})]})},M.menu_name)})})]})]}),x&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Réserver une table"}),o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Pe,{size:24,className:"text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-600 mb-4",children:"Pour réserver une table, veuillez nous contacter directement :"}),o.jsxs("div",{className:"space-y-3",children:[t.telephone&&o.jsxs("a",{href:`tel:${t.telephone}`,className:"flex items-center gap-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(yr,{size:20,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Téléphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.telephone})]})]}),t.whatsapp&&o.jsxs("a",{href:T(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ji,{size:20,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.whatsapp})]})]})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(U2,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&o.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),t.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&o.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Um,{size:16}),o.jsx("span",{children:t.address})]}),t.telephone&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(yr,{size:16}),o.jsx("span",{children:t.telephone})]}),t.hours&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(el,{size:16}),o.jsx("span",{children:t.hours})]})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a été désactivé."})]})})}const lr={fr:{name:"Français",flag:"🇫🇷",rtl:!1},en:{name:"English",flag:"🇬🇧",rtl:!1},es:{name:"Español",flag:"🇪🇸",rtl:!1},de:{name:"Deutsch",flag:"🇩🇪",rtl:!1},it:{name:"Italiano",flag:"🇮🇹",rtl:!1},pt:{name:"Português",flag:"🇵🇹",rtl:!1},ar:{name:"العربية",flag:"🇸🇦",rtl:!0},zh:{name:"中文",flag:"🇨🇳",rtl:!1},ja:{name:"日本語",flag:"🇯🇵",rtl:!1},ru:{name:"Русский",flag:"🇷🇺",rtl:!1},nl:{name:"Nederlands",flag:"🇳🇱",rtl:!1}},r5=()=>{var Hs,Ks,A,ne,X,q,H,ae;const e=Kr(),{slug:t,menuSlug:r}=ya(),[n,i]=v.useState(null),[a,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(""),[b,w]=v.useState(!1),[x,g]=v.useState([]),[p,j]=v.useState(null),[_,N]=v.useState(""),[k,E]=v.useState(!1),[S,C]=v.useState(!1);v.useState(!1);const[O,T]=v.useState(!1),[I,R]=v.useState("fr"),[J,Y]=v.useState([]),[M,L]=v.useState({}),[P,z]=v.useState({}),[F,U]=v.useState(""),[oe,ue]=v.useState(!1),[me,Me]=v.useState(!1),[re,Ar]=v.useState(null),[Q,le]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),de=v.useRef({}),W=v.useRef(null),qe=v.useRef({});v.useEffect(()=>{const D=()=>{E(window.innerWidth<768)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]),v.useEffect(()=>{t&&r&&(Ve(),ge())},[t,r]),v.useEffect(()=>{n&&I&&Tr(I)},[I,n,a,l]),v.useEffect(()=>{n&&!I&&R(n.default_language||"fr")},[n]);const ge=async()=>{try{const D=window.location.href,G=await ki.toDataURL(D,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});N(G)}catch(D){console.error("Error generating QR code:",D)}};v.useEffect(()=>{if(n&&!b){const G=new URLSearchParams(window.location.search).get("ref");let K="direct_link";G==="qr"?K="qr_scan":G==="gmb"&&(K="gmb"),l4(n.id,K),w(!0)}},[n,b]),v.useEffect(()=>{a.length>0&&!m&&y(a[0].id)},[a]),v.useEffect(()=>{if(m&&qe.current[m]&&W.current){const D=qe.current[m],G=W.current;D.getBoundingClientRect(),G.getBoundingClientRect();const K=D.offsetLeft,it=D.offsetWidth,He=G.scrollLeft,at=G.offsetWidth;K<He?G.scrollTo({left:K-20,behavior:"smooth"}):K+it>He+at&&G.scrollTo({left:K+it-at+20,behavior:"smooth"})}},[m]);const Ve=async()=>{if(!t||!r){h("Paramètres manquants"),d(!1);return}try{const{data:D,error:G}=await B.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(G||!D){h("Restaurant non trouvé"),d(!1);return}j(D);const{data:K,error:it}=await B.from("menus").select("*").eq("user_id",D.user_id).eq("actif",!0).eq("status","published");if(it){h("Erreur lors du chargement des menus"),d(!1);return}g(K||[]);const He=K==null?void 0:K.find(at=>at.slug.split("/").pop()===r);if(!He){h("Menu non trouvé"),d(!1);return}i(He),await ht(He.id)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},ht=async D=>{try{const{data:G,error:K}=await B.from("categories").select("*").eq("menu_id",D).eq("actif",!0).order("ordre",{ascending:!0});if(K)throw K;if(s(G||[]),G&&G.length>0){const{data:He,error:at}=await B.from("menu_items").select("*").in("category_id",G.map(Pt=>Pt.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(at)throw at;const Ie={};G.forEach(Pt=>{Ie[Pt.id]=(He==null?void 0:He.filter(ka=>ka.category_id===Pt.id))||[]}),c(Ie)}const{data:it}=await B.from("menu_languages").select("*").eq("menu_id",D);Y(it||[])}catch(G){console.error("Erreur lors du chargement du contenu:",G)}},Tr=async D=>{if(!n||!D||D===(n.default_language||"fr")){L({}),z({}),U((n==null?void 0:n.menu_name)||"");return}try{const G=J.find(Ie=>Ie.language_code===D);G!=null&&G.menu_title?U(G.menu_title):U(n.menu_name||"");const K=a.map(Ie=>Ie.id),{data:it}=await B.from("category_translations").select("*").in("category_id",K).eq("language_code",D),He={};it==null||it.forEach(Ie=>{He[Ie.category_id]=Ie}),L(He);const at=[];if(Object.values(l).forEach(Ie=>{Ie.forEach(Pt=>at.push(Pt.id))}),at.length>0){const{data:Ie}=await B.from("menu_item_translations").select("*").in("menu_item_id",at).eq("language_code",D),Pt={};Ie==null||Ie.forEach(ka=>{Pt[ka.menu_item_id]=ka}),z(Pt)}}catch(G){console.error("Error loading translations:",G)}},Oi=D=>{y(D);const G=de.current[D];if(G){const it=G.offsetTop-140;window.scrollTo({top:it,behavior:"smooth"})}};v.useEffect(()=>{const D=()=>{const G=window.scrollY+250;let K="",it=1/0;for(const He of a){const at=de.current[He.id];if(at){const Ie=at.offsetTop,Pt=Ie+at.offsetHeight,ka=Math.max(Ie,G-150),fC=Math.min(Pt,G+200),hC=Math.max(0,fC-ka),mC=Pt-Ie;if(hC/Math.min(mC,350)>.4){K=He.id;break}const yf=Ie-G;yf>0&&yf<it&&(it=yf,K=He.id)}}if(!K){it=1/0;for(const He of a){const at=de.current[He.id];if(at){const Ie=at.offsetTop,Pt=Math.abs(Ie-G);Pt<it&&(it=Pt,K=He.id)}}}K&&K!==m&&y(K)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[a,m]),v.useEffect(()=>{const D=G=>{S&&C(!1)};if(S)return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[S]);const Hl=D=>{const G=D.replace(/\D/g,"");return`https://wa.me/${G.startsWith("33")?G:`33${G.substring(1)}`}`},Vs=(D,G)=>{Ar({type:D,text:G}),setTimeout(()=>Ar(null),5e3)},gf=async D=>{if(D.preventDefault(),!Q.customer_name.trim()||!Q.customer_phone.trim()||!Q.reservation_date||!Q.reservation_time){Vs("error","Veuillez remplir tous les champs obligatoires");return}Me(!0);try{const{error:G}=await B.from("reservations").insert([{menu_id:n.id,customer_name:Q.customer_name,customer_email:null,customer_phone:Q.customer_phone,party_size:Q.party_size,reservation_date:Q.reservation_date,reservation_time:Q.reservation_time,special_requests:Q.special_requests||null,status:"pending"}]);if(G)throw G;Vs("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),le({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{ue(!1)},3e3)}catch(G){console.error("Erreur lors de la réservation:",G),Vs("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{Me(!1)}},vf=()=>{const D=new Date;return D.setDate(D.getDate()+1),D.toISOString().split("T")[0]},ze=()=>{var D;return((D=lr[I])==null?void 0:D.rtl)||!1};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouvé"}),o.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):k?o.jsxs("div",{className:"min-h-screen",dir:ze()?"rtl":"ltr",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:n.nom}),o.jsxs("div",{className:`hidden lg:flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[J.length>0&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{T(!O)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(qg,{size:18}),o.jsx("span",{className:"text-xl",children:((Hs=lr[I])==null?void 0:Hs.flag)||"🌐"}),o.jsx("span",{className:"text-sm font-medium",children:((Ks=lr[I])==null?void 0:Ks.name)||I}),o.jsx(Zo,{size:16})]}),O&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{R(n.default_language||"fr"),T(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(A=lr[n.default_language||"fr"])==null?void 0:A.flag}),o.jsx("span",{className:"text-sm",children:(ne=lr[n.default_language||"fr"])==null?void 0:ne.name})]}),I===n.default_language&&o.jsx(Be,{size:16})]})}),J.map(D=>{var G,K;return o.jsx("button",{onClick:()=>{R(D.language_code),T(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((G=lr[D.language_code])==null?void 0:G.flag)||"🌐"}),o.jsx("span",{className:"text-sm",children:((K=lr[D.language_code])==null?void 0:K.name)||D.language_code})]}),I===D.language_code&&o.jsx(Be,{size:16})]})},D.id)})]})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:`flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[(p==null?void 0:p.telephone)&&o.jsx("a",{href:`tel:${p==null?void 0:p.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${p==null?void 0:p.telephone}`,children:o.jsx(yr,{size:20})}),(p==null?void 0:p.whatsapp)&&o.jsx("a",{href:Hl(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${p==null?void 0:p.whatsapp}`,children:o.jsx(Ji,{size:20})}),(p==null?void 0:p.instagram)&&o.jsx("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(la,{size:20})}),(p==null?void 0:p.facebook)&&o.jsx("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(oa,{size:20})}),(p==null?void 0:p.tiktok)&&o.jsx("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:`lg:hidden flex items-center ${ze()?"space-x-reverse":""} space-x-2`,children:[o.jsxs("button",{onClick:()=>ue(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",style:{backgroundColor:n.couleur_primaire},children:[o.jsx(gr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Réserver"})]}),J.length>0&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>{T(!O)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((X=lr[I])==null?void 0:X.flag)||"🌐"}),o.jsx(Zo,{size:16})]}),O&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{R(n.default_language||"fr"),T(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(q=lr[n.default_language||"fr"])==null?void 0:q.flag}),o.jsx("span",{className:"text-sm",children:(H=lr[n.default_language||"fr"])==null?void 0:H.name})]}),I===n.default_language&&o.jsx(Be,{size:16})]})}),J.map(D=>{var G,K;return o.jsx("button",{onClick:()=>{R(D.language_code),T(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I===D.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((G=lr[D.language_code])==null?void 0:G.flag)||"🌐"}),o.jsx("span",{className:"text-sm",children:((K=lr[D.language_code])==null?void 0:K.name)||D.language_code})]}),I===D.language_code&&o.jsx(Be,{size:16})]})},D.id)})]})]}),((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&o.jsx("button",{onClick:D=>{D.stopPropagation(),C(!S)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(wu,{size:24,className:"text-black"})})]}),S&&((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&o.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[(p==null?void 0:p.telephone)&&o.jsxs("a",{href:`tel:${p==null?void 0:p.telephone}`,className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(yr,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Téléphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.telephone})]})]}),(p==null?void 0:p.whatsapp)&&o.jsxs("a",{href:Hl(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Ji,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.whatsapp})]})]}),(p==null?void 0:p.instagram)&&o.jsxs("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(la,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",p==null?void 0:p.instagram.split("/").pop()]})]})]}),(p==null?void 0:p.facebook)&&o.jsxs("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(oa,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Voir la page"})]})]}),(p==null?void 0:p.tiktok)&&o.jsxs("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${ze()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",(ae=p==null?void 0:p.tiktok.split("/").pop())==null?void 0:ae.replace("@","")]})]})]}),!(p!=null&&p.telephone)&&!(p!=null&&p.whatsapp)&&!(p!=null&&p.instagram)&&!(p!=null&&p.facebook)&&!(p!=null&&p.tiktok)&&o.jsx("div",{className:"px-4 py-8 text-gray-500 text-center",children:"Aucune information de contact configurée"})]})]})]})}),n.banniere_url&&o.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:o.jsx("img",{src:n.banniere_url,alt:"Bannière du restaurant",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"px-4 lg:pt-20",children:[a.length>0&&o.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:o.jsx("div",{ref:W,className:`flex ${ze()?"space-x-reverse":""} space-x-8 overflow-x-auto scrollbar-hide items-center`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.map(D=>o.jsx("button",{ref:G=>qe.current[D.id]=G,onClick:()=>Oi(D.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===D.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===D.id?n.couleur_primaire:void 0,borderColor:m===D.id?n.couleur_primaire:void 0},children:I!==(n.default_language||"fr")&&M[D.id]?M[D.id].nom:D.nom},D.id))})}),o.jsx("div",{className:"hidden lg:block mb-8",children:o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>ue(!0),className:`bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center ${ze()?"space-x-reverse":""} space-x-3 font-medium text-lg mx-auto`,style:{backgroundColor:n.couleur_primaire},children:[o.jsx(gr,{size:24}),o.jsx("span",{children:"Réserver une table"})]})})}),o.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[a.length>0&&o.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),o.jsx("nav",{className:"py-2",children:a.map(D=>{const G=l[D.id]||[];return G.length===0?null:o.jsxs("button",{onClick:()=>Oi(D.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===D.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===D.id?n.couleur_primaire:n.couleur_texte,borderColor:m===D.id?n.couleur_primaire:void 0},children:[o.jsx("div",{className:"font-medium text-base",children:D.nom}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[G.length," plat",G.length>1?"s":""]})]},D.id)})})]})}),o.jsx("div",{className:"lg:min-h-screen",children:a.length===0?o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:o.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de création"}),o.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propriétaire de ce restaurant configure actuellement son menu.",o.jsx("br",{}),"Revenez bientôt pour découvrir nos délicieux plats !"]})]})}):o.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:a.map(D=>{const G=l[D.id]||[];return G.length===0?null:o.jsxs("div",{ref:K=>de.current[D.id]=K,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[o.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[o.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&M[D.id]?M[D.id].nom:D.nom}),D.description&&o.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:D.description}),o.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),o.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[o.jsx("div",{className:"lg:hidden",children:G.map(K=>o.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:o.jsxs("div",{className:`flex items-start ${ze()?"space-x-reverse":""} space-x-4`,children:[K.image_url&&o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100",children:o.jsx("img",{src:K.image_url,alt:K.nom,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:`flex-1 ${ze()?"pl-2":"pr-2"}`,children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&P[K.id]?P[K.id].nom:K.nom}),o.jsxs("div",{className:`flex items-center ${ze()?"space-x-reverse":""} space-x-1 mt-1`,children:[K.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Végétarien",children:o.jsx(Qn,{className:"w-3 h-3"})}),K.vegan&&o.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:o.jsx(Qn,{className:"w-3 h-3"})}),K.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),K.epice&&o.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"Épicé",children:o.jsx(qc,{className:"w-3 h-3"})})]})]}),o.jsxs("span",{className:`text-xl font-bold flex-shrink-0 ${ze()?"mr-2":"ml-2"}`,style:{color:n.couleur_primaire},children:[K.prix.toFixed(2)," ",n.currency_symbol||"€"]})]}),(I!==(n.default_language||"fr")&&P[K.id]?P[K.id].description:K.description)&&o.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:I!==(n.default_language||"fr")&&P[K.id]?P[K.id].description:K.description}),K.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["Allergènes: ",K.allergenes.join(", ")]})]})]})},K.id))}),G.map(K=>o.jsx("div",{className:"hidden lg:block",children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[K.image_url&&o.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[o.jsx("img",{src:K.image_url,alt:K.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsxs("div",{className:`absolute top-3 ${ze()?"right-3":"left-3"} flex ${ze()?"space-x-reverse":""} space-x-1`,children:[K.vegetarien&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Végétarien",children:o.jsx(Qn,{className:"w-4 h-4"})}),K.vegan&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:o.jsx(Qn,{className:"w-4 h-4"})}),K.sans_gluten&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),K.epice&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"Épicé",children:o.jsx(qc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[!K.image_url&&(K.vegetarien||K.vegan||K.sans_gluten||K.epice)&&o.jsxs("div",{className:`flex ${ze()?"space-x-reverse":""} space-x-1 mb-3`,children:[K.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-600 p-1.5 rounded-full",title:"Végétarien",children:o.jsx(Qn,{className:"w-4 h-4"})}),K.vegan&&o.jsx("span",{className:"bg-green-200 text-green-700 p-1.5 rounded-full",title:"Vegan",children:o.jsx(Qn,{className:"w-4 h-4"})}),K.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-bold",children:"SG"}),K.epice&&o.jsx("span",{className:"bg-red-100 text-red-600 p-1.5 rounded-full",title:"Épicé",children:o.jsx(qc,{className:"w-4 h-4"})})]}),o.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:I!==(n.default_language||"fr")&&P[K.id]?P[K.id].nom:K.nom}),(I!==(n.default_language||"fr")&&P[K.id]?P[K.id].description:K.description)&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:I!==(n.default_language||"fr")&&P[K.id]?P[K.id].description:K.description}),K.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:["Allergènes: ",K.allergenes.join(", ")]}),o.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:o.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[K.prix.toFixed(2)," €"]})})]})]})},K.id))]})]},D.id)})})})]}),(n.afficher_powered_by||n.lien_cloudmenu)&&o.jsxs("footer",{className:"text-center py-8 border-t border-gray-200 bg-gray-50 mx-4 lg:mx-0 lg:rounded-t-2xl",children:[n.afficher_powered_by&&o.jsx("p",{className:"text-base text-gray-500 mb-3",children:"Propulsé par CloudMenu"}),n.lien_cloudmenu&&o.jsx("a",{href:"https://cloudmenu.com",target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",style:{color:n.couleur_primaire},children:"Créer mon menu gratuitement avec CloudMenu"})]})]}),oe&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Réserver une table"}),o.jsx("button",{onClick:()=>ue(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Pe,{size:20})})]})}),re&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${re.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[re.type==="success"?o.jsx(Be,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Pe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:re.text})]}),o.jsxs("form",{onSubmit:gf,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:Q.customer_name,onChange:D=>le(G=>({...G,customer_name:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),o.jsx("input",{type:"tel",value:Q.customer_phone,onChange:D=>le(G=>({...G,customer_phone:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:Q.reservation_date,onChange:D=>le(G=>({...G,reservation_date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:vf(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:Q.reservation_time,onChange:D=>le(G=>({...G,reservation_time:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:Q.party_size,onChange:D=>le(G=>({...G,party_size:parseInt(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(D=>o.jsxs("option",{value:D,children:[D," personne",D>1?"s":""]},D))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),o.jsx("textarea",{value:Q.special_requests,onChange:D=>le(G=>({...G,special_requests:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>ue(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:me,className:`flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center ${ze()?"space-x-reverse":""} space-x-2`,style:{backgroundColor:n.couleur_primaire},children:me?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Réserver"})]})})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(U2,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(p==null?void 0:p.restaurant_name)||n.nom}),o.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:F||n.menu_name||n.nom}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:_&&o.jsx("img",{src:_,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),n.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},n5=()=>{const{slug:e}=ya(),[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});v.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:x,error:g}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(g){s("Erreur lors du chargement du menu");return}if(!x){s("Restaurant non trouvé");return}r(x)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},y=(x,g)=>{d({type:x,text:g}),setTimeout(()=>d(null),5e3)},b=async x=>{if(x.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){y("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:g}=await B.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(g)throw g;y("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(g){console.error("Erreur lors de la réservation:",g),y("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{c(!1)}},w=()=>{const x=new Date;return x.setDate(x.getDate()+1),x.toISOString().split("T")[0]};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):a||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs(et,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Nl,{size:20}),o.jsx("span",{children:"Retour à l'accueil"})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🍽️"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Réserver une table"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?o.jsx(Be,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Pe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:u.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("form",{onSubmit:b,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:f.customer_name,onChange:x=>h(g=>({...g,customer_name:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),o.jsx("input",{type:"tel",value:f.customer_phone,onChange:x=>h(g=>({...g,customer_phone:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),o.jsx("input",{type:"email",value:f.customer_email,onChange:x=>h(g=>({...g,customer_email:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:f.reservation_date,onChange:x=>h(g=>({...g,reservation_date:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:f.reservation_time,onChange:x=>h(g=>({...g,reservation_time:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:f.party_size,onChange:x=>h(g=>({...g,party_size:parseInt(x.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(x=>o.jsxs("option",{value:x,children:[x," personne",x>1?"s":""]},x))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),o.jsx("textarea",{value:f.special_requests,onChange:x=>h(g=>({...g,special_requests:x.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:l?o.jsx(ye,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(gr,{className:"w-5 h-5"}),o.jsx("span",{children:"Envoyer la réservation"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["ℹ️ ",o.jsx("strong",{children:"Information :"})," Votre réservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},i5=()=>{var u;const{slug:e}=ya(),[t,r]=v.useState(null),[n,i]=v.useState(!0),[a,s]=v.useState(null);v.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:d,error:f}=await B.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouvé");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ye,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):a||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(On,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),o.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs(et,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Nl,{size:20}),o.jsx("span",{children:"Retour à l'accueil"})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:"🍽️"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(yr,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Téléphone"}),o.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),o.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ji,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-gray-600",children:"Messagerie instantanée"})]})]}),o.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[o.jsx("span",{children:t.whatsapp}),o.jsx(Wg,{size:16})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(yr,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Réservation"}),o.jsx("p",{className:"text-gray-600",children:"Réservez en ligne"})]})]}),o.jsx(et,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Réserver une table"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(yr,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),o.jsx("p",{className:"text-gray-600",children:"Découvrez nos plats"})]})]}),o.jsx(et,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"mt-12",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les réseaux sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[o.jsx(la,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Instagram"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[o.jsx(oa,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Facebook"}),o.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-black font-bold",children:"T"})}),o.jsx("span",{className:"font-medium",children:"TikTok"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),o.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:o.jsxs("p",{className:"text-blue-700 text-center",children:["ℹ️ ",o.jsx("strong",{children:"Besoin d'aide ?"})," N'hésitez pas à nous contacter pour toute question ou demande spéciale. Nous sommes là pour vous aider !"]})})]})})};function a5(){const{user:e}=ar();Kr();const[t,r]=v.useState(!0),[n,i]=v.useState(!1),[a,s]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",hero_background_color:"#f3f4f6",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:"",google_business_url:""});v.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:g,error:p}=await B.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&(c(g),h({restaurant_name:g.restaurant_name,slug:g.slug,description:g.description||"",banner_url:g.banner_url||"",logo_url:g.logo_url||"",hero_background_color:g.hero_background_color||"#f3f4f6",telephone:g.telephone||"",whatsapp:g.whatsapp||"",instagram:g.instagram||"",facebook:g.facebook||"",tiktok:g.tiktok||"",address:g.address||"",hours:g.hours||"",google_business_url:g.google_business_url||""}))}catch(g){console.error("Erreur lors du chargement du profil:",g),y("error","Erreur lors du chargement du profil")}finally{r(!1)}}},y=(g,p)=>{s({type:g,text:p}),setTimeout(()=>s(null),5e3)},b=(g,p)=>{if(h(j=>({...j,[g]:p})),g==="restaurant_name"&&!l){const j=ai(p);h(_=>({..._,slug:j}))}},w=async(g,p)=>{if(e){d(!0);try{const j=f[p],N=await hs(g,p==="banner_url"?"bannieres":"logos");if(N.error){y("error",N.error);return}j&&await es(j),h(k=>({...k,[p]:N.url})),y("success","Image téléchargée avec succès")}catch(j){console.error("Erreur lors du téléchargement:",j),y("error","Erreur lors du téléchargement de l'image")}finally{d(!1)}}},x=async()=>{if(e){if(!f.restaurant_name.trim()){y("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){y("error","Le slug est requis");return}i(!0);try{if(l){const g={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url},{error:p}=await B.from("restaurant_profiles").update(g).eq("id",l.id);if(p)throw p;y("success","Profil mis à jour avec succès")}else{const g={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url},{data:p,error:j}=await B.from("restaurant_profiles").insert([g]).select().single();if(j)throw j;c(p),y("success","Profil créé avec succès")}await m()}catch(g){console.error("Erreur lors de la sauvegarde:",g),y("error","Erreur lors de la sauvegarde du profil")}finally{i(!1)}}};return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(xa,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[a&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[a.type==="success"?o.jsx(Be,{size:20}):o.jsx(Pe,{size:20}),o.jsx("span",{children:a.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identité Visuelle"}),o.jsx("p",{className:"text-gray-600",children:"Configurez l'identité visuelle et les informations de votre restaurant"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(m4,{size:20}),o.jsx("span",{children:"Informations générales"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),o.jsx("input",{type:"text",value:f.restaurant_name,onChange:g=>b("restaurant_name",g.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),o.jsx("input",{type:"text",value:f.slug,onChange:g=>b("slug",g.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!l})]}),l&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas être modifiée après la création"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:f.description,onChange:g=>b("description",g.target.value),placeholder:"Décrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Um,{size:16,className:"inline mr-1"}),"Adresse"]}),o.jsx("input",{type:"text",value:f.address,onChange:g=>b("address",g.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(el,{size:16,className:"inline mr-1"}),"Horaires"]}),o.jsx("input",{type:"text",value:f.hours,onChange:g=>b("hours",g.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),f.banner_url?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:f.banner_url,alt:"Bannière",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(g=>({...g,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:o.jsx(Pe,{size:16})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ms,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour télécharger une bannière"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"banner_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(g=>({...g,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:o.jsx(Pe,{size:14})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ms,{className:"w-8 h-8 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"logo_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur de fond du hero"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.hero_background_color,onChange:g=>b("hero_background_color",g.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.hero_background_color,onChange:g=>b("hero_background_color",g.target.value),placeholder:"#f3f4f6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur d'arrière-plan pour la section hero"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Réseaux Sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(yr,{size:16,className:"inline mr-1"}),"Téléphone"]}),o.jsx("input",{type:"tel",value:f.telephone,onChange:g=>b("telephone",g.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),o.jsx("input",{type:"tel",value:f.whatsapp,onChange:g=>b("whatsapp",g.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(la,{size:16,className:"inline mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:f.instagram,onChange:g=>b("instagram",g.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(oa,{size:16,className:"inline mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:f.facebook,onChange:g=>b("facebook",g.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(E4,{size:16,className:"inline mr-1"}),"TikTok"]}),o.jsx("input",{type:"url",value:f.tiktok,onChange:g=>b("tiktok",g.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Fm,{size:16,className:"inline mr-1"}),"Google My Business"]}),o.jsx("input",{type:"url",value:f.google_business_url,onChange:g=>b("google_business_url",g.target.value),placeholder:"https://g.page/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Les clients pourront voir vos avis Google et laisser un avis depuis votre page"})]})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:x,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx(ye,{className:"animate-spin",size:20}),o.jsx("span",{children:"Enregistrement..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Sl,{size:20}),o.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function w_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=w_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function je(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=w_(e))&&(n&&(n+=" "),n+=t);return n}var Id={},j_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(j_);var r0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(r0);var n0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(n0);var Dd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];l?u==="\\"&&a+1<i?(a++,s+=r[a]):u===l?l="":s+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,a++}return s&&n.push(s),n}e.toPath=t})(Dd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_,r=r0,n=n0,i=Dd;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Id);var s5=Id.get;const Ld=xi(s5);var xr=e=>e===0?0:e>0?1:-1,Nr=e=>typeof e=="number"&&e!=+e,qi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,se=e=>(typeof e=="number"||e instanceof Number)&&!Nr(e),sn=e=>se(e)||typeof e=="string",o5=0,sl=e=>{var t=++o5;return"".concat(e||"").concat(t)},yi=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&typeof t!="string")return n;var a;if(qi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Nr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},__=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function pn(e,t,r){return se(e)&&se(t)?e+r*(t-e):t}function k_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ld(n,t))===r)}var ct=e=>e===null||typeof e>"u",Al=e=>ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),l5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function i0(e){if(typeof e!="string")return!1;var t=l5;return t.includes(e)}var c5=["viewBox","children"],Cx=["points","pathLength"],ch={svg:c5,polygon:Cx,polyline:Cx},a0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{i0(i)&&(n[i]=a=>r[i](r,a))}),n},u5=(e,t,r)=>n=>(e(t,r,n),null),N_=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];i0(i)&&typeof a=="function"&&(n||(n={}),n[i]=u5(a,t,r))}),n},d5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function S_(e){if(typeof e!="string")return!1;var t=d5;return t.includes(e)}function ba(e){var t=Object.entries(e).filter(r=>{var[n]=r;return S_(n)});return Object.fromEntries(t)}var E_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,f5=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(ch==null?void 0:ch[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&a.includes(t)||S_(t)),c=!!r&&i0(t);return s||l||c},ut=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;f5((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},h5=["children","width","height","viewBox","className","style","title","desc"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function m5(e,t){if(e==null)return{};var r,n,i=p5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function p5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var s0=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:l,title:c,desc:u}=e,d=m5(e,h5),f=a||{width:n,height:i,x:0,y:0},h=je("recharts-surface",s);return v.createElement("svg",Jm({},ut(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),r)}),g5=["children","className"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(null,arguments)}function v5(e,t){if(e==null)return{};var r,n,i=y5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ds=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=v5(e,g5),a=je("recharts-layer",n);return v.createElement("g",Xm({className:a},ut(i,!0),{ref:t}),r)}),C_=v.createContext(null),x5=()=>v.useContext(C_);function ke(e){return function(){return e}}const P_=Math.cos,Nu=Math.sin,Gr=Math.sqrt,Su=Math.PI,$d=2*Su,Zm=Math.PI,ep=2*Zm,$i=1e-6,b5=ep-$i;function O_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function w5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return O_;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class j5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?O_:w5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$i)if(!(Math.abs(f*c-u*d)>$i)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,y=i-l,b=c*c+u*u,w=m*m+y*y,x=Math.sqrt(b),g=Math.sqrt(h),p=a*Math.tan((Zm-Math.acos((b+h-w)/(2*x*g)))/2),j=p/g,_=p/x;Math.abs(j-1)>$i&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>$i||Math.abs(this._y1-d)>$i)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ep+ep),h>b5?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>$i&&this._append`A${n},${n},0,${+(h>=Zm)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function o0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new j5(t)}function l0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function A_(e){this._context=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Rd(e){return new A_(e)}function T_(e){return e[0]}function M_(e){return e[1]}function I_(e,t){var r=ke(!0),n=null,i=Rd,a=null,s=o0(l);e=typeof e=="function"?e:e===void 0?T_:ke(e),t=typeof t=="function"?t:t===void 0?M_:ke(t);function l(c){var u,d=(c=l0(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ke(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ke(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ke(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function vc(e,t,r){var n=null,i=ke(!0),a=null,s=Rd,l=null,c=o0(u);e=typeof e=="function"?e:e===void 0?T_:ke(+e),t=typeof t=="function"?t:ke(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?M_:ke(+r);function u(f){var h,m,y,b=(f=l0(f)).length,w,x=!1,g,p=new Array(b),j=new Array(b);for(a==null&&(l=s(g=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===x)if(x=!x)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(p[y],j[y]);l.lineEnd(),l.areaEnd()}x&&(p[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):p[h],r?+r(w,h,f):j[h]))}if(g)return l=null,g+""||null}function d(){return I_().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ke(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ke(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ke(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ke(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ke(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(l=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=l=null:l=s(a=f),u):a},u}class D_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function _5(e){return new D_(e,!0)}function k5(e){return new D_(e,!1)}const c0={draw(e,t){const r=Gr(t/Su);e.moveTo(r,0),e.arc(0,0,r,0,$d)}},N5={draw(e,t){const r=Gr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},L_=Gr(1/3),S5=L_*2,E5={draw(e,t){const r=Gr(t/S5),n=r*L_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},C5={draw(e,t){const r=Gr(t),n=-r/2;e.rect(n,n,r,r)}},P5=.8908130915292852,$_=Nu(Su/10)/Nu(7*Su/10),O5=Nu($d/10)*$_,A5=-P_($d/10)*$_,T5={draw(e,t){const r=Gr(t*P5),n=O5*r,i=A5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=$d*a/5,l=P_(s),c=Nu(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},uh=Gr(3),M5={draw(e,t){const r=-Gr(t/(uh*3));e.moveTo(0,r*2),e.lineTo(-uh*r,-r),e.lineTo(uh*r,-r),e.closePath()}},cr=-.5,ur=Gr(3)/2,tp=1/Gr(12),I5=(tp/2+1)*3,D5={draw(e,t){const r=Gr(t/I5),n=r/2,i=r*tp,a=n,s=r*tp+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(cr*n-ur*i,ur*n+cr*i),e.lineTo(cr*a-ur*s,ur*a+cr*s),e.lineTo(cr*l-ur*c,ur*l+cr*c),e.lineTo(cr*n+ur*i,cr*i-ur*n),e.lineTo(cr*a+ur*s,cr*s-ur*a),e.lineTo(cr*l+ur*c,cr*c-ur*l),e.closePath()}};function L5(e,t){let r=null,n=o0(i);e=typeof e=="function"?e:ke(e||c0),t=typeof t=="function"?t:ke(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ke(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ke(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Eu(){}function Cu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function R_(e){this._context=e}R_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $5(e){return new R_(e)}function z_(e){this._context=e}z_.prototype={areaStart:Eu,areaEnd:Eu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R5(e){return new z_(e)}function U_(e){this._context=e}U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z5(e){return new U_(e)}function B_(e){this._context=e}B_.prototype={areaStart:Eu,areaEnd:Eu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function U5(e){return new B_(e)}function Px(e){return e<0?-1:1}function Ox(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(Px(a)+Px(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function Ax(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function dh(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function Pu(e){this._context=e}Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dh(this,this._t0,Ax(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,dh(this,Ax(this,r=Ox(this,e,t)),r);break;default:dh(this,this._t0,r=Ox(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function F_(e){this._context=new W_(e)}(F_.prototype=Object.create(Pu.prototype)).point=function(e,t){Pu.prototype.point.call(this,t,e)};function W_(e){this._context=e}W_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function B5(e){return new Pu(e)}function F5(e){return new F_(e)}function q_(e){this._context=e}q_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tx(e),i=Tx(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tx(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function W5(e){return new q_(e)}function zd(e,t){this._context=e,this._t=t}zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function q5(e){return new zd(e,.5)}function V5(e){return new zd(e,0)}function H5(e){return new zd(e,1)}function xs(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function rp(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function K5(e,t){return e[t]}function G5(e){const t=[];return t.key=e,t}function Y5(){var e=ke([]),t=rp,r=xs,n=K5;function i(a){var s=Array.from(e.apply(this,arguments),G5),l,c=s.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,a)]).data=f;for(l=0,d=l0(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ke(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ke(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?rp:typeof a=="function"?a:ke(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??xs,i):r},i}function Q5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}xs(e,t)}}function J5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}xs(e,t)}}function X5(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var b=e[t[y]],w=b[n][1]||0,x=b[n-1][1]||0;m+=w-x}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,xs(e,t)}}var Z5=["type","size","sizeType"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function Mx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mx(Object(r),!0).forEach(function(n){e6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e6(e,t,r){return(t=t6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=r6(e,"string");return typeof t=="symbol"?t:t+""}function r6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n6(e,t){if(e==null)return{};var r,n,i=i6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var V_={symbolCircle:c0,symbolCross:N5,symbolDiamond:E5,symbolSquare:C5,symbolStar:T5,symbolTriangle:M5,symbolWye:D5},a6=Math.PI/180,s6=e=>{var t="symbol".concat(Al(e));return V_[t]||c0},o6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*a6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},l6=(e,t)=>{V_["symbol".concat(Al(e))]=t},H_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=n6(e,Z5),a=Ix(Ix({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=s6(s),m=L5().type(h).size(o6(r,n,s));return m()},{className:c,cx:u,cy:d}=a,f=ut(a,!0);return u===+u&&d===+d&&r===+r?v.createElement("path",np({},f,{className:je("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};H_.registerSymbol=l6;function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function Dx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dx(Object(r),!0).forEach(function(n){u0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u0(e,t,r){return(t=u6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u6(e){var t=d6(e,"string");return typeof t=="symbol"?t:t+""}function d6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dr=32;class d0 extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=dr/2,a=dr/6,s=dr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:dr,y2:i,className:"recharts-legend-icon"});if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(dr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=c6({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(H_,{fill:l,cx:i,cy:i,size:dr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,l={x:0,y:0,width:dr,height:dr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=je({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?a:d.color,b=h?h(d.value,d,f):d.value;return v.createElement("li",ip({className:m,style:c,key:"legend-item-".concat(f)},N_(this.props,d,f)),v.createElement(s0,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,s)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}u0(d0,"displayName","Legend");u0(d0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var K_={},G_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],l=n(s);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(G_);var f0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(f0);var Y_={},Ud={},Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Q_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Ud);var J_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(J_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ud,r=J_;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Y_);var X_={},Z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Id;function r(n){return function(i){return t.get(i,n)}}e.property=r})(Z_);var ek={},fh={},hh={},h0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(h0);var m0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(m0);var p0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(p0);var Lx;function f6(){return Lx||(Lx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0(),r=h0,n=m0,i=p0;function a(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function y(b,w,x,g,p,j){const _=m(b,w,x,g,p,j);return _!==void 0?!!_:s(b,w,y,j)},new Map)}function s(f,h,m,y){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,y);case"function":return Object.keys(h).length>0?s(f,{...h},m,y):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,y);if(h instanceof Map)return c(f,h,m,y);if(h instanceof Set)return d(f,h,m,y);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let w=0;w<b.length;w++){const x=b[w];if(!n.isPrimitive(f)&&!(x in f)||h[x]===void 0&&f[x]!==void 0||h[x]===null&&f[x]!==null||!m(f[x],h[x],x,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function c(f,h,m,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const x=f.get(b);if(m(x,w,b,f,h,y)===!1)return!1}return!0}function u(f,h,m,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const x=h[w];let g=!1;for(let p=0;p<f.length;p++){if(b.has(p))continue;const j=f[p];let _=!1;if(m(j,x,w,f,h,y)&&(_=!0),_){b.add(p),g=!0;break}}if(!g)return!1}return!0}function d(f,h,m,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,y):!1}e.isMatchWith=a,e.isSetMatch=d}(hh)),hh}var $x;function g0(){return $x||($x=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f6();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(fh)),fh}var tk={},v0={},rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(rk);var y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(y0);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",b="[object DataView]",w="[object Uint8Array]",x="[object Uint8ClampedArray]",g="[object Uint16Array]",p="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",S="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=b,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=S,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=g,e.uint32ArrayTag=p,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=x})(x0);var nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk,r=y0,n=x0,i=m0,a=nk;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,y=void 0){const b=y==null?void 0:y(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,y);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[x,g]of d)w.set(x,l(g,x,h,m,y));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const x of d)w.add(l(x,void 0,h,m,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let x=0;x<d.length;x++)w[x]=l(d[x],x,h,m,y);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,y),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,y),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,y),w}return d}function c(d,f,h=d,m,y){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const x=b[w],g=Object.getOwnPropertyDescriptor(d,x);(g==null||g.writable)&&(d[x]=l(f[x],x,h,m,y))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(v0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(tk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0(),r=tk;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(ek);var ik={},ak={},sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0,r=x0;function n(i,a){return t.cloneDeepWith(i,(s,l,c,u)=>{const d=a==null?void 0:a(s,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(sk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(ak);var ok={},b0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(b0);var lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(lk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r0,r=b0,n=lk,i=Dd;function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g0(),r=n0,n=ak,i=Id,a=ok;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(ik);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f0,r=Z_,n=ek,i=ik;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(X_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G_,r=f0,n=Y_,i=X_;function a(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(l)):[]}e.uniqBy=a})(K_);var h6=K_.uniqBy;const Rx=xi(h6);function ck(e,t,r){return t===!0?Rx(e,r):typeof t=="function"?Rx(e,t):e}var uk={exports:{}},dk={},fk={exports:{}},hk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=v;function m6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p6=typeof Object.is=="function"?Object.is:m6,g6=bs.useState,v6=bs.useEffect,y6=bs.useLayoutEffect,x6=bs.useDebugValue;function b6(e,t){var r=t(),n=g6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return y6(function(){i.value=r,i.getSnapshot=t,mh(i)&&a({inst:i})},[e,r,t]),v6(function(){return mh(i)&&a({inst:i}),e(function(){mh(i)&&a({inst:i})})},[e]),x6(r),r}function mh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!p6(e,r)}catch{return!0}}function w6(e,t){return t()}var j6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?w6:b6;hk.useSyncExternalStore=bs.useSyncExternalStore!==void 0?bs.useSyncExternalStore:j6;fk.exports=hk;var _6=fk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=v,k6=_6;function N6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var S6=typeof Object.is=="function"?Object.is:N6,E6=k6.useSyncExternalStore,C6=Bd.useRef,P6=Bd.useEffect,O6=Bd.useMemo,A6=Bd.useDebugValue;dk.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=C6(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=O6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return f=y}return f=m}if(y=f,S6(d,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(d=m,y):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=E6(e,a[0],a[1]);return P6(function(){s.hasValue=!0,s.value=l},[l]),A6(l),l};uk.exports=dk;var T6=uk.exports,w0=v.createContext(null),M6=e=>e,wt=()=>{var e=v.useContext(w0);return e?e.store.dispatch:M6},Kc=()=>{},I6=()=>Kc,D6=(e,t)=>e===t;function ie(e){var t=v.useContext(w0);return T6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I6,t?t.store.getState:Kc,t?t.store.getState:Kc,t?e:Kc,D6)}function L6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var zx=e=>Array.isArray(e)?e:[e];function z6(e){const t=Array.isArray(e[0])?e[0]:e;return R6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function U6(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var B6=class{constructor(e){this.value=e}deref(){return this.value}},F6=typeof WeakRef<"u"?WeakRef:B6,W6=0,Ux=1;function yc(){return{s:W6,v:void 0,o:null,p:null}}function mk(e,t={}){let r=yc();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(y);w===void 0?(l=yc(),b.set(y,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(y);w===void 0?(l=yc(),b.set(y,l)):l=w}}const u=l;let d;if(l.s===Ux)d=l.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new F6(d):d}return u.s=Ux,u.v=d,d}return s.clearCache=()=>{r=yc(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function q6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),L6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=mk,argsMemoizeOptions:y=[],devModeChecks:b={}}=d,w=zx(h),x=zx(y),g=z6(i),p=f(function(){return a++,u.apply(null,arguments)},...w),j=m(function(){s++;const N=U6(g,arguments);return l=p.apply(null,N),l},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var $=q6(mk),V6=Object.assign((e,t=$)=>{$6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>V6}),pk={},gk={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),l=t(i);if(s===l&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};e.compareValues=r})(vk);var yk={},j0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(j0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(yk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk,r=yk,n=Dd;function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let b=m;for(let w=0;w<y.length&&b!=null;++w)b=b[y[w]];return b},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],y.criteria[b],l[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(gk);var xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(xk);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0,r=Ud,n=h0,i=p0;function a(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],s):!1}e.isIterateeCall=a})(_0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk,r=xk,n=_0;function i(a,...s){const l=s.length;return l>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(pk);var H6=pk.sortBy;const Fd=xi(H6);var bk=e=>e.legend.settings,K6=e=>e.legend.size,G6=e=>e.legend.payload,Y6=$([G6,bk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Fd(n,r):n});function Q6(){return ie(Y6)}var xc=1;function wk(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>xc||Math.abs(s.left-t.left)>xc||Math.abs(s.top-t.top)>xc||Math.abs(s.width-t.width)>xc)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var J6=typeof Symbol=="function"&&Symbol.observable||"@@observable",Bx=J6,ph=()=>Math.random().toString(36).substring(7).split("").join("."),X6={INIT:`@@redux/INIT${ph()}`,REPLACE:`@@redux/REPLACE${ph()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ph()}`},Ou=X6;function k0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jk(e,t,r){if(typeof e!="function")throw new Error(pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(jk)(e,t)}let n=e,i=t,a=new Map,s=a,l=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((w,x)=>{s.set(x,w)}))}function d(){if(c)throw new Error(pt(3));return i}function f(w){if(typeof w!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));let x=!0;u();const g=l++;return s.set(g,w),function(){if(x){if(c)throw new Error(pt(6));x=!1,u(),s.delete(g),a=null}}}function h(w){if(!k0(w))throw new Error(pt(7));if(typeof w.type>"u")throw new Error(pt(8));if(typeof w.type!="string")throw new Error(pt(17));if(c)throw new Error(pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(a=s).forEach(g=>{g()}),w}function m(w){if(typeof w!="function")throw new Error(pt(10));n=w,h({type:Ou.REPLACE})}function y(){const w=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(pt(11));function g(){const j=x;j.next&&j.next(d())}return g(),{unsubscribe:w(g)}},[Bx](){return this}}}return h({type:Ou.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Bx]:y}}function Z6(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ou.INIT})>"u")throw new Error(pt(12));if(typeof r(void 0,{type:Ou.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function _k(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{Z6(r)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],y=h(m,l);if(typeof y>"u")throw l&&l.type,new Error(pt(14));u[f]=y,c=c||y!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function Au(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function eI(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(pt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(s));return a=Au(...l)(i.dispatch),{...i,dispatch:a}}}function kk(e){return k0(e)&&"type"in e&&typeof e.type=="string"}var Nk=Symbol.for("immer-nothing"),Fx=Symbol.for("immer-draftable"),rr=Symbol.for("immer-state");function Ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ws=Object.getPrototypeOf;function ua(e){return!!e&&!!e[rr]}function Tn(e){var t;return e?Sk(e)||Array.isArray(e)||!!e[Fx]||!!((t=e.constructor)!=null&&t[Fx])||Tl(e)||qd(e):!1}var tI=Object.prototype.constructor.toString();function Sk(e){if(!e||typeof e!="object")return!1;const t=ws(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===tI}function Tu(e,t){Wd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Wd(e){const t=e[rr];return t?t.type_:Array.isArray(e)?1:Tl(e)?2:qd(e)?3:0}function ap(e,t){return Wd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ek(e,t,r){const n=Wd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function rI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tl(e){return e instanceof Map}function qd(e){return e instanceof Set}function Ri(e){return e.copy_||e.base_}function sp(e,t){if(Tl(e))return new Map(e);if(qd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Sk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[rr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(ws(e),n)}else{const n=ws(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function N0(e,t=!1){return Vd(e)||ua(e)||!Tn(e)||(Wd(e)>1&&Object.defineProperties(e,{set:{value:bc},add:{value:bc},clear:{value:bc},delete:{value:bc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>N0(r,!0))),e}function bc(){Ur(2)}function Vd(e){return Object.isFrozen(e)}var nI={};function da(e){const t=nI[e];return t||Ur(0,e),t}var ol;function Ck(){return ol}function iI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wx(e,t){t&&(da("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function op(e){lp(e),e.drafts_.forEach(aI),e.drafts_=null}function lp(e){e===ol&&(ol=e.parent_)}function qx(e){return ol=iI(ol,e)}function aI(e){const t=e[rr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Vx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[rr].modified_&&(op(t),Ur(4)),Tn(e)&&(e=Mu(t,e),t.parent_||Iu(t,e)),t.patches_&&da("Patches").generateReplacementPatches_(r[rr].base_,e,t.patches_,t.inversePatches_)):e=Mu(t,r,[]),op(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Nk?e:void 0}function Mu(e,t,r){if(Vd(t))return t;const n=t[rr];if(!n)return Tu(t,(i,a)=>Hx(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Iu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),Tu(a,(l,c)=>Hx(e,n,i,l,c,r,s)),Iu(e,i,!1),r&&e.patches_&&da("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Hx(e,t,r,n,i,a,s){if(ua(i)){const l=a&&t&&t.type_!==3&&!ap(t.assigned_,n)?a.concat(n):void 0,c=Mu(e,i,l);if(Ek(r,n,c),ua(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Tn(i)&&!Vd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Mu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Tl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Iu(e,i)}}function Iu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&N0(t,r)}function sI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ck(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=S0;r&&(i=[n],a=ll);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,l}var S0={get(e,t){if(t===rr)return e;const r=Ri(e);if(!ap(r,t))return oI(e,r,t);const n=r[t];return e.finalized_||!Tn(n)?n:n===gh(e.base_,t)?(vh(e),e.copy_[t]=up(n,e)):n},has(e,t){return t in Ri(e)},ownKeys(e){return Reflect.ownKeys(Ri(e))},set(e,t,r){const n=Pk(Ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=gh(Ri(e),t),a=i==null?void 0:i[rr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(rI(r,i)&&(r!==void 0||ap(e.base_,t)))return!0;vh(e),cp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return gh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vh(e),cp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ur(11)},getPrototypeOf(e){return ws(e.base_)},setPrototypeOf(){Ur(12)}},ll={};Tu(S0,(e,t)=>{ll[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ll.deleteProperty=function(e,t){return ll.set.call(this,e,t,void 0)};ll.set=function(e,t,r){return S0.set.call(this,e[0],t,r,e[0])};function gh(e,t){const r=e[rr];return(r?Ri(r):e)[t]}function oI(e,t,r){var i;const n=Pk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function Pk(e,t){if(!(t in e))return;let r=ws(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ws(r)}}function cp(e){e.modified_||(e.modified_=!0,e.parent_&&cp(e.parent_))}function vh(e){e.copy_||(e.copy_=sp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var lI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Ur(6),n!==void 0&&typeof n!="function"&&Ur(7);let i;if(Tn(t)){const a=qx(this),s=up(t,void 0);let l=!0;try{i=r(s),l=!1}finally{l?op(a):lp(a)}return Wx(a,n),Vx(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===Nk&&(i=void 0),this.autoFreeze_&&N0(i,!0),n){const a=[],s=[];da("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Ur(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,i;return[this.produce(t,r,(s,l)=>{n=s,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Tn(e)||Ur(8),ua(e)&&(e=kn(e));const t=qx(this),r=up(e,void 0);return r[rr].isManual_=!0,lp(t),r}finishDraft(e,t){const r=e&&e[rr];(!r||!r.isManual_)&&Ur(9);const{scope_:n}=r;return Wx(n,t),Vx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=da("Patches").applyPatches_;return ua(e)?n(e,t):this.produce(e,i=>n(i,t))}};function up(e,t){const r=Tl(e)?da("MapSet").proxyMap_(e,t):qd(e)?da("MapSet").proxySet_(e,t):sI(e,t);return(t?t.scope_:Ck()).drafts_.push(r),r}function kn(e){return ua(e)||Ur(10,e),Ok(e)}function Ok(e){if(!Tn(e)||Vd(e))return e;const t=e[rr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=sp(e,!0);return Tu(r,(n,i)=>{Ek(r,n,Ok(i))}),t&&(t.finalized_=!1),r}var cI=new lI,Ak=cI.produce;function Tk(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var uI=Tk(),dI=Tk,fI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Au:Au.apply(null,arguments)};function Sr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(er(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kk(n)&&n.type===e,r}var Mk=class vo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vo.prototype)}static get[Symbol.species](){return vo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vo(...t[0].concat(this)):new vo(...t.concat(this))}};function Kx(e){return Tn(e)?Ak(e,()=>{}):e}function wc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function hI(e){return typeof e=="boolean"}var mI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new Mk;return r&&(hI(r)?s.push(uI):s.push(dI(r.extraArgument))),s},pI="RTK_autoBatch",Gx=e=>t=>{setTimeout(t,e)},gI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gx(10):e.type==="callback"?e.queueNotification:Gx(e.timeout),u=()=>{s=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[pI]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},vI=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new Mk(e);return n&&i.push(gI(typeof n=="object"?n:void 0)),i};function yI(e){const t=mI(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(k0(r))c=_k(r);else throw new Error(er(1));let u;typeof n=="function"?u=n(t):u=t();let d=Au;i&&(d=fI({trace:!1,...typeof i=="object"&&i}));const f=eI(...u),h=vI(f);let m=typeof l=="function"?l(h):h();const y=d(...m);return jk(c,s,y)}function Ik(e){const t={},r=[];let n;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(er(28));if(l in t)throw new Error(er(29));return t[l]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function xI(e){return typeof e=="function"}function bI(e,t){let[r,n,i]=Ik(t),a;if(xI(e))a=()=>Kx(e());else{const l=Kx(e);a=()=>l}function s(l=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(ua(d)){const m=f(d,c);return m===void 0?d:m}else{if(Tn(d))return Ak(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=a,s}var wI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jI=(e=21)=>{let t="",r=e;for(;r--;)t+=wI[Math.random()*64|0];return t},_I=Symbol.for("rtk-slice-createasyncthunk");function kI(e,t){return`${e}/${t}`}function NI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[_I];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(er(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(EI()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(er(12));if(N in u.sliceCaseReducersByType)throw new Error(er(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],N={reducerName:j,type:kI(a,j),createNotation:typeof i.reducers=="function"};PI(_)?AI(N,_,d,t):CI(N,_,d)});function f(){const[j={},_=[],N=void 0]=typeof i.extraReducers=="function"?Ik(i.extraReducers):[i.extraReducers],k={...j,...u.sliceCaseReducersByType};return bI(i.initialState,E=>{for(let S in k)E.addCase(S,k[S]);for(let S of u.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of _)E.addMatcher(S.matcher,S.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,y=new WeakMap;let b;function w(j,_){return b||(b=f()),b(j,_)}function x(){return b||(b=f()),b.getInitialState()}function g(j,_=!1){function N(E){let S=E[j];return typeof S>"u"&&_&&(S=wc(y,N,x)),S}function k(E=h){const S=wc(m,_,()=>new WeakMap);return wc(S,E,()=>{const C={};for(const[O,T]of Object.entries(i.selectors??{}))C[O]=SI(T,E,()=>wc(y,E,x),_);return C})}return{reducerPath:j,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const p={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...g(s),injectInto(j,{reducerPath:_,...N}={}){const k=_??s;return j.inject({reducerPath:k,reducer:w},N),{...p,...g(k,!0)}}};return p}}function SI(e,t,r,n){function i(a,...s){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return i.unwrapped=e,i}var or=NI();function EI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CI({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!OI(n))throw new Error(er(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Sr(e,s):Sr(e))}function PI(e){return e._reducerDefinitionType==="asyncThunk"}function OI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function AI({type:e,reducerName:t},r,n,i){if(!i)throw new Error(er(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||jc,pending:l||jc,rejected:c||jc,settled:u||jc})}function jc(){}var TI="task",Dk="listener",Lk="completed",E0="cancelled",MI=`task-${E0}`,II=`task-${Lk}`,dp=`${Dk}-${E0}`,DI=`${Dk}-${Lk}`,Hd=class{constructor(e){xf(this,"name","TaskAbortError");xf(this,"message");this.code=e,this.message=`${TI} ${E0} (reason: ${e})`}},C0=(e,t)=>{if(typeof e!="function")throw new TypeError(er(32))},Du=()=>{},$k=(e,t=Du)=>(e.catch(t),e),Rk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Zi=e=>{if(e.aborted){const{reason:t}=e;throw new Hd(t)}};function zk(e,t){let r=Du;return new Promise((n,i)=>{const a=()=>i(new Hd(e.reason));if(e.aborted){a();return}r=Rk(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Du})}var LI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Hd?"cancelled":"rejected",error:r}}finally{t==null||t()}},Lu=e=>t=>$k(zk(e,t).then(r=>(Zi(e),r))),Uk=e=>{const t=Lu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ns}=Object,Yx={},Kd="listenerMiddleware",$I=(e,t)=>{const r=n=>Rk(e,()=>Xi(n,e.reason));return(n,i)=>{C0(n);const a=new AbortController;r(a);const s=LI(async()=>{Zi(e),Zi(a.signal);const l=await n({pause:Lu(a.signal),delay:Uk(a.signal),signal:a.signal});return Zi(a.signal),l},()=>Xi(a,II));return i!=null&&i.autoJoin&&t.push(s.catch(Du)),{result:Lu(e)(s),cancel(){Xi(a,MI)}}}},RI=(e,t)=>{const r=async(n,i)=>{Zi(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await zk(t,Promise.race(l));return Zi(t),c}finally{a()}};return(n,i)=>$k(r(n,i))},Bk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Sr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(er(21));return C0(a),{predicate:i,type:t,effect:a}},Fk=ns(e=>{const{type:t,predicate:r,effect:n}=Bk(e);return{id:jI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(er(22))}}},{withTypes:()=>Fk}),Qx=(e,t)=>{const{type:r,effect:n,predicate:i}=Bk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},fp=e=>{e.pending.forEach(t=>{Xi(t,dp)})},zI=e=>()=>{e.forEach(fp),e.clear()},Jx=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Wk=ns(Sr(`${Kd}/add`),{withTypes:()=>Wk}),UI=Sr(`${Kd}/removeAll`),qk=ns(Sr(`${Kd}/remove`),{withTypes:()=>qk}),BI=(...e)=>{console.error(`${Kd}/error`,...e)},Ml=(e={})=>{const t=new Map,{extra:r,onError:n=BI}=e;C0(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&fp(d)}),a=d=>{const f=Qx(t,d)??Fk(d);return i(f)};ns(a,{withTypes:()=>a});const s=d=>{const f=Qx(t,d);return f&&(f.unsubscribe(),d.cancelActive&&fp(f)),!!f};ns(s,{withTypes:()=>s});const l=async(d,f,h,m)=>{const y=new AbortController,b=RI(a,y.signal),w=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,ns({},h,{getOriginalState:m,condition:(x,g)=>b(x,g).then(Boolean),take:b,delay:Uk(y.signal),pause:Lu(y.signal),extra:r,signal:y.signal,fork:$I(y.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((x,g,p)=>{x!==y&&(Xi(x,dp),p.delete(x))})},cancel:()=>{Xi(y,dp),d.pending.delete(y)},throwIfCancelled:()=>{Zi(y.signal)}})))}catch(x){x instanceof Hd||Jx(n,x,{raisedBy:"effect"})}finally{await Promise.all(w),Xi(y,DI),d.pending.delete(y)}},c=zI(t);return{middleware:d=>f=>h=>{if(!kk(h))return f(h);if(Wk.match(h))return a(h.payload);if(UI.match(h)){c();return}if(qk.match(h))return s(h.payload);let m=d.getState();const y=()=>{if(m===Yx)throw new Error(er(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),x=Array.from(t.values());for(const g of x){let p=!1;try{p=g.predicate(h,w,m)}catch(j){p=!1,Jx(n,j,{raisedBy:"predicate"})}p&&l(g,h,d,y)}}}finally{m=Yx}return b},startListening:a,stopListening:s,clearListeners:c}};function er(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Vk=or({name:"chartLayout",initialState:FI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:WI,setLayout:qI,setChartSize:VI,setScale:HI}=Vk.actions,KI=Vk.reducer;function Xx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xx(Object(r),!0).forEach(function(n){GI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GI(e,t,r){return(t=YI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YI(e){var t=QI(e,"string");return typeof t=="symbol"?t:t+""}function QI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $u=Math.PI/180,JI=e=>e*180/Math.PI,yt=(e,t,r,n)=>({x:e+Math.cos(-$u*n)*r,y:t+Math.sin(-$u*n)*r}),XI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZI=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},eD=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=ZI({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(r-i)/s,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:s,angle:JI(c),angleInRadian:c}},tD=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},rD=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},nD=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=eD({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:u}=tD(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Zx(Zx({},t),{},{radius:i,angle:rD(d,t)}):null};function Hk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(n){iD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iD(e,t,r){return(t=aD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aD(e){var t=sD(e,"string");return typeof t=="symbol"?t:t+""}function sD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function It(e,t,r){return ct(e)||ct(t)?r:sn(t)?Ld(e,t,r):typeof t=="function"?t(e):r}var oD=(e,t,r,n,i)=>{var a,s=-1,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(xr(d-u)!==xr(f-d)){var m=[];if(xr(f-d)===xr(i[1]-i[0])){h=f;var y=d+i[1]-i[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var x=Math.min(u,f),g=Math.max(u,f);if(e>(x+d)/2&&e<=(g+d)/2){({index:s}=r[c]);break}}}else if(t){for(var p=0;p<l;p++)if(p===0&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p>0&&p<l-1&&e>(t[p].coordinate+t[p-1].coordinate)/2&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p===l-1&&e>(t[p].coordinate+t[p-1].coordinate)/2){({index:s}=t[p]);break}}return s},lD=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&se(e[a]))return pr(pr({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&se(e[s]))return pr(pr({},e),{},{[s]:e[s]+(i||0)})}return e},Si=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Kk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||s.push(t),a||s.push(r),s},Gk=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/y:0;if(b=m==="angleAxis"&&a&&a.length>=2?xr(a[0]-a[1])*2*b:b,f||h){var w=(f||h||[]).map((x,g)=>{var p=n?n.indexOf(x):x;return{coordinate:s(p)+b,value:x,offset:b,index:g}});return w.filter(x=>!Nr(x.coordinate))}return c&&u?u.map((x,g)=>({coordinate:s(x)+b,value:x,index:g,offset:b})):s.ticks&&!r&&d!=null?s.ticks(d).map((x,g)=>({coordinate:s(x)+b,value:x,offset:b,index:g})):s.domain().map((x,g)=>({coordinate:s(x)+b,value:n?n[x]:x,index:g,offset:b}))},tb=1e-4,cD=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-tb,a=Math.max(n[0],n[1])+tb,s=e(t[0]),l=e(t[r-1]);(s<i||s>a||l<i||l>a)&&e.domain([t[0],t[r-1]])}},uD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var l=Nr(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},dD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=Nr(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},fD={sign:uD,expand:Q5,none:xs,silhouette:J5,wiggle:X5,positive:dD},hD=(e,t,r)=>{var n=fD[r],i=Y5().keys(t).value((a,s)=>+It(a,s,0)).order(rp).offset(n);return i(e)};function rb(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ct(i[t.dataKey])){var l=k_(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=It(i,ct(s)?t.dataKey:s);return ct(c)?null:t.scale(c)}var mD=e=>{var t=e.flat(2).filter(se);return[Math.min(...t),Math.max(...t)]},pD=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gD=(e,t,r)=>{if(e!=null)return pD(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,l=s.reduce((c,u)=>{var d=Hk(u,t,r),f=mD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},nb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ib=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Fd(t,d=>d.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function ab(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return pr(pr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Yk(e,t){if(e)return String(e);if(typeof t=="string")return t}function vD(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?nD({x:e,y:t},n):null}var yD=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return pr(pr(pr({},n),yt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=n;return pr(pr(pr({},n),yt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},xD=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Rn=e=>e.layout.width,zn=e=>e.layout.height,bD=e=>e.layout.scale,Qk=e=>e.layout.margin,Gd=$(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yd=$(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),wD="data-recharts-item-index",jD="data-recharts-item-data-key",Il=60;function sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sb(Object(r),!0).forEach(function(n){_D(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _D(e,t,r){return(t=kD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kD(e){var t=ND(e,"string");return typeof t=="symbol"?t:t+""}function ND(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SD=e=>e.brush.height;function ED(e){var t=Yd(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Il;return r+i}return r},0)}function CD(e){var t=Yd(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Il;return r+i}return r},0)}function PD(e){var t=Gd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function OD(e){var t=Gd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var jt=$([Rn,zn,Qk,SD,ED,CD,PD,OD,bk,K6],(e,t,r,n,i,a,s,l,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=_c(_c({},f),d),m=h.bottom;h.bottom+=n,h=lD(h,c,u);var y=e-h.left-h.right,b=t-h.top-h.bottom;return _c(_c({brushBottom:m},h),{},{width:Math.max(y,0),height:Math.max(b,0)})}),AD=$(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jk=$(Rn,zn,(e,t)=>({x:0,y:0,width:e,height:t})),TD=v.createContext(null),Cr=()=>v.useContext(TD)!=null,Qd=e=>e.brush,Jd=$([Qd,jt,Qk],(e,t,r)=>({height:e.height,x:se(e.x)?e.x:t.left,y:se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:se(e.width)?e.width:t.width})),P0=()=>{var e,t=Cr(),r=ie(AD),n=ie(Jd),i=(e=ie(Qd))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},MD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Xk=()=>{var e;return(e=ie(jt))!==null&&e!==void 0?e:MD},O0=()=>ie(Rn),A0=()=>ie(zn),ID=()=>ie(e=>e.layout.margin),Oe=e=>e.layout.layoutType,T0=()=>ie(Oe),DD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Zk=or({name:"legend",initialState:DD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=kn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:ob,setLegendSettings:LD,addLegendPayload:$D,removeLegendPayload:RD}=Zk.actions,zD=Zk.reducer,UD=["contextPayload"];function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}function lb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(r),!0).forEach(function(n){M0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M0(e,t,r){return(t=BD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BD(e){var t=FD(e,"string");return typeof t=="symbol"?t:t+""}function FD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WD(e,t){if(e==null)return{};var r,n,i=qD(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VD(e){return e.value}function HD(e){var{contextPayload:t}=e,r=WD(e,UD),n=ck(t,e.payloadUniqBy,VD),i=js(js({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(d0,i)}function KD(e,t,r,n,i,a){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),js(js({},u),d)}function GD(e){var t=wt();return v.useEffect(()=>{t(LD(e))},[t,e]),null}function YD(e){var t=wt();return v.useEffect(()=>(t(ob(e)),()=>{t(ob({width:0,height:0}))}),[t,e]),null}function QD(e){var t=Q6(),r=x5(),n=ID(),{width:i,height:a,wrapperStyle:s,portal:l}=e,[c,u]=wk([t]),d=O0(),f=A0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=Xd.getWidthOrHeight(e.layout,a,i,h),y=l?s:js(js({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},KD(s,e,n,d,f,c)),s),b=l??r;if(b==null)return null;var w=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},v.createElement(GD,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(YD,{width:c.width,height:c.height}),v.createElement(HD,mp({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Lg.createPortal(w,b)}class Xd extends v.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&se(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return v.createElement(QD,this.props)}}M0(Xd,"displayName","Legend");M0(Xd,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pp.apply(null,arguments)}function cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(r),!0).forEach(function(n){JD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JD(e,t,r){return(t=XD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XD(e){var t=ZD(e,"string");return typeof t=="symbol"?t:t+""}function ZD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eL(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var tL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var _={padding:0,margin:0},N=(l?Fd(a,l):a).map((k,E)=>{if(k.type==="none")return null;var S=k.formatter||s||eL,{value:C,name:O}=k,T=C,I=O;if(S){var R=S(C,O,k,E,a);if(Array.isArray(R))[T,I]=R;else if(R!=null)T=R;else return null}var J=yh({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:J},sn(I)?v.createElement("span",{className:"recharts-tooltip-item-name"},I):null,sn(I)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},T),v.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},y=yh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=yh({margin:0},i),w=!ct(d),x=w?d:"",g=je("recharts-default-tooltip",c),p=je("recharts-tooltip-label",u);w&&f&&a!==void 0&&a!==null&&(x=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",pp({className:g,style:y},j),v.createElement("p",{className:p,style:b},v.isValidElement(x)?x:"".concat(x)),m())},io="recharts-tooltip-wrapper",rL={visibility:"hidden"};function nL(e){var{coordinate:t,translateX:r,translateY:n}=e;return je(io,{["".concat(io,"-right")]:se(r)&&t&&se(t.x)&&r>=t.x,["".concat(io,"-left")]:se(r)&&t&&se(t.x)&&r<t.x,["".concat(io,"-bottom")]:se(n)&&t&&se(t.y)&&n>=t.y,["".concat(io,"-top")]:se(n)&&t&&se(t.y)&&n<t.y})}function ub(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&se(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,y=h;return m<y?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function iL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function aL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=ub({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=ub({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=iL({translateX:d,translateY:f,useTranslate3d:l})):u=rL,{cssProperties:u,cssClasses:nL({translateX:d,translateY:f,coordinate:r})}}function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gp(e,t,r){return(t=sL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=oL(e,"string");return typeof t=="symbol"?t:t+""}function oL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class lL extends v.PureComponent{constructor(){super(...arguments),gp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:b,innerRef:w,hasPortalFromProps:x}=this.props,{cssClasses:g,cssProperties:p}=aL({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),j=x?{}:kc(kc({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=kc(kc({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:_,ref:w},a)}}var cL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ls={devToolsEnabled:!1,isSsr:cL()},eN=()=>ie(e=>e.rootProps.accessibilityLayer);function Hr(e){return Number.isFinite(e)}function Ru(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function fb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fb(Object(r),!0).forEach(function(n){uL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uL(e,t,r){return(t=dL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=fL(e,"string");return typeof t=="symbol"?t:t+""}function fL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb={curveBasisClosed:R5,curveBasisOpen:z5,curveBasis:$5,curveBumpX:_5,curveBumpY:k5,curveLinearClosed:U5,curveLinear:Rd,curveMonotoneX:B5,curveMonotoneY:F5,curveNatural:W5,curveStep:q5,curveStepAfter:H5,curveStepBefore:V5},Nc=e=>Hr(e.x)&&Hr(e.y),ao=e=>e.x,so=e=>e.y,hL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Al(e));return(r==="curveMonotone"||r==="curveBump")&&t?mb["".concat(r).concat(t==="vertical"?"Y":"X")]:mb[r]||Rd},mL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=hL(t,i),l=a?r.filter(Nc):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>Nc(f)):n,d=l.map((f,h)=>hb(hb({},f),{},{base:u[h]}));return i==="vertical"?c=vc().y(so).x1(ao).x0(f=>f.base.x):c=vc().x(ao).y1(so).y0(f=>f.base.y),c.defined(Nc).curve(s),c(d)}return i==="vertical"&&se(n)?c=vc().y(so).x1(ao).x0(n):se(n)?c=vc().x(ao).y1(so).y0(n):c=I_().x(ao).y(so),c.defined(Nc).curve(s),c(l)},tN=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?mL(e):n;return v.createElement("path",vp({},ba(e),a0(e),{className:je("recharts-curve",t),d:a===null?void 0:a,ref:i}))},pL=["x","y","top","left","width","height","className"];function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yp.apply(null,arguments)}function pb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pb(Object(r),!0).forEach(function(n){vL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=xL(e,"string");return typeof t=="symbol"?t:t+""}function xL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bL(e,t){if(e==null)return{};var r,n,i=wL(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jL=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),_L=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:l}=e,c=bL(e,pL),u=gL({x:t,y:r,top:n,left:i,width:a,height:s},c);return!se(t)||!se(r)||!se(a)||!se(s)||!se(n)||!se(i)?null:v.createElement("path",yp({},ut(u,!0),{className:je("recharts-cross",l),d:jL(t,r,a,s,n,i)}))};function kL(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=EL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=CL(e,"string");return typeof t=="symbol"?t:t+""}function CL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t){var r=NL({},e),n=t,i=Object.keys(t),a=i.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return a}function PL(){}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){OL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OL(e,t,r){return(t=AL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=TL(e,"string");return typeof t=="symbol"?t:t+""}function TL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ML=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),IL=(e,t,r)=>e.map(n=>"".concat(ML(n)," ").concat(t,"ms ").concat(r)).join(","),DL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),cl=(e,t)=>Object.keys(t).reduce((r,n)=>yb(yb({},r),{},{[n]:e(n,t[n])}),{});function xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xb(Object(r),!0).forEach(function(n){LL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LL(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=RL(e,"string");return typeof t=="symbol"?t:t+""}function RL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zu=(e,t,r)=>e+(t-e)*r,xp=e=>{var{from:t,to:r}=e;return t!==r},rN=(e,t,r)=>{var n=cl((i,a)=>{if(xp(a)){var[s,l]=e(a.from,a.to,a.velocity);return vt(vt({},a),{},{from:s,velocity:l})}return a},t);return r<1?cl((i,a)=>xp(a)?vt(vt({},a),{},{velocity:zu(a.velocity,n[i].velocity,r),from:zu(a.from,n[i].from,r)}):a,t):rN(e,n,r-1)};function zL(e,t,r,n,i,a){var s,l=n.reduce((h,m)=>vt(vt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>cl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(xp).length,d=null,f=h=>{s||(s=h);var m=h-s,y=m/r.dt;l=rN(r,l,y),i(vt(vt(vt({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function UL(e,t,r,n,i,a,s){var l=null,c=i.reduce((f,h)=>vt(vt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=cl((b,w)=>zu(...w,r(h)),c);if(a(vt(vt(vt({},e),t),m)),h<1)l=s.setTimeout(d);else{var y=cl((b,w)=>zu(...w,r(1)),c);a(vt(vt(vt({},e),t),y))}};return()=>(l=s.setTimeout(d),()=>{l()})}const BL=(e,t,r,n,i,a)=>{var s=DL(e,t);return r.isStepper===!0?zL(e,t,r,s,i,a):UL(e,t,r,n,s,i,a)};var Uu=1e-4,nN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bb=(e,t)=>r=>{var n=nN(e,t);return iN(n,r)},FL=(e,t)=>r=>{var n=nN(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return iN(i,r)},wb=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,n,r,i]=s);var u=bb(t,r),d=bb(n,i),f=FL(t,r),h=y=>y>1?1:y<0?0:y,m=y=>{for(var b=y>1?1:y,w=b,x=0;x<8;++x){var g=u(w)-b,p=f(w);if(Math.abs(g-b)<Uu||p<Uu)return d(w);w=h(w-g/p)}return d(w)};return m.isStepper=!1,m},WL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-l)<Uu&&Math.abs(f)<Uu?[l,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},qL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wb(e);case"spring":return WL();default:if(e.split("(")[0]==="cubic-bezier")return wb(e)}return typeof e=="function"?e:null};function VL(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class HL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function KL(){return VL(new HL)}var GL=v.createContext(KL);function YL(e,t){var r=v.useContext(GL);return v.useMemo(()=>t??r(e),[e,t,r])}var QL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jb={t:0},xh={t:1};function aN(e){var t=Pr(e,QL),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=YL(t.animationId,t.animationManager),[f,h]=v.useState(r?jb:xh),m=v.useRef(null);return v.useEffect(()=>{r||h(xh)},[r]),v.useEffect(()=>{if(!r||!n)return PL;var y=BL(jb,xh,qL(a),i,h,d.getTimeoutController()),b=()=>{m.current=y()};return d.start([c,s,b,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,a,s,c,l,d]),u(f.t)}function sN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(sl(t)),n=v.useRef(e);return n.current!==e&&(r.current=sl(t),n.current=e),r.current}function _b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_b(Object(r),!0).forEach(function(n){JL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_b(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(null,arguments)}var Nb=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},e$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},t$=e=>{var t=Pr(e,e$),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&i(R)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:b}=t,w=v.useRef(l),x=v.useRef(c),g=v.useRef(a),p=v.useRef(s),j=v.useMemo(()=>({x:a,y:s,width:l,height:c,radius:u}),[a,s,l,c,u]),_=sN(j,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var N=je("recharts-rectangle",d);if(!b)return v.createElement("path",Bu({},ut(t,!0),{className:N,d:Nb(a,s,l,c,u)}));var k=w.current,E=x.current,S=g.current,C=p.current,O="0px ".concat(n===-1?1:n,"px"),T="".concat(n,"px 0px"),I=IL(["strokeDasharray"],h,typeof f=="string"?f:void 0);return v.createElement(aN,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},R=>{var J=pn(k,l,R),Y=pn(E,c,R),M=pn(S,a,R),L=pn(C,s,R);r.current&&(w.current=J,x.current=Y,g.current=M,p.current=L);var P;return y?R>0?P={transition:I,strokeDasharray:T}:P={strokeDasharray:O}:P={strokeDasharray:T},v.createElement("path",Bu({},ut(t,!0),{className:N,d:Nb(M,L,J,Y,u),ref:r,style:kb(kb({},P),t.style)}))})};function oN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=yt(t,r,n,i),l=yt(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}var r$=(e,t)=>{var r=xr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Sc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/$u,f=c?i:i+a*d,h=yt(t,r,u,f),m=yt(t,r,n,f),y=c?i-a*d:i,b=yt(t,r,u*Math.cos(d*$u),y);return{center:h,circleTangency:m,lineTangency:b,theta:d}},lN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,l=r$(a,s),c=a+l,u=yt(t,r,i,a),d=yt(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=yt(t,r,n,a),m=yt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},n$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=xr(u-c),{circleTangency:f,lineTangency:h,theta:m}=Sc({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:y,lineTangency:b,theta:w}=Sc({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),x=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(x<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):lN({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var g="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:p,lineTangency:j,theta:_}=Sc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:N,lineTangency:k,theta:E}=Sc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=l?Math.abs(c-u):Math.abs(c-u)-_-E;if(S<0&&a===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(p.x,",").concat(p.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},i$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},a$=e=>{var t=Pr(e,i$),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=je("recharts-sector",f),m=a-i,y=yi(s,m,0,!0),b;return y>0&&Math.abs(u-d)<360?b=n$({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=lN({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),v.createElement("path",bp({},ut(t,!0),{className:h,d:b}))};function s$(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=yt(l,c,u,f),m=yt(l,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return oN(t);return[{x:n,y:i},{x:a,y:s}]}var cN={},uN={},dN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(dN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(uN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0,r=uN;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=s;return c}e.range=n})(cN);var o$=cN.range;const fN=xi(o$);function pi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I0(e){let t,r,n;e.length!==2?(t=pi,r=(l,c)=>pi(e(l),c),n=(l,c)=>e(l)-c):(t=e===pi||e===l$?e:c$,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:s,right:a}}function c$(){return 0}function hN(e){return e===null?NaN:+e}function*u$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const d$=I0(pi),Dl=d$.right;I0(hN).center;class Sb extends Map{constructor(t,r=m$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(Eb(this,t))}has(t){return super.has(Eb(this,t))}set(t,r){return super.set(f$(this,t),r)}delete(t){return super.delete(h$(this,t))}}function Eb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function f$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function h$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function m$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function p$(e=pi){if(e===pi)return mN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const g$=Math.sqrt(50),v$=Math.sqrt(10),y$=Math.sqrt(2);function Fu(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=g$?10:a>=v$?5:a>=y$?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Fu(e,t,r*2):[l,c,u]}function wp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Fu(t,e,r):Fu(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function jp(e,t,r){return t=+t,e=+e,r=+r,Fu(e,t,r)[2]}function _p(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?jp(t,e,r):jp(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Cb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Pb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pN(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?mN:p$(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));pN(e,t,m,y,i)}const a=e[t];let s=r,l=n;for(oo(e,r,t),i(e[n],a)>0&&oo(e,r,n);s<l;){for(oo(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?oo(e,r,l):(++l,oo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function oo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function x$(e,t,r){if(e=Float64Array.from(u$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Pb(e);if(t>=1)return Cb(e);var n,i=(n-1)*t,a=Math.floor(i),s=Cb(pN(e,a).subarray(0,a+1)),l=Pb(e.subarray(a+1));return s+(l-s)*(i-a)}}function b$(e,t,r=hN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function w$(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Or(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Un(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kp=Symbol("implicit");function D0(){var e=new Sb,t=[],r=[],n=kp;function i(a){let s=e.get(a);if(s===void 0){if(n!==kp)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Sb;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return D0(t,r).unknown(n)},Or.apply(i,arguments),i}function L0(){var e=D0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,y=m?i:n,b=m?n:i;a=(b-y)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),y+=(b-y-a*(h-c))*d,s=a*(1-c),l&&(y=Math.round(y),s=Math.round(s));var w=w$(h).map(function(x){return y+a*x});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return L0(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Or.apply(f(),arguments)}function gN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return gN(t())},e}function j$(){return gN(L0.apply(null,arguments).paddingInner(1))}function $0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function vN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ll(){}var ul=.7,Wu=1/ul,is="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",an="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_$=/^#([0-9a-f]{3,8})$/,k$=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),N$=new RegExp(`^rgb\\(${an},${an},${an}\\)$`),S$=new RegExp(`^rgba\\(${is},${is},${is},${dl}\\)$`),E$=new RegExp(`^rgba\\(${an},${an},${an},${dl}\\)$`),C$=new RegExp(`^hsl\\(${dl},${an},${an}\\)$`),P$=new RegExp(`^hsla\\(${dl},${an},${an},${dl}\\)$`),Ob={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$0(Ll,fl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ab,formatHex:Ab,formatHex8:O$,formatHsl:A$,formatRgb:Tb,toString:Tb});function Ab(){return this.rgb().formatHex()}function O$(){return this.rgb().formatHex8()}function A$(){return yN(this).formatHsl()}function Tb(){return this.rgb().formatRgb()}function fl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Mb(t):r===3?new Bt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ec(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ec(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k$.exec(e))?new Bt(t[1],t[2],t[3],1):(t=N$.exec(e))?new Bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=S$.exec(e))?Ec(t[1],t[2],t[3],t[4]):(t=E$.exec(e))?Ec(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C$.exec(e))?Lb(t[1],t[2]/100,t[3]/100,1):(t=P$.exec(e))?Lb(t[1],t[2]/100,t[3]/100,t[4]):Ob.hasOwnProperty(e)?Mb(Ob[e]):e==="transparent"?new Bt(NaN,NaN,NaN,0):null}function Mb(e){return new Bt(e>>16&255,e>>8&255,e&255,1)}function Ec(e,t,r,n){return n<=0&&(e=t=r=NaN),new Bt(e,t,r,n)}function T$(e){return e instanceof Ll||(e=fl(e)),e?(e=e.rgb(),new Bt(e.r,e.g,e.b,e.opacity)):new Bt}function Np(e,t,r,n){return arguments.length===1?T$(e):new Bt(e,t,r,n??1)}function Bt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$0(Bt,Np,vN(Ll,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new Bt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bt(ea(this.r),ea(this.g),ea(this.b),qu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ib,formatHex:Ib,formatHex8:M$,formatRgb:Db,toString:Db}));function Ib(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}`}function M$(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}${Vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Db(){const e=qu(this.opacity);return`${e===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${e===1?")":`, ${e})`}`}function qu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ea(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vi(e){return e=ea(e),(e<16?"0":"")+e.toString(16)}function Lb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Br(e,t,r,n)}function yN(e){if(e instanceof Br)return new Br(e.h,e.s,e.l,e.opacity);if(e instanceof Ll||(e=fl(e)),!e)return new Br;if(e instanceof Br)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new Br(s,l,c,e.opacity)}function I$(e,t,r,n){return arguments.length===1?yN(e):new Br(e,t,r,n??1)}function Br(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$0(Br,I$,vN(Ll,{brighter(e){return e=e==null?Wu:Math.pow(Wu,e),new Br(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ul:Math.pow(ul,e),new Br(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Bt(bh(e>=240?e-240:e+120,i,n),bh(e,i,n),bh(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Br($b(this.h),Cc(this.s),Cc(this.l),qu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=qu(this.opacity);return`${e===1?"hsl(":"hsla("}${$b(this.h)}, ${Cc(this.s)*100}%, ${Cc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $b(e){return e=(e||0)%360,e<0?e+360:e}function Cc(e){return Math.max(0,Math.min(1,e||0))}function bh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const R0=e=>()=>e;function D$(e,t){return function(r){return e+r*t}}function L$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $$(e){return(e=+e)==1?xN:function(t,r){return r-t?L$(t,r,e):R0(isNaN(t)?r:t)}}function xN(e,t){var r=t-e;return r?D$(e,r):R0(isNaN(e)?t:e)}const Rb=function e(t){var r=$$(t);function n(i,a){var s=r((i=Np(i)).r,(a=Np(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=xN(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function R$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function z$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=$s(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function B$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Vu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F$(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$s(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Sp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wh=new RegExp(Sp.source,"g");function W$(e){return function(){return e}}function q$(e){return function(t){return e(t)+""}}function V$(e,t){var r=Sp.lastIndex=wh.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Sp.exec(e))&&(i=wh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Vu(n,i)})),r=wh.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?q$(c[0].x):W$(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function $s(e,t){var r=typeof t,n;return t==null||r==="boolean"?R0(t):(r==="number"?Vu:r==="string"?(n=fl(t))?(t=n,Rb):V$:t instanceof fl?Rb:t instanceof Date?B$:z$(t)?R$:Array.isArray(t)?U$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F$:Vu)(e,t)}function z0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function H$(e,t){t===void 0&&(t=e,e=$s);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function K$(e){return function(){return e}}function Hu(e){return+e}var zb=[0,1];function Tt(e){return e}function Ep(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:K$(isNaN(t)?NaN:.5)}function G$(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Y$(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Ep(i,n),a=r(s,a)):(n=Ep(n,i),a=r(a,s)),function(l){return a(n(l))}}function Q$(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Ep(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=Dl(e,l,1,n)-1;return a[c](i[c](l))}}function $l(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zd(){var e=zb,t=zb,r=$s,n,i,a,s=Tt,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Tt&&(s=G$(e[0],e[h-1])),l=h>2?Q$:Y$,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=l(t,e.map(n),Vu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hu),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=z0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Tt,d()):s!==Tt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function U0(){return Zd()(Tt,Tt)}function J$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ku(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _s(e){return e=Ku(Math.abs(e)),e?e[1]:NaN}function X$(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Z$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hl(e){if(!(t=eR.exec(e)))throw new Error("invalid format: "+e);var t;return new B0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hl.prototype=B0.prototype;function B0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tR(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var bN;function rR(e,t){var r=Ku(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(bN=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ku(e,Math.max(0,t+a-1))[0]}function Ub(e,t){var r=Ku(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Bb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:J$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ub(e*100,t),r:Ub,s:rR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Fb(e){return e}var Wb=Array.prototype.map,qb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nR(e){var t=e.grouping===void 0||e.thousands===void 0?Fb:X$(Wb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Fb:Z$(Wb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=hl(f);var h=f.fill,m=f.align,y=f.sign,b=f.symbol,w=f.zero,x=f.width,g=f.comma,p=f.precision,j=f.trim,_=f.type;_==="n"?(g=!0,_="g"):Bb[_]||(p===void 0&&(p=12),j=!0,_="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=b==="$"?r:b==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=b==="$"?n:/[%p]/.test(_)?s:"",E=Bb[_],S=/[defgprs%]/.test(_);p=p===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function C(O){var T=N,I=k,R,J,Y;if(_==="c")I=E(O)+I,O="";else{O=+O;var M=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),p),j&&(O=tR(O)),M&&+O==0&&y!=="+"&&(M=!1),T=(M?y==="("?y:l:y==="-"||y==="("?"":y)+T,I=(_==="s"?qb[8+bN/3]:"")+I+(M&&y==="("?")":""),S){for(R=-1,J=O.length;++R<J;)if(Y=O.charCodeAt(R),48>Y||Y>57){I=(Y===46?i+O.slice(R+1):O.slice(R))+I,O=O.slice(0,R);break}}}g&&!w&&(O=t(O,1/0));var L=T.length+O.length+I.length,P=L<x?new Array(x-L+1).join(h):"";switch(g&&w&&(O=t(P+O,P.length?x-I.length:1/0),P=""),m){case"<":O=T+O+I+P;break;case"=":O=T+P+O+I;break;case"^":O=P.slice(0,L=P.length>>1)+T+O+I+P.slice(L);break;default:O=P+T+O+I;break}return a(O)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=hl(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(_s(h)/3)))*3,b=Math.pow(10,-y),w=qb[8+y/3];return function(x){return m(b*x)+w}}return{format:u,formatPrefix:d}}var Pc,F0,wN;iR({thousands:",",grouping:[3],currency:["$",""]});function iR(e){return Pc=nR(e),F0=Pc.format,wN=Pc.formatPrefix,Pc}function aR(e){return Math.max(0,-_s(Math.abs(e)))}function sR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_s(t)/3)))*3-_s(Math.abs(e)))}function oR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_s(t)-_s(e))+1}function jN(e,t,r,n){var i=_p(e,t,r),a;switch(n=hl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=sR(i,s))&&(n.precision=a),wN(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=oR(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=aR(i))&&(n.precision=a-(n.type==="%")*2);break}}return F0(n)}function Ei(e){var t=e.domain;return e.ticks=function(r){var n=t();return wp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return jN(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=jp(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _N(){var e=U0();return e.copy=function(){return $l(e,_N())},Or.apply(e,arguments),Ei(e)}function kN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kN(e).unknown(t)},e=arguments.length?Array.from(e,Hu):[0,1],Ei(r)}function NN(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function Vb(e){return Math.log(e)}function Hb(e){return Math.exp(e)}function lR(e){return-Math.log(-e)}function cR(e){return-Math.exp(-e)}function uR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dR(e){return e===10?uR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Kb(e){return(t,r)=>-e(-t,r)}function W0(e){const t=e(Vb,Hb),r=t.domain;let n=10,i,a;function s(){return i=fR(n),a=dR(n),r()[0]<0?(i=Kb(i),a=Kb(a),e(lR,cR)):e(Vb,Hb),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,b;const w=l==null?10:+l;let x=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(b=h<0?y/a(-h):y*a(h),!(b<u)){if(b>d)break;x.push(b)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/a(-h):y*a(h),!(b<u)){if(b>d)break;x.push(b)}x.length*2<w&&(x=wp(u,d,w))}else x=wp(h,m,Math.min(m-h,w)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=hl(c)).precision==null&&(c.trim=!0),c=F0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(NN(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function SN(){const e=W0(Zd()).domain([1,10]);return e.copy=()=>$l(e,SN()).base(e.base()),Or.apply(e,arguments),e}function Gb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Yb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function q0(e){var t=1,r=e(Gb(t),Yb(t));return r.constant=function(n){return arguments.length?e(Gb(t=+n),Yb(t)):t},Ei(r)}function EN(){var e=q0(Zd());return e.copy=function(){return $l(e,EN()).constant(e.constant())},Or.apply(e,arguments)}function Qb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function mR(e){return e<0?-e*e:e*e}function V0(e){var t=e(Tt,Tt),r=1;function n(){return r===1?e(Tt,Tt):r===.5?e(hR,mR):e(Qb(r),Qb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ei(t)}function H0(){var e=V0(Zd());return e.copy=function(){return $l(e,H0()).exponent(e.exponent())},Or.apply(e,arguments),e}function pR(){return H0.apply(null,arguments).exponent(.5)}function Jb(e){return Math.sign(e)*e*e}function gR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CN(){var e=U0(),t=[0,1],r=!1,n;function i(a){var s=gR(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Jb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Hu)).map(Jb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return CN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Or.apply(i,arguments),Ei(i)}function PN(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=b$(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Dl(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(pi),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return PN().domain(e).range(t).unknown(n)},Or.apply(a,arguments)}function ON(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[Dl(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ON().domain([e,t]).range(i).unknown(a)},Or.apply(Ei(s),arguments)}function AN(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Dl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return AN().domain(e).range(t).unknown(r)},Or.apply(i,arguments)}const jh=new Date,_h=new Date;function rt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>rt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(jh.setTime(+a),_h.setTime(+s),e(jh),e(_h),Math.floor(r(jh,_h))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Gu=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Gu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Gu);Gu.range;const bn=1e3,br=bn*60,wn=br*60,Mn=wn*24,K0=Mn*7,Xb=Mn*30,kh=Mn*365,Hi=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bn)},(e,t)=>(t-e)/bn,e=>e.getUTCSeconds());Hi.range;const G0=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getMinutes());G0.range;const Y0=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getUTCMinutes());Y0.range;const Q0=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bn-e.getMinutes()*br)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getHours());Q0.range;const J0=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wn)},(e,t)=>(t-e)/wn,e=>e.getUTCHours());J0.range;const Rl=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*br)/Mn,e=>e.getDate()-1);Rl.range;const ef=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>e.getUTCDate()-1);ef.range;const TN=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mn,e=>Math.floor(e/Mn));TN.range;function wa(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*br)/K0)}const tf=wa(0),Yu=wa(1),vR=wa(2),yR=wa(3),ks=wa(4),xR=wa(5),bR=wa(6);tf.range;Yu.range;vR.range;yR.range;ks.range;xR.range;bR.range;function ja(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/K0)}const rf=ja(0),Qu=ja(1),wR=ja(2),jR=ja(3),Ns=ja(4),_R=ja(5),kR=ja(6);rf.range;Qu.range;wR.range;jR.range;Ns.range;_R.range;kR.range;const X0=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());X0.range;const Z0=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Z0.range;const In=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());In.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});In.range;const Dn=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Dn.range;function MN(e,t,r,n,i,a){const s=[[Hi,1,bn],[Hi,5,5*bn],[Hi,15,15*bn],[Hi,30,30*bn],[a,1,br],[a,5,5*br],[a,15,15*br],[a,30,30*br],[i,1,wn],[i,3,3*wn],[i,6,6*wn],[i,12,12*wn],[n,1,Mn],[n,2,2*Mn],[r,1,K0],[t,1,Xb],[t,3,3*Xb],[e,1,kh]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=I0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(_p(u/kh,d/kh,f));if(m===0)return Gu.every(Math.max(_p(u,d,f),1));const[y,b]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(b)}return[l,c]}const[NR,SR]=MN(Dn,Z0,rf,TN,J0,Y0),[ER,CR]=MN(In,X0,tf,Rl,Q0,G0);function Nh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function lo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PR(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=co(i),d=uo(i),f=co(a),h=uo(a),m=co(s),y=uo(s),b=co(l),w=uo(l),x=co(c),g=uo(c),p={a:M,A:L,b:P,B:z,c:null,d:iw,e:iw,f:XR,g:l8,G:u8,H:YR,I:QR,j:JR,L:IN,m:ZR,M:e8,p:F,q:U,Q:ow,s:lw,S:t8,u:r8,U:n8,V:i8,w:a8,W:s8,x:null,X:null,y:o8,Y:c8,Z:d8,"%":sw},j={a:oe,A:ue,b:me,B:Me,c:null,d:aw,e:aw,f:p8,g:N8,G:E8,H:f8,I:h8,j:m8,L:LN,m:g8,M:v8,p:re,q:Ar,Q:ow,s:lw,S:y8,u:x8,U:b8,V:w8,w:j8,W:_8,x:null,X:null,y:k8,Y:S8,Z:C8,"%":sw},_={a:C,A:O,b:T,B:I,c:R,d:rw,e:rw,f:VR,g:tw,G:ew,H:nw,I:nw,j:BR,L:qR,m:UR,M:FR,p:S,q:zR,Q:KR,s:GR,S:WR,u:IR,U:DR,V:LR,w:MR,W:$R,x:J,X:Y,y:tw,Y:ew,Z:RR,"%":HR};p.x=N(r,p),p.X=N(n,p),p.c=N(t,p),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(Q,le){return function(de){var W=[],qe=-1,ge=0,Ve=Q.length,ht,Tr,Oi;for(de instanceof Date||(de=new Date(+de));++qe<Ve;)Q.charCodeAt(qe)===37&&(W.push(Q.slice(ge,qe)),(Tr=Zb[ht=Q.charAt(++qe)])!=null?ht=Q.charAt(++qe):Tr=ht==="e"?" ":"0",(Oi=le[ht])&&(ht=Oi(de,Tr)),W.push(ht),ge=qe+1);return W.push(Q.slice(ge,qe)),W.join("")}}function k(Q,le){return function(de){var W=lo(1900,void 0,1),qe=E(W,Q,de+="",0),ge,Ve;if(qe!=de.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(le&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ge=Sh(lo(W.y,0,1)),Ve=ge.getUTCDay(),ge=Ve>4||Ve===0?Qu.ceil(ge):Qu(ge),ge=ef.offset(ge,(W.V-1)*7),W.y=ge.getUTCFullYear(),W.m=ge.getUTCMonth(),W.d=ge.getUTCDate()+(W.w+6)%7):(ge=Nh(lo(W.y,0,1)),Ve=ge.getDay(),ge=Ve>4||Ve===0?Yu.ceil(ge):Yu(ge),ge=Rl.offset(ge,(W.V-1)*7),W.y=ge.getFullYear(),W.m=ge.getMonth(),W.d=ge.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ve="Z"in W?Sh(lo(W.y,0,1)).getUTCDay():Nh(lo(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ve+5)%7:W.w+W.U*7-(Ve+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,Sh(W)):Nh(W)}}function E(Q,le,de,W){for(var qe=0,ge=le.length,Ve=de.length,ht,Tr;qe<ge;){if(W>=Ve)return-1;if(ht=le.charCodeAt(qe++),ht===37){if(ht=le.charAt(qe++),Tr=_[ht in Zb?le.charAt(qe++):ht],!Tr||(W=Tr(Q,de,W))<0)return-1}else if(ht!=de.charCodeAt(W++))return-1}return W}function S(Q,le,de){var W=u.exec(le.slice(de));return W?(Q.p=d.get(W[0].toLowerCase()),de+W[0].length):-1}function C(Q,le,de){var W=m.exec(le.slice(de));return W?(Q.w=y.get(W[0].toLowerCase()),de+W[0].length):-1}function O(Q,le,de){var W=f.exec(le.slice(de));return W?(Q.w=h.get(W[0].toLowerCase()),de+W[0].length):-1}function T(Q,le,de){var W=x.exec(le.slice(de));return W?(Q.m=g.get(W[0].toLowerCase()),de+W[0].length):-1}function I(Q,le,de){var W=b.exec(le.slice(de));return W?(Q.m=w.get(W[0].toLowerCase()),de+W[0].length):-1}function R(Q,le,de){return E(Q,t,le,de)}function J(Q,le,de){return E(Q,r,le,de)}function Y(Q,le,de){return E(Q,n,le,de)}function M(Q){return s[Q.getDay()]}function L(Q){return a[Q.getDay()]}function P(Q){return c[Q.getMonth()]}function z(Q){return l[Q.getMonth()]}function F(Q){return i[+(Q.getHours()>=12)]}function U(Q){return 1+~~(Q.getMonth()/3)}function oe(Q){return s[Q.getUTCDay()]}function ue(Q){return a[Q.getUTCDay()]}function me(Q){return c[Q.getUTCMonth()]}function Me(Q){return l[Q.getUTCMonth()]}function re(Q){return i[+(Q.getUTCHours()>=12)]}function Ar(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var le=N(Q+="",p);return le.toString=function(){return Q},le},parse:function(Q){var le=k(Q+="",!1);return le.toString=function(){return Q},le},utcFormat:function(Q){var le=N(Q+="",j);return le.toString=function(){return Q},le},utcParse:function(Q){var le=k(Q+="",!0);return le.toString=function(){return Q},le}}}var Zb={"-":"",_:" ",0:"0"},dt=/^\s*\d+/,OR=/^%/,AR=/[\\^$*+?|[\]().{}]/g;function ve(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function TR(e){return e.replace(AR,"\\$&")}function co(e){return new RegExp("^(?:"+e.map(TR).join("|")+")","i")}function uo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function IR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function DR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $R(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ew(e,t,r){var n=dt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tw(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zR(e,t,r){var n=dt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rw(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function BR(e,t,r){var n=dt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nw(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function WR(e,t,r){var n=dt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=dt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=dt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function HR(e,t,r){var n=OR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function KR(e,t,r){var n=dt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function GR(e,t,r){var n=dt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function iw(e,t){return ve(e.getDate(),t,2)}function YR(e,t){return ve(e.getHours(),t,2)}function QR(e,t){return ve(e.getHours()%12||12,t,2)}function JR(e,t){return ve(1+Rl.count(In(e),e),t,3)}function IN(e,t){return ve(e.getMilliseconds(),t,3)}function XR(e,t){return IN(e,t)+"000"}function ZR(e,t){return ve(e.getMonth()+1,t,2)}function e8(e,t){return ve(e.getMinutes(),t,2)}function t8(e,t){return ve(e.getSeconds(),t,2)}function r8(e){var t=e.getDay();return t===0?7:t}function n8(e,t){return ve(tf.count(In(e)-1,e),t,2)}function DN(e){var t=e.getDay();return t>=4||t===0?ks(e):ks.ceil(e)}function i8(e,t){return e=DN(e),ve(ks.count(In(e),e)+(In(e).getDay()===4),t,2)}function a8(e){return e.getDay()}function s8(e,t){return ve(Yu.count(In(e)-1,e),t,2)}function o8(e,t){return ve(e.getFullYear()%100,t,2)}function l8(e,t){return e=DN(e),ve(e.getFullYear()%100,t,2)}function c8(e,t){return ve(e.getFullYear()%1e4,t,4)}function u8(e,t){var r=e.getDay();return e=r>=4||r===0?ks(e):ks.ceil(e),ve(e.getFullYear()%1e4,t,4)}function d8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ve(t/60|0,"0",2)+ve(t%60,"0",2)}function aw(e,t){return ve(e.getUTCDate(),t,2)}function f8(e,t){return ve(e.getUTCHours(),t,2)}function h8(e,t){return ve(e.getUTCHours()%12||12,t,2)}function m8(e,t){return ve(1+ef.count(Dn(e),e),t,3)}function LN(e,t){return ve(e.getUTCMilliseconds(),t,3)}function p8(e,t){return LN(e,t)+"000"}function g8(e,t){return ve(e.getUTCMonth()+1,t,2)}function v8(e,t){return ve(e.getUTCMinutes(),t,2)}function y8(e,t){return ve(e.getUTCSeconds(),t,2)}function x8(e){var t=e.getUTCDay();return t===0?7:t}function b8(e,t){return ve(rf.count(Dn(e)-1,e),t,2)}function $N(e){var t=e.getUTCDay();return t>=4||t===0?Ns(e):Ns.ceil(e)}function w8(e,t){return e=$N(e),ve(Ns.count(Dn(e),e)+(Dn(e).getUTCDay()===4),t,2)}function j8(e){return e.getUTCDay()}function _8(e,t){return ve(Qu.count(Dn(e)-1,e),t,2)}function k8(e,t){return ve(e.getUTCFullYear()%100,t,2)}function N8(e,t){return e=$N(e),ve(e.getUTCFullYear()%100,t,2)}function S8(e,t){return ve(e.getUTCFullYear()%1e4,t,4)}function E8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ns(e):Ns.ceil(e),ve(e.getUTCFullYear()%1e4,t,4)}function C8(){return"+0000"}function sw(){return"%"}function ow(e){return+e}function lw(e){return Math.floor(+e/1e3)}var Ta,RN,zN;P8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function P8(e){return Ta=PR(e),RN=Ta.format,Ta.parse,zN=Ta.utcFormat,Ta.utcParse,Ta}function O8(e){return new Date(e)}function A8(e){return e instanceof Date?+e:+new Date(+e)}function ev(e,t,r,n,i,a,s,l,c,u){var d=U0(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),b=u("%I:%M"),w=u("%I %p"),x=u("%a %d"),g=u("%b %d"),p=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?y:s(N)<N?b:a(N)<N?w:n(N)<N?i(N)<N?x:g:r(N)<N?p:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,A8)):h().map(O8)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(NN(k,N)):d},d.copy=function(){return $l(d,ev(e,t,r,n,i,a,s,l,c,u))},d}function T8(){return Or.apply(ev(ER,CR,In,X0,tf,Rl,Q0,G0,Hi,RN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M8(){return Or.apply(ev(NR,SR,Dn,Z0,rf,ef,J0,Y0,Hi,zN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nf(){var e=0,t=1,r,n,i,a,s=Tt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d($s),u.rangeRound=d(z0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Ci(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UN(){var e=Ei(nf()(Tt));return e.copy=function(){return Ci(e,UN())},Un.apply(e,arguments)}function BN(){var e=W0(nf()).domain([1,10]);return e.copy=function(){return Ci(e,BN()).base(e.base())},Un.apply(e,arguments)}function FN(){var e=q0(nf());return e.copy=function(){return Ci(e,FN()).constant(e.constant())},Un.apply(e,arguments)}function tv(){var e=V0(nf());return e.copy=function(){return Ci(e,tv()).exponent(e.exponent())},Un.apply(e,arguments)}function I8(){return tv.apply(null,arguments).exponent(.5)}function WN(){var e=[],t=Tt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Dl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(pi),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>x$(e,a/n))},r.copy=function(){return WN(t).domain(e)},Un.apply(r,arguments)}function af(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=Tt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-a)*(n*b<n*a?l:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function y(b){return function(w){var x,g,p;return arguments.length?([x,g,p]=w,u=H$(b,[x,g,p]),m):[u(0),u(.5),u(1)]}}return m.range=y($s),m.rangeRound=y(z0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),a=b(t),s=b(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function qN(){var e=Ei(af()(Tt));return e.copy=function(){return Ci(e,qN())},Un.apply(e,arguments)}function VN(){var e=W0(af()).domain([.1,1,10]);return e.copy=function(){return Ci(e,VN()).base(e.base())},Un.apply(e,arguments)}function HN(){var e=q0(af());return e.copy=function(){return Ci(e,HN()).constant(e.constant())},Un.apply(e,arguments)}function rv(){var e=V0(af());return e.copy=function(){return Ci(e,rv()).exponent(e.exponent())},Un.apply(e,arguments)}function D8(){return rv.apply(null,arguments).exponent(.5)}const yo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:L0,scaleDiverging:qN,scaleDivergingLog:VN,scaleDivergingPow:rv,scaleDivergingSqrt:D8,scaleDivergingSymlog:HN,scaleIdentity:kN,scaleImplicit:kp,scaleLinear:_N,scaleLog:SN,scaleOrdinal:D0,scalePoint:j$,scalePow:H0,scaleQuantile:PN,scaleQuantize:ON,scaleRadial:CN,scaleSequential:UN,scaleSequentialLog:BN,scaleSequentialPow:tv,scaleSequentialQuantile:WN,scaleSequentialSqrt:I8,scaleSequentialSymlog:FN,scaleSqrt:pR,scaleSymlog:EN,scaleThreshold:AN,scaleTime:T8,scaleUtc:M8,tickFormat:jN},Symbol.toStringTag,{value:"Module"}));var Pi=e=>e.chartData,L8=$([Pi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nv=(e,t,r,n)=>n?L8(e):Pi(e);function Ss(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Hr(t)&&Hr(r))return!0}return!1}function cw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Hr(r))i=r;else if(typeof r=="function")return;if(Hr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Ss(s))return s}}function R8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ss(n))return cw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(se(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&nb.test(i)){var c=nb.exec(i);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(se(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&ib.test(a)){var d=ib.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(Ss(h))return t==null?h:cw(h,t,r)}}}var Rs=1e9,z8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},av,Te=!0,Er="[DecimalError] ",ta=Er+"Invalid argument: ",iv=Er+"Exponent out of range: ",zs=Math.floor,zi=Math.pow,U8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jt,st=1e7,Ee=7,KN=9007199254740991,Ju=zs(KN/Ee),ee={};ee.absoluteValue=ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ee.comparedTo=ee.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ee.decimalPlaces=ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ee;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ee.dividedBy=ee.div=function(e){return Nn(this,new this.constructor(e))};ee.dividedToIntegerBy=ee.idiv=function(e){var t=this,r=t.constructor;return we(Nn(t,new r(e),0,1),r.precision)};ee.equals=ee.eq=function(e){return!this.cmp(e)};ee.exponent=function(){return Ge(this)};ee.greaterThan=ee.gt=function(e){return this.cmp(e)>0};ee.greaterThanOrEqualTo=ee.gte=function(e){return this.cmp(e)>=0};ee.isInteger=ee.isint=function(){return this.e>this.d.length-2};ee.isNegative=ee.isneg=function(){return this.s<0};ee.isPositive=ee.ispos=function(){return this.s>0};ee.isZero=function(){return this.s===0};ee.lessThan=ee.lt=function(e){return this.cmp(e)<0};ee.lessThanOrEqualTo=ee.lte=function(e){return this.cmp(e)<1};ee.logarithm=ee.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Jt))throw Error(Er+"NaN");if(r.s<1)throw Error(Er+(r.s?"NaN":"-Infinity"));return r.eq(Jt)?new n(0):(Te=!1,t=Nn(ml(r,a),ml(e,a),a),Te=!0,we(t,i))};ee.minus=ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QN(t,e):GN(t,(e.s=-e.s,e))};ee.modulo=ee.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Er+"NaN");return r.s?(Te=!1,t=Nn(r,e,0,1).times(e),Te=!0,r.minus(t)):we(new n(r),i)};ee.naturalExponential=ee.exp=function(){return YN(this)};ee.naturalLogarithm=ee.ln=function(){return ml(this)};ee.negated=ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ee.plus=ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GN(t,e):QN(t,(e.s=-e.s,e))};ee.precision=ee.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ta+e);if(t=Ge(i)+1,n=i.d.length-1,r=n*Ee+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ee.squareRoot=ee.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Er+"NaN")}for(e=Ge(l),Te=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=en(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=zs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(Nn(l,a,s+2)).times(.5),en(a.d).slice(0,s)===(t=en(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(we(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return Te=!0,we(n,r)};ee.times=ee.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*h[i-n-1]+t,a[i--]=l%st|0,t=l/st|0;a[i]=(a[i]+t)%st|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Te?we(e,f.precision):e};ee.toDecimalPlaces=ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(on(e,0,Rs),t===void 0?t=n.rounding:on(t,0,8),we(r,e+Ge(r)+1,t))};ee.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=fa(n,!0):(on(e,0,Rs),t===void 0?t=i.rounding:on(t,0,8),n=we(new i(n),e+1,t),r=fa(n,!0,e+1)),r};ee.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?fa(i):(on(e,0,Rs),t===void 0?t=a.rounding:on(t,0,8),n=we(new a(i),e+Ge(i)+1,t),r=fa(n.abs(),!1,e+Ge(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ee.toInteger=ee.toint=function(){var e=this,t=e.constructor;return we(new t(e),Ge(e)+1,t.rounding)};ee.toNumber=function(){return+this};ee.toPower=ee.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Jt);if(l=new c(l),!l.s){if(e.s<1)throw Error(Er+"Infinity");return l}if(l.eq(Jt))return l;if(n=c.precision,e.eq(Jt))return we(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=KN){for(i=new c(Jt),t=Math.ceil(n/Ee+4),Te=!1;r%2&&(i=i.times(l),dw(i.d,t)),r=zs(r/2),r!==0;)l=l.times(l),dw(l.d,t);return Te=!0,e.s<0?new c(Jt).div(i):we(i,n)}}else if(a<0)throw Error(Er+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Te=!1,i=e.times(ml(l,n+u)),Te=!0,i=YN(i),i.s=a,i};ee.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ge(i),n=fa(i,r<=a.toExpNeg||r>=a.toExpPos)):(on(e,1,Rs),t===void 0?t=a.rounding:on(t,0,8),i=we(new a(i),e,t),r=Ge(i),n=fa(i,e<=r||r<=a.toExpNeg,e)),n};ee.toSignificantDigits=ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(on(e,1,Rs),t===void 0?t=n.rounding:on(t,0,8)),we(new n(r),e,t)};ee.toString=ee.valueOf=ee.val=ee.toJSON=ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ge(e),r=e.constructor;return fa(e,t<=r.toExpNeg||t>=r.toExpPos)};function GN(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Te?we(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(f/Ee),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/st|0,c[a]%=st;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Te?we(t,f):t}function on(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ta+e)}function en(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Ee-n.length,r&&(a+=Jn(r)),a+=n;s=e[t],n=s+"",r=Ee-n.length,r&&(a+=Jn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Nn=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%st|0,s=a/st|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*st+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,f,h,m,y,b,w,x,g,p,j,_,N,k,E,S=n.constructor,C=n.s==i.s?1:-1,O=n.d,T=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(Er+"Division by zero");for(c=n.e-i.e,k=T.length,_=O.length,m=new S(C),y=m.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,a==null?g=a=S.precision:s?g=a+(Ge(n)-Ge(i))+1:g=a,g<0)return new S(0);if(g=g/Ee+2|0,u=0,k==1)for(d=0,T=T[0],g++;(u<_||d)&&g--;u++)p=d*st+(O[u]||0),y[u]=p/T|0,d=p%T|0;else{for(d=st/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),k=T.length,_=O.length),j=k,b=O.slice(0,k),w=b.length;w<k;)b[w++]=0;E=T.slice(),E.unshift(0),N=T[0],T[1]>=st/2&&++N;do d=0,l=t(T,b,k,w),l<0?(x=b[0],k!=w&&(x=x*st+(b[1]||0)),d=x/N|0,d>1?(d>=st&&(d=st-1),f=e(T,d),h=f.length,w=b.length,l=t(f,b,h,w),l==1&&(d--,r(f,k<h?E:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),l==-1&&(w=b.length,l=t(T,b,k,w),l<1&&(d++,r(b,k<w?E:T,w))),w=b.length):l===0&&(d++,b=[0]),y[u++]=d,l&&b[0]?b[w++]=O[j]||0:(b=[O[j]],w=1);while((j++<_||b[0]!==void 0)&&g--)}return y[0]||y.shift(),m.e=c,we(m,s?a+Ge(m)+1:a)}}();function YN(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ge(e)>16)throw Error(iv+Ge(e));if(!e.s)return new d(Jt);for(t==null?(Te=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(zi(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(Jt),d.precision=l;;){if(i=we(i.times(e),l),r=r.times(++c),s=a.plus(Nn(i,r,l)),en(s.d).slice(0,l)===en(a.d).slice(0,l)){for(;u--;)a=we(a.times(a),l);return d.precision=f,t==null?(Te=!0,we(a,f)):a}a=s}}function Ge(e){for(var t=e.e*Ee,r=e.d[0];r>=10;r/=10)t++;return t}function Eh(e,t,r){if(t>e.LN10.sd())throw Te=!0,r&&(e.precision=r),Error(Er+"LN10 precision limit exceeded");return we(new e(e.LN10),t)}function Jn(e){for(var t="";e--;)t+="0";return t}function ml(e,t){var r,n,i,a,s,l,c,u,d,f=1,h=10,m=e,y=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Er+(m.s?"NaN":"-Infinity"));if(m.eq(Jt))return new b(0);if(t==null?(Te=!1,u=w):u=t,m.eq(10))return t==null&&(Te=!0),Eh(b,u);if(u+=h,b.precision=u,r=en(y),n=r.charAt(0),a=Ge(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=en(m.d),n=r.charAt(0),f++;a=Ge(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return c=Eh(b,u+2,w).times(a+""),m=ml(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Te=!0,we(m,w)):m;for(l=s=m=Nn(m.minus(Jt),m.plus(Jt),u),d=we(m.times(m),u),i=3;;){if(s=we(s.times(d),u),c=l.plus(Nn(s,new b(i),u)),en(c.d).slice(0,u)===en(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Eh(b,u+2,w).times(a+""))),l=Nn(l,new b(f),u),b.precision=w,t==null?(Te=!0,we(l,w)):l;l=c,i+=2}}function uw(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=zs(r/Ee),e.d=[],n=(r+1)%Ee,r<0&&(n+=Ee),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ee;n<i;)e.d.push(+t.slice(n,n+=Ee));t=t.slice(n),n=Ee-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Te&&(e.e>Ju||e.e<-Ju))throw Error(iv+r)}else e.s=0,e.e=0,e.d=[0];return e}function we(e,t,r){var n,i,a,s,l,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Ee,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ee),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Ee,i=n-Ee+s}if(r!==void 0&&(a=zi(10,s-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/zi(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Ge(e),f.length=1,t=t-a-1,f[0]=zi(10,(Ee-t%Ee)%Ee),e.e=zs(-t/Ee)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=zi(10,Ee-n),f[d]=i>0?(u/zi(10,s-i)%zi(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==st&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=st)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Te&&(e.e>Ju||e.e<-Ju))throw Error(iv+Ge(e));return e}function QN(e,t){var r,n,i,a,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Te?we(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Ee),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=st-1;--c[a],c[i]+=st}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Te?we(t,m):t):new h(0)}function fa(e,t,r){var n,i=Ge(e),a=en(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Jn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Jn(-i-1)+a,r&&(n=r-s)>0&&(a+=Jn(n))):i>=s?(a+=Jn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Jn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Jn(n))),e.s<0?"-"+a:a}function dw(e,t){if(e.length>t)return e.length=t,!0}function JN(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ta+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return uw(s,a.toString())}else if(typeof a!="string")throw Error(ta+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,U8.test(a))uw(s,a);else throw Error(ta+a)}if(i.prototype=ee,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=JN,i.config=i.set=B8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function B8(e){if(!e||typeof e!="object")throw Error(Er+"Object expected");var t,r,n,i=["precision",1,Rs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(zs(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ta+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ta+r+": "+n);return this}var av=JN(z8);Jt=new av(1);const xe=av;var F8=e=>e,XN={"@@functional/placeholder":!0},ZN=e=>e===XN,fw=e=>function t(){return arguments.length===0||arguments.length===1&&ZN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},eS=(e,t)=>e===1?t:fw(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==XN).length;return a>=e?t(...n):eS(e-a,fw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>ZN(d)?l.shift():d);return t(...u,...l)}))}),sf=e=>eS(e.length,e),Cp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},W8=sf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),q8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return F8;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((l,c)=>c(l),a(...arguments))}},Pp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),tS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,l)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function rS(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function nS(e,t,r){for(var n=new xe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}sf((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});sf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});sf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var iS=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},aS=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=rS(e.toNumber()),i=new xe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new xe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?new xe(c.toNumber()):new xe(Math.ceil(c.toNumber()))},V8=(e,t,r)=>{var n=new xe(1),i=new xe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new xe(10).pow(rS(e)-1),i=new xe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new xe(Math.floor(e)))}else e===0?i=new xe(Math.floor((t-1)/2)):r||(i=new xe(Math.floor(e)));var s=Math.floor((t-1)/2),l=q8(W8(c=>i.add(new xe(c-s).mul(n)).toNumber()),Cp);return l(0,t)},sS=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var s=aS(new xe(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new xe(0):(l=new xe(t).add(r).div(2),l=l.sub(new xe(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new xe(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?sS(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new xe(c).mul(s)),tickMax:l.add(new xe(u).mul(s))})};function H8(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,l]=iS([t,r]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...Cp(0,n-1).map(()=>1/0)]:[...Cp(0,n-1).map(()=>-1/0),l];return t>r?Pp(c):c}if(s===l)return V8(s,n,i);var{step:u,tickMin:d,tickMax:f}=sS(s,l,a,i,0),h=nS(d,f.add(new xe(.1).mul(u)),u);return t>r?Pp(h):h}function K8(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=iS([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var l=Math.max(t,2),c=aS(new xe(s).sub(a).div(l-1),i,0),u=[...nS(new xe(a),new xe(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Pp(u):u}var G8=tS(H8),Y8=tS(K8),Q8=e=>e.rootProps.barCategoryGap,of=e=>e.rootProps.stackOffset,sv=e=>e.options.chartName,ov=e=>e.rootProps.syncId,oS=e=>e.rootProps.syncMethod,lv=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Yt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},lf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},J8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},X8={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,ticks:void 0,type:Yt.type,unit:void 0},Z8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ez={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,ticks:void 0,type:"category",unit:void 0},cv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Z8:J8,uv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ez:X8,cf=e=>e.polarOptions,dv=$([Rn,zn,jt],XI),lS=$([cf,dv],(e,t)=>{if(e!=null)return yi(e.innerRadius,t,0)}),cS=$([cf,dv],(e,t)=>{if(e!=null)return yi(e.outerRadius,t,t*.8)}),tz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},uS=$([cf],tz);$([cv,uS],lf);var dS=$([dv,lS,cS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});$([uv,dS],lf);var fS=$([Oe,cf,lS,cS,Rn,zn],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:yi(s,i,i/2),cy:yi(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ye=(e,t)=>t,uf=(e,t,r)=>r;function hS(e){return e==null?void 0:e.id}var nt=e=>{var t=Oe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Us=e=>e.tooltip.settings.axisId,ft=e=>{var t=nt(e),r=Us(e);return zl(e,t,r)},mS=$([ft],e=>e==null?void 0:e.dataKey);function pS(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=hS(l);u.forEach((f,h)=>{var m=a==null||i?h:String(It(f,a,null)),y=It(f,l.dataKey,0),b;s.has(m)?b=s.get(m):b={},Object.assign(b,{[d]:y}),s.set(m,b)})}}),Array.from(s.values())}function fv(e){return e.stackId!=null&&e.dataKey!=null}function hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hw(Object(r),!0).forEach(function(n){rz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Op=[0,"auto"],Ht={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gS=(e,t)=>e.cartesianAxis.xAxis[t],Bn=(e,t)=>{var r=gS(e,t);return r??Ht},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Op,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Il},vS=(e,t)=>e.cartesianAxis.yAxis[t],Fn=(e,t)=>{var r=vS(e,t);return r??Kt},az={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??az},Vt=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);case"zAxis":return hv(e,r);case"angleAxis":return cv(e,r);case"radiusAxis":return uv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sz=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zl=(e,t,r)=>{switch(t){case"xAxis":return Bn(e,r);case"yAxis":return Fn(e,r);case"angleAxis":return cv(e,r);case"radiusAxis":return uv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var bS=e=>e.graphicalItems.cartesianItems,oz=$([Ye,uf],xS),wS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ul=$([bS,Vt,oz],wS),jS=$([Ul],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(fv)),_S=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kS=$([Ul],_S),NS=e=>e.map(t=>t.data).filter(Boolean).flat(1),lz=$([Ul],NS),SS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},mv=$([lz,nv],SS),ES=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:It(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:It(i,n)}))):e.map(n=>({value:n})),df=$([mv,Vt,Ul],ES);function CS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function _a(e){return e.filter(t=>sn(t)||t instanceof Date).map(Number).filter(t=>Nr(t)===!1)}function cz(e,t,r){return!r||typeof t!="number"||Nr(t)?[]:r.length?_a(r.flatMap(n=>{var i=It(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Hr(a)||!Hr(s)))return[t-a,t+s]})):[]}var uz=$([jS,nv,ft],pS),PS=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,l]=a,c=l.map(hS);return[s,{stackedData:hD(e,c,r),graphicalItems:l}]}))},dz=$([uz,jS,of],PS),OS=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=gD(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},fz=$([dz,Pi,Ye],OS),AS=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var l,c,u=(l=n[s.id])===null||l===void 0?void 0:l.filter(f=>CS(i,f)),d=It(a,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:cz(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:It(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),ff=e=>e.errorBars,TS=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>CS(r,n));$([kS,ff,Ye],TS);var hz=$([mv,Vt,kS,ff,Ye],AS);function mz(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var mw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=_a(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pz=(e,t,r)=>{var n=e.map(mz).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&__(n))?fN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pv=e=>{var t;if(e==null||!("domain"in e))return Op;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=_a(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Op},Zu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},MS=e=>e.referenceElements.dots,Bs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),gz=$([MS,Ye,uf],Bs),IS=e=>e.referenceElements.areas,vz=$([IS,Ye,uf],Bs),DS=e=>e.referenceElements.lines,yz=$([DS,Ye,uf],Bs),LS=(e,t)=>{var r=_a(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xz=$(gz,Ye,LS),$S=(e,t)=>{var r=_a(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bz=$([vz,Ye],$S),RS=(e,t)=>{var r=_a(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wz=$(yz,Ye,RS),jz=$(xz,wz,bz,(e,t,r)=>Zu(e,r,t)),_z=$([Vt],pv),zS=(e,t,r,n,i,a,s)=>{var l=$8(t,e.allowDataOverflow);if(l!=null)return l;var c=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=c?Zu(r,i,mw(n)):Zu(i,mw(n));return R8(t,u,e.allowDataOverflow)},kz=$([Vt,_z,fz,hz,jz,Oe,Ye],zS),Nz=[0,1],US=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=Si(t,a);return u&&l==null?fN(0,r.length):c==="category"?pz(n,e,u):i==="expand"?Nz:s}},gv=$([Vt,Oe,mv,df,of,Ye,kz],US),BS=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var l="scale".concat(Al(a));return l in yo?l:"point"}}},Bl=$([Vt,Oe,yS,sv,Ye],BS);function Sz(e){if(e!=null){if(e in yo)return yo[e]();var t="scale".concat(Al(e));if(t in yo)return yo[t]()}}function vv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Sz(t);if(i!=null){var a=i.domain(r).range(n);return cD(a),a}}}var FS=(e,t,r)=>{var n=pv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ss(e))return G8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ss(e))return Y8(e,t.tickCount,t.allowDecimals)}},yv=$([gv,zl,Bl],FS),WS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ss(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],l=r[r.length-1];return[Math.min(i,a),Math.max(s,l)]}return t},Ez=$([Vt,gv,yv,Ye],WS),Cz=$(df,Vt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(_a(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),qS=$(Cz,Oe,Q8,jt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Hr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=yi(r,e*a),l=e*a/2;return l-s-(l-s)/a*s}return 0}),Pz=(e,t)=>{var r=Bn(e,t);return r==null||typeof r.padding!="string"?0:qS(e,"xAxis",t,r.padding)},Oz=(e,t)=>{var r=Fn(e,t);return r==null||typeof r.padding!="string"?0:qS(e,"yAxis",t,r.padding)},Az=$(Bn,Pz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Tz=$(Fn,Oz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Mz=$([jt,Az,Jd,Qd,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Iz=$([jt,Oe,Tz,Jd,Qd,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Fl=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Mz(e,r,n);case"yAxis":return Iz(e,r,n);case"zAxis":return(i=hv(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return uS(e);case"radiusAxis":return dS(e,r);default:return}},VS=$([Vt,Fl],lf),Fs=$([Vt,Bl,Ez,VS],vv);$([Ul,ff,Ye],TS);function HS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var hf=(e,t)=>t,mf=(e,t,r)=>r,Dz=$(Gd,hf,mf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HS)),Lz=$(Yd,hf,mf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(HS)),KS=(e,t)=>({width:e.width,height:t.height}),$z=(e,t)=>{var r=typeof t.width=="number"?t.width:Il;return{width:r,height:e.height}},Rz=$(jt,Bn,KS),zz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Uz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Bz=$(zn,jt,Dz,hf,mf,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=KS(t,l);s==null&&(s=zz(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),Fz=$(Rn,jt,Lz,hf,mf,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=$z(t,l);s==null&&(s=Uz(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),Wz=(e,t)=>{var r=Bn(e,t);if(r!=null)return Bz(e,r.orientation,r.mirror)},qz=$([jt,Bn,Wz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Vz=(e,t)=>{var r=Fn(e,t);if(r!=null)return Fz(e,r.orientation,r.mirror)},Hz=$([jt,Fn,Vz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Kz=$(jt,Fn,(e,t)=>{var r=typeof t.width=="number"?t.width:Il;return{width:r,height:e.height}}),GS=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,l=Si(e,n),c=t.map(u=>u.value);if(s&&l&&a==="category"&&i&&__(c))return c}},xv=$([Oe,df,Vt,Ye],GS),YS=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Si(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},bv=$([Oe,df,zl,Ye],YS),pw=$([Oe,sz,Bl,Fs,xv,bv,Fl,yv,Ye],(e,t,r,n,i,a,s,l,c)=>{if(t==null)return null;var u=Si(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}),Gz=(e,t,r,n,i,a,s,l,c)=>{if(!(t==null||n==null)){var u=Si(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&a!=null&&a.length>=2?xr(a[0]-a[1])*2*y:y;var b=f||i;if(b){var w=b.map((x,g)=>{var p=s?s.indexOf(x):x;return{index:g,coordinate:n(p)+y,value:x,offset:y}});return w.filter(x=>!Nr(x.coordinate))}return u&&l?l.map((x,g)=>({coordinate:n(x)+y,value:x,index:g,offset:y})):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+y,value:x,offset:y})):n.domain().map((x,g)=>({coordinate:n(x)+y,value:s?s[x]:x,index:g,offset:y}))}},QS=$([Oe,zl,Bl,Fs,yv,Fl,xv,bv,Ye],Gz),Yz=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Si(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?xr(n[0]-n[1])*2*u:u,l&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},JS=$([Oe,zl,Fs,Fl,xv,bv,Ye],Yz),XS=$(Vt,Fs,(e,t)=>{if(!(e==null||t==null))return Xu(Xu({},e),{},{scale:t})}),Qz=$([Vt,Bl,gv,VS],vv);$((e,t,r)=>hv(e,r),Qz,(e,t)=>{if(!(e==null||t==null))return Xu(Xu({},e),{},{scale:t})});var Jz=$([Oe,Gd,Yd],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ZS=e=>e.options.defaultTooltipEventType,eE=e=>e.options.validateTooltipEventTypes;function tE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function wv(e,t){var r=ZS(e),n=eE(e);return tE(t,r,n)}function Xz(e){return ie(t=>wv(t,e))}var rE=(e,t)=>{var r,n=Number(t);if(!(Nr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Zz=e=>e.tooltip.settings,ri={active:!1,index:null,dataKey:void 0,coordinate:void 0},e7={itemInteraction:{click:ri,hover:ri},axisInteraction:{click:ri,hover:ri},keyboardInteraction:ri,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},nE=or({name:"tooltip",initialState:e7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=kn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:t7,removeTooltipEntrySettings:r7,setTooltipSettingsState:n7,setActiveMouseOverItemIndex:i7,mouseLeaveItem:Wq,mouseLeaveChart:iE,setActiveClickItemIndex:qq,setMouseOverAxisIndex:aE,setMouseClickAxisIndex:a7,setSyncInteraction:Ap,setKeyboardInteraction:Tp}=nE.actions,s7=nE.reducer;function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){o7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o7(e,t,r){return(t=l7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=c7(e,"string");return typeof t=="symbol"?t:t+""}function c7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function d7(e){return e.index!=null}var sE=(e,t,r,n)=>{if(t==null)return ri;var i=u7(e,t,r);if(i==null)return ri;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(d7(i)){if(a)return Oc(Oc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Oc(Oc({},ri),{},{coordinate:i.coordinate})},jv=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Hr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},oE=(e,t,r,n,i,a,s,l)=>{if(!(a==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},lE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},Wl=e=>e.options.tooltipPayloadSearcher,Ws=e=>e.tooltip;function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){f7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f7(e,t,r){return(t=h7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=m7(e,"string");return typeof t=="symbol"?t:t+""}function m7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p7(e,t){return e??t}var cE=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:b,settings:w}=m,x=p7(b,l),g=Array.isArray(x)?Hk(x,u,d):x,p=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n,j=w==null?void 0:w.nameKey,_;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&s==="axis"?_=k_(g,n,i):_=a(g,t,c,j),Array.isArray(_))_.forEach(k=>{var E=yw(yw({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(ab({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:It(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(ab({tooltipEntrySettings:w,dataKey:p,payload:_,value:It(_,p),name:(N=It(_,j))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},_v=$([ft,Oe,yS,sv,nt],BS),g7=$([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),v7=$([nt,Us],xS),ql=$([g7,ft,v7],wS),y7=$([ql],e=>e.filter(fv)),x7=$([ql],NS),qs=$([x7,Pi],SS),b7=$([y7,Pi,ft],pS),kv=$([qs,ft,ql],ES),w7=$([ft],pv),j7=$([ql],e=>e.filter(fv)),_7=$([b7,j7,of],PS),k7=$([_7,Pi,nt],OS),N7=$([ql],_S),S7=$([qs,ft,N7,ff,nt],AS),E7=$([MS,nt,Us],Bs),C7=$([E7,nt],LS),P7=$([IS,nt,Us],Bs),O7=$([P7,nt],$S),A7=$([DS,nt,Us],Bs),T7=$([A7,nt],RS),M7=$([C7,T7,O7],Zu),I7=$([ft,w7,k7,S7,M7,Oe,nt],zS),uE=$([ft,Oe,qs,kv,of,nt,I7],US),D7=$([uE,ft,_v],FS),L7=$([ft,uE,D7,nt],WS),dE=e=>{var t=nt(e),r=Us(e),n=!1;return Fl(e,t,r,n)},fE=$([ft,dE],lf),hE=$([ft,_v,L7,fE],vv),$7=$([Oe,kv,ft,nt],GS),R7=$([Oe,kv,ft,nt],YS),z7=(e,t,r,n,i,a,s,l)=>{if(t){var{type:c}=t,u=Si(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?xr(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Wn=$([Oe,ft,_v,hE,dE,$7,R7,nt],z7),Nv=$([ZS,eE,Zz],(e,t,r)=>tE(r.shared,e,t)),mE=e=>e.tooltip.settings.trigger,Sv=e=>e.tooltip.settings.defaultIndex,pf=$([Ws,Nv,mE,Sv],sE),pl=$([pf,qs],jv),pE=$([Wn,pl],rE),U7=$([pf],e=>{if(e)return e.dataKey}),gE=$([Ws,Nv,mE,Sv],lE),B7=$([Rn,zn,Oe,jt,Wn,Sv,gE,Wl],oE),F7=$([pf,B7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),W7=$([pf],e=>e.active),q7=$([gE,pl,Pi,mS,pE,Wl,Nv],cE),V7=$([q7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y7=()=>ie(ft),Q7=()=>{var e=Y7(),t=ie(Wn),r=ie(hE);return hp(bw(bw({},e),{},{scale:r}),t)},J7=()=>ie(sv),Ev=(e,t)=>t,vE=(e,t,r)=>r,Cv=(e,t,r,n)=>n,X7=$(Wn,e=>Fd(e,t=>t.coordinate)),Pv=$([Ws,Ev,vE,Cv],sE),yE=$([Pv,qs],jv),Z7=(e,t,r)=>{if(t!=null){var n=Ws(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},xE=$([Ws,Ev,vE,Cv],lE),ed=$([Rn,zn,Oe,jt,Wn,Cv,xE,Wl],oE),eU=$([Pv,ed],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),bE=$(Wn,yE,rE),tU=$([xE,yE,Pi,mS,bE,Wl,Ev],cE),rU=$([Pv],e=>({isActive:e.active,activeIndex:e.index})),nU=(e,t,r,n,i,a,s,l)=>{if(!(!e||!t||!n||!i||!a)){var c=vD(e.chartX,e.chartY,t,r,l);if(c){var u=xD(c,t),d=oD(u,s,a,n,i),f=yD(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mp.apply(null,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){iU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=sU(e,"string");return typeof t=="symbol"?t:t+""}function sU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oU(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=_L;else if(u==="BarChart")m=kL(s,d,i,a),y=t$;else if(s==="radial"){var{cx:b,cy:w,radius:x,startAngle:g,endAngle:p}=oN(d);m={cx:b,cy:w,startAngle:g,endAngle:p,innerRadius:x,outerRadius:x},y=a$}else m={points:s$(s,d,i)},y=tN;var j=typeof l=="object"&&"className"in l?l.className:void 0,_=Ac(Ac(Ac(Ac({stroke:"#ccc",pointerEvents:"none"},i),m),ut(l,!1)),{},{payload:f,payloadIndex:h,className:je("recharts-tooltip-cursor",j)});return v.isValidElement(l)?v.cloneElement(l,_):v.createElement(y,_)}function lU(e){var t=Q7(),r=Xk(),n=T0(),i=J7();return v.createElement(oU,Mp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var wE=v.createContext(null),cU=()=>v.useContext(wE),jE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],x=arguments.length,g,p;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,y),!0}for(p=1,g=new Array(x-1);p<x;p++)g[p-1]=arguments[p];w.fn.apply(w.context,g)}else{var j=w.length,_;for(p=0;p<j;p++)switch(w[p].once&&this.removeListener(u,w[p].fn,void 0,!0),x){case 1:w[p].fn.call(w[p].context);break;case 2:w[p].fn.call(w[p].context,d);break;case 3:w[p].fn.call(w[p].context,d,f);break;case 4:w[p].fn.call(w[p].context,d,f,h);break;default:if(!g)for(_=1,g=new Array(x-1);_<x;_++)g[_-1]=arguments[_];w[p].fn.apply(w[p].context,g)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var b=0,w=[],x=y.length;b<x;b++)(y[b].fn!==d||h&&!y[b].once||f&&y[b].context!==f)&&w.push(y[b]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(jE);var uU=jE.exports;const dU=xi(uU);var gl=new dU,Ip="recharts.syncEvent.tooltip",jw="recharts.syncEvent.brush";function fU(e,t){if(t){var r=Number.parseInt(t,10);if(!Nr(r))return e==null?void 0:e[r]}}var hU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_E=or({name:"options",initialState:hU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),mU=_E.reducer,{createEventEmitter:pU}=_E.actions;function gU(e){return e.tooltip.syncInteraction}var vU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},kE=or({name:"chartData",initialState:vU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_w,setDataStartEndIndexes:yU,setComputedData:Vq}=kE.actions,xU=kE.reducer,bU=["x","y"];function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){wU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wU(e,t,r){return(t=jU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=_U(e,"string");return typeof t=="symbol"?t:t+""}function _U(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kU(e,t){if(e==null)return{};var r,n,i=NU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NE=()=>{};function SU(){var e=ie(ov),t=ie(lv),r=wt(),n=ie(oS),i=ie(Wn),a=T0(),s=P0(),l=ie(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return NE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:y,y:b}=m,w=kU(m,bU),x=Mi(Mi(Mi({},w),typeof y=="number"&&{x:Math.max(s.x,Math.min(y,s.x+s.width))}),typeof b=="number"&&{y:Math.max(s.y,Math.min(b,s.y+s.height))}),g=Mi(Mi({},d),{},{payload:Mi(Mi({},d.payload),{},{coordinate:x})});r(g)}else r(d);return}if(i!=null){var p;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(i,j);p=i[_]}else n==="value"&&(p=i.find(I=>String(I.value)===d.payload.label));var{coordinate:N}=d.payload;if(p==null||d.payload.active===!1||N==null||s==null){r(Ap({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:E}=N,S=Math.min(k,s.x+s.width),C=Math.min(E,s.y+s.height),O={x:a==="horizontal"?p.coordinate:S,y:a==="horizontal"?C:p.coordinate},T=Ap({active:d.payload.active,coordinate:O,dataKey:d.payload.dataKey,index:String(p.index),label:d.payload.label});r(T)}}};return gl.on(Ip,c),()=>{gl.off(Ip,c)}},[l,r,t,e,n,i,a,s])}function EU(){var e=ie(ov),t=ie(lv),r=wt();v.useEffect(()=>{if(e==null)return NE;var n=(i,a,s)=>{t!==s&&e===i&&r(yU(a))};return gl.on(jw,n),()=>{gl.off(jw,n)}},[r,t,e])}function CU(){var e=wt();v.useEffect(()=>{e(pU())},[e]),SU(),EU()}function PU(e,t,r,n,i,a){var s=ie(h=>Z7(h,e,t)),l=ie(lv),c=ie(ov),u=ie(oS),d=ie(gU),f=d==null?void 0:d.active;v.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ap({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});gl.emit(Ip,c,h,l)}},[f,r,s,i,n,l,c,u,a])}function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){OU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OU(e,t,r){return(t=AU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=TU(e,"string");return typeof t=="symbol"?t:t+""}function TU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MU(e){return e.dataKey}function IU(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(tL,t)}var Ew=[],DU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ls.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function LU(e){var t=Pr(e,DU),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:y,cursor:b,shared:w,trigger:x,defaultIndex:g,portal:p,axisId:j}=t,_=wt(),N=typeof g=="number"?String(g):g;v.useEffect(()=>{_(n7({shared:w,trigger:x,axisId:j,active:r,defaultIndex:N}))},[_,w,x,j,r,N]);var k=P0(),E=eN(),S=Xz(w),{activeIndex:C,isActive:O}=ie(me=>rU(me,S,x,N)),T=ie(me=>tU(me,S,x,N)),I=ie(me=>bE(me,S,x,N)),R=ie(me=>eU(me,S,x,N)),J=T,Y=cU(),M=r??O,[L,P]=wk([J,M]),z=S==="axis"?I:void 0;PU(S,x,R,z,C,M);var F=p??Y;if(F==null)return null;var U=J??Ew;M||(U=Ew),l&&U.length&&(U=ck(J.filter(me=>me.value!=null&&(me.hide!==!0||t.includeHidden)),d,MU));var oe=U.length>0,ue=v.createElement(lL,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:M,coordinate:R,hasPayload:oe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:y,lastBoundingBox:L,innerRef:P,hasPortalFromProps:!!p},IU(s,Sw(Sw({},t),{},{payload:U,label:z,active:M,coordinate:R,accessibilityLayer:E})));return v.createElement(v.Fragment,null,Lg.createPortal(ue,F),M&&v.createElement(lU,{cursor:b,tooltipEventType:S,coordinate:R,payload:J,index:C}))}var SE={},EE={},CE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{y(),s=void 0,l=null},w=()=>{d()},x=function(...g){if(i!=null&&i.aborted)return;s=this,l=g;const p=h==null;m(),c&&p&&d()};return x.schedule=m,x.cancel=b,x.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),x}e.debounce=t})(CE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CE;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},y=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(EE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EE;function r(n,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:l})}e.throttle=r})(SE);var $U=SE.throttle;const RU=xi($U);var Mo=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function Cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cw(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=UU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=BU(e,"string");return typeof t=="symbol"?t:t+""}function BU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FU=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:y={}}=e,b=v.useRef(null),w=v.useRef();w.current=m,v.useImperativeHandle(t,()=>b.current);var[x,g]=v.useState({containerWidth:n.width,containerHeight:n.height}),p=v.useCallback((_,N)=>{g(k=>{var E=Math.round(_),S=Math.round(N);return k.containerWidth===E&&k.containerHeight===S?k:{containerWidth:E,containerHeight:S}})},[]);v.useEffect(()=>{var _=S=>{var C,{width:O,height:T}=S[0].contentRect;p(O,T),(C=w.current)===null||C===void 0||C.call(w,O,T)};d>0&&(_=RU(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:E}=b.current.getBoundingClientRect();return p(k,E),N.observe(b.current),()=>{N.disconnect()}},[p,d]);var j=v.useMemo(()=>{var{containerWidth:_,containerHeight:N}=x;if(_<0||N<0)return null;Mo(qi(i)||qi(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),Mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=qi(i)?_:i,E=qi(a)?N:a;return r&&r>0&&(k?E=k/r:E&&(k=E*r),c&&E>c&&(E=c)),Mo(k>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,i,a,s,l,r),v.Children.map(u,S=>v.cloneElement(S,{width:k,height:E,style:Ch({width:k,height:E},S.props.style)}))},[r,u,a,c,l,s,x,i]);return v.createElement("div",{id:f?"".concat(f):void 0,className:je("recharts-responsive-container",h),style:Ch(Ch({},y),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:b},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function WU(e,t,r){return(t=qU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HU{constructor(t){WU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){GU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GU(e,t,r){return(t=YU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JU={cacheSize:2e3,enableCache:!0},PE=KU({},JU),Ow=new HU(PE.cacheSize),XU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Aw="recharts_measurement_span";function ZU(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var Tw=(e,t)=>{try{var r=document.getElementById(Aw);r||(r=document.createElement("span"),r.setAttribute("id",Aw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,XU,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Io=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ls.isSsr)return{width:0,height:0};if(!PE.enableCache)return Tw(t,r);var n=ZU(t,r),i=Ow.get(n);if(i)return i;var a=Tw(t,r);return Ow.set(n,a),a},Mw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rB=Object.keys(OE),Ka="NaN";function nB(e,t){return e*OE[t]}class $t{static parse(t){var r,[,n,i]=(r=tB.exec(t))!==null&&r!==void 0?r:[];return new $t(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Nr(t)&&(this.unit=""),r!==""&&!eB.test(r)&&(this.num=NaN,this.unit=""),rB.includes(r)&&(this.num=nB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new $t(NaN,""):new $t(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new $t(NaN,""):new $t(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $t(NaN,""):new $t(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new $t(NaN,""):new $t(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nr(this.num)}}function AE(e){if(e.includes(Ka))return Ka;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=Mw.exec(t))!==null&&r!==void 0?r:[],s=$t.parse(n??""),l=$t.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Ka;t=t.replace(Mw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=Iw.exec(t))!==null&&u!==void 0?u:[],m=$t.parse(d??""),y=$t.parse(h??""),b=f==="+"?m.add(y):m.subtract(y);if(b.isNaN())return Ka;t=t.replace(Iw,b.toString())}return t}var Dw=/\(([^()]*)\)/;function iB(e){for(var t=e,r;(r=Dw.exec(t))!=null;){var[,n]=r;t=t.replace(Dw,AE(n))}return t}function aB(e){var t=e.replace(/\s+/g,"");return t=iB(t),t=AE(t),t}function sB(e){try{return aB(e)}catch{return Ka}}function Ph(e){var t=sB(e.slice(5,-1));return t===Ka?"":t}var oB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lB=["dx","dy","angle","className","breakAll"];function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(null,arguments)}function Lw(e,t){if(e==null)return{};var r,n,i=cB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TE=/[ \f\n\r\t\v\u2028\u2029]+/,ME=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ct(t)||(r?i=t.toString().split(""):i=t.toString().split(TE));var a=i.map(l=>({word:l,width:Io(l,n).width})),s=r?0:Io(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},uB=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=e,u=se(a),d=s,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((T,I)=>{var{word:R,width:J}=I,Y=T[T.length-1];if(Y&&(n==null||i||Y.width+J+r<Number(n)))Y.words.push(R),Y.width+=J+r;else{var M={words:[R],width:J};T.push(M)}return T},[])},h=f(t),m=C=>C.reduce((O,T)=>O.width>T.width?O:T);if(!u||i)return h;var y=h.length>a||m(h).width>Number(n);if(!y)return h;for(var b="…",w=C=>{var O=d.slice(0,C),T=ME({breakAll:c,style:l,children:O+b}).wordsWithComputedWidth,I=f(T),R=I.length>a||m(I).width>Number(n);return[R,I]},x=0,g=d.length-1,p=0,j;x<=g&&p<=d.length-1;){var _=Math.floor((x+g)/2),N=_-1,[k,E]=w(N),[S]=w(_);if(!k&&!S&&(x=_+1),k&&S&&(g=_-1),!k&&S){j=E;break}p++}return j||h},$w=e=>{var t=ct(e)?[]:e.toString().split(TE);return[{words:t}]},dB=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Ls.isSsr){var l,c,u=ME({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return $w(n);return uB({breakAll:a,children:n,maxLines:s,style:i},l,c,t,r)}return $w(n)},Rw="#808080",Ov=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=Rw}=e,d=Lw(e,oB),f=v.useMemo(()=>dB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:y,className:b,breakAll:w}=d,x=Lw(d,lB);if(!sn(r)||!sn(n)||f.length===0)return null;var g=r+(se(h)?h:0),p=n+(se(m)?m:0),j;switch(c){case"start":j=Ph("calc(".concat(a,")"));break;case"middle":j=Ph("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=Ph("calc(".concat(f.length-1," * -").concat(i,")"));break}var _=[];if(s){var N=f[0].width,{width:k}=d;_.push("scale(".concat(se(k)?k/N:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(g,", ").concat(p,")")),_.length&&(x.transform=_.join(" ")),v.createElement("text",Dp({},ut(x,!0),{ref:t,x:g,y:p,className:je("recharts-text",b),textAnchor:l,fill:u.includes("url")?Rw:u}),f.map((E,S)=>{var C=E.words.join(w?"":" ");return v.createElement("tspan",{x:g,dy:S===0?j:i,key:"".concat(C,"-").concat(S)},C)}))});Ov.displayName="Text";var fB=["labelRef"];function hB(e,t){if(e==null)return{};var r,n,i=mB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zw(Object(r),!0).forEach(function(n){pB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pB(e,t,r){return(t=gB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gB(e){var t=vB(e,"string");return typeof t=="symbol"?t:t+""}function vB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(null,arguments)}var IE=v.createContext(null),yB=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=v.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return v.createElement(IE.Provider,{value:s},a)},DE=()=>{var e=v.useContext(IE),t=P0();return e||t},xB=v.createContext(null),bB=()=>{var e=v.useContext(xB),t=ie(fS);return e||t},wB=e=>{var{value:t,formatter:r}=e,n=ct(e.children)?t:e.children;return typeof r=="function"?r(n):n},Av=e=>e!=null&&typeof e=="function",jB=(e,t)=>{var r=xr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_B=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,y=(u+d)/2,b=jB(f,h),w=b>=0?1:-1,x,g;switch(t){case"insideStart":x=f+w*a,g=m;break;case"insideEnd":x=h-w*a,g=!m;break;case"end":x=h+w*a,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=b<=0?g:!g;var p=yt(l,c,y,x),j=yt(l,c,y,x+(g?1:-1)*359),_="M".concat(p.x,",").concat(p.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(g?0:1,`,
    `).concat(j.x,",").concat(j.y),N=ct(e.id)?sl("recharts-radial-line-"):e.id;return v.createElement("text",vn({},n,{dominantBaseline:"central",className:je("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:_})),v.createElement("textPath",{xlinkHref:"#".concat(N)},r))},kB=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=yt(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y}=yt(n,i,h,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},LE=e=>"cx"in e&&se(e.cx),NB=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!LE(r)&&(a=r);var{x:s,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,b=y*n,w=y>0?"end":"start",x=y>0?"start":"end";if(i==="top"){var g={x:s+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Fe(Fe({},g),a?{height:Math.max(l-a.y,0),width:c}:{})}if(i==="bottom"){var p={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Fe(Fe({},p),a?{height:Math.max(a.y+a.height-(l+u),0),width:c}:{})}if(i==="left"){var j={x:s-b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Fe(Fe({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var _={x:s+c+b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"};return Fe(Fe({},_),a?{width:Math.max(a.x+a.width-_.x,0),height:u}:{})}var N=a?{width:c,height:u}:{};return i==="insideLeft"?Fe({x:s+b,y:l+u/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideRight"?Fe({x:s+c-b,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideTop"?Fe({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},N):i==="insideBottom"?Fe({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},N):i==="insideTopLeft"?Fe({x:s+b,y:l+f,textAnchor:x,verticalAnchor:m},N):i==="insideTopRight"?Fe({x:s+c-b,y:l+f,textAnchor:w,verticalAnchor:m},N):i==="insideBottomLeft"?Fe({x:s+b,y:l+u-f,textAnchor:x,verticalAnchor:h},N):i==="insideBottomRight"?Fe({x:s+c-b,y:l+u-f,textAnchor:w,verticalAnchor:h},N):i&&typeof i=="object"&&(se(i.x)||qi(i.x))&&(se(i.y)||qi(i.y))?Fe({x:s+yi(i.x,c),y:l+yi(i.y,u),textAnchor:"end",verticalAnchor:"end"},N):Fe({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},SB={offset:5};function Xn(e){var t=Pr(e,SB),{viewBox:r,position:n,value:i,children:a,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=bB(),f=DE(),h=n==="center"?f:d??f,m=r||h;if(!m||ct(i)&&ct(a)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Fe(Fe({},t),{},{viewBox:m});if(v.isValidElement(s)){var b=hB(y,fB);return v.cloneElement(s,b)}var w;if(typeof s=="function"){if(w=v.createElement(s,y),v.isValidElement(w))return w}else w=wB(t);var x=LE(m),g=ut(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return _B(t,n,w,g,m);var p=x?kB(m,t.offset,t.position):NB(t,m);return v.createElement(Ov,vn({ref:u,className:je("recharts-label",l)},g,p,{breakAll:c}),w)}Xn.displayName="Label";var EB=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(Xn,vn({key:"label-implicit"},n)):sn(e)?v.createElement(Xn,vn({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===Xn?v.cloneElement(e,Fe({key:"label-implicit"},n)):v.createElement(Xn,vn({key:"label-implicit",content:e},n)):Av(e)?v.createElement(Xn,vn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(Xn,vn({},e,{key:"label-implicit"},n)):null};function CB(e){var{label:t}=e,r=DE();return EB(t,r)||null}var $E={},RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(RE);var zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(zE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RE,r=zE,n=Ud;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})($E);var PB=$E.last;const OB=xi(PB);var AB=["valueAccessor"],TB=["dataKey","clockWise","id","textBreakAll"];function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(null,arguments)}function Uw(e,t){if(e==null)return{};var r,n,i=MB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IB=e=>Array.isArray(e.value)?OB(e.value):e.value,UE=v.createContext(void 0),DB=UE.Provider,BE=v.createContext(void 0);BE.Provider;function LB(){return v.useContext(UE)}function $B(){return v.useContext(BE)}function Gc(e){var{valueAccessor:t=IB}=e,r=Uw(e,AB),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,l=Uw(r,TB),c=LB(),u=$B(),d=c||u;return!d||!d.length?null:v.createElement(Ds,{className:"recharts-label-list"},d.map((f,h)=>{var m,y=ct(n)?t(f,h):It(f&&f.payload,n),b=ct(a)?{}:{id:"".concat(a,"-").concat(h)};return v.createElement(Xn,td({},ut(f,!0),l,b,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Gc.displayName="LabelList";function RB(e){var{label:t}=e;return t?t===!0?v.createElement(Gc,{key:"labelList-implicit"}):v.isValidElement(t)||Av(t)?v.createElement(Gc,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(Gc,td({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(null,arguments)}var FE=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=je("recharts-dot",i);return t===+t&&r===+r&&n===+n?v.createElement("circle",Lp({},ba(e),a0(e),{className:a,cx:t,cy:r,r:n})):null},zB={radiusAxis:{},angleAxis:{}},UB=or({name:"polarAxis",initialState:zB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),BB=UB.reducer;function FB(e){var{fn:t,args:r}=e,n=wt(),i=Cr();return v.useEffect(()=>{if(!i){var a=t(r);return n(t7(a)),()=>{n(r7(a))}}},[t,r,n,i]),null}var WB=()=>{};function qB(e){var{legendPayload:t}=e,r=wt(),n=Cr();return v.useEffect(()=>n?WB:(r($D(t)),()=>{r(RD(t))}),[r,n,t]),null}var Oh,VB=()=>{var[e]=v.useState(()=>sl("uid-"));return e},HB=(Oh=IC.useId)!==null&&Oh!==void 0?Oh:VB;function KB(e,t){var r=HB();return t||(e?"".concat(e,"-").concat(r):r)}var GB=v.createContext(void 0),YB=e=>{var{id:t,type:r,children:n}=e,i=KB("recharts-".concat(r),t);return v.createElement(GB.Provider,{value:i},n(i))},QB={cartesianItems:[],polarItems:[]},WE=or({name:"graphicalItems",initialState:QB,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=kn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=kn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=kn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:JB,replaceCartesianGraphicalItem:XB,removeCartesianGraphicalItem:ZB,addPolarGraphicalItem:Hq,removePolarGraphicalItem:Kq}=WE.actions,eF=WE.reducer;function tF(e){var t=wt(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(JB(e)):r.current!==e&&t(XB({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(ZB(r.current)),r.current=null)},[t]),null}function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){rF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=iF(e,"string");return typeof t=="symbol"?t:t+""}function iF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aF={xAxis:{},yAxis:{},zAxis:{}},qE=or({name:"cartesianAxis",initialState:aF,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Fw(Fw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:sF,removeXAxis:oF,addYAxis:lF,removeYAxis:cF,addZAxis:Gq,removeZAxis:Yq,updateYAxisWidth:uF}=qE.actions,dF=qE.reducer,fF=$([jt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hF=$([fF,Rn,zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Tv=()=>ie(hF),mF=()=>ie(V7);function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return(t=gF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gF(e){var t=vF(e,"string");return typeof t=="symbol"?t:t+""}function vF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=qw(qw({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ut(i,!1)),a0(i)),l;return v.isValidElement(i)?l=v.cloneElement(i,s):typeof i=="function"?l=i(s):l=v.createElement(FE,s),v.createElement(Ds,{className:"recharts-active-dot"},l)};function xF(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ie(pl),s=mF();if(t==null||s==null)return null;var l=t.find(c=>s.includes(c.payload));return ct(l)?null:yF({point:l,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var bF={},wF=or({name:"errorBars",initialState:bF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),jF=wF.reducer,_F=["children"];function kF(e,t){if(e==null)return{};var r,n,i=NF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},EF=v.createContext(SF);function CF(e){var{children:t}=e,r=kF(e,_F);return v.createElement(EF.Provider,{value:r},t)}function VE(e,t){var r,n,i=ie(u=>Bn(u,e)),a=ie(u=>Fn(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ht.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Kt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function PF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Tv(),{needClipX:a,needClipY:s,needClip:l}=VE(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var OF=e=>{var{chartData:t}=e,r=wt(),n=Cr();return v.useEffect(()=>n?()=>{}:(r(_w(t)),()=>{r(_w(void 0))}),[t,r,n]),null},Vw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},AF=or({name:"brush",initialState:Vw,reducers:{setBrushSettings(e,t){return t.payload==null?Vw:t.payload}}}),TF=AF.reducer;function MF(e,t,r){return(t=IF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IF(e){var t=DF(e,"string");return typeof t=="symbol"?t:t+""}function DF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mv{static create(t){return new Mv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}MF(Mv,"EPS",1e-4);function LF(e){return(e%180+180)%180}var $F=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=LF(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},RF={dots:[],areas:[],lines:[]},zF=or({name:"referenceElements",initialState:RF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=kn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=kn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=kn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),UF=zF.reducer,BF=v.createContext(void 0),FF=e=>{var{children:t}=e,[r]=v.useState("".concat(sl("recharts"),"-clip")),n=Tv();if(n==null)return null;var{x:i,y:a,width:s,height:l}=n;return v.createElement(BF.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:a,height:l,width:s}))),t)};function Es(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function HE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function WF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return $F(n,r)}function qF(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:l}=e;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function rd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function VF(e,t){return HE(e,t+1)}function HF(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:HE(n,u)};var b=c,w,x=()=>(w===void 0&&(w=r(y,b)),w),g=y.coordinate,p=c===0||rd(e,g,x,d,l);p||(c=0,d=s,u+=1),p&&(d=g+e*(x()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){KF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=YF(e,"string");return typeof t=="symbol"?t:t+""}function YF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QF(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:l}=t,{end:c}=t,u=function(h){var m=a[h],y,b=()=>(y===void 0&&(y=r(m,h)),y);if(h===s-1){var w=e*(m.coordinate+e*b()/2-c);a[h]=m=Nt(Nt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[h]=m=Nt(Nt({},m),{},{tickCoord:m.coordinate});var x=rd(e,m.tickCoord,b,l,c);x&&(c=m.tickCoord-e*(b()/2+i),a[h]=Nt(Nt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function JF(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Nt(Nt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=rd(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),s[l-1]=Nt(Nt({},d),{},{isShow:!0}))}for(var y=a?l-1:l,b=function(g){var p=s[g],j,_=()=>(j===void 0&&(j=r(p,g)),j);if(g===0){var N=e*(p.coordinate-e*_()/2-c);s[g]=p=Nt(Nt({},p),{},{tickCoord:N<0?p.coordinate-N*e:p.coordinate})}else s[g]=p=Nt(Nt({},p),{},{tickCoord:p.coordinate});var k=rd(e,p.tickCoord,_,c,u);k&&(c=p.tickCoord+e*(_()/2+i),s[g]=Nt(Nt({},p),{},{isShow:!0}))},w=0;w<y;w++)b(w);return s}function Iv(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(se(c)||Ls.isSsr){var h;return(h=VF(i,se(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",b=d&&y==="width"?Io(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(p,j)=>{var _=typeof u=="function"?u(p.value,j):p.value;return y==="width"?WF(Io(_,{fontSize:t,letterSpacing:r}),b,f):Io(_,{fontSize:t,letterSpacing:r})[y]},x=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,g=qF(a,x,y);return c==="equidistantPreserveStart"?HF(x,g,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=JF(x,g,w,i,s,c==="preserveStartEnd"):m=QF(x,g,w,i,s),m.filter(p=>p.isShow))}var XF=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+l+(r?n:0);return Math.round(u)}return 0},ZF=["axisLine","width","height","className","hide","ticks"],e9=["viewBox"],t9=["viewBox"];function $p(e,t){if(e==null)return{};var r,n,i=r9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(null,arguments)}function Kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kw(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=i9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function s9(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Ze(Ze(Ze({},c),ut(l,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Ze(Ze({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Ze(Ze({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return v.createElement("line",ha({},u,{className:je("recharts-cartesian-axis-line",Ld(l,"className"))}))}function o9(e,t,r,n,i,a,s,l,c){var u,d,f,h,m,y,b=l?-1:1,w=e.tickSize||s,x=se(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!l*i,f=h-b*w,y=f-b*c,m=x;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-b*w,m=u-b*c,y=x;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+b*w,m=u+b*c,y=x;break;default:u=d=e.coordinate,h=r+ +l*i,f=h+b*w,y=f+b*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y}}}function l9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function c9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function u9(e){var{option:t,tickProps:r,value:n}=e,i,a=je(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,Ze(Ze({},r),{},{className:a}));else if(typeof t=="function")i=t(Ze(Ze({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=je(s,t==null?void 0:t.className)),i=v.createElement(Ov,ha({},r,{className:s}),n)}return i}function d9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:y,tickSize:b,tickMargin:w,fontSize:x,letterSpacing:g,getTicksConfig:p,events:j}=e,_=Iv(Ze(Ze({},p),{},{ticks:t}),x,g),N=l9(u,d),k=c9(u,d),E=ba(p),S=ut(r,!1),C=Ze(Ze({},E),{},{fill:"none"},ut(n,!1)),O=_.map((T,I)=>{var{line:R,tick:J}=o9(T,f,h,m,y,u,b,d,w),Y=Ze(Ze(Ze(Ze({textAnchor:N,verticalAnchor:k},E),{},{stroke:"none",fill:i},S),J),{},{index:I,payload:T,visibleTicksCount:_.length,tickFormatter:a,padding:l},c);return v.createElement(Ds,ha({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},N_(j,T,I)),n&&v.createElement("line",ha({},C,R,{className:je("recharts-cartesian-axis-tick-line",Ld(n,"className"))})),r&&v.createElement(u9,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(T.value,I):T.value).concat(s||"")}))});return O.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}var f9=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:l}=e,c=$p(e,ZF),[u,d]=v.useState(""),[f,h]=v.useState(""),m=v.useRef([]);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return XF({ticks:m.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var x=w[0];if(x){var g=window.getComputedStyle(x),p=g.fontSize,j=g.letterSpacing;(p!==u||j!==f)&&(d(p),h(j))}}},[u,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:v.createElement(Ds,{className:je("recharts-cartesian-axis",a),ref:y},v.createElement(s9,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ba(e)}),v.createElement(d9,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),v.createElement(yB,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement(CB,{label:e.label}),e.children))}),h9=v.memo(f9,(e,t)=>{var{viewBox:r}=e,n=$p(e,e9),{viewBox:i}=t,a=$p(t,t9);return Es(r,i)&&Es(n,a)}),Lv=v.forwardRef((e,t)=>{var r=Pr(e,Dv);return v.createElement(h9,ha({},r,{ref:t}))});Lv.displayName="CartesianAxis";var m9=["x1","y1","x2","y2","key"],p9=["offset"],g9=["xAxisId","yAxisId"],v9=["xAxisId","yAxisId"];function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ki.apply(null,arguments)}function nd(e,t){if(e==null)return{};var r,n,i=w9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:l}=e;return v.createElement("rect",{x:n,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function KE(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:l}=t,c=nd(t,m9),u=ba(c),d=nd(u,p9);r=v.createElement("line",Ki({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function _9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=nd(e,g9),s=i.map((l,c)=>{var u=Et(Et({},a),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return KE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function k9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=nd(e,v9),s=i.map((l,c)=>{var u=Et(Et({},a),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return KE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function N9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?i+s-f:u[h+1]-f;if(y<=0)return null;var b=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function S9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?i+s-f:u[h+1]-f;if(y<=0)return null;var b=h%r.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var E9=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Kk(Iv(Et(Et(Et({},Dv),r),{},{ticks:Gk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},C9=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Kk(Iv(Et(Et(Et({},Dv),r),{},{ticks:Gk(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},P9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function GE(e){var t=O0(),r=A0(),n=Xk(),i=Et(Et({},Pr(e,P9)),{},{x:se(e.x)?e.x:n.left,y:se(e.y)?e.y:n.top,width:se(e.width)?e.width:n.width,height:se(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,y=Cr(),b=ie(S=>pw(S,"xAxis",a,y)),w=ie(S=>pw(S,"yAxis",s,y));if(!se(u)||u<=0||!se(d)||d<=0||!se(l)||l!==+l||!se(c)||c!==+c)return null;var x=i.verticalCoordinatesGenerator||E9,g=i.horizontalCoordinatesGenerator||C9,{horizontalPoints:p,verticalPoints:j}=i;if((!p||!p.length)&&typeof g=="function"){var _=h&&h.length,N=g({yAxis:w?Et(Et({},w),{},{ticks:_?h:w.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Mo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(p=N)}if((!j||!j.length)&&typeof x=="function"){var k=m&&m.length,E=x({xAxis:b?Et(Et({},b),{},{ticks:k?m:b.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Mo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(j9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(N9,Ki({},i,{horizontalPoints:p})),v.createElement(S9,Ki({},i,{verticalPoints:j})),v.createElement(_9,Ki({},i,{offset:n,horizontalPoints:p,xAxis:b,yAxis:w})),v.createElement(k9,Ki({},i,{offset:n,verticalPoints:j,xAxis:b,yAxis:w})))}GE.displayName="CartesianGrid";var YE=(e,t,r,n)=>XS(e,"xAxis",t,n),QE=(e,t,r,n)=>JS(e,"xAxis",t,n),JE=(e,t,r,n)=>XS(e,"yAxis",r,n),XE=(e,t,r,n)=>JS(e,"yAxis",r,n),O9=$([Oe,YE,JE,QE,XE],(e,t,r,n,i)=>Si(e,"xAxis")?hp(t,n,!1):hp(r,i,!1)),A9=(e,t,r,n,i)=>i;function T9(e){return e.type==="line"}var M9=$([bS,A9],(e,t)=>e.filter(T9).find(r=>r.id===t)),I9=$([Oe,YE,JE,QE,XE,M9,O9,nv],(e,t,r,n,i,a,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return rW({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}}),D9=["id"],L9=["type","layout","connectNulls","needClip"],$9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yw(Object(r),!0).forEach(function(n){R9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $v(e,t){if(e==null)return{};var r,n,i=B9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}var F9=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Yk(r,t),payload:e}]};function W9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Yk(s,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var ZE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function q9(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var V9=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return ZE(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){l=[...r.slice(0,c),a-u];break}var d=l.length%2===0?[0,s]:[s];return[...q9(r,i),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function H9(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=je("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(FE,ma({},t,{className:n}))}return r}function K9(e,t){return e==null?!1:t?!0:e.length===1}function G9(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!K9(r,i))return null;var l=$v(n,D9),c=E_(i),u=ba(l),d=ut(i,!0),f=r.map((m,y)=>{var b=Qt(Qt(Qt({key:"dot-".concat(y),r:3},u),d),{},{index:y,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:r});return H9(i,b)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return v.createElement(Ds,ma({className:"recharts-line-dots",key:"dots"},h),f)}function Y9(e){var{showLabels:t,children:r,points:n}=e,i=v.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Qt(Qt({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(DB,{value:t?i:null},r)}function Qw(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:l,connectNulls:c,needClip:u}=a,d=$v(a,L9),f=Qt(Qt({},ut(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(tN,ma({},f,{pathRef:r})),v.createElement(G9,{points:n,clipPathId:t,props:a}))}function Q9(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function J9(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:y,onAnimationEnd:b,onAnimationStart:w}=r,x=i.current,g=sN(r,"recharts-line-"),[p,j]=v.useState(!1),_=!p,N=v.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),k=v.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),E=Q9(n.current),S=a.current;return v.createElement(Y9,{points:s,showLabels:_},r.children,v.createElement(aN,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:k,key:g},C=>{var O=pn(S,E+S,C),T=Math.min(O,E),I;if(c)if(l){var R="".concat(l).split(/[,\s]+/gim).map(M=>parseFloat(M));I=V9(T,E,R)}else I=ZE(E,T);else I=l==null?void 0:String(l);if(x){var J=x.length/s.length,Y=C===1?s:s.map((M,L)=>{var P=Math.floor(L*J);if(x[P]){var z=x[P];return Qt(Qt({},M),{},{x:pn(z.x,M.x,C),y:pn(z.y,M.y,C)})}return h?Qt(Qt({},M),{},{x:pn(m*2,M.x,C),y:pn(y/2,M.y,C)}):Qt(Qt({},M),{},{x:M.x,y:M.y})});return i.current=Y,v.createElement(Qw,{props:r,points:Y,clipPathId:t,pathRef:n,strokeDasharray:I})}return C>0&&E>0&&(i.current=s,a.current=T),v.createElement(Qw,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:I})}),v.createElement(RB,{label:r.label}))}function X9(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),i=v.useRef(0),a=v.useRef(null);return v.createElement(J9,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var Z9=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:It(e.payload,t)});class eW extends v.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var y=je("recharts-line",a),b=h,{r:w=3,strokeWidth:x=2}=(t=ut(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=E_(n),p=w*2+x;return v.createElement(v.Fragment,null,v.createElement(Ds,{className:y},m&&v.createElement("defs",null,v.createElement(PF,{clipPathId:b,xAxisId:s,yAxisId:l}),!g&&v.createElement("clipPath",{id:"clipPath-dots-".concat(b)},v.createElement("rect",{x:u-p/2,y:c-p/2,width:d+p,height:f+p}))),v.createElement(CF,{xAxisId:s,yAxisId:l,data:i,dataPointFormatter:Z9,errorBarOffset:0},v.createElement(X9,{props:this.props,clipPathId:b}))),v.createElement(xF,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var eC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Ls.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function tW(e){var t=Pr(e,eC),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:y,id:b}=t,w=$v(t,$9),{needClip:x}=VE(m,y),g=Tv(),p=T0(),j=Cr(),_=ie(C=>I9(C,m,y,j,b));if(p!=="horizontal"&&p!=="vertical"||_==null||g==null)return null;var{height:N,width:k,x:E,y:S}=g;return v.createElement(eW,ma({},w,{id:b,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:y,points:_,layout:p,height:N,width:k,left:E,top:S,needClip:x}))}function rW(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=It(u,s);if(t==="horizontal"){var h=rb({axis:r,ticks:i,bandSize:l,entry:u,index:d}),m=ct(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var y=ct(f)?null:r.scale(f),b=rb({axis:n,ticks:a,bandSize:l,entry:u,index:d});return y==null||b==null?null:{x:y,y:b,value:f,payload:u}}).filter(Boolean)}function nW(e){var t=Pr(e,eC),r=Cr();return v.createElement(YB,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(qB,{legendPayload:F9(t)}),v.createElement(FB,{fn:W9,args:t}),v.createElement(tF,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(tW,ma({},t,{id:n}))))}var xo=v.memo(nW);xo.displayName="Line";var iW=["dangerouslySetInnerHTML","ticks"],aW=["id"],sW=["domain"],oW=["domain"];function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(null,arguments)}function id(e,t){if(e==null)return{};var r,n,i=lW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cW(e){var t=wt();return v.useEffect(()=>(t(sF(e)),()=>{t(oF(e))}),[e,t]),null}var uW=e=>{var{xAxisId:t,className:r}=e,n=ie(Jk),i=Cr(),a="xAxis",s=ie(m=>Fs(m,a,t,i)),l=ie(m=>QS(m,a,t,i)),c=ie(m=>Rz(m,t)),u=ie(m=>qz(m,t)),d=ie(m=>gS(m,t));if(c==null||u==null||d==null)return null;var f=id(e,iW),h=id(d,aW);return v.createElement(Lv,Rp({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:je("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:l}))},dW={allowDataOverflow:Ht.allowDataOverflow,allowDecimals:Ht.allowDecimals,allowDuplicatedCategory:Ht.allowDuplicatedCategory,height:Ht.height,hide:!1,mirror:Ht.mirror,orientation:Ht.orientation,padding:Ht.padding,reversed:Ht.reversed,scale:Ht.scale,tickCount:Ht.tickCount,type:Ht.type,xAxisId:0},fW=e=>{var t,r,n,i,a,s=Pr(e,dW);return v.createElement(v.Fragment,null,v.createElement(cW,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(uW,s))},hW=(e,t)=>{var{domain:r}=e,n=id(e,sW),{domain:i}=t,a=id(t,oW);return Es(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Es({domain:r},{domain:i}):!1},tC=v.memo(fW,hW);tC.displayName="XAxis";var mW=["dangerouslySetInnerHTML","ticks"],pW=["id"],gW=["domain"],vW=["domain"];function zp(){return zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zp.apply(null,arguments)}function ad(e,t){if(e==null)return{};var r,n,i=yW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xW(e){var t=wt();return v.useEffect(()=>(t(lF(e)),()=>{t(cF(e))}),[e,t]),null}var bW=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=v.useRef(null),s=v.useRef(null),l=ie(Jk),c=Cr(),u=wt(),d="yAxis",f=ie(g=>Fs(g,d,t,c)),h=ie(g=>Kz(g,t)),m=ie(g=>Hz(g,t)),y=ie(g=>QS(g,d,t,c)),b=ie(g=>vS(g,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Av(i)||v.isValidElement(i)||b==null)){var g=a.current;if(g){var p=g.getCalculatedWidth();Math.round(h.width)!==Math.round(p)&&u(uF({id:t,width:p}))}}},[y,h,u,i,t,n,b]),h==null||m==null||b==null)return null;var w=ad(e,mW),x=ad(b,pW);return v.createElement(Lv,zp({},w,x,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:je("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y}))},wW={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,hide:!1,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tickCount:Kt.tickCount,type:Kt.type,width:Kt.width,yAxisId:0},jW=e=>{var t,r,n,i,a,s=Pr(e,wW);return v.createElement(v.Fragment,null,v.createElement(xW,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),v.createElement(bW,s))},_W=(e,t)=>{var{domain:r}=e,n=ad(e,gW),{domain:i}=t,a=ad(t,vW);return Es(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Es({domain:r},{domain:i}):!1},rC=v.memo(jW,_W);rC.displayName="YAxis";var kW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=v;function NW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SW=typeof Object.is=="function"?Object.is:NW,EW=Vl.useSyncExternalStore,CW=Vl.useRef,PW=Vl.useEffect,OW=Vl.useMemo,AW=Vl.useDebugValue;kW.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=CW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=OW(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var y=s.value;if(i(y,m))return f=y}return f=m}if(y=f,SW(d,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(d=m,y):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=EW(e,a[0],a[1]);return PW(function(){s.hasValue=!0,s.value=l},[l]),AW(l),l};function TW(e){e()}function MW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){TW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Jw={notify(){},get:()=>[]};function IW(e,t){let r,n=Jw,i=0,a=!1;function s(b){d();const w=n.subscribe(b);let x=!1;return()=>{x||(x=!0,w(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=MW())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Jw)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var DW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LW=DW(),$W=()=>typeof navigator<"u"&&navigator.product==="ReactNative",RW=$W(),zW=()=>LW||RW?v.useLayoutEffect:v.useEffect,UW=zW(),Ah=Symbol.for("react-redux-context"),Th=typeof globalThis<"u"?globalThis:{};function BW(){if(!v.createContext)return{};const e=Th[Ah]??(Th[Ah]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var FW=BW();function WW(e){const{children:t,context:r,serverState:n,store:i}=e,a=v.useMemo(()=>{const c=IW(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=v.useMemo(()=>i.getState(),[i]);UW(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=r||FW;return v.createElement(l.Provider,{value:a},t)}var qW=WW,VW=(e,t)=>t,Rv=$([VW,Oe,fS,nt,fE,Wn,X7,jt],nU),zv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},nC=Sr("mouseClick"),iC=Ml();iC.startListening({actionCreator:nC,effect:(e,t)=>{var r=e.payload,n=Rv(t.getState(),zv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(a7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Up=Sr("mouseMove"),aC=Ml();aC.startListening({actionCreator:Up,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=wv(n,n.tooltip.settings.shared),a=Rv(n,zv(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(aE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(iE()))}});var Xw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},sC=or({name:"rootProps",initialState:Xw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Xw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),HW=sC.reducer,{updateOptions:KW}=sC.actions,GW=or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),YW=GW.reducer,oC=Sr("keyDown"),lC=Sr("focus"),Uv=Ml();Uv.startListening({actionCreator:oC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(jv(i,qs(r))),l=Wn(r);if(a==="Enter"){var c=ed(r,"axis","hover",String(i.index));t.dispatch(Tp({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=Jz(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var m=ed(r,"axis","hover",String(h));t.dispatch(Tp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Uv.startListening({actionCreator:lC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=ed(r,"axis","hover",String(a));t.dispatch(Tp({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var fr=Sr("externalEvent"),cC=Ml();cC.startListening({actionCreator:fr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:F7(r),activeDataKey:U7(r),activeIndex:pl(r),activeLabel:pE(r),activeTooltipIndex:pl(r),isTooltipActive:W7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var QW=$([Ws],e=>e.tooltipItemPayloads),JW=$([QW,Wl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),uC=Sr("touchMove"),dC=Ml();dC.startListening({actionCreator:uC,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=wv(n,n.tooltip.settings.shared);if(i==="axis"){var a=Rv(n,zv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(aE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(wD),d=(s=c.getAttribute(jD))!==null&&s!==void 0?s:void 0,f=JW(t.getState(),u,d);t.dispatch(i7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var XW=_k({brush:TF,cartesianAxis:dF,chartData:xU,errorBars:jF,graphicalItems:eF,layout:KI,legend:zD,options:mU,polarAxis:BB,polarOptions:YW,referenceElements:UF,rootProps:HW,tooltip:s7}),ZW=function(t){return yI({reducer:XW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([iC.middleware,aC.middleware,Uv.middleware,cC.middleware,dC.middleware]),devTools:Ls.devToolsEnabled})};function eq(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Cr(),a=v.useRef(null);if(i)return r;a.current==null&&(a.current=ZW(t));var s=w0;return v.createElement(qW,{context:s,store:a.current},r)}function tq(e){var{layout:t,width:r,height:n,margin:i}=e,a=wt(),s=Cr();return v.useEffect(()=>{s||(a(qI(t)),a(VI({width:r,height:n})),a(WI(i)))},[a,s,t,r,n,i]),null}function rq(e){var t=wt();return v.useEffect(()=>{t(KW(e))},[t,e]),null}var nq=["children"];function iq(e,t){if(e==null)return{};var r,n,i=aq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sd(){return sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sd.apply(null,arguments)}var sq={width:"100%",height:"100%"},oq=v.forwardRef((e,t)=>{var r=O0(),n=A0(),i=eN();if(!Ru(r)||!Ru(n))return null;var{children:a,otherAttributes:s,title:l,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0,v.createElement(s0,sd({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:sq,ref:t}),a)}),lq=e=>{var{children:t}=e,r=ie(Jd);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return v.createElement(s0,{width:n,height:i,x:s,y:a},t)},Zw=v.forwardRef((e,t)=>{var{children:r}=e,n=iq(e,nq),i=Cr();return i?v.createElement(lq,null,r):v.createElement(oq,sd({ref:t},n),r)});function cq(){var e=wt(),[t,r]=v.useState(null),n=ie(bD);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Hr(a)&&a!==n&&e(HI(a))}},[t,e,n]),r}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mq=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:b,style:w,width:x}=e,g=wt(),[p,j]=v.useState(null),[_,N]=v.useState(null);CU();var k=cq(),E=v.useCallback(U=>{k(U),typeof t=="function"&&t(U),j(U),N(U)},[k,t,j,N]),S=v.useCallback(U=>{g(nC(U)),g(fr({handler:a,reactEvent:U}))},[g,a]),C=v.useCallback(U=>{g(Up(U)),g(fr({handler:u,reactEvent:U}))},[g,u]),O=v.useCallback(U=>{g(iE()),g(fr({handler:d,reactEvent:U}))},[g,d]),T=v.useCallback(U=>{g(Up(U)),g(fr({handler:f,reactEvent:U}))},[g,f]),I=v.useCallback(()=>{g(lC())},[g]),R=v.useCallback(U=>{g(oC(U.key))},[g]),J=v.useCallback(U=>{g(fr({handler:s,reactEvent:U}))},[g,s]),Y=v.useCallback(U=>{g(fr({handler:l,reactEvent:U}))},[g,l]),M=v.useCallback(U=>{g(fr({handler:c,reactEvent:U}))},[g,c]),L=v.useCallback(U=>{g(fr({handler:h,reactEvent:U}))},[g,h]),P=v.useCallback(U=>{g(fr({handler:b,reactEvent:U}))},[g,b]),z=v.useCallback(U=>{g(uC(U)),g(fr({handler:y,reactEvent:U}))},[g,y]),F=v.useCallback(U=>{g(fr({handler:m,reactEvent:U}))},[g,m]);return v.createElement(wE.Provider,{value:p},v.createElement(C_.Provider,{value:_},v.createElement("div",{className:je("recharts-wrapper",n),style:uq({position:"relative",cursor:"default",width:x,height:i},w),onClick:S,onContextMenu:J,onDoubleClick:Y,onFocus:I,onKeyDown:R,onMouseDown:M,onMouseEnter:C,onMouseLeave:O,onMouseMove:T,onMouseUp:L,onTouchEnd:F,onTouchMove:z,onTouchStart:P,ref:E},r)))}),pq=["children","className","width","height","style","compact","title","desc"];function gq(e,t){if(e==null)return{};var r,n,i=vq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yq=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:l,title:c,desc:u}=e,d=gq(e,pq),f=ba(d);return l?v.createElement(Zw,{otherAttributes:f,title:c,desc:u},r):v.createElement(mq,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Zw,{otherAttributes:f,title:c,desc:u,ref:t},v.createElement(FF,null,r)))}),xq=["width","height"];function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}function bq(e,t){if(e==null)return{};var r,n,i=wq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jq={top:5,right:5,bottom:5,left:5},_q={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jq,reverseStackOrder:!1,syncMethod:"index"},kq=v.forwardRef(function(t,r){var n,i=Pr(t.categoricalChartProps,_q),{width:a,height:s}=i,l=bq(i,xq);if(!Ru(a)||!Ru(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(eq,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},v.createElement(OF,{chartData:h.data}),v.createElement(tq,{width:a,height:s,layout:i.layout,margin:i.margin}),v.createElement(rq,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(yq,Bp({},l,{width:a,height:s,ref:r})))}),Nq=["axis"],Sq=v.forwardRef((e,t)=>v.createElement(kq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nq,tooltipPayloadSearcher:fU,categoricalChartProps:e,ref:t}));const Eq=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const i=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],a=l=>new Date(l).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(l,c)=>[l,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Évolution des visites"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accès"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[o.jsx(gr,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:i.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),o.jsx("div",{className:"h-80",children:t?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:"Chargement des données..."})}):e.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-gray-400 mb-2",children:"📊"}),o.jsx("div",{className:"text-gray-500",children:"Aucune donnée disponible"})]})}):o.jsx(FU,{width:"100%",height:"100%",children:o.jsxs(Sq,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(GE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(tC,{dataKey:"date",tickFormatter:a,stroke:"#666",fontSize:12}),o.jsx(rC,{stroke:"#666",fontSize:12}),o.jsx(LU,{formatter:s,labelFormatter:l=>`Date: ${a(l)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(Xd,{}),o.jsx(xo,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),o.jsx(xo,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),o.jsx(xo,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),o.jsx(xo,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&o.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((l,c)=>l+c.qr_scan,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((l,c)=>l+c.gmb,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((l,c)=>l+c.direct_link,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((l,c)=>l+c.share,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},Cq=()=>{const{user:e}=ar(),[t,r]=v.useState("7"),[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState([{icon:rs,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:hx,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:nn,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:px,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=v.useState(!0),[f,h]=v.useState(0),[m,y]=v.useState(""),[b,w]=v.useState(""),[x,g]=v.useState(""),p=v.useRef(null);v.useEffect(()=>{if(e){const k=Date.now();k-f>5e3&&(h(k),_(),j(),N())}},[e,t,f]),v.useEffect(()=>{const k=()=>{if(!document.hidden&&e){const E=Date.now();E-f>3e4&&(h(E),_(),j())}};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){i([]);return}const S=k.map(Y=>Y.id),C=new Date,O=new Date;O.setDate(O.getDate()-parseInt(t));const{data:T,error:I}=await B.from("menu_analytics").select("visit_type, visited_at").in("menu_id",S).gte("visited_at",O.toISOString()).lte("visited_at",C.toISOString()).order("visited_at",{ascending:!0});if(I){i([]);return}const R={};for(let Y=new Date(O);Y<=C;Y.setDate(Y.getDate()+1)){const M=Y.toISOString().split("T")[0];R[M]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}T==null||T.forEach(Y=>{const M=Y.visited_at.split("T")[0];R[M]&&(R[M][Y.visit_type]++,R[M].total++)});const J=Object.entries(R).map(([Y,M])=>({date:Y,qr_scan:M.qr_scan,gmb:M.gmb,direct_link:M.direct_link,share:M.share,total:M.total})).sort((Y,M)=>new Date(Y.date).getTime()-new Date(M.date).getTime());i(J)}catch(k){console.error("Error loading trend data:",k),i([])}finally{s(!1)}}},_=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:k,error:E}=await B.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){c(Ar=>Ar.map(Q=>({...Q,value:"0",change:"Aucune donnée"}))),d(!1);return}const S=k.map(Ar=>Ar.id),C=new Date,O=new Date(C.getFullYear(),C.getMonth(),C.getDate()),T=new Date(O);T.setDate(T.getDate()-7);const I=[B.from("menu_analytics").select("id").in("menu_id",S),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb"),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan").gte("visited_at",O.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb").gte("visited_at",O.toISOString()),B.from("menu_analytics").select("id").in("menu_id",S).gte("visited_at",T.toISOString())],R=await Promise.allSettled(I),J=R[0].status==="fulfilled"?R[0].value.data:[],Y=R[1].status==="fulfilled"?R[1].value.data:[],M=R[2].status==="fulfilled"?R[2].value.data:[],L=R[3].status==="fulfilled"?R[3].value.data:[],P=R[4].status==="fulfilled"?R[4].value.data:[],z=R[5].status==="fulfilled"?R[5].value.data:[],F=(J==null?void 0:J.length)||0,U=(Y==null?void 0:Y.length)||0,oe=(M==null?void 0:M.length)||0,ue=(L==null?void 0:L.length)||0,me=(P==null?void 0:P.length)||0,Me=(z==null?void 0:z.length)||0,re=F-U-oe;c([{icon:rs,label:"Scans QR Code",value:U.toString(),change:ue>0?`+${ue} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:hx,label:"Visites GMB",value:oe.toString(),change:me>0?`+${me} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:nn,label:"Vues directes",value:re.toString(),change:re>0?`${re} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:px,label:"Total des vues",value:F.toString(),change:`${U} QR + ${oe} GMB + ${re} directes`,color:"text-purple-600"}])}catch(k){console.error("Error loading stats:",k),c(E=>E.map(S=>({...S,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},N=async()=>{if(e)try{const{data:k,error:E}=await B.from("menus").select("nom, slug").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(E||!k)return;const{data:S}=await B.from("restaurant_profiles").select("name").eq("user_id",e.id).maybeSingle(),C=(S==null?void 0:S.name)||k.nom||"Mon Restaurant",O=k.slug||k.nom;w(C),g(O);const T=`${window.location.origin}/menu/${O}?source=qr_scan`;if(p.current){await ki.toCanvas(p.current,T,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const I=p.current.toDataURL();y(I)}}catch(k){console.error("Error loading QR code:",k)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),o.jsx("p",{className:"text-gray-600",children:"Gérez facilement votre menu en ligne et offrez une expérience moderne à vos clients."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((k,E)=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:k.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:k.value}),o.jsx("p",{className:`text-xs ${k.color} mt-1`,children:k.change})]}),o.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:o.jsx(k.icon,{size:24,className:k.color})})]})},E))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[o.jsx("canvas",{ref:p,style:{display:"none"}}),m?o.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):o.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:o.jsx(rs,{size:48,className:"text-gray-400"})})]})})})]}),o.jsx(Eq,{data:n,loading:a,timeRange:t,onTimeRangeChange:r})]})},Pq=()=>{const{user:e}=ar(),[t,r]=v.useState(null),[n,i]=v.useState([]),[a,s]=v.useState(!0),[l,c]=v.useState(""),[u,d]=v.useState("all"),[f,h]=v.useState(null),[m,y]=v.useState("month"),[b,w]=v.useState(new Date);v.useEffect(()=>{e&&x()},[e]),v.useEffect(()=>{t&&g()},[t]);const x=async()=>{try{const{data:P,error:z}=await B.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if(z){console.error("Erreur lors du chargement du menu:",z);return}r(P)}catch(P){console.error("Erreur lors du chargement du menu:",P)}},g=async()=>{if(t){s(!0);try{const{data:P,error:z}=await B.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if(z){console.error("Erreur lors du chargement des réservations:",z);return}i(P||[])}catch(P){console.error("Erreur lors du chargement des réservations:",P)}finally{s(!1)}}},p=(P,z)=>{h({type:P,text:z}),setTimeout(()=>h(null),5e3)},j=async(P,z)=>{try{const{error:F}=await B.from("reservations").update({status:z,updated_at:new Date().toISOString()}).eq("id",P);if(F)throw F;i(oe=>oe.map(ue=>ue.id===P?{...ue,status:z}:ue)),p("success",`Réservation ${{confirmed:"confirmée",cancelled:"annulée",completed:"terminée",pending:"en attente"}[z]} avec succès`)}catch(F){console.error("Erreur lors de la mise à jour:",F),p("error","Erreur lors de la mise à jour")}},_=n.filter(P=>{const z=P.customer_name.toLowerCase().includes(l.toLowerCase())||P.customer_email.toLowerCase().includes(l.toLowerCase())||P.customer_phone.includes(l),F=u==="all"||P.status===u;return z&&F}),N=P=>{switch(P){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},k=P=>{switch(P){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=P=>{switch(P){case"pending":return"En attente";case"confirmed":return"Confirmée";case"cancelled":return"Annulée";case"completed":return"Terminée";default:return P}},S=P=>new Date(P).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=P=>P.slice(0,5),O=P=>{const z=P.toISOString().split("T")[0];return _.filter(F=>F.reservation_date===z)},T=P=>{const z=P.getFullYear(),F=P.getMonth(),U=new Date(z,F,1),oe=new Date(U);oe.setDate(oe.getDate()-U.getDay());const ue=[],me=new Date(oe);for(let Me=0;Me<42;Me++)ue.push(new Date(me)),me.setDate(me.getDate()+1);return ue},I=P=>{const z=new Date(P);z.setDate(P.getDate()-P.getDay());const F=[];for(let U=0;U<7;U++){const oe=new Date(z);oe.setDate(z.getDate()+U),F.push(oe)}return F},R=P=>{const z=new Date(b);switch(m){case"day":z.setDate(z.getDate()+(P==="next"?1:-1));break;case"week":z.setDate(z.getDate()+(P==="next"?7:-7));break;case"month":z.setMonth(z.getMonth()+(P==="next"?1:-1));break}w(z)},J=()=>{let P="";switch(m){case"day":P=b.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const z=new Date(b);z.setDate(b.getDate()-b.getDay());const F=new Date(z);F.setDate(z.getDate()+6),P=`${z.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${F.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":P=b.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>R("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(z2,{size:20})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:P}),o.jsx("button",{onClick:()=>R("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Fg,{size:20})})]})},Y=()=>{const P=O(b),z=Array.from({length:14},(F,U)=>`${(U+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsx("div",{className:"space-y-2",children:z.map(F=>{const U=P.filter(oe=>oe.reservation_time.startsWith(F.split(":")[0]));return o.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[o.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:F}),o.jsx("div",{className:"flex-1 ml-4",children:U.length>0?o.jsx("div",{className:"space-y-1",children:U.map(oe=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N(oe.status)}`}),o.jsx("span",{className:"text-sm font-medium",children:oe.customer_name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",oe.party_size," pers.)"]}),o.jsx("span",{className:"text-xs text-gray-500",children:C(oe.reservation_time)})]},oe.id))}):o.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},F)})})]})},M=()=>{const P=I(b),z=Array.from({length:14},(F,U)=>`${(U+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[o.jsx("div",{className:"font-medium text-gray-600 p-2"}),P.map(F=>o.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[o.jsx("div",{children:F.toLocaleDateString("fr-FR",{weekday:"short"})}),o.jsx("div",{className:"text-lg",children:F.getDate()})]},F.toISOString())),z.map(F=>o.jsxs(d1.Fragment,{children:[o.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:F}),P.map(U=>{const oe=O(U).filter(ue=>ue.reservation_time.startsWith(F.split(":")[0]));return o.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:oe.map(ue=>o.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${N(ue.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:ue.customer_name}),o.jsxs("div",{children:[ue.party_size,"p ",C(ue.reservation_time)]})]},ue.id))},`${U.toISOString()}-${F}`)})]},F))]})]})},L=()=>{const P=T(b),z=b.getMonth();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[J(),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(F=>o.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:F},F))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map(F=>{const U=F.getMonth()===z,oe=O(F),ue=F.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${U?"bg-white":"bg-gray-50"} ${ue?"ring-2 ring-orange-500":""}`,children:[o.jsx("div",{className:`text-sm font-medium mb-1 ${U?"text-gray-900":"text-gray-400"}`,children:F.getDate()}),o.jsxs("div",{className:"space-y-1",children:[oe.slice(0,3).map(me=>o.jsxs("div",{className:`text-xs p-1 rounded text-white ${N(me.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:me.customer_name}),o.jsx("div",{children:C(me.reservation_time)})]},me.id)),oe.length>3&&o.jsxs("div",{className:"text-xs text-gray-500",children:["+",oe.length-3," autres"]})]})]},F.toISOString())})})]})};return a&&!t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?o.jsxs("div",{className:"space-y-6",children:[f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Be,{className:"w-5 h-5"}):o.jsx(Pe,{className:"w-5 h-5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des réservations"}),o.jsx("p",{className:"text-gray-600",children:"Gérez les réservations de table de votre restaurant"})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[o.jsx(Wg,{size:16}),o.jsx("span",{children:"Voir le menu"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),o.jsx(gr,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(P=>P.status==="pending").length})]}),o.jsx(el,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmées"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(P=>P.status==="confirmed").length})]}),o.jsx(Be,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(P=>{const z=new Date(P.reservation_date),F=new Date,U=new Date(F);return U.setDate(F.getDate()+7),z>=F&&z<=U}).length})]}),o.jsx(gx,{className:"w-8 h-8 text-blue-500"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>y("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Rm,{size:16}),o.jsx("span",{children:"Liste"})]}),o.jsxs("button",{onClick:()=>y("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(p4,{size:16}),o.jsx("span",{children:"Jour"})]}),o.jsxs("button",{onClick:()=>y("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(b4,{size:16}),o.jsx("span",{children:"Semaine"})]}),o.jsxs("button",{onClick:()=>y("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(gr,{size:16}),o.jsx("span",{children:"Mois"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(P4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:P=>c(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),o.jsx("div",{className:"sm:w-48",children:o.jsxs("div",{className:"relative",children:[o.jsx(x4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirmées"}),o.jsx("option",{value:"cancelled",children:"Annulées"}),o.jsx("option",{value:"completed",children:"Terminées"})]})]})})]})]})}),m!=="list"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Légende des couleurs"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Confirmée"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Annulée"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Terminée"})]})]})]}),m==="day"&&Y(),m==="week"&&M(),m==="month"&&L(),m==="list"&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement des réservations..."})}):_.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(gr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune réservation":"Aucun résultat"}),o.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des réservations via votre menu en ligne.":"Aucune réservation ne correspond à vos critères de recherche."}),n.length===0&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",o.jsx("strong",{children:"Comment ça marche :"}),' Un bouton "Réserver une table" sera automatiquement ajouté à votre menu en ligne. Les clients pourront faire des réservations directement depuis votre menu.']})})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:_.map(P=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.customer_name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(P.status)}`,children:E(P.status)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(gr,{className:"w-4 h-4"}),o.jsx("span",{children:S(P.reservation_date)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(el,{className:"w-4 h-4"}),o.jsx("span",{children:C(P.reservation_time)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(gx,{className:"w-4 h-4"}),o.jsxs("span",{children:[P.party_size," personne",P.party_size>1?"s":""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(yr,{className:"w-4 h-4"}),o.jsx("span",{children:P.customer_phone})]})]}),P.customer_email&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[o.jsx(zm,{className:"w-4 h-4"}),o.jsx("span",{children:P.customer_email})]}),P.special_requests&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spéciales :"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:P.special_requests})]})]}),P.status==="pending"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(P.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[o.jsx(Be,{size:14}),o.jsx("span",{children:"Confirmer"})]}),o.jsxs("button",{onClick:()=>j(P.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Pe,{size:14}),o.jsx("span",{children:"Annuler"})]})]}),P.status==="confirmed"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(P.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[o.jsx(Be,{size:14}),o.jsx("span",{children:"Terminer"})]}),o.jsxs("button",{onClick:()=>j(P.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Pe,{size:14}),o.jsx("span",{children:"Annuler"})]})]})]})},P.id))})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(gr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir gérer les réservations."}),o.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})};function Oq(){const{loading:e,user:t}=ar();return e?o.jsx(xa,{fullScreen:!0}):o.jsx(VM,{children:o.jsxs(wM,{children:[o.jsx(mt,{path:"/onboarding",element:o.jsx(n3,{})}),o.jsx(mt,{path:"/reset-password",element:o.jsx(a3,{})}),o.jsx(mt,{path:"/m/:slug",element:o.jsx(t5,{})}),o.jsx(mt,{path:"/m/:slug/:menuSlug",element:o.jsx(r5,{})}),o.jsx(mt,{path:"/m/:slug/reservation",element:o.jsx(n5,{})}),o.jsx(mt,{path:"/m/:slug/contact",element:o.jsx(i5,{})}),o.jsx(mt,{path:"/",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"accueil",children:o.jsx(Cq,{})})})}),o.jsx(mt,{path:"/mes-menus",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"mes-menus",children:o.jsx(c3,{})})})}),o.jsx(mt,{path:"/mon-menu/nouveau",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"mes-menus",children:o.jsx(_x,{})})})}),o.jsx(mt,{path:"/mon-menu/:menuId",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"mes-menus",children:o.jsx(_x,{})})})}),o.jsx(mt,{path:"/categories/:menuId",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"mes-menus",children:o.jsx(l3,{})})})}),o.jsx(mt,{path:"/import-ai/:menuId",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"mes-menus",children:o.jsx(u3,{})})})}),o.jsx(mt,{path:"/identite-visuelle",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"identite-visuelle",children:o.jsx(a5,{})})})}),o.jsx(mt,{path:"/qr-code",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"qr-code",children:o.jsx(X3,{})})})}),o.jsx(mt,{path:"/account-settings",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"account-settings",children:o.jsx(i3,{})})})}),o.jsx(mt,{path:"/reservations",element:o.jsx(Qr,{children:o.jsx(Dr,{currentPage:"reservations",children:o.jsx(Pq,{})})})})]})})}m2(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(A4,{children:o.jsx(c4,{children:o.jsx(Oq,{})})})}));
