var YE=Object.defineProperty;var QE=(e,t,r)=>t in e?YE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Jd=(e,t,r)=>QE(e,typeof t!="symbol"?t+"":t,r);function JE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function XE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Tw={exports:{}},Fu={},Mw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=Symbol.for("react.element"),ZE=Symbol.for("react.portal"),eC=Symbol.for("react.fragment"),tC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),nC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),aC=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),oC=Symbol.for("react.memo"),lC=Symbol.for("react.lazy"),xv=Symbol.iterator;function cC(e){return e===null||typeof e!="object"?null:(e=xv&&e[xv]||e["@@iterator"],typeof e=="function"?e:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Rw={};function ds(e,t,r){this.props=e,this.context=t,this.refs=Rw,this.updater=r||Iw}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lw(){}Lw.prototype=ds.prototype;function bp(e,t,r){this.props=e,this.context=t,this.refs=Rw,this.updater=r||Iw}var wp=bp.prototype=new Lw;wp.constructor=bp;Dw(wp,ds.prototype);wp.isPureReactComponent=!0;var bv=Array.isArray,$w=Object.prototype.hasOwnProperty,jp={current:null},zw={key:!0,ref:!0,__self:!0,__source:!0};function Uw(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)$w.call(t,n)&&!zw.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zo,type:e,key:a,ref:s,props:i,_owner:jp.current}}function uC(e,t){return{$$typeof:Zo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _p(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zo}function dC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wv=/\/+/g;function Xd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dC(""+e.key):t.toString(36)}function fc(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Zo:case ZE:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Xd(s,0):n,bv(i)?(r="",e!=null&&(r=e.replace(wv,"$&/")+"/"),fc(i,t,r,"",function(u){return u})):i!=null&&(_p(i)&&(i=uC(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",bv(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+Xd(a,o);s+=fc(a,t,r,c,i)}else if(c=cC(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+Xd(a,o++),s+=fc(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function El(e,t,r){if(e==null)return e;var n=[],i=0;return fc(e,n,"","",function(a){return t.call(r,a,i++)}),n}function fC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var St={current:null},hc={transition:null},hC={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:hc,ReactCurrentOwner:jp};function Bw(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:El,forEach:function(e,t,r){El(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return El(e,function(){t++}),t},toArray:function(e){return El(e,function(t){return t})||[]},only:function(e){if(!_p(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=ds;ue.Fragment=eC;ue.Profiler=rC;ue.PureComponent=bp;ue.StrictMode=tC;ue.Suspense=sC;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hC;ue.act=Bw;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Dw({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=jp.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)$w.call(t,c)&&!zw.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Zo,type:e.type,key:i,ref:a,props:n,_owner:s}};ue.createContext=function(e){return e={$$typeof:iC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:nC,_context:e},e.Consumer=e};ue.createElement=Uw;ue.createFactory=function(e){var t=Uw.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:aC,render:e}};ue.isValidElement=_p;ue.lazy=function(e){return{$$typeof:lC,_payload:{_status:-1,_result:e},_init:fC}};ue.memo=function(e,t){return{$$typeof:oC,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=hc.transition;hc.transition={};try{e()}finally{hc.transition=t}};ue.unstable_act=Bw;ue.useCallback=function(e,t){return St.current.useCallback(e,t)};ue.useContext=function(e){return St.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return St.current.useDeferredValue(e)};ue.useEffect=function(e,t){return St.current.useEffect(e,t)};ue.useId=function(){return St.current.useId()};ue.useImperativeHandle=function(e,t,r){return St.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return St.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return St.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return St.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return St.current.useReducer(e,t,r)};ue.useRef=function(e){return St.current.useRef(e)};ue.useState=function(e){return St.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return St.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return St.current.useTransition()};ue.version="18.3.1";Mw.exports=ue;var x=Mw.exports;const Fw=oi(x),mC=JE({__proto__:null,default:Fw},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=x,gC=Symbol.for("react.element"),vC=Symbol.for("react.fragment"),yC=Object.prototype.hasOwnProperty,xC=pC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bC={key:!0,ref:!0,__self:!0,__source:!0};function Ww(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)yC.call(t,n)&&!bC.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:gC,type:e,key:a,ref:s,props:i,_owner:xC.current}}Fu.Fragment=vC;Fu.jsx=Ww;Fu.jsxs=Ww;Tw.exports=Fu;var l=Tw.exports,qw={exports:{}},Gt={},Hw={exports:{}},Vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,O){var D=U.length;U.push(O);e:for(;0<D;){var W=D-1>>>1,L=U[W];if(0<i(L,O))U[W]=O,U[D]=L,D=W;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var O=U[0],D=U.pop();if(D!==O){U[0]=D;e:for(var W=0,L=U.length,le=L>>>1;W<le;){var A=2*(W+1)-1,V=U[A],ee=A+1,B=U[ee];if(0>i(V,D))ee<L&&0>i(B,V)?(U[W]=B,U[ee]=D,W=ee):(U[W]=V,U[A]=D,W=A);else if(ee<L&&0>i(B,D))U[W]=B,U[ee]=D,W=ee;else break e}}return O}function i(U,O){var D=U.sortIndex-O.sortIndex;return D!==0?D:U.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(U){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=U)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function j(U){if(b=!1,p(U),!v)if(r(c)!==null)v=!0,H(S);else{var O=r(u);O!==null&&K(j,O.startTime-U)}}function S(U,O){v=!1,b&&(b=!1,y(N),N=-1),m=!0;var D=h;try{for(p(O),f=r(c);f!==null&&(!(f.expirationTime>O)||U&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var L=W(f.expirationTime<=O);O=e.unstable_now(),typeof L=="function"?f.callback=L:f===r(c)&&n(c),p(O)}else n(c);f=r(c)}if(f!==null)var le=!0;else{var A=r(u);A!==null&&K(j,A.startTime-O),le=!1}return le}finally{f=null,h=D,m=!1}}var k=!1,_=null,N=-1,E=5,C=-1;function P(){return!(e.unstable_now()-C<E)}function M(){if(_!==null){var U=e.unstable_now();C=U;var O=!0;try{O=_(!0,U)}finally{O?F():(k=!1,_=null)}}else k=!1}var F;if(typeof g=="function")F=function(){g(M)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ie=Y.port2;Y.port1.onmessage=M,F=function(){ie.postMessage(null)}}else F=function(){w(M,0)};function H(U){_=U,k||(k=!0,F())}function K(U,O){N=w(function(){U(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,H(S))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var D=h;h=O;try{return U()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,O){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var D=h;h=U;try{return O()}finally{h=D}},e.unstable_scheduleCallback=function(U,O,D){var W=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?W+D:W):D=W,U){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,U={id:d++,callback:O,priorityLevel:U,startTime:D,expirationTime:L,sortIndex:-1},D>W?(U.sortIndex=D,t(u,U),r(c)===null&&U===r(u)&&(b?(y(N),N=-1):b=!0,K(j,D-W))):(U.sortIndex=L,t(c,U),v||m||(v=!0,H(S))),U},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(U){var O=h;return function(){var D=h;h=O;try{return U.apply(this,arguments)}finally{h=D}}}})(Vw);Hw.exports=Vw;var wC=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jC=x,Vt=wC;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kw=new Set,go={};function Zi(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(go[e]=t,e=0;e<t.length;e++)Kw.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=Object.prototype.hasOwnProperty,_C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jv={},_v={};function kC(e){return fh.call(_v,e)?!0:fh.call(jv,e)?!1:_C.test(e)?_v[e]=!0:(jv[e]=!0,!1)}function SC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function NC(e,t,r,n){if(t===null||typeof t>"u"||SC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ct[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ct[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ct[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ct[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ct[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ct[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ct[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ct[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ct[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Sp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kp,Sp);ct[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kp,Sp);ct[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kp,Sp);ct[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ct[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ct[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Np(e,t,r,n){var i=ct.hasOwnProperty(t)?ct[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(NC(t,r,i,n)&&(r=null),n||i===null?kC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nn=jC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cl=Symbol.for("react.element"),va=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Yw=Symbol.for("react.context"),Cp=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),Pp=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),kv=Symbol.iterator;function Cs(e){return e===null||typeof e!="object"?null:(e=kv&&e[kv]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,Zd;function Hs(e){if(Zd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zd=t&&t[1]||""}return`
`+Zd+e}var ef=!1;function tf(e,t){if(!e||ef)return"";ef=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{ef=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hs(e):""}function EC(e){switch(e.tag){case 5:return Hs(e.type);case 16:return Hs("Lazy");case 13:return Hs("Suspense");case 19:return Hs("SuspenseList");case 0:case 2:case 15:return e=tf(e.type,!1),e;case 11:return e=tf(e.type.render,!1),e;case 1:return e=tf(e.type,!0),e;default:return""}}function gh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case va:return"Portal";case hh:return"Profiler";case Ep:return"StrictMode";case mh:return"Suspense";case ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yw:return(e.displayName||"Context")+".Consumer";case Gw:return(e._context.displayName||"Context")+".Provider";case Cp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pp:return t=e.displayName||null,t!==null?t:gh(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return gh(e(t))}catch{}}return null}function CC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gh(t);case 8:return t===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PC(e){var t=Jw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=PC(e))}function Xw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vh(e,t){var r=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ii(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zw(e,t){t=t.checked,t!=null&&Np(e,"checked",t,!1)}function yh(e,t){Zw(e,t);var r=ii(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xh(e,t.type,r):t.hasOwnProperty("defaultValue")&&xh(e,t.type,ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xh(e,t,r){(t!=="number"||Cc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vs=Array.isArray;function Aa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ii(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ev(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Vs(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ii(r)}}function e1(e,t){var r=ii(t.value),n=ii(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Cv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function t1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?t1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ol,r1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ol=Ol||document.createElement("div"),Ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OC=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){OC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function n1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function i1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=n1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var AC=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(e,t){if(t){if(AC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function _h(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=null;function Op(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sh=null,Ta=null,Ma=null;function Pv(e){if(e=rl(e)){if(typeof Sh!="function")throw Error(z(280));var t=e.stateNode;t&&(t=Ku(t),Sh(e.stateNode,e.type,t))}}function a1(e){Ta?Ma?Ma.push(e):Ma=[e]:Ta=e}function s1(){if(Ta){var e=Ta,t=Ma;if(Ma=Ta=null,Pv(e),t)for(e=0;e<t.length;e++)Pv(t[e])}}function o1(e,t){return e(t)}function l1(){}var rf=!1;function c1(e,t,r){if(rf)return e(t,r);rf=!0;try{return o1(e,t,r)}finally{rf=!1,(Ta!==null||Ma!==null)&&(l1(),s1())}}function yo(e,t){var r=e.stateNode;if(r===null)return null;var n=Ku(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var Nh=!1;if(gn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Nh=!1}function TC(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var to=!1,Pc=null,Oc=!1,Eh=null,MC={onError:function(e){to=!0,Pc=e}};function IC(e,t,r,n,i,a,s,o,c){to=!1,Pc=null,TC.apply(MC,arguments)}function DC(e,t,r,n,i,a,s,o,c){if(IC.apply(this,arguments),to){if(to){var u=Pc;to=!1,Pc=null}else throw Error(z(198));Oc||(Oc=!0,Eh=u)}}function ea(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function u1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ov(e){if(ea(e)!==e)throw Error(z(188))}function RC(e){var t=e.alternate;if(!t){if(t=ea(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ov(i),e;if(a===n)return Ov(i),t;a=a.sibling}throw Error(z(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function d1(e){return e=RC(e),e!==null?f1(e):null}function f1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=f1(e);if(t!==null)return t;e=e.sibling}return null}var h1=Vt.unstable_scheduleCallback,Av=Vt.unstable_cancelCallback,LC=Vt.unstable_shouldYield,$C=Vt.unstable_requestPaint,Ie=Vt.unstable_now,zC=Vt.unstable_getCurrentPriorityLevel,Ap=Vt.unstable_ImmediatePriority,m1=Vt.unstable_UserBlockingPriority,Ac=Vt.unstable_NormalPriority,UC=Vt.unstable_LowPriority,p1=Vt.unstable_IdlePriority,Wu=null,qr=null;function BC(e){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:qC,FC=Math.log,WC=Math.LN2;function qC(e){return e>>>=0,e===0?32:31-(FC(e)/WC|0)|0}var Al=64,Tl=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Ks(o):(a&=s,a!==0&&(n=Ks(a)))}else s=r&~i,s!==0?n=Ks(s):a!==0&&(n=Ks(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Or(t),i=1<<r,n|=e[r],t&=~i;return n}function HC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Or(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=HC(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Ch(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function g1(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function nf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function el(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Or(t),e[t]=r}function KC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Or(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Tp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Or(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var pe=0;function v1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y1,Mp,x1,b1,w1,Ph=!1,Ml=[],Gn=null,Yn=null,Qn=null,xo=new Map,bo=new Map,Bn=[],GC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tv(e,t){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(t.pointerId)}}function Os(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=rl(t),t!==null&&Mp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function YC(e,t,r,n,i){switch(t){case"focusin":return Gn=Os(Gn,e,t,r,n,i),!0;case"dragenter":return Yn=Os(Yn,e,t,r,n,i),!0;case"mouseover":return Qn=Os(Qn,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return xo.set(a,Os(xo.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bo.set(a,Os(bo.get(a)||null,e,t,r,n,i)),!0}return!1}function j1(e){var t=Oi(e.target);if(t!==null){var r=ea(t);if(r!==null){if(t=r.tag,t===13){if(t=u1(r),t!==null){e.blockedOn=t,w1(e.priority,function(){x1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Oh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kh=n,r.target.dispatchEvent(n),kh=null}else return t=rl(r),t!==null&&Mp(t),e.blockedOn=r,!1;t.shift()}return!0}function Mv(e,t,r){mc(e)&&r.delete(t)}function QC(){Ph=!1,Gn!==null&&mc(Gn)&&(Gn=null),Yn!==null&&mc(Yn)&&(Yn=null),Qn!==null&&mc(Qn)&&(Qn=null),xo.forEach(Mv),bo.forEach(Mv)}function As(e,t){e.blockedOn===t&&(e.blockedOn=null,Ph||(Ph=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,QC)))}function wo(e){function t(i){return As(i,e)}if(0<Ml.length){As(Ml[0],e);for(var r=1;r<Ml.length;r++){var n=Ml[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gn!==null&&As(Gn,e),Yn!==null&&As(Yn,e),Qn!==null&&As(Qn,e),xo.forEach(t),bo.forEach(t),r=0;r<Bn.length;r++)n=Bn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bn.length&&(r=Bn[0],r.blockedOn===null);)j1(r),r.blockedOn===null&&Bn.shift()}var Ia=Nn.ReactCurrentBatchConfig,Mc=!0;function JC(e,t,r,n){var i=pe,a=Ia.transition;Ia.transition=null;try{pe=1,Ip(e,t,r,n)}finally{pe=i,Ia.transition=a}}function XC(e,t,r,n){var i=pe,a=Ia.transition;Ia.transition=null;try{pe=4,Ip(e,t,r,n)}finally{pe=i,Ia.transition=a}}function Ip(e,t,r,n){if(Mc){var i=Oh(e,t,r,n);if(i===null)mf(e,t,n,Ic,r),Tv(e,n);else if(YC(i,e,t,r,n))n.stopPropagation();else if(Tv(e,n),t&4&&-1<GC.indexOf(e)){for(;i!==null;){var a=rl(i);if(a!==null&&y1(a),a=Oh(e,t,r,n),a===null&&mf(e,t,n,Ic,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else mf(e,t,n,null,r)}}var Ic=null;function Oh(e,t,r,n){if(Ic=null,e=Op(n),e=Oi(e),e!==null)if(t=ea(e),t===null)e=null;else if(r=t.tag,r===13){if(e=u1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ic=e,null}function _1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zC()){case Ap:return 1;case m1:return 4;case Ac:case UC:return 16;case p1:return 536870912;default:return 16}default:return 16}}var Hn=null,Dp=null,pc=null;function k1(){if(pc)return pc;var e,t=Dp,r=t.length,n,i="value"in Hn?Hn.value:Hn.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return pc=i.slice(e,1<n?1-n:void 0)}function gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Il(){return!0}function Iv(){return!1}function Yt(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Il:Iv,this.isPropagationStopped=Iv,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=Yt(fs),tl=Ae({},fs,{view:0,detail:0}),ZC=Yt(tl),af,sf,Ts,qu=Ae({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ts&&(Ts&&e.type==="mousemove"?(af=e.screenX-Ts.screenX,sf=e.screenY-Ts.screenY):sf=af=0,Ts=e),af)},movementY:function(e){return"movementY"in e?e.movementY:sf}}),Dv=Yt(qu),eP=Ae({},qu,{dataTransfer:0}),tP=Yt(eP),rP=Ae({},tl,{relatedTarget:0}),of=Yt(rP),nP=Ae({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),iP=Yt(nP),aP=Ae({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sP=Yt(aP),oP=Ae({},fs,{data:0}),Rv=Yt(oP),lP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uP[e])?!!t[e]:!1}function Lp(){return dP}var fP=Ae({},tl,{key:function(e){if(e.key){var t=lP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(e){return e.type==="keypress"?gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hP=Yt(fP),mP=Ae({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=Yt(mP),pP=Ae({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),gP=Yt(pP),vP=Ae({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),yP=Yt(vP),xP=Ae({},qu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bP=Yt(xP),wP=[9,13,27,32],$p=gn&&"CompositionEvent"in window,ro=null;gn&&"documentMode"in document&&(ro=document.documentMode);var jP=gn&&"TextEvent"in window&&!ro,S1=gn&&(!$p||ro&&8<ro&&11>=ro),$v=" ",zv=!1;function N1(e,t){switch(e){case"keyup":return wP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function _P(e,t){switch(e){case"compositionend":return E1(t);case"keypress":return t.which!==32?null:(zv=!0,$v);case"textInput":return e=t.data,e===$v&&zv?null:e;default:return null}}function kP(e,t){if(xa)return e==="compositionend"||!$p&&N1(e,t)?(e=k1(),pc=Dp=Hn=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S1&&t.locale!=="ko"?null:t.data;default:return null}}var SP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SP[e.type]:t==="textarea"}function C1(e,t,r,n){a1(n),t=Dc(t,"onChange"),0<t.length&&(r=new Rp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var no=null,jo=null;function NP(e){z1(e,0)}function Hu(e){var t=ja(e);if(Xw(t))return e}function EP(e,t){if(e==="change")return t}var P1=!1;if(gn){var lf;if(gn){var cf="oninput"in document;if(!cf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),cf=typeof Bv.oninput=="function"}lf=cf}else lf=!1;P1=lf&&(!document.documentMode||9<document.documentMode)}function Fv(){no&&(no.detachEvent("onpropertychange",O1),jo=no=null)}function O1(e){if(e.propertyName==="value"&&Hu(jo)){var t=[];C1(t,jo,e,Op(e)),c1(NP,t)}}function CP(e,t,r){e==="focusin"?(Fv(),no=t,jo=r,no.attachEvent("onpropertychange",O1)):e==="focusout"&&Fv()}function PP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hu(jo)}function OP(e,t){if(e==="click")return Hu(t)}function AP(e,t){if(e==="input"||e==="change")return Hu(t)}function TP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mr=typeof Object.is=="function"?Object.is:TP;function _o(e,t){if(Mr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!fh.call(t,i)||!Mr(e[i],t[i]))return!1}return!0}function Wv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qv(e,t){var r=Wv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wv(r)}}function A1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?A1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T1(){for(var e=window,t=Cc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cc(e.document)}return t}function zp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function MP(e){var t=T1(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&A1(r.ownerDocument.documentElement,r)){if(n!==null&&zp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=qv(r,a);var s=qv(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IP=gn&&"documentMode"in document&&11>=document.documentMode,ba=null,Ah=null,io=null,Th=!1;function Hv(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Th||ba==null||ba!==Cc(n)||(n=ba,"selectionStart"in n&&zp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),io&&_o(io,n)||(io=n,n=Dc(Ah,"onSelect"),0<n.length&&(t=new Rp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ba)))}function Dl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wa={animationend:Dl("Animation","AnimationEnd"),animationiteration:Dl("Animation","AnimationIteration"),animationstart:Dl("Animation","AnimationStart"),transitionend:Dl("Transition","TransitionEnd")},uf={},M1={};gn&&(M1=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Vu(e){if(uf[e])return uf[e];if(!wa[e])return e;var t=wa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in M1)return uf[e]=t[r];return e}var I1=Vu("animationend"),D1=Vu("animationiteration"),R1=Vu("animationstart"),L1=Vu("transitionend"),$1=new Map,Vv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(e,t){$1.set(e,t),Zi(t,[e])}for(var df=0;df<Vv.length;df++){var ff=Vv[df],DP=ff.toLowerCase(),RP=ff[0].toUpperCase()+ff.slice(1);li(DP,"on"+RP)}li(I1,"onAnimationEnd");li(D1,"onAnimationIteration");li(R1,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(L1,"onTransitionEnd");Fa("onMouseEnter",["mouseout","mouseover"]);Fa("onMouseLeave",["mouseout","mouseover"]);Fa("onPointerEnter",["pointerout","pointerover"]);Fa("onPointerLeave",["pointerout","pointerover"]);Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Kv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,DC(n,t,void 0,e),e.currentTarget=null}function z1(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Kv(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Kv(i,o,u),a=c}}}if(Oc)throw e=Eh,Oc=!1,Eh=null,e}function je(e,t){var r=t[Lh];r===void 0&&(r=t[Lh]=new Set);var n=e+"__bubble";r.has(n)||(U1(t,e,2,!1),r.add(n))}function hf(e,t,r){var n=0;t&&(n|=4),U1(r,e,n,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[Rl]){e[Rl]=!0,Kw.forEach(function(r){r!=="selectionchange"&&(LP.has(r)||hf(r,!1,e),hf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,hf("selectionchange",!1,t))}}function U1(e,t,r,n){switch(_1(t)){case 1:var i=JC;break;case 4:i=XC;break;default:i=Ip}r=i.bind(null,t,r,e),i=void 0,!Nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function mf(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Oi(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}c1(function(){var u=a,d=Op(r),f=[];e:{var h=$1.get(e);if(h!==void 0){var m=Rp,v=e;switch(e){case"keypress":if(gc(r)===0)break e;case"keydown":case"keyup":m=hP;break;case"focusin":v="focus",m=of;break;case"focusout":v="blur",m=of;break;case"beforeblur":case"afterblur":m=of;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=tP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=gP;break;case I1:case D1:case R1:m=iP;break;case L1:m=yP;break;case"scroll":m=ZC;break;case"wheel":m=bP;break;case"copy":case"cut":case"paste":m=sP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Lv}var b=(t&4)!==0,w=!b&&e==="scroll",y=b?h!==null?h+"Capture":null:h;b=[];for(var g=u,p;g!==null;){p=g;var j=p.stateNode;if(p.tag===5&&j!==null&&(p=j,y!==null&&(j=yo(g,y),j!=null&&b.push(So(g,j,p)))),w)break;g=g.return}0<b.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==kh&&(v=r.relatedTarget||r.fromElement)&&(Oi(v)||v[vn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Oi(v):null,v!==null&&(w=ea(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(b=Dv,j="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=Lv,j="onPointerLeave",y="onPointerEnter",g="pointer"),w=m==null?h:ja(m),p=v==null?h:ja(v),h=new b(j,g+"leave",m,r,d),h.target=w,h.relatedTarget=p,j=null,Oi(d)===u&&(b=new b(y,g+"enter",v,r,d),b.target=p,b.relatedTarget=w,j=b),w=j,m&&v)t:{for(b=m,y=v,g=0,p=b;p;p=la(p))g++;for(p=0,j=y;j;j=la(j))p++;for(;0<g-p;)b=la(b),g--;for(;0<p-g;)y=la(y),p--;for(;g--;){if(b===y||y!==null&&b===y.alternate)break t;b=la(b),y=la(y)}b=null}else b=null;m!==null&&Gv(f,h,m,b,!1),v!==null&&w!==null&&Gv(f,w,v,b,!0)}}e:{if(h=u?ja(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=EP;else if(Uv(h))if(P1)S=AP;else{S=PP;var k=CP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=OP);if(S&&(S=S(e,u))){C1(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&xh(h,"number",h.value)}switch(k=u?ja(u):window,e){case"focusin":(Uv(k)||k.contentEditable==="true")&&(ba=k,Ah=u,io=null);break;case"focusout":io=Ah=ba=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,Hv(f,r,d);break;case"selectionchange":if(IP)break;case"keydown":case"keyup":Hv(f,r,d)}var _;if($p)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else xa?N1(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(S1&&r.locale!=="ko"&&(xa||N!=="onCompositionStart"?N==="onCompositionEnd"&&xa&&(_=k1()):(Hn=d,Dp="value"in Hn?Hn.value:Hn.textContent,xa=!0)),k=Dc(u,N),0<k.length&&(N=new Rv(N,e,null,r,d),f.push({event:N,listeners:k}),_?N.data=_:(_=E1(r),_!==null&&(N.data=_)))),(_=jP?_P(e,r):kP(e,r))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(d=new Rv("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=_))}z1(f,t)})}function So(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dc(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yo(e,r),a!=null&&n.unshift(So(e,a,i)),a=yo(e,t),a!=null&&n.push(So(e,a,i))),e=e.return}return n}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gv(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=yo(r,a),c!=null&&s.unshift(So(r,c,o))):i||(c=yo(r,a),c!=null&&s.push(So(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var $P=/\r\n?/g,zP=/\u0000|\uFFFD/g;function Yv(e){return(typeof e=="string"?e:""+e).replace($P,`
`).replace(zP,"")}function Ll(e,t,r){if(t=Yv(t),Yv(e)!==t&&r)throw Error(z(425))}function Rc(){}var Mh=null,Ih=null;function Dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,UP=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,BP=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(e){return Qv.resolve(null).then(e).catch(FP)}:Rh;function FP(e){setTimeout(function(){throw e})}function pf(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),wo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wo(t)}function Jn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),Fr="__reactFiber$"+hs,No="__reactProps$"+hs,vn="__reactContainer$"+hs,Lh="__reactEvents$"+hs,WP="__reactListeners$"+hs,qP="__reactHandles$"+hs;function Oi(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vn]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Jv(e);e!==null;){if(r=e[Fr])return r;e=Jv(e)}return t}e=r,r=e.parentNode}return null}function rl(e){return e=e[Fr]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ja(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function Ku(e){return e[No]||null}var $h=[],_a=-1;function ci(e){return{current:e}}function ke(e){0>_a||(e.current=$h[_a],$h[_a]=null,_a--)}function we(e,t){_a++,$h[_a]=e.current,e.current=t}var ai={},xt=ci(ai),Mt=ci(!1),Wi=ai;function Wa(e,t){var r=e.type.contextTypes;if(!r)return ai;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function It(e){return e=e.childContextTypes,e!=null}function Lc(){ke(Mt),ke(xt)}function Xv(e,t,r){if(xt.current!==ai)throw Error(z(168));we(xt,t),we(Mt,r)}function B1(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(z(108,CC(e)||"Unknown",i));return Ae({},r,n)}function $c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ai,Wi=xt.current,we(xt,e),we(Mt,Mt.current),!0}function Zv(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=B1(e,t,Wi),n.__reactInternalMemoizedMergedChildContext=e,ke(Mt),ke(xt),we(xt,e)):ke(Mt),we(Mt,r)}var rn=null,Gu=!1,gf=!1;function F1(e){rn===null?rn=[e]:rn.push(e)}function HP(e){Gu=!0,F1(e)}function ui(){if(!gf&&rn!==null){gf=!0;var e=0,t=pe;try{var r=rn;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rn=null,Gu=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),h1(Ap,ui),i}finally{pe=t,gf=!1}}return null}var ka=[],Sa=0,zc=null,Uc=0,ir=[],ar=0,qi=null,ln=1,cn="";function _i(e,t){ka[Sa++]=Uc,ka[Sa++]=zc,zc=e,Uc=t}function W1(e,t,r){ir[ar++]=ln,ir[ar++]=cn,ir[ar++]=qi,qi=e;var n=ln;e=cn;var i=32-Or(n)-1;n&=~(1<<i),r+=1;var a=32-Or(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ln=1<<32-Or(t)+i|r<<i|n,cn=a+e}else ln=1<<a|r<<i|n,cn=e}function Up(e){e.return!==null&&(_i(e,1),W1(e,1,0))}function Bp(e){for(;e===zc;)zc=ka[--Sa],ka[Sa]=null,Uc=ka[--Sa],ka[Sa]=null;for(;e===qi;)qi=ir[--ar],ir[ar]=null,cn=ir[--ar],ir[ar]=null,ln=ir[--ar],ir[ar]=null}var qt=null,Wt=null,Ne=!1,Nr=null;function q1(e,t){var r=or(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ey(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Wt=Jn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qi!==null?{id:ln,overflow:cn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=or(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qt=e,Wt=null,!0):!1;default:return!1}}function zh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Uh(e){if(Ne){var t=Wt;if(t){var r=t;if(!ey(e,t)){if(zh(e))throw Error(z(418));t=Jn(r.nextSibling);var n=qt;t&&ey(e,t)?q1(n,r):(e.flags=e.flags&-4097|2,Ne=!1,qt=e)}}else{if(zh(e))throw Error(z(418));e.flags=e.flags&-4097|2,Ne=!1,qt=e}}}function ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function $l(e){if(e!==qt)return!1;if(!Ne)return ty(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dh(e.type,e.memoizedProps)),t&&(t=Wt)){if(zh(e))throw H1(),Error(z(418));for(;t;)q1(e,t),t=Jn(t.nextSibling)}if(ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Wt=Jn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Wt=null}}else Wt=qt?Jn(e.stateNode.nextSibling):null;return!0}function H1(){for(var e=Wt;e;)e=Jn(e.nextSibling)}function qa(){Wt=qt=null,Ne=!1}function Fp(e){Nr===null?Nr=[e]:Nr.push(e)}var VP=Nn.ReactCurrentBatchConfig;function Ms(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function zl(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ry(e){var t=e._init;return t(e._payload)}function V1(e){function t(y,g){if(e){var p=y.deletions;p===null?(y.deletions=[g],y.flags|=16):p.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=ti(y,g),y.index=0,y.sibling=null,y}function a(y,g,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<g?(y.flags|=2,g):p):(y.flags|=2,g)):(y.flags|=1048576,g)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,g,p,j){return g===null||g.tag!==6?(g=_f(p,y.mode,j),g.return=y,g):(g=i(g,p),g.return=y,g)}function c(y,g,p,j){var S=p.type;return S===ya?d(y,g,p.props.children,j,p.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&ry(S)===g.type)?(j=i(g,p.props),j.ref=Ms(y,g,p),j.return=y,j):(j=_c(p.type,p.key,p.props,null,y.mode,j),j.ref=Ms(y,g,p),j.return=y,j)}function u(y,g,p,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=kf(p,y.mode,j),g.return=y,g):(g=i(g,p.children||[]),g.return=y,g)}function d(y,g,p,j,S){return g===null||g.tag!==7?(g=$i(p,y.mode,j,S),g.return=y,g):(g=i(g,p),g.return=y,g)}function f(y,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_f(""+g,y.mode,p),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Cl:return p=_c(g.type,g.key,g.props,null,y.mode,p),p.ref=Ms(y,null,g),p.return=y,p;case va:return g=kf(g,y.mode,p),g.return=y,g;case Ln:var j=g._init;return f(y,j(g._payload),p)}if(Vs(g)||Cs(g))return g=$i(g,y.mode,p,null),g.return=y,g;zl(y,g)}return null}function h(y,g,p,j){var S=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:o(y,g,""+p,j);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Cl:return p.key===S?c(y,g,p,j):null;case va:return p.key===S?u(y,g,p,j):null;case Ln:return S=p._init,h(y,g,S(p._payload),j)}if(Vs(p)||Cs(p))return S!==null?null:d(y,g,p,j,null);zl(y,p)}return null}function m(y,g,p,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(p)||null,o(g,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Cl:return y=y.get(j.key===null?p:j.key)||null,c(g,y,j,S);case va:return y=y.get(j.key===null?p:j.key)||null,u(g,y,j,S);case Ln:var k=j._init;return m(y,g,p,k(j._payload),S)}if(Vs(j)||Cs(j))return y=y.get(p)||null,d(g,y,j,S,null);zl(g,j)}return null}function v(y,g,p,j){for(var S=null,k=null,_=g,N=g=0,E=null;_!==null&&N<p.length;N++){_.index>N?(E=_,_=null):E=_.sibling;var C=h(y,_,p[N],j);if(C===null){_===null&&(_=E);break}e&&_&&C.alternate===null&&t(y,_),g=a(C,g,N),k===null?S=C:k.sibling=C,k=C,_=E}if(N===p.length)return r(y,_),Ne&&_i(y,N),S;if(_===null){for(;N<p.length;N++)_=f(y,p[N],j),_!==null&&(g=a(_,g,N),k===null?S=_:k.sibling=_,k=_);return Ne&&_i(y,N),S}for(_=n(y,_);N<p.length;N++)E=m(_,y,N,p[N],j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?N:E.key),g=a(E,g,N),k===null?S=E:k.sibling=E,k=E);return e&&_.forEach(function(P){return t(y,P)}),Ne&&_i(y,N),S}function b(y,g,p,j){var S=Cs(p);if(typeof S!="function")throw Error(z(150));if(p=S.call(p),p==null)throw Error(z(151));for(var k=S=null,_=g,N=g=0,E=null,C=p.next();_!==null&&!C.done;N++,C=p.next()){_.index>N?(E=_,_=null):E=_.sibling;var P=h(y,_,C.value,j);if(P===null){_===null&&(_=E);break}e&&_&&P.alternate===null&&t(y,_),g=a(P,g,N),k===null?S=P:k.sibling=P,k=P,_=E}if(C.done)return r(y,_),Ne&&_i(y,N),S;if(_===null){for(;!C.done;N++,C=p.next())C=f(y,C.value,j),C!==null&&(g=a(C,g,N),k===null?S=C:k.sibling=C,k=C);return Ne&&_i(y,N),S}for(_=n(y,_);!C.done;N++,C=p.next())C=m(_,y,N,C.value,j),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?N:C.key),g=a(C,g,N),k===null?S=C:k.sibling=C,k=C);return e&&_.forEach(function(M){return t(y,M)}),Ne&&_i(y,N),S}function w(y,g,p,j){if(typeof p=="object"&&p!==null&&p.type===ya&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Cl:e:{for(var S=p.key,k=g;k!==null;){if(k.key===S){if(S=p.type,S===ya){if(k.tag===7){r(y,k.sibling),g=i(k,p.props.children),g.return=y,y=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&ry(S)===k.type){r(y,k.sibling),g=i(k,p.props),g.ref=Ms(y,k,p),g.return=y,y=g;break e}r(y,k);break}else t(y,k);k=k.sibling}p.type===ya?(g=$i(p.props.children,y.mode,j,p.key),g.return=y,y=g):(j=_c(p.type,p.key,p.props,null,y.mode,j),j.ref=Ms(y,g,p),j.return=y,y=j)}return s(y);case va:e:{for(k=p.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(y,g.sibling),g=i(g,p.children||[]),g.return=y,y=g;break e}else{r(y,g);break}else t(y,g);g=g.sibling}g=kf(p,y.mode,j),g.return=y,y=g}return s(y);case Ln:return k=p._init,w(y,g,k(p._payload),j)}if(Vs(p))return v(y,g,p,j);if(Cs(p))return b(y,g,p,j);zl(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(y,g.sibling),g=i(g,p),g.return=y,y=g):(r(y,g),g=_f(p,y.mode,j),g.return=y,y=g),s(y)):r(y,g)}return w}var Ha=V1(!0),K1=V1(!1),Bc=ci(null),Fc=null,Na=null,Wp=null;function qp(){Wp=Na=Fc=null}function Hp(e){var t=Bc.current;ke(Bc),e._currentValue=t}function Bh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Da(e,t){Fc=e,Wp=Na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(At=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(Wp!==e)if(e={context:e,memoizedValue:t,next:null},Na===null){if(Fc===null)throw Error(z(308));Na=e,Fc.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Ai=null;function Vp(e){Ai===null?Ai=[e]:Ai.push(e)}function G1(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Vp(t)):(r.next=i.next,i.next=r),t.interleaved=r,yn(e,n)}function yn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $n=!1;function Kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,yn(e,r)}return i=n.interleaved,i===null?(t.next=t,Vp(n)):(t.next=i.next,i.next=t),n.interleaved=t,yn(e,r)}function vc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tp(e,r)}}function ny(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wc(e,t,r,n){var i=e.updateQueue;$n=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,m=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,b=o;switch(h=t,m=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=Ae({},f,h);break e;case 2:$n=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vi|=s,e.lanes=s,e.memoizedState=f}}function iy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(z(191,i));i.call(n)}}}var nl={},Hr=ci(nl),Eo=ci(nl),Co=ci(nl);function Ti(e){if(e===nl)throw Error(z(174));return e}function Gp(e,t){switch(we(Co,t),we(Eo,e),we(Hr,nl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wh(t,e)}ke(Hr),we(Hr,t)}function Va(){ke(Hr),ke(Eo),ke(Co)}function Q1(e){Ti(Co.current);var t=Ti(Hr.current),r=wh(t,e.type);t!==r&&(we(Eo,e),we(Hr,r))}function Yp(e){Eo.current===e&&(ke(Hr),ke(Eo))}var Ce=ci(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vf=[];function Qp(){for(var e=0;e<vf.length;e++)vf[e]._workInProgressVersionPrimary=null;vf.length=0}var yc=Nn.ReactCurrentDispatcher,yf=Nn.ReactCurrentBatchConfig,Hi=0,Pe=null,Be=null,Ge=null,Hc=!1,ao=!1,Po=0,KP=0;function mt(){throw Error(z(321))}function Jp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Mr(e[r],t[r]))return!1;return!0}function Xp(e,t,r,n,i,a){if(Hi=a,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yc.current=e===null||e.memoizedState===null?JP:XP,e=r(n,i),ao){a=0;do{if(ao=!1,Po=0,25<=a)throw Error(z(301));a+=1,Ge=Be=null,t.updateQueue=null,yc.current=ZP,e=r(n,i)}while(ao)}if(yc.current=Vc,t=Be!==null&&Be.next!==null,Hi=0,Ge=Be=Pe=null,Hc=!1,t)throw Error(z(300));return e}function Zp(){var e=Po!==0;return Po=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Pe.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function hr(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ge===null?Pe.memoizedState:Ge.next;if(t!==null)Ge=t,Be=e;else{if(e===null)throw Error(z(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ge===null?Pe.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function Oo(e,t){return typeof t=="function"?t(e):t}function xf(e){var t=hr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=Be,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((Hi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,Pe.lanes|=d,Vi|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,Mr(n,t.memoizedState)||(At=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Pe.lanes|=a,Vi|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bf(e){var t=hr(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Mr(a,t.memoizedState)||(At=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function J1(){}function X1(e,t){var r=Pe,n=hr(),i=t(),a=!Mr(n.memoizedState,i);if(a&&(n.memoizedState=i,At=!0),n=n.queue,eg(tj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ge!==null&&Ge.memoizedState.tag&1){if(r.flags|=2048,Ao(9,ej.bind(null,r,n,i,t),void 0,null),Qe===null)throw Error(z(349));Hi&30||Z1(r,t,i)}return i}function Z1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ej(e,t,r,n){t.value=r,t.getSnapshot=n,rj(t)&&nj(e)}function tj(e,t,r){return r(function(){rj(t)&&nj(e)})}function rj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mr(e,r)}catch{return!0}}function nj(e){var t=yn(e,1);t!==null&&Ar(t,e,1,-1)}function ay(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t.queue=e,e=e.dispatch=QP.bind(null,Pe,e),[t.memoizedState,e]}function Ao(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ij(){return hr().memoizedState}function xc(e,t,r,n){var i=Ur();Pe.flags|=e,i.memoizedState=Ao(1|t,r,void 0,n===void 0?null:n)}function Yu(e,t,r,n){var i=hr();n=n===void 0?null:n;var a=void 0;if(Be!==null){var s=Be.memoizedState;if(a=s.destroy,n!==null&&Jp(n,s.deps)){i.memoizedState=Ao(t,r,a,n);return}}Pe.flags|=e,i.memoizedState=Ao(1|t,r,a,n)}function sy(e,t){return xc(8390656,8,e,t)}function eg(e,t){return Yu(2048,8,e,t)}function aj(e,t){return Yu(4,2,e,t)}function sj(e,t){return Yu(4,4,e,t)}function oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lj(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4,4,oj.bind(null,t,e),r)}function tg(){}function cj(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function uj(e,t){var r=hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dj(e,t,r){return Hi&21?(Mr(r,t)||(r=g1(),Pe.lanes|=r,Vi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,At=!0),e.memoizedState=r)}function GP(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=yf.transition;yf.transition={};try{e(!1),t()}finally{pe=r,yf.transition=n}}function fj(){return hr().memoizedState}function YP(e,t,r){var n=ei(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},hj(e))mj(t,r);else if(r=G1(e,t,r,n),r!==null){var i=_t();Ar(r,e,n,i),pj(r,t,n)}}function QP(e,t,r){var n=ei(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(hj(e))mj(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Mr(o,s)){var c=t.interleaved;c===null?(i.next=i,Vp(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=G1(e,t,i,n),r!==null&&(i=_t(),Ar(r,e,n,i),pj(r,t,n))}}function hj(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function mj(e,t){ao=Hc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tp(e,r)}}var Vc={readContext:fr,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},JP={readContext:fr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:sy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xc(4194308,4,oj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xc(4194308,4,e,t)},useInsertionEffect:function(e,t){return xc(4,2,e,t)},useMemo:function(e,t){var r=Ur();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ur();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=YP.bind(null,Pe,e),[n.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:ay,useDebugValue:tg,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=ay(!1),t=e[0];return e=GP.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pe,i=Ur();if(Ne){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),Qe===null)throw Error(z(349));Hi&30||Z1(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,sy(tj.bind(null,n,a,e),[e]),n.flags|=2048,Ao(9,ej.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ur(),t=Qe.identifierPrefix;if(Ne){var r=cn,n=ln;r=(n&~(1<<32-Or(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Po++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=KP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XP={readContext:fr,useCallback:cj,useContext:fr,useEffect:eg,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:sj,useMemo:uj,useReducer:xf,useRef:ij,useState:function(){return xf(Oo)},useDebugValue:tg,useDeferredValue:function(e){var t=hr();return dj(t,Be.memoizedState,e)},useTransition:function(){var e=xf(Oo)[0],t=hr().memoizedState;return[e,t]},useMutableSource:J1,useSyncExternalStore:X1,useId:fj,unstable_isNewReconciler:!1},ZP={readContext:fr,useCallback:cj,useContext:fr,useEffect:eg,useImperativeHandle:lj,useInsertionEffect:aj,useLayoutEffect:sj,useMemo:uj,useReducer:bf,useRef:ij,useState:function(){return bf(Oo)},useDebugValue:tg,useDeferredValue:function(e){var t=hr();return Be===null?t.memoizedState=e:dj(t,Be.memoizedState,e)},useTransition:function(){var e=bf(Oo)[0],t=hr().memoizedState;return[e,t]},useMutableSource:J1,useSyncExternalStore:X1,useId:fj,unstable_isNewReconciler:!1};function _r(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Qu={isMounted:function(e){return(e=e._reactInternals)?ea(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),i=ei(e),a=fn(n,i);a.payload=t,r!=null&&(a.callback=r),t=Xn(e,a,i),t!==null&&(Ar(t,e,i,n),vc(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),i=ei(e),a=fn(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Xn(e,a,i),t!==null&&(Ar(t,e,i,n),vc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=ei(e),i=fn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Xn(e,i,n),t!==null&&(Ar(t,e,n,r),vc(t,e,n))}};function oy(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!_o(r,n)||!_o(i,a):!0}function gj(e,t,r){var n=!1,i=ai,a=t.contextType;return typeof a=="object"&&a!==null?a=fr(a):(i=It(t)?Wi:xt.current,n=t.contextTypes,a=(n=n!=null)?Wa(e,i):ai),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ly(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Qu.enqueueReplaceState(t,t.state,null)}function Wh(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Kp(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=fr(a):(a=It(t)?Wi:xt.current,i.context=Wa(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fh(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Qu.enqueueReplaceState(i,i.state,null),Wc(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ka(e,t){try{var r="",n=t;do r+=EC(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function wf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function qh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var eO=typeof WeakMap=="function"?WeakMap:Map;function vj(e,t,r){r=fn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gc||(Gc=!0,em=n),qh(e,t)},r}function yj(e,t,r){r=fn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){qh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){qh(e,t),typeof n!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function cy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new eO;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=mO.bind(null,e,t,r),t.then(e,e))}function uy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dy(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fn(-1,1),t.tag=2,Xn(r,t,1))),r.lanes|=1),e)}var tO=Nn.ReactCurrentOwner,At=!1;function wt(e,t,r,n){t.child=e===null?K1(t,null,r,n):Ha(t,e.child,r,n)}function fy(e,t,r,n,i){r=r.render;var a=t.ref;return Da(t,i),n=Xp(e,t,r,n,a,i),r=Zp(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Ne&&r&&Up(t),t.flags|=1,wt(e,t,n,i),t.child)}function hy(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!cg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,xj(e,t,a,n,i)):(e=_c(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:_o,r(s,n)&&e.ref===t.ref)return xn(e,t,i)}return t.flags|=1,e=ti(a,n),e.ref=t.ref,e.return=t,t.child=e}function xj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(_o(a,n)&&e.ref===t.ref)if(At=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(At=!0);else return t.lanes=e.lanes,xn(e,t,i)}return Hh(e,t,r,n,i)}function bj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(Ca,zt),zt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,we(Ca,zt),zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,we(Ca,zt),zt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,we(Ca,zt),zt|=n;return wt(e,t,i,r),t.child}function wj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hh(e,t,r,n,i){var a=It(r)?Wi:xt.current;return a=Wa(t,a),Da(t,i),r=Xp(e,t,r,n,a,i),n=Zp(),e!==null&&!At?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xn(e,t,i)):(Ne&&n&&Up(t),t.flags|=1,wt(e,t,r,i),t.child)}function my(e,t,r,n,i){if(It(r)){var a=!0;$c(t)}else a=!1;if(Da(t,i),t.stateNode===null)bc(e,t),gj(t,r,n),Wh(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=It(r)?Wi:xt.current,u=Wa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&ly(t,s,n,u),$n=!1;var h=t.memoizedState;s.state=h,Wc(t,n,s,i),c=t.memoizedState,o!==n||h!==c||Mt.current||$n?(typeof d=="function"&&(Fh(t,r,d,n),c=t.memoizedState),(o=$n||oy(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Y1(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:_r(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=fr(c):(c=It(r)?Wi:xt.current,c=Wa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&ly(t,s,n,c),$n=!1,h=t.memoizedState,s.state=h,Wc(t,n,s,i);var v=t.memoizedState;o!==f||h!==v||Mt.current||$n?(typeof m=="function"&&(Fh(t,r,m,n),v=t.memoizedState),(u=$n||oy(t,r,u,n,h,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Vh(e,t,r,n,a,i)}function Vh(e,t,r,n,i,a){wj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&Zv(t,r,!1),xn(e,t,a);n=t.stateNode,tO.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ha(t,e.child,null,a),t.child=Ha(t,null,o,a)):wt(e,t,o,a),t.memoizedState=n.state,i&&Zv(t,r,!0),t.child}function jj(e){var t=e.stateNode;t.pendingContext?Xv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xv(e,t.context,!1),Gp(e,t.containerInfo)}function py(e,t,r,n,i){return qa(),Fp(i),t.flags|=256,wt(e,t,r,n),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Gh(e){return{baseLanes:e,cachePool:null,transitions:null}}function _j(e,t,r){var n=t.pendingProps,i=Ce.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),we(Ce,i&1),e===null)return Uh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=Zu(s,n,0,null),e=$i(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gh(r),t.memoizedState=Kh,e):rg(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return rO(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ti(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=ti(o,a):(a=$i(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Gh(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Kh,n}return a=e.child,e=a.sibling,n=ti(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function rg(e,t){return t=Zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ul(e,t,r,n){return n!==null&&Fp(n),Ha(t,e.child,null,r),e=rg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rO(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=wf(Error(z(422))),Ul(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Zu({mode:"visible",children:n.children},i,0,null),a=$i(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ha(t,e.child,null,s),t.child.memoizedState=Gh(s),t.memoizedState=Kh,a);if(!(t.mode&1))return Ul(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(z(419)),n=wf(a,n,void 0),Ul(e,t,s,n)}if(o=(s&e.childLanes)!==0,At||o){if(n=Qe,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,yn(e,i),Ar(n,e,i,-1))}return lg(),n=wf(Error(z(421))),Ul(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pO.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Wt=Jn(i.nextSibling),qt=t,Ne=!0,Nr=null,e!==null&&(ir[ar++]=ln,ir[ar++]=cn,ir[ar++]=qi,ln=e.id,cn=e.overflow,qi=t),t=rg(t,n.children),t.flags|=4096,t)}function gy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Bh(e.return,t,r)}function jf(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function kj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(wt(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,r,t);else if(e.tag===19)gy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(we(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qc(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),jf(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qc(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}jf(t,!0,r,null,a);break;case"together":jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=ti(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ti(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function nO(e,t,r){switch(t.tag){case 3:jj(t),qa();break;case 5:Q1(t);break;case 1:It(t.type)&&$c(t);break;case 4:Gp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;we(Bc,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(we(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?_j(e,t,r):(we(Ce,Ce.current&1),e=xn(e,t,r),e!==null?e.sibling:null);we(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,bj(e,t,r)}return xn(e,t,r)}var Sj,Yh,Nj,Ej;Sj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yh=function(){};Nj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ti(Hr.current);var a=null;switch(r){case"input":i=vh(e,i),n=vh(e,n),a=[];break;case"select":i=Ae({},i,{value:void 0}),n=Ae({},n,{value:void 0}),a=[];break;case"textarea":i=bh(e,i),n=bh(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rc)}jh(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(go.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(go.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&je("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ej=function(e,t,r,n){r!==n&&(t.flags|=4)};function Is(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function iO(e,t,r){var n=t.pendingProps;switch(Bp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return It(t.type)&&Lc(),pt(t),null;case 3:return n=t.stateNode,Va(),ke(Mt),ke(xt),Qp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($l(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nr!==null&&(nm(Nr),Nr=null))),Yh(e,t),pt(t),null;case 5:Yp(t);var i=Ti(Co.current);if(r=t.type,e!==null&&t.stateNode!=null)Nj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return pt(t),null}if(e=Ti(Hr.current),$l(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Fr]=t,n[No]=a,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(i=0;i<Gs.length;i++)je(Gs[i],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":Sv(n,a),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},je("invalid",n);break;case"textarea":Ev(n,a),je("invalid",n)}jh(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ll(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ll(n.textContent,o,e),i=["children",""+o]):go.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&je("scroll",n)}switch(r){case"input":Pl(n),Nv(n,a,!0);break;case"textarea":Pl(n),Cv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Rc)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=t1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Fr]=t,e[No]=n,Sj(e,t,!1,!1),t.stateNode=e;e:{switch(s=_h(r,n),r){case"dialog":je("cancel",e),je("close",e),i=n;break;case"iframe":case"object":case"embed":je("load",e),i=n;break;case"video":case"audio":for(i=0;i<Gs.length;i++)je(Gs[i],e);i=n;break;case"source":je("error",e),i=n;break;case"img":case"image":case"link":je("error",e),je("load",e),i=n;break;case"details":je("toggle",e),i=n;break;case"input":Sv(e,n),i=vh(e,n),je("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ae({},n,{value:void 0}),je("invalid",e);break;case"textarea":Ev(e,n),i=bh(e,n),je("invalid",e);break;default:i=n}jh(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?i1(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&r1(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vo(e,c):typeof c=="number"&&vo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(go.hasOwnProperty(a)?c!=null&&a==="onScroll"&&je("scroll",e):c!=null&&Np(e,a,c,s))}switch(r){case"input":Pl(e),Nv(e,n,!1);break;case"textarea":Pl(e),Cv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ii(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Aa(e,!!n.multiple,a,!1):n.defaultValue!=null&&Aa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Ej(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=Ti(Co.current),Ti(Hr.current),$l(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(a=n.nodeValue!==r)&&(e=qt,e!==null))switch(e.tag){case 3:Ll(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ll(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return pt(t),null;case 13:if(ke(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&Wt!==null&&t.mode&1&&!(t.flags&128))H1(),qa(),t.flags|=98560,a=!1;else if(a=$l(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(z(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[Fr]=t}else qa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),a=!1}else Nr!==null&&(nm(Nr),Nr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?We===0&&(We=3):lg())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Va(),Yh(e,t),e===null&&ko(t.stateNode.containerInfo),pt(t),null;case 10:return Hp(t.type._context),pt(t),null;case 17:return It(t.type)&&Lc(),pt(t),null;case 19:if(ke(Ce),a=t.memoizedState,a===null)return pt(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Is(a,!1);else{if(We!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qc(e),s!==null){for(t.flags|=128,Is(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return we(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ie()>Ga&&(t.flags|=128,n=!0,Is(a,!1),t.lanes=4194304)}else{if(!n)if(e=qc(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Is(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Ne)return pt(t),null}else 2*Ie()-a.renderingStartTime>Ga&&r!==1073741824&&(t.flags|=128,n=!0,Is(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ie(),t.sibling=null,r=Ce.current,we(Ce,n?r&1|2:r&1),t):(pt(t),null);case 22:case 23:return og(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zt&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function aO(e,t){switch(Bp(t),t.tag){case 1:return It(t.type)&&Lc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Va(),ke(Mt),ke(xt),Qp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yp(t),null;case 13:if(ke(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Ce),null;case 4:return Va(),null;case 10:return Hp(t.type._context),null;case 22:case 23:return og(),null;case 24:return null;default:return null}}var Bl=!1,vt=!1,sO=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ea(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function Qh(e,t,r){try{r()}catch(n){Te(e,t,n)}}var vy=!1;function oO(e,t){if(Mh=Mc,e=T1(),zp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ih={focusedElem:e,selectionRange:r},Mc=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,w=v.memoizedState,y=t.stateNode,g=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:_r(t.type,b),w);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Te(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return v=vy,vy=!1,v}function so(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Qh(t,r,a)}i=i.next}while(i!==n)}}function Ju(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Jh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cj(e){var t=e.alternate;t!==null&&(e.alternate=null,Cj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[No],delete t[Lh],delete t[WP],delete t[qP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pj(e){return e.tag===5||e.tag===3||e.tag===4}function yy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rc));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function Zh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Zh(e,t,r),e=e.sibling;e!==null;)Zh(e,t,r),e=e.sibling}var it=null,kr=!1;function In(e,t,r){for(r=r.child;r!==null;)Oj(e,t,r),r=r.sibling}function Oj(e,t,r){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(Wu,r)}catch{}switch(r.tag){case 5:vt||Ea(r,t);case 6:var n=it,i=kr;it=null,In(e,t,r),it=n,kr=i,it!==null&&(kr?(e=it,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):it.removeChild(r.stateNode));break;case 18:it!==null&&(kr?(e=it,r=r.stateNode,e.nodeType===8?pf(e.parentNode,r):e.nodeType===1&&pf(e,r),wo(e)):pf(it,r.stateNode));break;case 4:n=it,i=kr,it=r.stateNode.containerInfo,kr=!0,In(e,t,r),it=n,kr=i;break;case 0:case 11:case 14:case 15:if(!vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Qh(r,t,s),i=i.next}while(i!==n)}In(e,t,r);break;case 1:if(!vt&&(Ea(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Te(r,t,o)}In(e,t,r);break;case 21:In(e,t,r);break;case 22:r.mode&1?(vt=(n=vt)||r.memoizedState!==null,In(e,t,r),vt=n):In(e,t,r);break;default:In(e,t,r)}}function xy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sO),t.forEach(function(n){var i=gO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function br(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:it=o.stateNode,kr=!1;break e;case 3:it=o.stateNode.containerInfo,kr=!0;break e;case 4:it=o.stateNode.containerInfo,kr=!0;break e}o=o.return}if(it===null)throw Error(z(160));Oj(a,s,i),it=null,kr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Te(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Aj(t,e),t=t.sibling}function Aj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(br(t,e),$r(e),n&4){try{so(3,e,e.return),Ju(3,e)}catch(b){Te(e,e.return,b)}try{so(5,e,e.return)}catch(b){Te(e,e.return,b)}}break;case 1:br(t,e),$r(e),n&512&&r!==null&&Ea(r,r.return);break;case 5:if(br(t,e),$r(e),n&512&&r!==null&&Ea(r,r.return),e.flags&32){var i=e.stateNode;try{vo(i,"")}catch(b){Te(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Zw(i,a),_h(o,s);var u=_h(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?i1(i,f):d==="dangerouslySetInnerHTML"?r1(i,f):d==="children"?vo(i,f):Np(i,d,f,u)}switch(o){case"input":yh(i,a);break;case"textarea":e1(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Aa(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Aa(i,!!a.multiple,a.defaultValue,!0):Aa(i,!!a.multiple,a.multiple?[]:"",!1))}i[No]=a}catch(b){Te(e,e.return,b)}}break;case 6:if(br(t,e),$r(e),n&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Te(e,e.return,b)}}break;case 3:if(br(t,e),$r(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(b){Te(e,e.return,b)}break;case 4:br(t,e),$r(e);break;case 13:br(t,e),$r(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ag=Ie())),n&4&&xy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vt=(u=vt)||d,br(t,e),vt=u):br(t,e),$r(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(X=e,d=e.child;d!==null;){for(f=X=d;X!==null;){switch(h=X,m=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:Ea(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){Te(n,r,b)}}break;case 5:Ea(h,h.return);break;case 22:if(h.memoizedState!==null){wy(f);continue}}m!==null?(m.return=h,X=m):wy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=n1("display",s))}catch(b){Te(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Te(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:br(t,e),$r(e),n&4&&xy(e);break;case 21:break;default:br(t,e),$r(e)}}function $r(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pj(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vo(i,""),n.flags&=-33);var a=yy(e);Zh(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=yy(e);Xh(e,o,s);break;default:throw Error(z(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function lO(e,t,r){X=e,Tj(e)}function Tj(e,t,r){for(var n=(e.mode&1)!==0;X!==null;){var i=X,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Bl;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||vt;o=Bl;var u=vt;if(Bl=s,(vt=c)&&!u)for(X=i;X!==null;)s=X,c=s.child,s.tag===22&&s.memoizedState!==null?jy(i):c!==null?(c.return=s,X=c):jy(i);for(;a!==null;)X=a,Tj(a),a=a.sibling;X=i,Bl=o,vt=u}by(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,X=a):by(e)}}function by(e){for(;X!==null;){var t=X;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||Ju(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:_r(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&iy(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}iy(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}vt||t.flags&512&&Jh(t)}catch(h){Te(t,t.return,h)}}if(t===e){X=null;break}if(r=t.sibling,r!==null){r.return=t.return,X=r;break}X=t.return}}function wy(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var r=t.sibling;if(r!==null){r.return=t.return,X=r;break}X=t.return}}function jy(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ju(4,t)}catch(c){Te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Te(t,i,c)}}var a=t.return;try{Jh(t)}catch(c){Te(t,a,c)}break;case 5:var s=t.return;try{Jh(t)}catch(c){Te(t,s,c)}}}catch(c){Te(t,t.return,c)}if(t===e){X=null;break}var o=t.sibling;if(o!==null){o.return=t.return,X=o;break}X=t.return}}var cO=Math.ceil,Kc=Nn.ReactCurrentDispatcher,ng=Nn.ReactCurrentOwner,ur=Nn.ReactCurrentBatchConfig,de=0,Qe=null,Re=null,lt=0,zt=0,Ca=ci(0),We=0,To=null,Vi=0,Xu=0,ig=0,oo=null,Pt=null,ag=0,Ga=1/0,en=null,Gc=!1,em=null,Zn=null,Fl=!1,Vn=null,Yc=0,lo=0,tm=null,wc=-1,jc=0;function _t(){return de&6?Ie():wc!==-1?wc:wc=Ie()}function ei(e){return e.mode&1?de&2&&lt!==0?lt&-lt:VP.transition!==null?(jc===0&&(jc=g1()),jc):(e=pe,e!==0||(e=window.event,e=e===void 0?16:_1(e.type)),e):1}function Ar(e,t,r,n){if(50<lo)throw lo=0,tm=null,Error(z(185));el(e,r,n),(!(de&2)||e!==Qe)&&(e===Qe&&(!(de&2)&&(Xu|=r),We===4&&Fn(e,lt)),Dt(e,n),r===1&&de===0&&!(t.mode&1)&&(Ga=Ie()+500,Gu&&ui()))}function Dt(e,t){var r=e.callbackNode;VC(e,t);var n=Tc(e,e===Qe?lt:0);if(n===0)r!==null&&Av(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Av(r),t===1)e.tag===0?HP(_y.bind(null,e)):F1(_y.bind(null,e)),BP(function(){!(de&6)&&ui()}),r=null;else{switch(v1(n)){case 1:r=Ap;break;case 4:r=m1;break;case 16:r=Ac;break;case 536870912:r=p1;break;default:r=Ac}r=Uj(r,Mj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Mj(e,t){if(wc=-1,jc=0,de&6)throw Error(z(327));var r=e.callbackNode;if(Ra()&&e.callbackNode!==r)return null;var n=Tc(e,e===Qe?lt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qc(e,n);else{t=n;var i=de;de|=2;var a=Dj();(Qe!==e||lt!==t)&&(en=null,Ga=Ie()+500,Li(e,t));do try{fO();break}catch(o){Ij(e,o)}while(!0);qp(),Kc.current=a,de=i,Re!==null?t=0:(Qe=null,lt=0,t=We)}if(t!==0){if(t===2&&(i=Ch(e),i!==0&&(n=i,t=rm(e,i))),t===1)throw r=To,Li(e,0),Fn(e,n),Dt(e,Ie()),r;if(t===6)Fn(e,n);else{if(i=e.current.alternate,!(n&30)&&!uO(i)&&(t=Qc(e,n),t===2&&(a=Ch(e),a!==0&&(n=a,t=rm(e,a))),t===1))throw r=To,Li(e,0),Fn(e,n),Dt(e,Ie()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:ki(e,Pt,en);break;case 3:if(Fn(e,n),(n&130023424)===n&&(t=ag+500-Ie(),10<t)){if(Tc(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Rh(ki.bind(null,e,Pt,en),t);break}ki(e,Pt,en);break;case 4:if(Fn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Or(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cO(n/1960))-n,10<n){e.timeoutHandle=Rh(ki.bind(null,e,Pt,en),n);break}ki(e,Pt,en);break;case 5:ki(e,Pt,en);break;default:throw Error(z(329))}}}return Dt(e,Ie()),e.callbackNode===r?Mj.bind(null,e):null}function rm(e,t){var r=oo;return e.current.memoizedState.isDehydrated&&(Li(e,t).flags|=256),e=Qc(e,t),e!==2&&(t=Pt,Pt=r,t!==null&&nm(t)),e}function nm(e){Pt===null?Pt=e:Pt.push.apply(Pt,e)}function uO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Mr(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fn(e,t){for(t&=~ig,t&=~Xu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Or(t),n=1<<r;e[r]=-1,t&=~n}}function _y(e){if(de&6)throw Error(z(327));Ra();var t=Tc(e,0);if(!(t&1))return Dt(e,Ie()),null;var r=Qc(e,t);if(e.tag!==0&&r===2){var n=Ch(e);n!==0&&(t=n,r=rm(e,n))}if(r===1)throw r=To,Li(e,0),Fn(e,t),Dt(e,Ie()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ki(e,Pt,en),Dt(e,Ie()),null}function sg(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(Ga=Ie()+500,Gu&&ui())}}function Ki(e){Vn!==null&&Vn.tag===0&&!(de&6)&&Ra();var t=de;de|=1;var r=ur.transition,n=pe;try{if(ur.transition=null,pe=1,e)return e()}finally{pe=n,ur.transition=r,de=t,!(de&6)&&ui()}}function og(){zt=Ca.current,ke(Ca)}function Li(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,UP(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(Bp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lc();break;case 3:Va(),ke(Mt),ke(xt),Qp();break;case 5:Yp(n);break;case 4:Va();break;case 13:ke(Ce);break;case 19:ke(Ce);break;case 10:Hp(n.type._context);break;case 22:case 23:og()}r=r.return}if(Qe=e,Re=e=ti(e.current,null),lt=zt=t,We=0,To=null,ig=Xu=Vi=0,Pt=oo=null,Ai!==null){for(t=0;t<Ai.length;t++)if(r=Ai[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Ai=null}return e}function Ij(e,t){do{var r=Re;try{if(qp(),yc.current=Vc,Hc){for(var n=Pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Hc=!1}if(Hi=0,Ge=Be=Pe=null,ao=!1,Po=0,ng.current=null,r===null||r.return===null){We=1,To=t,Re=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=lt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=uy(s);if(m!==null){m.flags&=-257,dy(m,s,o,a,t),m.mode&1&&cy(a,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){cy(a,u,t),lg();break e}c=Error(z(426))}}else if(Ne&&o.mode&1){var w=uy(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),dy(w,s,o,a,t),Fp(Ka(c,o));break e}}a=c=Ka(c,o),We!==4&&(We=2),oo===null?oo=[a]:oo.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=vj(a,c,t);ny(a,y);break e;case 1:o=c;var g=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Zn===null||!Zn.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=yj(a,o,t);ny(a,j);break e}}a=a.return}while(a!==null)}Lj(r)}catch(S){t=S,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(!0)}function Dj(){var e=Kc.current;return Kc.current=Vc,e===null?Vc:e}function lg(){(We===0||We===3||We===2)&&(We=4),Qe===null||!(Vi&268435455)&&!(Xu&268435455)||Fn(Qe,lt)}function Qc(e,t){var r=de;de|=2;var n=Dj();(Qe!==e||lt!==t)&&(en=null,Li(e,t));do try{dO();break}catch(i){Ij(e,i)}while(!0);if(qp(),de=r,Kc.current=n,Re!==null)throw Error(z(261));return Qe=null,lt=0,We}function dO(){for(;Re!==null;)Rj(Re)}function fO(){for(;Re!==null&&!LC();)Rj(Re)}function Rj(e){var t=zj(e.alternate,e,zt);e.memoizedProps=e.pendingProps,t===null?Lj(e):Re=t,ng.current=null}function Lj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aO(r,t),r!==null){r.flags&=32767,Re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Re=null;return}}else if(r=iO(r,t,zt),r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);We===0&&(We=5)}function ki(e,t,r){var n=pe,i=ur.transition;try{ur.transition=null,pe=1,hO(e,t,r,n)}finally{ur.transition=i,pe=n}return null}function hO(e,t,r,n){do Ra();while(Vn!==null);if(de&6)throw Error(z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(KC(e,a),e===Qe&&(Re=Qe=null,lt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fl||(Fl=!0,Uj(Ac,function(){return Ra(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ur.transition,ur.transition=null;var s=pe;pe=1;var o=de;de|=4,ng.current=null,oO(e,r),Aj(r,e),MP(Ih),Mc=!!Mh,Ih=Mh=null,e.current=r,lO(r),$C(),de=o,pe=s,ur.transition=a}else e.current=r;if(Fl&&(Fl=!1,Vn=e,Yc=i),a=e.pendingLanes,a===0&&(Zn=null),BC(r.stateNode),Dt(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gc)throw Gc=!1,e=em,em=null,e;return Yc&1&&e.tag!==0&&Ra(),a=e.pendingLanes,a&1?e===tm?lo++:(lo=0,tm=e):lo=0,ui(),null}function Ra(){if(Vn!==null){var e=v1(Yc),t=ur.transition,r=pe;try{if(ur.transition=null,pe=16>e?16:e,Vn===null)var n=!1;else{if(e=Vn,Vn=null,Yc=0,de&6)throw Error(z(331));var i=de;for(de|=4,X=e.current;X!==null;){var a=X,s=a.child;if(X.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(X=u;X!==null;){var d=X;switch(d.tag){case 0:case 11:case 15:so(8,d,a)}var f=d.child;if(f!==null)f.return=d,X=f;else for(;X!==null;){d=X;var h=d.sibling,m=d.return;if(Cj(d),d===u){X=null;break}if(h!==null){h.return=m,X=h;break}X=m}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}X=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,X=s;else e:for(;X!==null;){if(a=X,a.flags&2048)switch(a.tag){case 0:case 11:case 15:so(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,X=y;break e}X=a.return}}var g=e.current;for(X=g;X!==null;){s=X;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,X=p;else e:for(s=g;X!==null;){if(o=X,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ju(9,o)}}catch(S){Te(o,o.return,S)}if(o===s){X=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,X=j;break e}X=o.return}}if(de=i,ui(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(Wu,e)}catch{}n=!0}return n}finally{pe=r,ur.transition=t}}return!1}function ky(e,t,r){t=Ka(r,t),t=vj(e,t,1),e=Xn(e,t,1),t=_t(),e!==null&&(el(e,1,t),Dt(e,t))}function Te(e,t,r){if(e.tag===3)ky(e,e,r);else for(;t!==null;){if(t.tag===3){ky(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zn===null||!Zn.has(n))){e=Ka(r,e),e=yj(t,e,1),t=Xn(t,e,1),e=_t(),t!==null&&(el(t,1,e),Dt(t,e));break}}t=t.return}}function mO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(lt&r)===r&&(We===4||We===3&&(lt&130023424)===lt&&500>Ie()-ag?Li(e,0):ig|=r),Dt(e,t)}function $j(e,t){t===0&&(e.mode&1?(t=Tl,Tl<<=1,!(Tl&130023424)&&(Tl=4194304)):t=1);var r=_t();e=yn(e,t),e!==null&&(el(e,t,r),Dt(e,r))}function pO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$j(e,r)}function gO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),$j(e,r)}var zj;zj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)At=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return At=!1,nO(e,t,r);At=!!(e.flags&131072)}else At=!1,Ne&&t.flags&1048576&&W1(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bc(e,t),e=t.pendingProps;var i=Wa(t,xt.current);Da(t,r),i=Xp(null,t,n,e,i,r);var a=Zp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,It(n)?(a=!0,$c(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kp(t),i.updater=Qu,t.stateNode=i,i._reactInternals=t,Wh(t,n,e,r),t=Vh(null,t,n,!0,a,r)):(t.tag=0,Ne&&a&&Up(t),wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bc(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=yO(n),e=_r(n,e),i){case 0:t=Hh(null,t,n,e,r);break e;case 1:t=my(null,t,n,e,r);break e;case 11:t=fy(null,t,n,e,r);break e;case 14:t=hy(null,t,n,_r(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_r(n,i),Hh(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_r(n,i),my(e,t,n,i,r);case 3:e:{if(jj(t),e===null)throw Error(z(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Y1(e,t),Wc(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Ka(Error(z(423)),t),t=py(e,t,n,r,i);break e}else if(n!==i){i=Ka(Error(z(424)),t),t=py(e,t,n,r,i);break e}else for(Wt=Jn(t.stateNode.containerInfo.firstChild),qt=t,Ne=!0,Nr=null,r=K1(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qa(),n===i){t=xn(e,t,r);break e}wt(e,t,n,r)}t=t.child}return t;case 5:return Q1(t),e===null&&Uh(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Dh(n,i)?s=null:a!==null&&Dh(n,a)&&(t.flags|=32),wj(e,t),wt(e,t,s,r),t.child;case 6:return e===null&&Uh(t),null;case 13:return _j(e,t,r);case 4:return Gp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ha(t,null,n,r):wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_r(n,i),fy(e,t,n,i,r);case 7:return wt(e,t,t.pendingProps,r),t.child;case 8:return wt(e,t,t.pendingProps.children,r),t.child;case 12:return wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,we(Bc,n._currentValue),n._currentValue=s,a!==null)if(Mr(a.value,s)){if(a.children===i.children&&!Mt.current){t=xn(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=fn(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Bh(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Bh(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Da(t,r),i=fr(i),n=n(i),t.flags|=1,wt(e,t,n,r),t.child;case 14:return n=t.type,i=_r(n,t.pendingProps),i=_r(n.type,i),hy(e,t,n,i,r);case 15:return xj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:_r(n,i),bc(e,t),t.tag=1,It(n)?(e=!0,$c(t)):e=!1,Da(t,r),gj(t,n,i),Wh(t,n,i,r),Vh(null,t,n,!0,e,r);case 19:return kj(e,t,r);case 22:return bj(e,t,r)}throw Error(z(156,t.tag))};function Uj(e,t){return h1(e,t)}function vO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(e,t,r,n){return new vO(e,t,r,n)}function cg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yO(e){if(typeof e=="function")return cg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cp)return 11;if(e===Pp)return 14}return 2}function ti(e,t){var r=e.alternate;return r===null?(r=or(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _c(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")cg(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ya:return $i(r.children,i,a,t);case Ep:s=8,i|=8;break;case hh:return e=or(12,r,t,i|2),e.elementType=hh,e.lanes=a,e;case mh:return e=or(13,r,t,i),e.elementType=mh,e.lanes=a,e;case ph:return e=or(19,r,t,i),e.elementType=ph,e.lanes=a,e;case Qw:return Zu(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Gw:s=10;break e;case Yw:s=9;break e;case Cp:s=11;break e;case Pp:s=14;break e;case Ln:s=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=or(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function $i(e,t,r,n){return e=or(7,e,n,t),e.lanes=r,e}function Zu(e,t,r,n){return e=or(22,e,n,t),e.elementType=Qw,e.lanes=r,e.stateNode={isHidden:!1},e}function _f(e,t,r){return e=or(6,e,null,t),e.lanes=r,e}function kf(e,t,r){return t=or(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ug(e,t,r,n,i,a,s,o,c){return e=new xO(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=or(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kp(a),e}function bO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Bj(e){if(!e)return ai;e=e._reactInternals;e:{if(ea(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(It(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(It(r))return B1(e,r,t)}return t}function Fj(e,t,r,n,i,a,s,o,c){return e=ug(r,n,!0,e,i,a,s,o,c),e.context=Bj(null),r=e.current,n=_t(),i=ei(r),a=fn(n,i),a.callback=t??null,Xn(r,a,i),e.current.lanes=i,el(e,i,n),Dt(e,n),e}function ed(e,t,r,n){var i=t.current,a=_t(),s=ei(i);return r=Bj(r),t.context===null?t.context=r:t.pendingContext=r,t=fn(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xn(i,t,s),e!==null&&(Ar(e,i,s,a),vc(e,i,s)),s}function Jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dg(e,t){Sy(e,t),(e=e.alternate)&&Sy(e,t)}function wO(){return null}var Wj=typeof reportError=="function"?reportError:function(e){console.error(e)};function fg(e){this._internalRoot=e}td.prototype.render=fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));ed(e,t,null,null)};td.prototype.unmount=fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){ed(null,e,null,null)}),t[vn]=null}};function td(e){this._internalRoot=e}td.prototype.unstable_scheduleHydration=function(e){if(e){var t=b1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bn.length&&t!==0&&t<Bn[r].priority;r++);Bn.splice(r,0,e),r===0&&j1(e)}};function hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ny(){}function jO(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Jc(s);a.call(u)}}var s=Fj(t,n,e,0,null,!1,!1,"",Ny);return e._reactRootContainer=s,e[vn]=s.current,ko(e.nodeType===8?e.parentNode:e),Ki(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Jc(c);o.call(u)}}var c=ug(e,0,!1,null,null,!1,!1,"",Ny);return e._reactRootContainer=c,e[vn]=c.current,ko(e.nodeType===8?e.parentNode:e),Ki(function(){ed(t,c,r,n)}),c}function nd(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Jc(s);o.call(c)}}ed(t,s,e,i)}else s=jO(r,t,e,i,n);return Jc(s)}y1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ks(t.pendingLanes);r!==0&&(Tp(t,r|1),Dt(t,Ie()),!(de&6)&&(Ga=Ie()+500,ui()))}break;case 13:Ki(function(){var n=yn(e,1);if(n!==null){var i=_t();Ar(n,e,1,i)}}),dg(e,1)}};Mp=function(e){if(e.tag===13){var t=yn(e,134217728);if(t!==null){var r=_t();Ar(t,e,134217728,r)}dg(e,134217728)}};x1=function(e){if(e.tag===13){var t=ei(e),r=yn(e,t);if(r!==null){var n=_t();Ar(r,e,t,n)}dg(e,t)}};b1=function(){return pe};w1=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};Sh=function(e,t,r){switch(t){case"input":if(yh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ku(n);if(!i)throw Error(z(90));Xw(n),yh(n,i)}}}break;case"textarea":e1(e,r);break;case"select":t=r.value,t!=null&&Aa(e,!!r.multiple,t,!1)}};o1=sg;l1=Ki;var _O={usingClientEntryPoint:!1,Events:[rl,ja,Ku,a1,s1,sg]},Ds={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kO={bundleType:Ds.bundleType,version:Ds.version,rendererPackageName:Ds.rendererPackageName,rendererConfig:Ds.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=d1(e),e===null?null:e.stateNode},findFiberByHostInstance:Ds.findFiberByHostInstance||wO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Wu=Wl.inject(kO),qr=Wl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_O;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(t))throw Error(z(200));return bO(e,t,null,r)};Gt.createRoot=function(e,t){if(!hg(e))throw Error(z(299));var r=!1,n="",i=Wj;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ug(e,1,!1,null,null,r,!1,n,i),e[vn]=t.current,ko(e.nodeType===8?e.parentNode:e),new fg(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=d1(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Ki(e)};Gt.hydrate=function(e,t,r){if(!rd(t))throw Error(z(200));return nd(null,e,t,!0,r)};Gt.hydrateRoot=function(e,t,r){if(!hg(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Wj;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Fj(t,null,e,1,r??null,i,!1,a,s),e[vn]=t.current,ko(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new td(t)};Gt.render=function(e,t,r){if(!rd(t))throw Error(z(200));return nd(null,e,t,!1,r)};Gt.unmountComponentAtNode=function(e){if(!rd(e))throw Error(z(40));return e._reactRootContainer?(Ki(function(){nd(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};Gt.unstable_batchedUpdates=sg;Gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!rd(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return nd(e,t,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function qj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qj)}catch(e){console.error(e)}}qj(),qw.exports=Gt;var mg=qw.exports,Hj,Ey=mg;Hj=Ey.createRoot,Ey.hydrateRoot;const SO="modulepreload",NO=function(e){return"/"+e},Cy={},il=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=NO(c),c in Cy)return;Cy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":SO,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},EO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class pg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class CO extends pg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Py extends pg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Oy extends pg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var im;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(im||(im={}));var PO=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class OO{constructor(t,{headers:r={},customFetch:n,region:i=im.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=EO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return PO(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:s}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(o["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(o["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(b=>{throw new CO(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Py(f);if(!f.ok)throw new Oy(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield f.json():m==="application/octet-stream"?v=yield f.blob():m==="text/event-stream"?v=f:m==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Oy||i instanceof Py?i.context:void 0}}})}}var Ot={},gg={},id={},al={},ad={},sd={},AO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=AO();const TO=Ya.fetch,Vj=Ya.fetch.bind(Ya),Kj=Ya.Headers,MO=Ya.Request,IO=Ya.Response,ms=Object.freeze(Object.defineProperty({__proto__:null,Headers:Kj,Request:MO,Response:IO,default:Vj,fetch:TO},Symbol.toStringTag,{value:"Module"})),DO=XE(ms);var od={};Object.defineProperty(od,"__esModule",{value:!0});let RO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};od.default=RO;var Gj=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sd,"__esModule",{value:!0});const LO=Gj(DO),$O=Gj(od);let zO=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=LO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var s,o,c,u;let d=null,f=null,h=null,m=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const w=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),y=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(f=[],d=null,m=200,v="OK")}catch{a.status===404&&w===""?(m=204,v="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,v="OK"),d&&this.shouldThrowOnError)throw new $O.default(d)}return{error:d,data:f,count:h,status:m,statusText:v}});return this.shouldThrowOnError||(i=i.catch(a=>{var s,o,c;return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};sd.default=zO;var UO=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ad,"__esModule",{value:!0});const BO=UO(sd);let FO=class extends BO.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:a=i}={}){const s=a?`${a}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:a=!1,format:s="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ad.default=FO;var WO=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});const qO=WO(ad);let HO=class extends qO.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};al.default=HO;var VO=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(id,"__esModule",{value:!0});const Rs=VO(al);let KO=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Rs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(s.length>0){const o=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Rs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:a=!0}={}){var s;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Rs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Rs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Rs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};id.default=KO;var Yj=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gg,"__esModule",{value:!0});const GO=Yj(id),YO=Yj(al);let QO=class Qj{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new GO.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Qj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(o="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new YO.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};gg.default=QO;var ps=dr&&dr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.PostgrestError=Ot.PostgrestBuilder=Ot.PostgrestTransformBuilder=Ot.PostgrestFilterBuilder=Ot.PostgrestQueryBuilder=Ot.PostgrestClient=void 0;const Jj=ps(gg);Ot.PostgrestClient=Jj.default;const Xj=ps(id);Ot.PostgrestQueryBuilder=Xj.default;const Zj=ps(al);Ot.PostgrestFilterBuilder=Zj.default;const e2=ps(ad);Ot.PostgrestTransformBuilder=e2.default;const t2=ps(sd);Ot.PostgrestBuilder=t2.default;const r2=ps(od);Ot.PostgrestError=r2.default;var JO=Ot.default={PostgrestClient:Jj.default,PostgrestQueryBuilder:Xj.default,PostgrestFilterBuilder:Zj.default,PostgrestTransformBuilder:e2.default,PostgrestBuilder:t2.default,PostgrestError:r2.default};const{PostgrestClient:XO,PostgrestQueryBuilder:vq,PostgrestFilterBuilder:yq,PostgrestTransformBuilder:xq,PostgrestBuilder:bq,PostgrestError:wq}=JO;class ZO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eA="2.15.5",tA=`realtime-js/${eA}`,rA="1.0.0",am=1e4,nA=1e3,iA=100;var co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(co||(co={}));var ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ze||(ze={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var sm;(function(e){e.websocket="websocket"})(sm||(sm={}));var Pi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pi||(Pi={}));class aA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+i));s=s+i;const c=n.decode(t.slice(s,s+a));s=s+a;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class n2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var xe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(xe||(xe={}));const Ay=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,s)=>(a[s]=sA(s,e,t,i),a),{})},sA=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?i2(a,s):om(s)},i2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uA(t,r)}switch(e){case xe.bool:return oA(t);case xe.float4:case xe.float8:case xe.int2:case xe.int4:case xe.int8:case xe.numeric:case xe.oid:return lA(t);case xe.json:case xe.jsonb:return cA(t);case xe.timestamp:return dA(t);case xe.abstime:case xe.date:case xe.daterange:case xe.int4range:case xe.int8range:case xe.money:case xe.reltime:case xe.text:case xe.time:case xe.timestamptz:case xe.timetz:case xe.tsrange:case xe.tstzrange:return om(t);default:return om(t)}},om=e=>e,oA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},cA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>i2(t,o))}return e},dA=e=>typeof e=="string"?e.replace(" ","T"):e,a2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Sf{constructor(t,r,n={},i=am){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ty;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ty||(Ty={}));class uo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=uo.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uo.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),v=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(o[u]=v),b.length>0&&(c[u]=b)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var My;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(My||(My={}));var fo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(fo||(fo={}));var tn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tn||(tn={}));class vg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sf(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new n2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new uo(this),this.broadcastEndpointURL=a2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[fo.PRESENCE]&&this.bindings[fo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(tn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(tn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(tn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<w;g++){const p=b[g],{filter:{event:j,schema:S,table:k,filter:_}}=p,N=m&&m[g];if(N&&N.event===j&&N.schema===S&&N.table===k&&N.filter===_)y.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=ze.errored,t==null||t(tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(tn.SUBSCRIBED);return}}).receive("error",m=>{this.state=ze.errored,t==null||t(tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ze.joined&&t===fo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Sf(this,Sr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sf(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Sr;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,b,w;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var v,b,w,y,g,p;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return j&&((b=r.ids)===null||b===void 0?void 0:b.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return j==="*"||j===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:w,commit_timestamp:y,type:g,errors:p}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vg.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ay(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ay(t.columns,t.old_record)),r}}const Nf=()=>{},ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fA=[1e3,2e3,5e3,1e4],hA=1e4,mA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=am,this.transport=null,this.heartbeatIntervalMs=ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nf,this.ref=0,this.reconnectTimer=null,this.logger=Nf,this.conn=null,this.sendBuffer=[],this.serializer=new aA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...s)=>il(async()=>{const{default:o}=await Promise.resolve().then(()=>ms);return{default:o}},void 0).then(({default:o})=>o(...s)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...s)=>a(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${sm.websocket}`,this.httpEndpoint=a2(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case co.connecting:return Pi.Connecting;case co.open:return Pi.Open;case co.closing:return Pi.Closing;default:return Pi.Closed}}isConnected(){return this.connectionState()===Pi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new vg(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:tA};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Sr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new n2(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:am,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ql.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Nf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>fA[f-1]||hA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gA extends yg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class lm extends yg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const s2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yA=()=>vA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield il(()=>Promise.resolve().then(()=>ms),void 0)).Response:Response}),cm=e=>{if(Array.isArray(e))return e.map(r=>cm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=cm(n)}),t},xA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ta=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bA=(e,t,r)=>ta(void 0,void 0,void 0,function*(){const n=yield yA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,s=(i==null?void 0:i.statusCode)||a+"";t(new gA(Ef(i),a,s))}).catch(i=>{t(new lm(Ef(i),i))}):t(new lm(Ef(e),e))}),wA=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(xA(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function sl(e,t,r,n,i,a){return ta(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,wA(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>bA(c,o,n))})})}function Xc(e,t,r,n){return ta(this,void 0,void 0,function*(){return sl(e,"GET",t,r,n)})}function Br(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return sl(e,"POST",t,n,i,r)})}function um(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return sl(e,"PUT",t,n,i,r)})}function jA(e,t,r,n){return ta(this,void 0,void 0,function*(){return sl(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function o2(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return sl(e,"DELETE",t,n,i,r)})}var bt=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const _A={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Iy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kA{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=s2(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return bt(this,void 0,void 0,function*(){try{let a;const s=Object.assign(Object.assign({},Iy),i);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?um:Br)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}upload(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return bt(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),s=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Iy.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield um(this.fetch,o.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Br(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new yg("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}copy(t,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield Br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Br(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return bt(this,void 0,void 0,function*(){try{const i=yield Br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}download(t,r){return bt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Xc(this.fetch,`${this.url}/${i}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ue(o))return{data:null,error:o};throw o}})}info(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cm(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}exists(t){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield jA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n)&&n instanceof lm){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return bt(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_A),r),{prefix:t||""});return{data:yield Br(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}listV2(t,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Br(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const SA="2.12.1",NA={"X-Client-Info":`storage-js/${SA}`};var ca=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class EA{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},NA),r),this.fetch=s2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ca(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ca(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ca(this,void 0,void 0,function*(){try{return{data:yield um(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield Br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ca(this,void 0,void 0,function*(){try{return{data:yield o2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}class CA extends EA{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new kA(this.url,this.headers,t,this.fetch)}}const PA="2.57.4";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const OA={"X-Client-Info":`supabase-js-${Ys}/${PA}`},AA={headers:OA},TA={schema:"public"},MA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IA={};var DA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const RA=e=>{let t;return e?t=e:typeof fetch>"u"?t=Vj:t=fetch,(...r)=>t(...r)},LA=()=>typeof Headers>"u"?Kj:Headers,$A=(e,t,r)=>{const n=RA(r),i=LA();return(a,s)=>DA(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},s),{headers:u}))})};var zA=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function UA(e){return e.endsWith("/")?e:e+"/"}function BA(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zA(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function FA(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(UA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const l2="2.71.1",pa=30*1e3,dm=3,Cf=dm*pa,WA="http://localhost:9999",qA="supabase.auth.token",HA={"X-Client-Info":`gotrue-js/${l2}`},fm="X-Supabase-Api-Version",c2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KA=10*60*1e3;class xg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GA extends xg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YA(e){return oe(e)&&e.name==="AuthApiError"}class u2 extends xg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class di extends xg{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Rn extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QA(e){return oe(e)&&e.name==="AuthSessionMissingError"}class Hl extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends di{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kl extends di{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JA(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Dy extends di{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hm extends di{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pf(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class Ry extends di{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class mm extends di{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ly=` 	
\r=`.split(""),XA=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ly.length;t+=1)e[Ly[t].charCodeAt(0)]=-2;for(let t=0;t<Zc.length;t+=1)e[Zc[t].charCodeAt(0)]=t;return e})();function $y(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zc[n]),t.queuedBits-=6}}function d2(e,t,r){const n=XA[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zy(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{tT(s,n,r)};for(let s=0;s<e.length;s+=1)d2(e.charCodeAt(s),i,a);return t.join("")}function ZA(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ZA(n,t)}}function tT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function rT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)d2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function nT(e){const t=[];return eT(e,r=>t.push(r)),new Uint8Array(t)}function iT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>$y(i,r,n)),$y(null,r,n),t.join("")}function aT(e){return Math.round(Date.now()/1e3)+e}function sT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const wr=()=>typeof window<"u"&&typeof document<"u",xi={tested:!1,writable:!1},f2=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xi.tested)return xi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xi.tested=!0,xi.writable=!0}catch{xi.tested=!0,xi.writable=!1}return xi.writable};function oT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const h2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>il(async()=>{const{default:n}=await Promise.resolve().then(()=>ms);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},lT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ga=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},bi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dn=async(e,t)=>{await e.removeItem(t)};class ld{constructor(){this.promise=new ld.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ld.promiseConstructor=Promise;function Of(e){const t=e.split(".");if(t.length!==3)throw new mm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!VA.test(t[n]))throw new mm("JWT not in base64url format");return{header:JSON.parse(zy(t[0])),payload:JSON.parse(zy(t[1])),signature:rT(t[2]),raw:{header:t[0],payload:t[1]}}}async function cT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uT(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function dT(e){return("0"+e.toString(16)).substr(-2)}function fT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,dT).join("")}async function hT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function mT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ua(e,t,r=!1){const n=fT();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ga(e,`${t}-code-verifier`,i);const a=await mT(n);return[a,n===a?"plain":"s256"]}const pT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gT(e){const t=e.headers.get(fm);if(!t||!t.match(pT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function da(e){if(!xT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Af(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uy(e){return JSON.parse(JSON.stringify(e))}var bT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Si=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wT=[502,503,504];async function By(e){var t;if(!lT(e))throw new hm(Si(e),0);if(wT.includes(e.status))throw new hm(Si(e),e.status);let r;try{r=await e.json()}catch(a){throw new u2(Si(a),a)}let n;const i=gT(e);if(i&&i.getTime()>=c2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ry(Si(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Rn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new Ry(Si(r),e.status,r.weak_password.reasons);throw new GA(Si(r),e.status||500,n)}const jT=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ce(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[fm]||(a[fm]=c2["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await _T(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _T(e,t,r,n,i,a){const s=jT(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new hm(Si(c),0)}if(o.ok||await By(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await By(c)}}function Zr(e){var t;let r=null;ET(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=aT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Fy(e){const t=Zr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kT(e){return{data:e,error:null}}function ST(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=bT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function NT(e){return e}function ET(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tf=["global","local","others"];var CT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class PT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=h2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Tf[0]){if(Tf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tf.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=CT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ST,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:NT});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){da(t);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wn})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){da(t);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){da(t);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wn})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){da(t.userId);try{const{data:r,error:n}=await ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){da(t.userId),da(t.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function Wy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function OT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fa={debug:!!(globalThis&&f2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class m2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class AT extends m2{}async function TT(e,t,r){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new AT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}OT();const MT={url:WA,storageKey:qA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qy(e,t,r){return await r()}const ha={};class Mo{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mo.nextInstanceID,Mo.nextInstanceID+=1,this.instanceID>0&&wr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},MT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=h2(i.fetch),this.lock=i.lock||qy,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=TT:this.lock=qy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:f2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Wy(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ha[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ha[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${l2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=oT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),wr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),JA(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new u2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zr}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await ua(this.storage,this.storageKey)),a=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Zr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Zr})}else throw new Vl("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fy})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fy})}else throw new Vl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,a,s,o,c,u,d,f,h,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:w,wallet:y,statement:g,options:p}=t;let j;if(wr())if(typeof y=="object")j=y;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let _;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")_=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)_=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:w,error:y}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:iT(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Zr});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Hl}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(oe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await bi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:s}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Zr});if(await Dn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Hl}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(oe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Zr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ua(this.storage,this.storageKey));const{error:f}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Vl("You must provide either an email or phone number.")}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Zr});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=await ua(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:kT})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Rn;const{error:i}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new Vl("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await bi(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Af()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wn}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rn}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Wn})})}catch(r){if(oe(r))return QA(r)&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new Rn;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await ua(this.storage,this.storageKey));const{data:u,error:d}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Wn});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Rn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Of(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Rn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!wr())throw new Kl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Dy("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new Kl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=pa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:b,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await bi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(YA(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=sT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ua(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return wr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(oe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uT(async i=>(i>0&&await cT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zr})),(i,a)=>{const s=200*Math.pow(2,i);return a&&Pf(a)&&Date.now()+s-n<pa})}catch(n){if(this._debug(r,"error",n),oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),wr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await bi(this.storage,this.storageKey);if(i&&this.userStorage){let s=await bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await ga(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Af()}else if(i&&!i.user&&!i.user){const s=await bi(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Dn(this.storage,this.storageKey+"-user"),await ga(this.storage,this.storageKey,i)):i.user=Af()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cf;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Cf}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Pf(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Rn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ld;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Rn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),oe(a)){const s={session:null,error:a};return Pf(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ga(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=Uy(i);await ga(this.storage,this.storageKey,a)}else{const i=Uy(r);await ga(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Dn(this.storage,this.storageKey),await Dn(this.storage,this.storageKey+"-code-verifier"),await Dn(this.storage,this.storageKey+"-user"),this.userStorage&&await Dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&wr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/pa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pa}ms, refresh threshold is ${dm} ticks`),i<=dm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof m2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await ua(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:s,error:o}=await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Of(i.access_token);let o=null;s.aal&&(o=s.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+KA>i)return n;const{data:a,error:s}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=Of(n);r!=null&&r.allowExpired||vT(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const d=yT(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,nT(`${o}.${c}`)))throw new mm("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}Mo.nextInstanceID=0;const IT=Mo;class DT extends IT{constructor(t){super(t)}}var RT=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class LT{constructor(t,r,n){var i,a,s;this.supabaseUrl=t,this.supabaseKey=r;const o=FA(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:TA,realtime:IA,auth:Object.assign(Object.assign({},MA),{storageKey:c}),global:AA},d=BA(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=$A(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new XO(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new CA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new OO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return RT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:s,flowType:o,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new DT({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new pA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $T=(e,t,r)=>new LT(e,t,r);function zT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}zT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const UT="https://dpbohbsxstthvhzgqxje.supabase.co",BT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0",q=$T(UT,BT,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),nn=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),Qa=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:i,error:a}=await q.storage.from("cloudmenu").upload(n,e);if(a)return{url:"",error:a.message};const{data:s}=q.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},La=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await q.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},FT=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await q.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},p2=x.createContext(void 0);function Qt(){const e=x.useContext(p2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function WT({children:e}){const[t,r]=x.useState(null),[n,i]=x.useState(!0),[a,s]=x.useState(!0),[o,c]=x.useState(null),[u,d]=x.useState(!1);x.useEffect(()=>{const b=new URLSearchParams(window.location.search),w=b.has("code")||b.has("access_token")||b.has("token_type");d(w)},[]),x.useEffect(()=>{const b=()=>{const w=!document.hidden,y=a;if(y!==w&&s(w),w&&!y&&t&&!u){const g=Date.now(),p=sessionStorage.getItem("lastSessionCheck");g-(p?parseInt(p):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",g.toString()),q.auth.getSession().then(({data:{session:S}})=>{!S&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(S=>{console.error("Error checking session on tab visibility change:",S)}))}};return document.addEventListener("visibilitychange",b),()=>document.removeEventListener("visibilitychange",b)},[t,u]),x.useEffect(()=>{let b=!0,w=null;const y=u?15e3:8e3,g=setTimeout(()=>{b&&n&&(console.warn(`Auth initialization timeout after ${y}ms - forcing completion`),i(!1),q.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&b&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},y);return c(g),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),S=sessionStorage.getItem("lastAuthInit");if(j-(S?parseInt(S):0)<60*60*1e3&&t&&!u){i(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:_}}=await q.auth.getSession();g&&clearTimeout(g),b&&r((_==null?void 0:_.user)??null)}catch(_){console.error("Error initializing auth:",_),g&&clearTimeout(g),b&&r(null)}finally{b&&(i(!1),g&&clearTimeout(g))}})(),w=q.auth.onAuthStateChange(async(j,S)=>{var k;if(b&&!(!a&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((k=S==null?void 0:S.user)==null?void 0:k.id)===t.id))try{r((S==null?void 0:S.user)??null)}catch(_){console.error("Error in auth state change:",_)}finally{b&&i(!1)}}),()=>{b=!1,o&&clearTimeout(o),w&&w.data.subscription.unsubscribe()}},[a,u]);const f=async(b,w)=>{const{error:y}=await q.auth.signInWithPassword({email:b,password:w});return{error:y??void 0}},h=async(b,w)=>{const{error:y}=await q.auth.signUp({email:b,password:w});return{error:y??void 0}},m=async()=>{try{const{error:b}=await q.auth.signOut();b?console.error("Erreur lors de la déconnexion:",b):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},v={user:t,loading:n,signIn:f,signUp:h,signOut:m};return l.jsx(p2.Provider,{value:v,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:c,...u},d)=>x.createElement("svg",{ref:d,...qT,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${HT(e)}`,o].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=te("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=te("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=te("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=te("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=te("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=te("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=te("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=te("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=te("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=te("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=te("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=te("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=te("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=te("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class fM extends x.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(VT,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontré une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner à l'accueil."})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[l.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[l.jsx(cM,{className:"w-4 h-4"}),l.jsx("span",{children:"Recharger"})]}),l.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"💡 Si le problème persiste:"}),l.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[l.jsx("li",{children:"• Vérifiez votre connexion internet"}),l.jsx("li",{children:"• Effacez le cache de votre navigateur"}),l.jsx("li",{children:"• Contactez le support si nécessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yy="popstate";function hM(e={}){function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return jm("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Uo(i)}return pM(t,r,null,e)}function Oe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mM(){return Math.random().toString(36).substring(2,10)}function Qy(e,t){return{usr:e.state,key:e.key,idx:t}}function jm(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gs(t):t,state:r,key:t&&t.key||n||mM()}}function Uo({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pM(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){o="POP";let w=d(),y=w==null?null:w-u;u=w,c&&c({action:o,location:b.location,delta:y})}function h(w,y){o="PUSH";let g=jm(b.location,w,y);u=d()+1;let p=Qy(g,u),j=b.createHref(g);try{s.pushState(p,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}a&&c&&c({action:o,location:b.location,delta:1})}function m(w,y){o="REPLACE";let g=jm(b.location,w,y);u=d();let p=Qy(g,u),j=b.createHref(g);s.replaceState(p,"",j),a&&c&&c({action:o,location:b.location,delta:0})}function v(w){return gM(w)}let b={get action(){return o},get location(){return e(i,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Yy,f),c=w,()=>{i.removeEventListener(Yy,f),c=null}},createHref(w){return t(i,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(w){return s.go(w)}};return b}function gM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Uo(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function b2(e,t,r="/"){return vM(e,t,r,!1)}function vM(e,t,r,n){let i=typeof t=="string"?gs(t):t,a=wn(i.pathname||"/",r);if(a==null)return null;let s=w2(e);yM(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=PM(a);o=EM(s[c],u,n)}return o}function w2(e,t=[],r=[],n="",i=!1){let a=(s,o,c=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Oe(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=hn([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Oe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),w2(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:SM(f,s.index),routesMeta:h})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let u of j2(s.path))a(s,o,!0,u)}),t}function j2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=j2(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function yM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NM(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xM=/^:[\w-]+$/,bM=3,wM=2,jM=1,_M=10,kM=-2,Jy=e=>e==="*";function SM(e,t){let r=e.split("/"),n=r.length;return r.some(Jy)&&(n+=kM),t&&(n+=wM),r.filter(i=>!Jy(i)).reduce((i,a)=>i+(xM.test(a)?bM:a===""?jM:_M),n)}function NM(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function EM(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=nu({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=nu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:hn([a,f.pathname]),pathnameBase:MM(hn([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=hn([a,f.pathnameBase]))}return s}function nu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=CM(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function CM(e,t=!1,r=!0){Ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function PM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function OM(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?gs(e):e;return{pathname:r?r.startsWith("/")?r:AM(r,t):t,search:IM(n),hash:DM(i)}}function AM(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Df(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TM(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _2(e){let t=TM(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function k2(e,t,r,n=!1){let i;typeof e=="string"?i=gs(e):(i={...e},Oe(!i.pathname||!i.pathname.includes("?"),Df("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),Df("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),Df("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=OM(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var hn=e=>e.join("/").replace(/\/\/+/g,"/"),MM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var S2=["POST","PUT","PATCH","DELETE"];new Set(S2);var LM=["GET",...S2];new Set(LM);var vs=x.createContext(null);vs.displayName="DataRouter";var cd=x.createContext(null);cd.displayName="DataRouterState";x.createContext(!1);var N2=x.createContext({isTransitioning:!1});N2.displayName="ViewTransition";var $M=x.createContext(new Map);$M.displayName="Fetchers";var zM=x.createContext(null);zM.displayName="Await";var Qr=x.createContext(null);Qr.displayName="Navigation";var ll=x.createContext(null);ll.displayName="Location";var Jr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var kg=x.createContext(null);kg.displayName="RouteError";function UM(e,{relative:t}={}){Oe(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(Qr),{hash:i,pathname:a,search:s}=ul(e,{relative:t}),o=a;return r!=="/"&&(o=a==="/"?r:hn([r,a])),n.createHref({pathname:o,search:s,hash:i})}function cl(){return x.useContext(ll)!=null}function En(){return Oe(cl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(ll).location}var E2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C2(e){x.useContext(Qr).static||x.useLayoutEffect(e)}function Rr(){let{isDataRoute:e}=x.useContext(Jr);return e?ZM():BM()}function BM(){Oe(cl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(vs),{basename:t,navigator:r}=x.useContext(Qr),{matches:n}=x.useContext(Jr),{pathname:i}=En(),a=JSON.stringify(_2(n)),s=x.useRef(!1);return C2(()=>{s.current=!0}),x.useCallback((c,u={})=>{if(Ir(s.current,E2),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=k2(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:hn([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}x.createContext(null);function ra(){let{matches:e}=x.useContext(Jr),t=e[e.length-1];return t?t.params:{}}function ul(e,{relative:t}={}){let{matches:r}=x.useContext(Jr),{pathname:n}=En(),i=JSON.stringify(_2(r));return x.useMemo(()=>k2(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function FM(e,t){return P2(e,t)}function P2(e,t,r,n,i){var g;Oe(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=x.useContext(Qr),{matches:s}=x.useContext(Jr),o=s[s.length-1],c=o?o.params:{},u=o?o.pathname:"/",d=o?o.pathnameBase:"/",f=o&&o.route;{let p=f&&f.path||"";O2(u,!f||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=En(),m;if(t){let p=typeof t=="string"?gs(t):t;Oe(d==="/"||((g=p.pathname)==null?void 0:g.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let v=m.pathname||"/",b=v;if(d!=="/"){let p=d.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(p.length).join("/")}let w=b2(e,{pathname:b});Ir(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ir(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=KM(w&&w.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:hn([d,a.encodeLocation?a.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?d:hn([d,a.encodeLocation?a.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n,i);return t&&y?x.createElement(ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},y):y}function WM(){let e=XM(),t=RM(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,s)}var qM=x.createElement(WM,null),HM=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(Jr.Provider,{value:this.props.routeContext},x.createElement(kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VM({routeContext:e,match:t,children:r}){let n=x.useContext(vs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Jr.Provider,{value:e},r)}function KM(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Oe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,c=-1;if(r)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,m=!1,v=null,b=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,v=d.route.errorElement||qM,o&&(c<0&&f===0?(O2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===f&&(m=!0,b=d.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,f+1)),y=()=>{let g;return h?g=v:m?g=b:d.route.Component?g=x.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=u,x.createElement(VM,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?x.createElement(HM,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):y()},null)}function Sg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GM(e){let t=x.useContext(vs);return Oe(t,Sg(e)),t}function YM(e){let t=x.useContext(cd);return Oe(t,Sg(e)),t}function QM(e){let t=x.useContext(Jr);return Oe(t,Sg(e)),t}function Ng(e){let t=QM(e),r=t.matches[t.matches.length-1];return Oe(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function JM(){return Ng("useRouteId")}function XM(){var n;let e=x.useContext(kg),t=YM("useRouteError"),r=Ng("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function ZM(){let{router:e}=GM("useNavigate"),t=Ng("useNavigate"),r=x.useRef(!1);return C2(()=>{r.current=!0}),x.useCallback(async(i,a={})=>{Ir(r.current,E2),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var Xy={};function O2(e,t,r){!t&&!Xy[e]&&(Xy[e]=!0,Ir(!1,r))}x.memo(e4);function e4({routes:e,future:t,state:r,unstable_onError:n}){return P2(e,void 0,r,n,t)}function rt(e){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Oe(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof r=="string"&&(r=gs(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=x.useMemo(()=>{let v=wn(c,s);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Ir(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(Qr.Provider,{value:o},x.createElement(ll.Provider,{children:t,value:m}))}function r4({children:e,location:t}){return FM(_m(e),t)}function _m(e,t=[]){let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let a=[...t,i];if(n.type===x.Fragment){r.push.apply(r,_m(n.props.children,a));return}Oe(n.type===rt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=_m(n.props.children,a)),r.push(s)}),r}var kc="get",Sc="application/x-www-form-urlencoded";function ud(e){return e!=null&&typeof e.tagName=="string"}function n4(e){return ud(e)&&e.tagName.toLowerCase()==="button"}function i4(e){return ud(e)&&e.tagName.toLowerCase()==="form"}function a4(e){return ud(e)&&e.tagName.toLowerCase()==="input"}function s4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o4(e,t){return e.button===0&&(!t||t==="_self")&&!s4(e)}function km(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function l4(e,t){let r=km(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Gl=null;function c4(){if(Gl===null)try{new FormData(document.createElement("form"),0),Gl=!1}catch{Gl=!0}return Gl}var u4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(e){return e!=null&&!u4.has(e)?(Ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sc}"`),null):e}function d4(e,t){let r,n,i,a,s;if(i4(e)){let o=e.getAttribute("action");n=o?wn(o,t):null,r=e.getAttribute("method")||kc,i=Rf(e.getAttribute("enctype"))||Sc,a=new FormData(e)}else if(n4(e)||a4(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(n=c?wn(c,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||kc,i=Rf(e.getAttribute("formenctype"))||Rf(o.getAttribute("enctype"))||Sc,a=new FormData(o,e),!c4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";a.append(`${h}x`,"0"),a.append(`${h}y`,"0")}else u&&a.append(u,f)}}else{if(ud(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=kc,n=null,i=Sc,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Eg(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function f4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function h4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function m4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function p4(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await h4(a,r);return s.links?s.links():[]}return[]}));return x4(n.flat(1).filter(m4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zy(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,o=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||o(c,u)):a==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function g4(e,t,{includeHydrateFallback:r}={}){return v4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function v4(e){return[...new Set(e)]}function y4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function x4(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(y4(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function A2(){let e=x.useContext(vs);return Eg(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function b4(){let e=x.useContext(cd);return Eg(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Cg=x.createContext(void 0);Cg.displayName="FrameworkContext";function T2(){let e=x.useContext(Cg);return Eg(e,"You must render this element inside a <HydratedRouter> element"),e}function w4(e,t){let r=x.useContext(Cg),[n,i]=x.useState(!1),[a,s]=x.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=x.useRef(null);x.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let b=y=>{y.forEach(g=>{s(g.isIntersecting)})},w=new IntersectionObserver(b,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),x.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let m=()=>{i(!0)},v=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,h,{}]:[a,h,{onFocus:Ls(o,m),onBlur:Ls(c,v),onMouseEnter:Ls(u,m),onMouseLeave:Ls(d,v),onTouchStart:Ls(f,m)}]:[!1,h,{}]}function Ls(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function j4({page:e,...t}){let{router:r}=A2(),n=x.useMemo(()=>b2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(k4,{page:e,matches:n,...t}):null}function _4(e){let{manifest:t,routeModules:r}=T2(),[n,i]=x.useState([]);return x.useEffect(()=>{let a=!1;return p4(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function k4({page:e,matches:t,...r}){let n=En(),{manifest:i,routeModules:a}=T2(),{basename:s}=A2(),{loaderData:o,matches:c}=b4(),u=x.useMemo(()=>Zy(e,t,c,i,n,"data"),[e,t,c,i,n]),d=x.useMemo(()=>Zy(e,t,c,i,n,"assets"),[e,t,c,i,n]),f=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,b=!1;if(t.forEach(y=>{var p;let g=i.routes[y.route.id];!g||!g.hasLoader||(!u.some(j=>j.route.id===y.route.id)&&y.route.id in o&&((p=a[y.route.id])!=null&&p.shouldRevalidate)||g.hasClientLoader?b=!0:v.add(y.route.id))}),v.size===0)return[];let w=f4(e,s,"data");return b&&v.size>0&&w.searchParams.set("_routes",t.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[w.pathname+w.search]},[s,o,n,i,u,t,e,a]),h=x.useMemo(()=>g4(d,i),[d,i]),m=_4(d);return x.createElement(x.Fragment,null,f.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),h.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),m.map(({key:v,link:b})=>x.createElement("link",{key:v,nonce:r.nonce,...b})))}function S4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var M2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M2&&(window.__reactRouterVersion="7.9.1")}catch{}function N4({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=hM({window:r,v5Compat:!0}));let i=n.current,[a,s]=x.useState({action:i.action,location:i.location}),o=x.useCallback(c=>{x.startTransition(()=>s(c))},[s]);return x.useLayoutEffect(()=>i.listen(o),[i,o]),x.createElement(t4,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i})}var I2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:v}=x.useContext(Qr),b=typeof u=="string"&&I2.test(u),w,y=!1;if(typeof u=="string"&&b&&(w=u,M2))try{let E=new URL(window.location.href),C=u.startsWith("//")?new URL(E.protocol+u):new URL(u),P=wn(C.pathname,v);C.origin===E.origin&&P!=null?u=P+C.search+C.hash:y=!0}catch{Ir(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=UM(u,{relative:i}),[p,j,S]=w4(n,h),k=O4(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function _(E){t&&t(E),E.defaultPrevented||k(E)}let N=x.createElement("a",{...h,...S,href:w||g,onClick:y||a?t:_,ref:S4(m,j),target:c,"data-discover":!b&&r==="render"?"true":void 0});return p&&!b?x.createElement(x.Fragment,null,N,x.createElement(j4,{page:g})):N});Ye.displayName="Link";var E4=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...u},d){let f=ul(s,{relative:u.relative}),h=En(),m=x.useContext(cd),{navigator:v,basename:b}=x.useContext(Qr),w=m!=null&&R4(f)&&o===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,g=h.pathname,p=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(g=g.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase()),p&&b&&(p=wn(p,b)||p);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=g===y||!i&&g.startsWith(y)&&g.charAt(j)==="/",k=p!=null&&(p===y||!i&&p.startsWith(y)&&p.charAt(y.length)==="/"),_={isActive:S,isPending:k,isTransitioning:w},N=S?t:void 0,E;typeof n=="function"?E=n(_):E=[n,S?"active":null,k?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(_):a;return x.createElement(Ye,{...u,"aria-current":N,className:E,ref:d,style:C,to:s,viewTransition:o},typeof c=="function"?c(_):c)});E4.displayName="NavLink";var C4=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=kc,action:o,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let v=I4(),b=D4(o,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",y=typeof o=="string"&&I2.test(o),g=p=>{if(c&&c(p),p.defaultPrevented)return;p.preventDefault();let j=p.nativeEvent.submitter,S=(j==null?void 0:j.getAttribute("formmethod"))||s;v(j||p.currentTarget,{fetcherKey:t,method:S,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:f})};return x.createElement("form",{ref:m,method:w,action:b,onSubmit:n?c:g,...h,"data-discover":!y&&e==="render"?"true":void 0})});C4.displayName="Form";function P4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D2(e){let t=x.useContext(vs);return Oe(t,P4(e)),t}function O4(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s}={}){let o=Rr(),c=En(),u=ul(e,{relative:a});return x.useCallback(d=>{if(o4(d,t)){d.preventDefault();let f=r!==void 0?r:Uo(c)===Uo(u);o(e,{replace:f,state:n,preventScrollReset:i,relative:a,viewTransition:s})}},[c,o,u,r,n,t,e,i,a,s])}function A4(e){Ir(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(km(e)),r=x.useRef(!1),n=En(),i=x.useMemo(()=>l4(n.search,r.current?null:t.current),[n.search]),a=Rr(),s=x.useCallback((o,c)=>{const u=km(typeof o=="function"?o(new URLSearchParams(i)):o);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var T4=0,M4=()=>`__${String(++T4)}__`;function I4(){let{router:e}=D2("useSubmit"),{basename:t}=x.useContext(Qr),r=JM();return x.useCallback(async(n,i={})=>{let{action:a,method:s,encType:o,formData:c,body:u}=d4(n,t);if(i.navigate===!1){let d=i.fetcherKey||M4();await e.fetch(d,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function D4(e,{relative:t}={}){let{basename:r}=x.useContext(Qr),n=x.useContext(Jr);Oe(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...ul(e||".",{relative:t})},s=En();if(e==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let d=o.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:hn([r,a.pathname])),Uo(a)}function R4(e,{relative:t}={}){let r=x.useContext(N2);Oe(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=D2("useViewTransitionState"),i=ul(e,{relative:t});if(!r.isTransitioning)return!1;let a=wn(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=wn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return nu(i.pathname,s)!=null||nu(i.pathname,a)!=null}const L4=()=>{const[e,t]=x.useState("classic"),[r,n]=x.useState(""),[i,a]=x.useState(""),[s,o]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(null),[v,b]=x.useState(""),[w,y]=x.useState(!1),[g,p]=x.useState(!1),[j,S]=x.useState(""),[k,_]=x.useState(!1),{signIn:N,signUp:E}=Qt(),C=async H=>{if(H.preventDefault(),!r.trim()||!i.trim()){P("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:K}=await N(r,i);K&&P("error",K.message==="Invalid login credentials"?"Email ou mot de passe incorrect":K.message)}catch{P("error","Une erreur est survenue")}finally{u(!1)}},P=(H,K)=>{m({type:H,text:K}),setTimeout(()=>m(null),5e3)},M=async H=>{if(H.preventDefault(),!j.trim()){P("error","Veuillez entrer votre adresse email");return}_(!0);try{const{error:K}=await q.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});K?P("error",K.message):(P("success","Un email de réinitialisation a été envoyé à votre adresse email."),p(!1),S(""))}catch{P("error","Une erreur est survenue")}finally{_(!1)}},F=async H=>{if(H.preventDefault(),!v.trim()){P("error","Veuillez entrer votre adresse email");return}y(!0);try{const{error:K}=await q.auth.signInWithOtp({email:v,options:{emailRedirectTo:`${window.location.origin}/`}});K?P("error",K.message):(P("success","Un lien de connexion a été envoyé à votre adresse email ! Cliquez sur le lien pour vous connecter."),b(""))}catch{P("error","Une erreur est survenue")}finally{y(!1)}},Y=async()=>{try{const{error:H}=await q.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});H&&P("error",H.message)}catch{P("error","Erreur lors de la connexion avec Google")}},ie=async()=>{if(!r.trim()||!i.trim()){P("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:H}=await E(r,i);H?P("error",H.message):(P("success","Compte créé avec succès ! Vous pouvez maintenant vous connecter."),a(""))}catch{P("error","Une erreur est survenue")}finally{f(!1)}};return g?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oublié"}),l.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de réinitialisation"})]}),h&&l.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?l.jsx(pm,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(bn,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:h.text})]}),l.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:l.jsxs("form",{onSubmit:M,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(xm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:H=>S(H.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),l.jsx("button",{type:"submit",disabled:k,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:k?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Envoyer le lien de réinitialisation"}),l.jsx(Mf,{className:"ml-2 w-4 h-4"})]})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>{p(!1),S(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour à la connexion"})})]})})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&l.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?l.jsx(pm,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(bn,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:h.text})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[l.jsxs("div",{className:"flex bg-gray-50",children:[l.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx($a,{className:"w-4 h-4"}),l.jsx("span",{children:"Email & Mot de passe"})]})}),l.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(If,{className:"w-4 h-4"}),l.jsx("span",{children:"Connexion magique"})]})})]}),l.jsxs("div",{className:"p-8",children:[e==="classic"&&l.jsxs("form",{onSubmit:C,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(zo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:H=>n(H.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx($a,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:i,onChange:H=>a(H.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>o(!s),children:s?l.jsx(ri,{size:20}):l.jsx(Tr,{size:20})})]})]}),l.jsx("div",{className:"flex justify-between items-center",children:l.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oublié ?"})}),l.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[l.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Se connecter"}),l.jsx(Mf,{className:"ml-2 w-4 h-4"})]})}),l.jsx("button",{type:"button",onClick:ie,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsx("span",{children:"Créer un compte"})})]})]}),e==="magic"&&l.jsxs("form",{onSubmit:F,className:"space-y-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(If,{className:"w-8 h-8 text-orange-600"})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanément."})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),l.jsxs("div",{className:"relative",children:[l.jsx(xm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:v,onChange:H=>b(H.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),l.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(If,{className:"mr-2 w-4 h-4"}),l.jsx("span",{children:"Envoyer le lien magique"}),l.jsx(Mf,{className:"ml-2 w-4 h-4"})]})})]}),l.jsxs("div",{className:"mt-8",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("div",{className:"w-full border-t border-gray-200"})}),l.jsx("div",{className:"relative flex justify-center text-sm",children:l.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),l.jsxs("button",{type:"button",onClick:Y,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[l.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),l.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(zo,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de démonstration"}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),l.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:l.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",l.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function zr({children:e}){const{user:t,loading:r}=Qt(),n=Rr(),[i,a]=x.useState(!1),[s,o]=x.useState(null),[c,u]=x.useState(!0),[d,f]=x.useState(!document.hidden),[h,m]=x.useState(null),[v,b]=x.useState(!1);x.useEffect(()=>{const g=new URLSearchParams(window.location.search),p=g.has("code")||g.has("access_token")||g.has("token_type");b(p)},[]),x.useEffect(()=>{if(v)return;const g=setTimeout(()=>{(i||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),a(!1))},1e4);return m(g),()=>{clearTimeout(g),m(null)}},[i,r,c,v]),x.useEffect(()=>{const g=()=>{const p=!document.hidden;p!==d&&f(p)};return document.addEventListener("visibilitychange",g),()=>document.removeEventListener("visibilitychange",g)},[d]),x.useEffect(()=>{let g=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){g&&o(!1);return}const j=Date.now(),S=sessionStorage.getItem("lastMenuCheck");if(j-(S?parseInt(S):0)<5*60*1e3&&s!==null)return;const _=s===null&&window.location.pathname!=="/onboarding";_&&a(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:N,error:E}=await q.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!g)return;if(E&&E.code!=="PGRST116"){console.error("Error checking restaurant profile:",E),o(!1),n("/onboarding",{replace:!0});return}const C=!!N;o(C),!C&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(N){if(!g)return;console.error("Exception during profile check:",N),o(!1),n("/onboarding",{replace:!0})}finally{g&&_&&a(!1)}})(),()=>{g=!1})},[t,r,n,s,d,v]),x.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),y=i&&s===null;if(w||y){const g=v?"Finalisation de la connexion...":w?"Chargement...":y?"Vérification du compte...":"Initialisation...";return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:g})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Vérification du compte..."})]})}):l.jsx(l.Fragment,{children:e}):l.jsx(L4,{})}const $4=()=>{const{user:e,loading:t}=Qt(),r=Rr(),[n,i]=x.useState(1),[a,s]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=x.useState(!1),[m,v]=x.useState(null),[b,w]=x.useState(!1),y=3;x.useEffect(()=>{e&&g()},[e]),x.useEffect(()=>{const P=setTimeout(()=>{if(u.restaurant_name.trim()){const M=nn(u.restaurant_name);d(F=>({...F,slug:M})),v(!0)}else d(M=>({...M,slug:""})),v(null)},500);return()=>clearTimeout(P)},[u.restaurant_name]);const g=async()=>{try{const{data:C,error:P}=await q.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(P&&P.code!=="PGRST116"){console.error("Erreur lors de la vérification du profil:",P);return}C&&r("/",{replace:!0})}catch(C){console.error("Erreur lors de la vérification du profil:",C)}},p=(C,P)=>{c({type:C,text:P}),setTimeout(()=>c(null),5e3)},j=(C,P)=>{d(M=>({...M,[C]:P}))},S=async(C,P)=>{if(!C||!e)return;const M=5*1024*1024;if(C.size>M){p("error","Le fichier est trop volumineux (max 5MB)");return}if(!C.type.startsWith("image/")){p("error","Veuillez sélectionner une image valide");return}w(!0);try{const F=P==="banner"?"banners":"logos",Y=await Qa(C,e.id,F);j(P==="banner"?"banner_url":"logo_url",Y),p("success",`${P==="banner"?"Bannière":"Logo"} uploadé avec succès`)}catch{p("error","Erreur lors de l'upload")}finally{w(!1)}},k=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},_=()=>{k()&&n<y&&i(n+1)},N=()=>{n>1&&i(n-1)},E=async()=>{if(e){s(!0);try{const C={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:P}=await q.from("restaurant_profiles").insert([C]);if(P)throw P;p("success","Restaurant créé avec succès ! Bienvenue sur CloudMenu ! 🎉"),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(C){console.error("Erreur lors de la création du restaurant:",C),p("error","Erreur lors de la création du restaurant")}finally{s(!1)}}};return t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):e?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"text-center mb-8 relative",children:[l.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette étape"}),l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),l.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques étapes simples"})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(y)].map((C,P)=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${P+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:P+1}),P<y-1&&l.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${P+1<n?"bg-orange-600":"bg-gray-200"}`})]},P))}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsx("span",{children:"Informations de base"}),l.jsx("span",{children:"Images"}),l.jsx("span",{children:"Contact"})]})]}),o&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${o.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[o.type==="success"?l.jsx(st,{className:"w-5 h-5"}):l.jsx(qe,{className:"w-5 h-5"}),l.jsx("span",{children:o.text})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre établissement"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Commençons par les informations essentielles de votre restaurant."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),l.jsx("input",{type:"text",value:u.restaurant_name,onChange:C=>j("restaurant_name",C.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),l.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?l.jsx(ge,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?l.jsx(st,{className:"w-5 h-5 text-green-600"}):m===!1?l.jsx(bn,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&l.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom différent."}),m===!0&&l.jsx("p",{className:"mt-2 text-sm text-green-600",children:"✅ Cette URL est disponible et sera réservée pour votre établissement."}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"💡 Cette URL sera définitive et servira à générer votre QR code."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),l.jsx("textarea",{value:u.description,onChange:C=>j("description",C.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre établissement"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannière pour personnaliser votre menu (optionnel)."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannière du restaurant"}),l.jsxs("div",{className:"space-y-3",children:[u.banner_url&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:u.banner_url,alt:"Bannière",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),l.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:l.jsx(qe,{size:12})})]}),l.jsxs("label",{className:"cursor-pointer block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var M;const P=(M=C.target.files)==null?void 0:M[0];P&&S(P,"banner")},className:"hidden",disabled:b}),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:b?l.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin text-orange-600"}),l.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):l.jsxs(l.Fragment,{children:[l.jsx($o,{className:"mx-auto h-8 w-8 text-gray-400"}),l.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannière"}),l.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu'à 5MB"})]})})]})]})]})]}),n===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vr,{className:"inline w-4 h-4 mr-1"}),"Téléphone"]}),l.jsx("input",{type:"tel",value:u.telephone,onChange:C=>j("telephone",C.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(tu,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),l.jsx("input",{type:"tel",value:u.whatsapp,onChange:C=>j("whatsapp",C.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Réseaux sociaux"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ro,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),l.jsx("input",{type:"url",value:u.instagram,onChange:C=>j("instagram",C.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Do,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),l.jsx("input",{type:"url",value:u.facebook,onChange:C=>j("facebook",C.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),l.jsx("input",{type:"url",value:u.tiktok,onChange:C=>j("tiktok",C.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[l.jsxs("button",{onClick:N,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(g2,{size:20}),l.jsx("span",{children:"Précédent"})]}),n<y?l.jsxs("button",{onClick:_,disabled:!k(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx("span",{children:"Suivant"}),l.jsx(bg,{size:20})]}):l.jsxs("button",{onClick:E,disabled:a||!k(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsx(st,{size:20}),l.jsx("span",{children:a?"Création...":"Créer mon restaurant"})]})]})]}),l.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:l.jsxs("p",{children:["En créant votre menu, vous acceptez nos"," ",l.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},z4=()=>{var p;const{user:e}=Qt();x.useState(!1);const[t,r]=x.useState(null),[n,i]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=x.useState({current:!1,new:!1,confirm:!1}),[o,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(""),[m,v]=x.useState(!1),b=(j,S)=>{r({type:j,text:S}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){b("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){b("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){b("error","Le nouveau mot de passe doit contenir au moins 6 caractères");return}c(!0);try{const{error:S}=await q.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(S){b("error","Mot de passe actuel incorrect");return}const{error:k}=await q.auth.updateUser({password:n.newPassword});if(k){b("error","Erreur lors de la mise à jour du mot de passe");return}i({currentPassword:"",newPassword:"",confirmPassword:""}),b("success","Mot de passe mis à jour avec succès")}catch(S){console.error("Erreur lors du changement de mot de passe:",S),b("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},y=async()=>{if(f!=="SUPPRIMER"){b("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}v(!0);try{const{data:j,error:S}=await q.from("menus").select("id").eq("user_id",e.id);S&&console.error("Erreur lors de la récupération des menus:",S);const{error:k}=await q.auth.admin.deleteUser(e.id);if(k){b("error","Erreur lors de la suppression du compte");return}b("success","Compte supprimé avec succès")}catch(j){console.error("Erreur lors de la suppression du compte:",j),b("error","Erreur lors de la suppression du compte")}finally{v(!1),d(!1),h("")}};if(!e)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const g=((p=e.email)==null?void 0:p.split("@")[0])||"Utilisateur";return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&l.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?l.jsx(st,{className:"w-5 h-5 flex-shrink-0"}):l.jsx(qe,{className:"w-5 h-5 flex-shrink-0"}),l.jsx("span",{children:t.text})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramètres du compte"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez vos informations personnelles et paramètres de sécurité"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(zo,{size:20}),l.jsx("span",{children:"Informations du profil"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx(zo,{size:20,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:g}),l.jsx("div",{className:"text-sm text-gray-500",children:"Généré automatiquement depuis votre email"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),l.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas être modifié pour des raisons de sécurité"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte créé le"}),l.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx($a,{size:20}),l.jsx("span",{children:"Changer le mot de passe"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.current?"text":"password",value:n.currentPassword,onChange:j=>i(S=>({...S,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.current?l.jsx(ri,{size:16}):l.jsx(Tr,{size:16})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.new?"text":"password",value:n.newPassword,onChange:j=>i(S=>({...S,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.new?l.jsx(ri,{size:16}):l.jsx(Tr,{size:16})})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a.confirm?"text":"password",value:n.confirmPassword,onChange:j=>i(S=>({...S,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),l.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.confirm?l.jsx(ri,{size:16}):l.jsx(Tr,{size:16})})]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs("button",{type:"submit",disabled:o,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[o?l.jsx(ge,{className:"w-4 h-4 animate-spin"}):l.jsx(_g,{size:16}),l.jsx("span",{children:o?"Mise à jour...":"Mettre à jour le mot de passe"})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[l.jsx(bn,{size:20}),l.jsx("span",{children:"Zone de danger"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer définitivement le compte"}),l.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irréversible. Tous vos menus, catégories, plats et données analytiques seront supprimés définitivement."}),u?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",l.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),l.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:y,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?l.jsx(ge,{className:"w-4 h-4 animate-spin"}):l.jsx(Ja,{size:16}),l.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),l.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):l.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[l.jsx(Ja,{size:16}),l.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},U4=()=>{A4();const e=Rr(),[t,r]=x.useState(""),[n,i]=x.useState(""),[a,s]=x.useState(!1),[o,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,v]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:{session:g},error:p}=await q.auth.getSession();if(p){console.error("Session error:",p),v(!1);return}g&&g.user?v(!0):v(!1)}catch(g){console.error("Error checking session:",g),v(!1)}})()},[]);const b=(y,g)=>{h({type:y,text:g}),setTimeout(()=>h(null),5e3)},w=async y=>{if(y.preventDefault(),!t.trim()||!n.trim()){b("error","Veuillez remplir tous les champs");return}if(t!==n){b("error","Les mots de passe ne correspondent pas");return}if(t.length<6){b("error","Le mot de passe doit contenir au moins 6 caractères");return}d(!0);try{const{error:g}=await q.auth.updateUser({password:t});g?b("error",g.message):(b("success","Mot de passe mis à jour avec succès ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{b("error","Une erreur est survenue")}finally{d(!1)}};return m===null?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Vérification du lien..."})]})}):m?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe sécurisé pour votre compte"})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx($a,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:"🔐 Réinitialisation de mot de passe"}),l.jsx("p",{className:"text-xs text-blue-700",children:"Vous êtes dans le processus de réinitialisation de votre mot de passe. Une fois votre nouveau mot de passe défini, vous serez automatiquement connecté à votre tableau de bord."})]})]})}),f&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(pm,{className:"w-5 h-5"}):l.jsx(bn,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:f.text})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:y=>r(y.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!a),children:a?l.jsx(ri,{size:20}):l.jsx(Tr,{size:20})})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractères"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),l.jsxs("div",{className:"relative",children:[l.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:y=>i(y.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"••••••••",minLength:6}),l.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!o),children:o?l.jsx(ri,{size:20}):l.jsx(Tr,{size:20})})]})]})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):"Mettre à jour le mot de passe"})}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour à la connexion"})})]}),l.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"🔒 Sécurité"}),l.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et sécurisé. Une fois modifié, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"max-w-md w-full space-y-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),l.jsx(bn,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expiré"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de réinitialisation de mot de passe n'est plus valide ou a expiré."}),l.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour à la connexion"})]})})})},R2=x.memo(({onMenuToggle:e})=>{var c;const[t,r]=x.useState(!1),{user:n,signOut:i}=Qt(),a=async()=>{r(!1);try{await i()}catch(u){console.error("Erreur lors de la déconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",o=(n==null?void 0:n.email)||"";return l.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(wg,{size:20})}),l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(KT,{size:18,className:"sm:w-5 sm:h-5"})}),l.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:l.jsx(zo,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),l.jsxs("div",{className:"text-left hidden sm:block",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),l.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:o})]}),l.jsx(eu,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&l.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[l.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[l.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),l.jsx("div",{className:"text-sm text-gray-500",children:o}),l.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configuré"})]}),l.jsxs("div",{className:"py-1",children:[l.jsxs(Ye,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[l.jsx(ru,{size:16}),l.jsx("span",{children:"Paramètres du compte"})]}),l.jsxs("button",{onClick:a,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[l.jsx(oM,{size:16}),l.jsx("span",{children:"Se déconnecter"})]})]})]})]})]}),t&&l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});R2.displayName="Header";const L2=x.memo(({isOpen:e,onClose:t})=>{const r=En(),n=[{section:"Tableau de bord",items:[{icon:nM,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:jg,label:"Identité Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:aM,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:za,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:Er,label:"Réservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:ru,label:"Paramètres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return l.jsx(l.Fragment,{children:l.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[l.jsx("div",{className:"lg:hidden flex justify-end p-4",children:l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:l.jsx(qe,{size:20})})}),l.jsx("div",{className:"p-4 lg:pt-4",children:n.map((i,a)=>l.jsxs("div",{className:"mb-6 lg:mb-8",children:[l.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:i.section}),l.jsx("nav",{className:"space-y-1",children:i.items.map((s,o)=>s.path?l.jsxs(Ye,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[l.jsx(s.icon,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:s.label})]},o):l.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[l.jsx(s.icon,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:s.label})]},o))})]},a))})]})})});L2.displayName="Sidebar";const B4=({children:e})=>l.jsx("div",{className:"animate-fadeIn",children:e}),jr=x.memo(({children:e,currentPage:t})=>{const[r,n]=x.useState(!1),i=x.useCallback(()=>n(o=>!o),[]),a=x.useCallback(()=>n(!1),[]),s=x.useCallback(()=>{r&&a()},[r,a]);return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(R2,{onMenuToggle:i}),l.jsx(L2,{currentPage:t,isOpen:r,onClose:a}),r&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),l.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:l.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:l.jsx(B4,{children:e})})})]})});jr.displayName="MainLayout";const na=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?l.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),l.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},ex=()=>{const{menuId:e}=ra(),t=Rr(),r=e===void 0,[n,i]=x.useState(!1),[a,s]=x.useState(!0),[o,c]=x.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0}),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,v]=x.useState(null),[b,w]=x.useState(null);x.useEffect(()=>{(async()=>{const{data:{user:N}}=await q.auth.getUser();if(N){const{data:E}=await q.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",N.id).maybeSingle();i(!!E),E&&r&&c(C=>({...C,nom:E.restaurant_name,slug:E.slug}))}s(!1)})()},[r]),x.useEffect(()=>{!r&&e?y(e):d(!1)},[e,r]);const y=async _=>{d(!0);try{const{data:{user:N}}=await q.auth.getUser();if(!N)return;const{data:E,error:C}=await q.from("menus").select("*").eq("id",_).eq("user_id",N.id).maybeSingle();if(C){console.error("Erreur lors du chargement du menu:",C),j("error","Erreur lors du chargement du menu");return}if(!E){j("error","Menu non trouvé"),t("/mes-menus");return}w(E),c({nom:E.nom,menu_name:E.menu_name||"",description:E.description,slug:E.slug,banniere_url:E.banniere_url,language:E.language||"fr",status:E.status||"published",couleur_primaire:E.couleur_primaire,couleur_secondaire:E.couleur_secondaire,couleur_texte:E.couleur_texte,couleur_fond:E.couleur_fond,afficher_powered_by:E.afficher_powered_by,lien_cloudmenu:E.lien_cloudmenu})}catch(N){console.error("Erreur lors du chargement du menu:",N),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},g=(_,N)=>{c(E=>{const C={...E,[_]:N};return _==="nom"&&typeof N=="string"&&r&&!n&&(C.slug=nn(N)),C})},p=async(_,N)=>{if(!_)return;const E=5*1024*1024;if(_.size>E){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!_.type.startsWith("image/")){j("error","Veuillez sélectionner une image valide");return}d(!0);try{const C=o.banniere_url;C&&await La(C);const M=await Qa(_,"bannieres");if(M.error){j("error",M.error);return}g("banniere_url",M.url),j("success","Bannière uploadée avec succès")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(_,N)=>{v({type:_,text:N}),setTimeout(()=>v(null),5e3)},S=async()=>{if(!n&&!o.nom.trim()){j("error","Le nom de l'établissement est obligatoire");return}h(!0);try{const{data:{user:_}}=await q.auth.getUser();if(!_){j("error","Vous devez être connecté");return}if(b){let N=o.slug;if(o.status==="published"&&!b.slug){const{data:P}=await q.from("restaurant_profiles").select("slug").eq("user_id",_.id).maybeSingle(),M=(P==null?void 0:P.slug)||nn(o.nom),F=nn(o.menu_name||o.nom);N=`${M}/${F}`}const E={nom:o.nom,menu_name:o.menu_name,description:o.description,slug:N,banniere_url:o.banniere_url,language:o.language,status:o.status,couleur_primaire:o.couleur_primaire,couleur_secondaire:o.couleur_secondaire,couleur_texte:o.couleur_texte,couleur_fond:o.couleur_fond,afficher_powered_by:o.afficher_powered_by,lien_cloudmenu:o.lien_cloudmenu},{error:C}=await q.from("menus").update(E).eq("id",b.id);if(C)throw C;j("success","Menu mis à jour avec succès")}else{let N=o.slug;if(o.status==="published"){const M=o.slug,F=nn(o.menu_name||"menu");N=`${M}/${F}`}else o.status==="draft"&&(N="");const E={user_id:_.id,nom:o.nom,menu_name:o.menu_name||"Menu principal",description:o.description,slug:N,banniere_url:o.banniere_url,language:o.language,status:o.status,couleur_primaire:o.couleur_primaire,couleur_secondaire:o.couleur_secondaire,couleur_texte:o.couleur_texte,couleur_fond:o.couleur_fond,afficher_powered_by:o.afficher_powered_by,lien_cloudmenu:o.lien_cloudmenu},{data:C,error:P}=await q.from("menus").insert([E]).select().single();if(P)throw P;w(C),j("success","Menu créé avec succès"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(_){console.error("Erreur lors de la sauvegarde:",_),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},k=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!b||a?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(na,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&l.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?l.jsx(st,{className:"w-5 h-5"}):l.jsx(qe,{className:"w-5 h-5"}),l.jsx("span",{children:m.text})]}),l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsxs("button",{onClick:()=>t("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(ol,{size:20}),l.jsx("span",{children:"Retour à mes menus"})]}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Créer un nouveau menu":"Modifier le menu"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identité visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le résultat en temps réel"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(iM,{size:20}),l.jsx("span",{children:"Informations générales"})]}),l.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'établissement"}),l.jsx("input",{type:"text",value:o.nom,onChange:_=>g("nom",_.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'établissement est partagé entre tous vos menus"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),l.jsx("input",{type:"text",value:o.menu_name,onChange:_=>g("menu_name",_.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom à ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos différents menus (boissons, plats, desserts...)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:o.description,onChange:_=>g("description",_.target.value),placeholder:"Décrivez votre établissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),n&&r&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre menu"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-500",children:"cloudmenu.fr/m/"}),l.jsx("input",{type:"text",value:o.slug,disabled:!0,className:"px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-500 bg-gray-50 cursor-not-allowed"}),l.jsx("span",{className:"text-gray-500",children:"/"}),l.jsx("input",{type:"text",value:o.menu_name?nn(o.menu_name):"",disabled:!0,placeholder:"nom-du-menu",className:"flex-1 px-3 py-3 border border-gray-300 rounded-lg text-sm text-gray-500 bg-gray-50 cursor-not-allowed"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom du restaurant est fixe. Seul le nom du menu détermine l'URL finale."})]}),b&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre menu"}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"cloudmenu.fr/m/"}),l.jsx("input",{type:"text",value:o.slug,disabled:!0,className:"flex-1 px-2 sm:px-3 py-1 border border-gray-300 rounded-r-md text-xs sm:text-sm bg-gray-100 text-gray-500 cursor-not-allowed"})]}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"🔒 L'URL ne peut pas être modifiée après la création (utilisée pour le QR code)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),l.jsxs("div",{className:"space-y-3",children:[o.banniere_url&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:o.banniere_url,alt:"Bannière",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),l.jsx("button",{onClick:()=>g("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:l.jsx(qe,{size:10,className:"sm:w-3 sm:h-3"})})]}),l.jsxs("label",{className:"cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var E;const N=(E=_.target.files)==null?void 0:E[0];N&&p(N)},className:"hidden"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[l.jsx($o,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),l.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),l.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu'à 5MB"})]})]})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(jg,{size:20}),l.jsx("span",{children:"Design"})]}),l.jsx("div",{className:"space-y-4 sm:space-y-6",children:l.jsxs("div",{children:[l.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:k.map((_,N)=>l.jsxs("button",{onClick:()=>{g("couleur_primaire",_.primary),g("couleur_secondaire",_.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.primary}}),l.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:_.secondary}})]}),l.jsx("span",{className:"text-xs sm:text-sm font-medium",children:_.name})]},N))}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[l.jsx("input",{type:"color",value:o.couleur_primaire,onChange:_=>g("couleur_primaire",_.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),l.jsx("input",{type:"text",value:o.couleur_primaire,onChange:_=>g("couleur_primaire",_.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[l.jsx("input",{type:"color",value:o.couleur_secondaire,onChange:_=>g("couleur_secondaire",_.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),l.jsx("input",{type:"text",value:o.couleur_secondaire,onChange:_=>g("couleur_secondaire",_.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),l.jsxs("button",{onClick:S,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?l.jsx(ge,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):l.jsx(_g,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),l.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})};function F4(){const{user:e}=Qt(),{menuId:t}=ra(),r=Rr(),[n,i]=x.useState(null),[a,s]=x.useState([]),[o,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(null);x.useState(null);const[m,v]=x.useState(null),[b,w]=x.useState(null),[y,g]=x.useState({}),[p,j]=x.useState(""),[S,k]=x.useState({});x.useEffect(()=>{e&&t&&_()},[e,t]),x.useEffect(()=>{n&&N()},[n]);const _=async()=>{if(!t){E("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:A,error:V}=await q.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(V){console.error("Erreur lors du chargement du menu:",V),E("error","Erreur lors du chargement du menu");return}if(!A){E("error","Menu non trouvé"),r("/mes-menus");return}i(A)}catch(A){console.error("Erreur lors du chargement du menu:",A),E("error","Erreur lors du chargement du menu")}finally{d(!1)}},N=async()=>{d(!0);try{const{data:A,error:V}=await q.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(V)throw V;if(s(A||[]),A&&A.length>0){const{data:ee,error:B}=await q.from("menu_items").select("*").in("category_id",A.map(R=>R.id)).order("ordre",{ascending:!0});if(B)throw B;const Q={};A.forEach(R=>{Q[R.id]=(ee==null?void 0:ee.filter(re=>re.category_id===R.id))||[]}),c(Q)}}catch(A){console.error("Erreur lors du chargement:",A),E("error","Erreur lors du chargement des données")}finally{d(!1)}},E=(A,V)=>{w({type:A,text:V}),setTimeout(()=>w(null),5e3)},C=async()=>{if(p.trim())try{const A={menu_id:n.id,nom:p,ordre:a.length},{data:V,error:ee}=await q.from("categories").insert([A]).select().single();if(ee)throw ee;s([...a,V]),c({...o,[V.id]:[]}),j(""),E("success","Catégorie ajoutée avec succès")}catch(A){console.error("Erreur lors de l'ajout de la catégorie:",A),E("error","Erreur lors de l'ajout de la catégorie")}},P=async A=>{if(confirm("Êtes-vous sûr de vouloir supprimer cette catégorie et tous ses éléments ?"))try{const V=o[A]||[];for(const Q of V)if(Q.image_url)try{await La(Q.image_url)}catch(R){console.warn(`Failed to delete image for item ${Q.nom}:`,R)}const{error:ee}=await q.from("categories").delete().eq("id",A);if(ee)throw ee;s(a.filter(Q=>Q.id!==A));const B={...o};delete B[A],c(B),E("success","Catégorie supprimée avec succès")}catch(V){console.error("Erreur lors de la suppression:",V),E("error","Erreur lors de la suppression")}},M=async(A,V,ee)=>{if(!A)return;if(A.size>5*1024*1024){E("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){E("error","Veuillez sélectionner une image valide");return}const B=V||`new-item-${ee}`;h(B);try{const Q=await Qa(A,"menu-items");if(Q.error){E("error",Q.error);return}const{data:R,error:re}=await q.from("menu_items").update({image_url:Q.url}).eq("id",V).select().single();if(re)throw re;c({...o,[ee]:o[ee].map(se=>se.id===V?R:se)}),E("success","Image mise à jour avec succès")}catch(Q){console.error("Erreur lors de l'upload:",Q),E("error","Erreur lors de l'upload")}finally{h(null)}},F=async(A,V,ee)=>{try{ee&&await La(ee);const{data:B,error:Q}=await q.from("menu_items").update({image_url:""}).eq("id",A).select().single();if(Q)throw Q;c({...o,[V]:o[V].map(R=>R.id===A?B:R)}),E("success","Image supprimée avec succès")}catch(B){console.error("Erreur lors de la suppression:",B),E("error","Erreur lors de la suppression")}},Y=async(A,V)=>{if(A){if(A.size>5*1024*1024){E("error","Le fichier est trop volumineux (max 5MB)");return}if(!A.type.startsWith("image/")){E("error","Veuillez sélectionner une image valide");return}h(`new-item-${V}`);try{const ee=await Qa(A,"menu-items");if(ee.error){E("error",ee.error);return}k({...S,[V]:{...S[V],image_url:ee.url}}),E("success","Image uploadée avec succès")}catch(ee){console.error("Erreur lors de l'upload:",ee),E("error","Erreur lors de l'upload")}finally{h(null)}}},ie=A=>S[A]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},H=(A,V)=>{k({...S,[A]:{...ie(A),...V}})},K=async A=>{var ee,B;const V=ie(A);if(!((ee=V.nom)!=null&&ee.trim())||!V.prix){E("error","Le nom et le prix sont obligatoires");return}try{const Q={...V,category_id:A,ordre:((B=o[A])==null?void 0:B.length)||0},{data:R,error:re}=await q.from("menu_items").insert([Q]).select().single();if(re)throw re;c({...o,[A]:[...o[A]||[],R]});const se={...S};delete se[A],k(se),E("success","Plat ajouté avec succès")}catch(Q){console.error("Erreur lors de l'ajout du plat:",Q),E("error","Erreur lors de l'ajout du plat")}},U=async(A,V)=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce plat ?"))try{const ee=o[V].find(Q=>Q.id===A);ee!=null&&ee.image_url&&await La(ee.image_url);const{error:B}=await q.from("menu_items").delete().eq("id",A);if(B)throw B;c({...o,[V]:o[V].filter(Q=>Q.id!==A)}),E("success","Plat supprimé avec succès")}catch(ee){console.error("Erreur lors de la suppression:",ee),E("error","Erreur lors de la suppression")}},O=async(A,V)=>{try{const{data:ee,error:B}=await q.from("menu_items").update({disponible:!A.disponible}).eq("id",A.id).select().single();if(B)throw B;c({...o,[V]:o[V].map(Q=>Q.id===A.id?ee:Q)})}catch(ee){console.error("Erreur lors de la mise à jour:",ee),E("error","Erreur lors de la mise à jour")}},D=A=>{v(A.id),g({nom:A.nom,description:A.description,prix:A.prix,allergenes:A.allergenes,vegetarien:A.vegetarien,vegan:A.vegan,sans_gluten:A.sans_gluten,epice:A.epice})},W=()=>{v(null),g({})},L=async(A,V)=>{var ee;if(!((ee=y.nom)!=null&&ee.trim())){E("error","Le nom du plat est obligatoire");return}try{const{data:B,error:Q}=await q.from("menu_items").update(y).eq("id",A).select().single();if(Q)throw Q;c({...o,[V]:o[V].map(R=>R.id===A?B:R)}),v(null),g({}),E("success","Plat modifié avec succès")}catch(B){console.error("Erreur lors de la modification:",B),E("error","Erreur lors de la modification")}},le=async(A,V,ee)=>{if(V!==ee)try{const{data:B,error:Q}=await q.from("menu_items").update({category_id:ee}).eq("id",A).select().single();if(Q)throw Q;const R=o[V].filter(se=>se.id!==A),re=[...o[ee]||[],B];c({...o,[V]:R,[ee]:re}),E("success","Plat déplacé avec succès")}catch(B){console.error("Erreur lors du déplacement:",B),E("error","Erreur lors du déplacement")}};return u?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(na,{size:"lg"})}):n?l.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[b&&l.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${b.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.jsx("span",{children:b.text})}),l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[l.jsx(ol,{size:20}),l.jsx("span",{children:"Retour à mes menus"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:n.nom}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catégories et plats"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs(Ye,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-purple-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[l.jsx(wm,{size:18}),l.jsx("span",{children:"Import IA"})]}),l.jsxs("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[l.jsx(Tr,{size:18}),l.jsx("span",{children:"Prévisualiser"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[l.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catégorie"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsx("input",{type:"text",value:p,onChange:A=>j(A.target.value),placeholder:"Nom de la catégorie (ex: Entrées, Plats, Desserts...)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:A=>A.key==="Enter"&&C()}),l.jsxs("button",{onClick:C,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base",children:[l.jsx(Lo,{size:18}),l.jsx("span",{children:"Ajouter"})]})]})]}),a.length===0?l.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(dM,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),l.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catégorie"}),l.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catégorie pour organiser votre menu."})]}):l.jsx("div",{className:"space-y-4 sm:space-y-6",children:a.map(A=>{var V,ee;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(rM,{className:"text-gray-400 hidden sm:block",size:20}),l.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:A.nom}),l.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((V=o[A.id])==null?void 0:V.length)||0," plats"]})]}),l.jsx("button",{onClick:()=>P(A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:l.jsx(Ja,{size:18})})]})}),l.jsx("div",{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"space-y-4",children:[(ee=o[A.id])==null?void 0:ee.map(B=>l.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${m===B.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[l.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:B.image_url?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:B.image_url,alt:B.nom,className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[l.jsxs("label",{className:"cursor-pointer",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var re;const R=(re=Q.target.files)==null?void 0:re[0];R&&M(R,B.id,A.id)},className:"hidden"}),f===B.id?l.jsx(ge,{className:"w-4 h-4 text-white animate-spin"}):l.jsx(Vy,{className:"w-4 h-4 text-white hover:scale-110"})]}),l.jsx("button",{onClick:()=>F(B.id,A.id,B.image_url),className:"text-white hover:text-red-300",children:l.jsx(qe,{className:"w-4 h-4"})})]})]}):l.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var re;const R=(re=Q.target.files)==null?void 0:re[0];R&&M(R,B.id,A.id)},className:"hidden"}),f===B.id?l.jsx(ge,{className:"text-gray-400 animate-spin",size:24}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Vy,{className:"text-gray-400",size:20}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),l.jsx("div",{className:"flex-1",children:m===B.id?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),l.jsx("input",{type:"text",value:y.nom||"",onChange:Q=>g({...y,nom:Q.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Prix (€)"}),l.jsx("input",{type:"number",value:y.prix||"",onChange:Q=>g({...y,prix:parseFloat(Q.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),l.jsx("textarea",{value:y.description||"",onChange:Q=>g({...y,description:Q.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{className:"flex flex-wrap gap-3",children:[l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:y.vegetarien||!1,onChange:Q=>g({...y,vegetarien:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Végétarien"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:y.vegan||!1,onChange:Q=>g({...y,vegan:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Vegan"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:y.sans_gluten||!1,onChange:Q=>g({...y,sans_gluten:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",checked:y.epice||!1,onChange:Q=>g({...y,epice:Q.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),l.jsx("span",{className:"text-xs",children:"Épicé"})]})]})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:B.nom}),B.vegetarien&&l.jsx(Pa,{className:"text-green-600",size:16}),B.vegan&&l.jsx(Pa,{className:"text-green-700",size:16}),B.epice&&l.jsx(vm,{className:"text-red-600",size:16})]}),B.description&&l.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:B.description}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[l.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[B.prix.toFixed(2)," €"]}),B.allergenes.length>0&&l.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergènes: ",B.allergenes.join(", ")]})]})]})}),l.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[a.length>1&&m!==B.id&&l.jsx("select",{value:A.id,onChange:Q=>le(B.id,A.id,Q.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Déplacer vers une autre catégorie",children:a.map(Q=>l.jsx("option",{value:Q.id,children:Q.nom},Q.id))}),m===B.id?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>L(B.id,A.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:l.jsx(st,{size:18})}),l.jsx("button",{onClick:W,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:l.jsx(qe,{size:18})})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>D(B),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:l.jsx(QT,{size:18})}),l.jsx("button",{onClick:()=>O(B,A.id),className:`p-2 rounded-lg ${B.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:B.disponible?"Disponible":"Non disponible",children:B.disponible?l.jsx(Tr,{size:18}):l.jsx(ri,{size:18})}),l.jsx("button",{onClick:()=>O(B,A.id),className:`p-2 rounded-lg ${B.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:B.disponible?"Disponible":"Non disponible",children:B.disponible?l.jsx(Tr,{size:18}):l.jsx(ri,{size:18})}),l.jsx("button",{onClick:()=>U(B.id,A.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:l.jsx(Ja,{size:18})})]})]})]},B.id)),l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const B=ie(A.id);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),l.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:B.image_url?l.jsxs("div",{className:"relative w-full h-full",children:[l.jsx("img",{src:B.image_url,alt:"Aperçu",className:"w-full h-full object-cover"}),l.jsx("button",{onClick:()=>H(A.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:l.jsx(qe,{size:12})})]}):l.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:Q=>{var re;const R=(re=Q.target.files)==null?void 0:re[0];R&&Y(R,A.id)},className:"hidden"}),f===`new-item-${A.id}`?l.jsx(ge,{className:"text-gray-400 animate-spin",size:20}):l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx($o,{className:"text-gray-400",size:16}),l.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),l.jsx("input",{type:"text",value:B.nom||"",onChange:Q=>H(A.id,{nom:Q.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("input",{type:"text",value:B.description||"",onChange:Q=>H(A.id,{description:Q.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Prix (€)"}),l.jsx("input",{type:"number",value:B.prix||"",onChange:Q=>H(A.id,{prix:parseFloat(Q.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),l.jsxs("button",{onClick:()=>K(A.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[l.jsx(Lo,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},A.id)})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouvé"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accès à celui-ci."}),l.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour à mes menus"})]})}const tx={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"}};function W4(){const{user:e}=Qt(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,s]=x.useState(null);x.useEffect(()=>{e&&o()},[e]);const o=async()=>{i(!0);try{const{data:h,error:m}=await q.from("menus").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Erreur lors du chargement des menus:",h),c("error","Erreur lors du chargement des menus")}finally{i(!1)}},c=(h,m)=>{s({type:h,text:m}),setTimeout(()=>s(null),5e3)},u=async h=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce menu ? Toutes les catégories et plats associés seront également supprimés."))try{const{error:m}=await q.from("menus").delete().eq("id",h);if(m)throw m;r(t.filter(v=>v.id!==h)),c("success","Menu supprimé avec succès")}catch(m){console.error("Erreur lors de la suppression:",m),c("error","Erreur lors de la suppression du menu")}},d=async h=>{try{const{id:m,created_at:v,updated_at:b,slug:w,...y}=h,g={...y,menu_name:`${h.menu_name||h.nom} (Copie)`,slug:"",status:"draft"},{data:p,error:j}=await q.from("menus").insert([g]).select().single();if(j)throw j;r([p,...t]),c("success","Menu dupliqué avec succès (brouillon)")}catch(m){console.error("Erreur lors de la duplication:",m),c("error","Erreur lors de la duplication du menu")}},f=async(h,m)=>{try{let v;if(m==="actif")v={actif:!h.actif};else{const w=h.status==="draft";if(v={status:w?"published":"draft"},w&&!h.slug){const{data:y}=await q.from("restaurant_profiles").select("slug").eq("user_id",h.user_id).maybeSingle(),g=(y==null?void 0:y.slug)||nn(h.nom),p=nn(h.menu_name||h.nom);v.slug=`${g}/${p}`}}const{error:b}=await q.from("menus").update(v).eq("id",h.id);if(b)throw b;r(t.map(w=>w.id===h.id?{...w,...v}:w)),c("success","Statut mis à jour avec succès")}catch(v){console.error("Erreur lors de la mise à jour:",v),c("error","Erreur lors de la mise à jour du statut")}};return n?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(na,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[a&&l.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:l.jsx("span",{children:a.text})}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Gérez tous vos menus de restaurant"})]}),l.jsxs(Ye,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[l.jsx(Lo,{size:18}),l.jsx("span",{children:"Créer un nouveau menu"})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[l.jsx(ZT,{className:"mx-auto h-12 w-12 text-gray-400"}),l.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par créer votre premier menu pour votre restaurant."}),l.jsxs(Ye,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[l.jsx(Lo,{size:18}),l.jsx("span",{children:"Créer mon premier menu"})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(h=>{var m,v;return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.banniere_url?l.jsx("div",{className:"h-32 bg-gray-200",children:l.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-full h-full object-cover"})}):l.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-4xl font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:h.menu_name||h.nom}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("span",{className:"text-2xl",children:(m=tx[h.language||"fr"])==null?void 0:m.flag}),l.jsx("span",{className:"text-xs text-gray-500",children:(v=tx[h.language||"fr"])==null?void 0:v.name})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>f(h,"status"),className:`px-2 py-1 rounded text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:h.status==="published"?"Publié":"Brouillon"}),l.jsx("button",{onClick:()=>f(h,"actif"),className:`px-2 py-1 rounded text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:h.actif?"Actif":"Inactif"})]})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap mt-4",children:[l.jsxs(Ye,{to:`/categories/${h.id}`,className:"flex-1 min-w-[140px] flex items-center justify-center gap-1.5 text-sm bg-orange-600 text-white hover:bg-orange-700 px-3 py-2.5 rounded font-medium shadow-sm",children:[l.jsx(ym,{size:16}),l.jsx("span",{children:"Gérer les articles"})]}),l.jsxs(Ye,{to:`/mon-menu/${h.id}`,className:"flex-1 min-w-[120px] flex items-center justify-center gap-1 text-sm text-gray-700 hover:bg-gray-50 px-3 py-2 rounded border border-gray-300",children:[l.jsx(ru,{size:16}),l.jsx("span",{children:"Paramètres"})]}),l.jsxs("button",{onClick:()=>d(h),className:"flex items-center justify-center gap-1 text-sm text-gray-700 hover:bg-gray-50 px-3 py-2 rounded border border-gray-300",children:[l.jsx(gm,{size:16}),l.jsx("span",{children:"Dupliquer"})]}),l.jsxs("button",{onClick:()=>u(h.id),className:"flex items-center justify-center gap-1 text-sm text-red-600 hover:bg-red-50 px-3 py-2 rounded border border-red-200",children:[l.jsx(Ja,{size:16}),l.jsx("span",{children:"Supprimer"})]})]})]})]},h.id)})}),l.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilité"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[h.banniere_url?l.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-12 h-12 rounded object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:l.jsx("span",{className:"text-white text-lg font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:h.menu_name||h.nom}),l.jsxs("div",{className:"text-sm text-gray-500",children:["cloudmenu.fr/m/",h.slug]})]})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>f(h,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publié":"Brouillon"})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("button",{onClick:()=>f(h,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})}),l.jsx("td",{className:"px-6 py-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsxs(Ye,{to:`/categories/${h.id}`,className:"px-3 py-1.5 bg-orange-600 text-white hover:bg-orange-700 rounded text-sm font-medium flex items-center gap-1.5 shadow-sm",title:"Gérer les articles",children:[l.jsx(ym,{size:16}),l.jsx("span",{children:"Articles"})]}),l.jsx(Ye,{to:`/mon-menu/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramètres du menu",children:l.jsx(ru,{size:18})}),l.jsx("button",{onClick:()=>d(h),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:l.jsx(gm,{size:18})}),l.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:l.jsx(Ja,{size:18})})]})})]},h.id))})]})})]})]})})}const q4=()=>{const{user:e}=Qt(),{menuId:t}=ra(),r=Rr(),[n,i]=x.useState(null),[a,s]=x.useState(!0),[o,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,v]=x.useState(""),[b,w]=x.useState(!0);x.useEffect(()=>{e&&t&&y()},[e,t]);const y=async()=>{if(!t){g("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:S,error:k}=await q.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(k){console.error("Erreur lors du chargement du menu:",k),g("error","Erreur lors du chargement du menu");return}if(!S){g("error","Menu non trouvé"),r("/mes-menus");return}i(S)}catch(S){console.error("Erreur lors du chargement du menu:",S),g("error","Erreur lors du chargement du menu")}finally{s(!1)}},g=(S,k)=>{h({type:S,text:k}),setTimeout(()=>h(null),5e3)},p=async S=>{if(S){if(S.size>10*1024*1024){g("error","Le fichier est trop volumineux (max 10MB)");return}if(!S.type.startsWith("image/")){g("error","Veuillez sélectionner une image valide");return}c(!0);try{g("success","Upload de l'image en cours...");const k=await Qa(S,"menu-items");if(k.error){g("error",k.error);return}v("Analyse de l'image avec l'IA..."),g("success","Analyse de l'image avec l'IA...");const _=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0"},body:JSON.stringify({imageUrl:k.url,menuId:n.id,importImages:b})});if(v("Traitement de la réponse..."),!_.ok){const E=await _.json();g("error",E.error||"Erreur lors de l'analyse");return}const N=await _.json();if(!N.success){g("error",N.error||"Erreur lors de l'analyse");return}v("Insertion des données en base..."),g("success","Insertion des données et images en base..."),await j(N.data);try{await La(k.url)}catch(E){console.warn("Failed to cleanup analysis image:",E)}g("success","Menu importé avec succès ! 🎉 Vous pouvez maintenant retourner à la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(k){console.error("Erreur lors du traitement:",k),g("error","Erreur lors du traitement de l'image")}finally{c(!1),v(""),d(null)}}},j=async S=>{try{const{data:k}=await q.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),_=k&&k.length>0?k[0].ordre+1:0;for(const N of S.categories){const{data:E,error:C}=await q.from("categories").insert([{menu_id:n.id,nom:N.name,description:N.description||"",ordre:_+S.categories.indexOf(N)}]).select().single();if(C)throw C;for(const P of N.items){const{error:M}=await q.from("menu_items").insert([{category_id:E.id,nom:P.name,description:P.description||"",prix:P.price||0,image_url:P.image_url||"",allergenes:P.allergenes||[],vegetarien:P.vegetarian||!1,vegan:P.vegan||!1,sans_gluten:P.gluten_free||!1,epice:P.spicy||!1,ordre:N.items.indexOf(P)}]);if(M)throw M}}}catch(k){throw console.error("Erreur lors de l'insertion:",k),k}};return a?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(na,{size:"lg"})}):n?l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ye,{to:"/categories",className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:l.jsx(ol,{size:20})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),l.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(st,{className:"w-5 h-5 mt-0.5"}):l.jsx(qe,{className:"w-5 h-5 mt-0.5"}),l.jsx("span",{children:f.text})]}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(wm,{className:"w-8 h-8 text-purple-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),l.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie opérer !"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsx("div",{className:"mb-6",children:l.jsxs("label",{className:"cursor-pointer block",children:[l.jsx("input",{type:"file",accept:"image/*",onChange:S=>{var _;const k=(_=S.target.files)==null?void 0:_[0];k&&d(k)},className:"hidden",disabled:o}),l.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:l.jsx(XT,{className:"w-6 h-6 text-purple-600"})}),u?l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):l.jsxs("div",{children:[l.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour sélectionner une image de votre menu"}),l.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu'à 10MB - Plus la photo est claire, meilleur sera le résultat"})]})]})})]})}),l.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[l.jsx("input",{type:"checkbox",id:"importImages",checked:b,onChange:S=>w(S.target.checked),disabled:o,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),l.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{onClick:()=>u&&p(u),disabled:!u||o,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:o?l.jsxs(l.Fragment,{children:[l.jsx(ge,{className:"animate-spin",size:24}),l.jsx("span",{children:"Analyse en cours..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(wm,{size:24}),l.jsx("span",{children:"Analyser le menu"})]})})})]}),o&&l.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:l.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[l.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[l.jsx(ge,{className:"animate-spin",size:20}),l.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),l.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),l.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexité de votre menu et le nombre de plats",b&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),l.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur résultat"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-green-600 font-bold",children:"📱"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien éclairée et nette"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-blue-600 font-bold",children:"📄"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[l.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:l.jsx("span",{className:"text-purple-600 font-bold text-lg",children:"✓"})}),l.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),l.jsx(Ye,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})})};var fi={},H4=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$2={},Jt={};let Pg;const V4=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Jt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Jt.getSymbolTotalCodewords=function(t){return V4[t]};Jt.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Jt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Pg=t};Jt.isKanjiModeEnabled=function(){return typeof Pg<"u"};Jt.toSJIS=function(t){return Pg(t)};var dd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(dd);function z2(){this.buffer=[],this.length=0}z2.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var K4=z2;function dl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}dl.prototype.set=function(e,t,r,n){const i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)};dl.prototype.get=function(e,t){return this.data[e*this.size+t]};dl.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};dl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var G4=dl,U2={};(function(e){const t=Jt.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,a=t(n),s=a===145?26:Math.ceil((a-13)/(2*i-2))*2,o=[a-7];for(let c=1;c<i-1;c++)o[c]=o[c-1]-s;return o.push(6),o.reverse()},e.getPositions=function(n){const i=[],a=e.getRowColCoords(n),s=a.length;for(let o=0;o<s;o++)for(let c=0;c<s;c++)o===0&&c===0||o===0&&c===s-1||o===s-1&&c===0||i.push([a[o],a[c]]);return i}})(U2);var B2={};const Y4=Jt.getSymbolSize,rx=7;B2.getPositions=function(t){const r=Y4(t);return[[0,0],[r-rx,0],[0,r-rx]]};var F2={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const a=i.size;let s=0,o=0,c=0,u=null,d=null;for(let f=0;f<a;f++){o=c=0,u=d=null;for(let h=0;h<a;h++){let m=i.get(f,h);m===u?o++:(o>=5&&(s+=t.N1+(o-5)),u=m,o=1),m=i.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}o>=5&&(s+=t.N1+(o-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(i){const a=i.size;let s=0;for(let o=0;o<a-1;o++)for(let c=0;c<a-1;c++){const u=i.get(o,c)+i.get(o,c+1)+i.get(o+1,c)+i.get(o+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(i){const a=i.size;let s=0,o=0,c=0;for(let u=0;u<a;u++){o=c=0;for(let d=0;d<a;d++)o=o<<1&2047|i.get(u,d),d>=10&&(o===1488||o===93)&&s++,c=c<<1&2047|i.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(i){let a=0;const s=i.data.length;for(let c=0;c<s;c++)a+=i.data[c];return Math.abs(Math.ceil(a*100/s/5)-10)*t.N4};function r(n,i,a){switch(n){case e.Patterns.PATTERN000:return(i+a)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(i+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return i*a%2+i*a%3===0;case e.Patterns.PATTERN110:return(i*a%2+i*a%3)%2===0;case e.Patterns.PATTERN111:return(i*a%3+(i+a)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,a){const s=a.size;for(let o=0;o<s;o++)for(let c=0;c<s;c++)a.isReserved(c,o)||a.xor(c,o,r(i,c,o))},e.getBestMask=function(i,a){const s=Object.keys(e.Patterns).length;let o=0,c=1/0;for(let u=0;u<s;u++){a(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<c&&(c=d,o=u)}return o}})(F2);var fd={};const Kn=dd,Yl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ql=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];fd.getBlocksCount=function(t,r){switch(r){case Kn.L:return Yl[(t-1)*4+0];case Kn.M:return Yl[(t-1)*4+1];case Kn.Q:return Yl[(t-1)*4+2];case Kn.H:return Yl[(t-1)*4+3];default:return}};fd.getTotalCodewordsCount=function(t,r){switch(r){case Kn.L:return Ql[(t-1)*4+0];case Kn.M:return Ql[(t-1)*4+1];case Kn.Q:return Ql[(t-1)*4+2];case Kn.H:return Ql[(t-1)*4+3];default:return}};var W2={},hd={};const ho=new Uint8Array(512),iu=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)ho[r]=t,iu[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)ho[r]=ho[r-255]})();hd.log=function(t){if(t<1)throw new Error("log("+t+")");return iu[t]};hd.exp=function(t){return ho[t]};hd.mul=function(t,r){return t===0||r===0?0:ho[iu[t]+iu[r]]};(function(e){const t=hd;e.mul=function(n,i){const a=new Uint8Array(n.length+i.length-1);for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)a[s+o]^=t.mul(n[s],i[o]);return a},e.mod=function(n,i){let a=new Uint8Array(n);for(;a.length-i.length>=0;){const s=a[0];for(let c=0;c<i.length;c++)a[c]^=t.mul(i[c],s);let o=0;for(;o<a.length&&a[o]===0;)o++;a=a.slice(o)}return a},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let a=0;a<n;a++)i=e.mul(i,new Uint8Array([1,t.exp(a)]));return i}})(W2);const q2=W2;function Og(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Og.prototype.initialize=function(t){this.degree=t,this.genPoly=q2.generateECPolynomial(this.degree)};Og.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=q2.mod(r,this.genPoly),i=this.degree-n.length;if(i>0){const a=new Uint8Array(this.degree);return a.set(n,i),a}return n};var Q4=Og,H2={},hi={},Ag={};Ag.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Xr={};const V2="[0-9]+",J4="[A-Z $%*+\\-./:]+";let Bo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Bo=Bo.replace(/u/g,"\\u");const X4="(?:(?![A-Z0-9 $%*+\\-./:]|"+Bo+`)(?:.|[\r
]))+`;Xr.KANJI=new RegExp(Bo,"g");Xr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Xr.BYTE=new RegExp(X4,"g");Xr.NUMERIC=new RegExp(V2,"g");Xr.ALPHANUMERIC=new RegExp(J4,"g");const Z4=new RegExp("^"+Bo+"$"),e3=new RegExp("^"+V2+"$"),t3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Xr.testKanji=function(t){return Z4.test(t)};Xr.testNumeric=function(t){return e3.test(t)};Xr.testAlphanumeric=function(t){return t3.test(t)};(function(e){const t=Ag,r=Xr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,s){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?a.ccBits[0]:s<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return r.testNumeric(a)?e.NUMERIC:r.testAlphanumeric(a)?e.ALPHANUMERIC:r.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(a,s){if(e.isValid(a))return a;try{return n(a)}catch{return s}}})(hi);(function(e){const t=Jt,r=fd,n=dd,i=hi,a=Ag,s=7973,o=t.getBCHDigit(s);function c(h,m,v){for(let b=1;b<=40;b++)if(m<=e.getCapacity(b,v,h))return b}function u(h,m){return i.getCharCountIndicator(h,m)+4}function d(h,m){let v=0;return h.forEach(function(b){const w=u(b.mode,m);v+=w+b.getBitsLength()}),v}function f(h,m){for(let v=1;v<=40;v++)if(d(h,v)<=e.getCapacity(v,m,i.MIXED))return v}e.from=function(m,v){return a.isValid(m)?parseInt(m,10):v},e.getCapacity=function(m,v,b){if(!a.isValid(m))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const w=t.getSymbolTotalCodewords(m),y=r.getTotalCodewordsCount(m,v),g=(w-y)*8;if(b===i.MIXED)return g;const p=g-u(b,m);switch(b){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(m,v){let b;const w=n.from(v,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;b=m[0]}else b=m;return c(b.mode,b.getLength(),w)},e.getEncodedBits=function(m){if(!a.isValid(m)||m<7)throw new Error("Invalid QR Code version");let v=m<<12;for(;t.getBCHDigit(v)-o>=0;)v^=s<<t.getBCHDigit(v)-o;return m<<12|v}})(H2);var K2={};const Sm=Jt,G2=1335,r3=21522,nx=Sm.getBCHDigit(G2);K2.getEncodedBits=function(t,r){const n=t.bit<<3|r;let i=n<<10;for(;Sm.getBCHDigit(i)-nx>=0;)i^=G2<<Sm.getBCHDigit(i)-nx;return(n<<10|i)^r3};var Y2={};const n3=hi;function Xa(e){this.mode=n3.NUMERIC,this.data=e.toString()}Xa.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Xa.prototype.getLength=function(){return this.data.length};Xa.prototype.getBitsLength=function(){return Xa.getBitsLength(this.data.length)};Xa.prototype.write=function(t){let r,n,i;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),i=parseInt(n,10),t.put(i,10);const a=this.data.length-r;a>0&&(n=this.data.substr(r),i=parseInt(n,10),t.put(i,a*3+1))};var i3=Xa;const a3=hi,Lf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Za(e){this.mode=a3.ALPHANUMERIC,this.data=e}Za.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Za.prototype.getLength=function(){return this.data.length};Za.prototype.getBitsLength=function(){return Za.getBitsLength(this.data.length)};Za.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Lf.indexOf(this.data[r])*45;n+=Lf.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(Lf.indexOf(this.data[r]),6)};var s3=Za;const o3=hi;function es(e){this.mode=o3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}es.getBitsLength=function(t){return t*8};es.prototype.getLength=function(){return this.data.length};es.prototype.getBitsLength=function(){return es.getBitsLength(this.data.length)};es.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var l3=es;const c3=hi,u3=Jt;function ts(e){this.mode=c3.KANJI,this.data=e}ts.getBitsLength=function(t){return t*13};ts.prototype.getLength=function(){return this.data.length};ts.prototype.getBitsLength=function(){return ts.getBitsLength(this.data.length)};ts.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=u3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var d3=ts,Q2={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,i){var a={},s={};s[n]=0;var o=t.PriorityQueue.make();o.push(n,0);for(var c,u,d,f,h,m,v,b,w;!o.empty();){c=o.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],v=f+m,b=s[d],w=typeof s[d]>"u",(w||b>v)&&(s[d]=v,o.push(d,v),a[d]=u))}if(typeof i<"u"&&typeof s[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return a},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],a=n;a;)i.push(a),r[a],a=r[a];return i.reverse(),i},find_path:function(r,n,i){var a=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(a,i)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,i={},a;r=r||{};for(a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Q2);var f3=Q2.exports;(function(e){const t=hi,r=i3,n=s3,i=l3,a=d3,s=Xr,o=Jt,c=f3;function u(y){return unescape(encodeURIComponent(y)).length}function d(y,g,p){const j=[];let S;for(;(S=y.exec(p))!==null;)j.push({data:S[0],index:S.index,mode:g,length:S[0].length});return j}function f(y){const g=d(s.NUMERIC,t.NUMERIC,y),p=d(s.ALPHANUMERIC,t.ALPHANUMERIC,y);let j,S;return o.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,y),S=d(s.KANJI,t.KANJI,y)):(j=d(s.BYTE_KANJI,t.BYTE,y),S=[]),g.concat(p,j,S).sort(function(_,N){return _.index-N.index}).map(function(_){return{data:_.data,mode:_.mode,length:_.length}})}function h(y,g){switch(g){case t.NUMERIC:return r.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return a.getBitsLength(y);case t.BYTE:return i.getBitsLength(y)}}function m(y){return y.reduce(function(g,p){const j=g.length-1>=0?g[g.length-1]:null;return j&&j.mode===p.mode?(g[g.length-1].data+=p.data,g):(g.push(p),g)},[])}function v(y){const g=[];for(let p=0;p<y.length;p++){const j=y[p];switch(j.mode){case t.NUMERIC:g.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:g.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:g.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:g.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return g}function b(y,g){const p={},j={start:{}};let S=["start"];for(let k=0;k<y.length;k++){const _=y[k],N=[];for(let E=0;E<_.length;E++){const C=_[E],P=""+k+E;N.push(P),p[P]={node:C,lastCount:0},j[P]={};for(let M=0;M<S.length;M++){const F=S[M];p[F]&&p[F].node.mode===C.mode?(j[F][P]=h(p[F].lastCount+C.length,C.mode)-h(p[F].lastCount,C.mode),p[F].lastCount+=C.length):(p[F]&&(p[F].lastCount=C.length),j[F][P]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,g))}}S=N}for(let k=0;k<S.length;k++)j[S[k]].end=0;return{map:j,table:p}}function w(y,g){let p;const j=t.getBestModeForData(y);if(p=t.from(g,j),p!==t.BYTE&&p.bit<j.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(j));switch(p===t.KANJI&&!o.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new r(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new a(y);case t.BYTE:return new i(y)}}e.fromArray=function(g){return g.reduce(function(p,j){return typeof j=="string"?p.push(w(j,null)):j.data&&p.push(w(j.data,j.mode)),p},[])},e.fromString=function(g,p){const j=f(g,o.isKanjiModeEnabled()),S=v(j),k=b(S,p),_=c.find_path(k.map,"start","end"),N=[];for(let E=1;E<_.length-1;E++)N.push(k.table[_[E]].node);return e.fromArray(m(N))},e.rawSplit=function(g){return e.fromArray(f(g,o.isKanjiModeEnabled()))}})(Y2);const md=Jt,$f=dd,h3=K4,m3=G4,p3=U2,g3=B2,Nm=F2,Em=fd,v3=Q4,au=H2,y3=K2,x3=hi,zf=Y2;function b3(e,t){const r=e.size,n=g3.getPositions(t);for(let i=0;i<n.length;i++){const a=n[i][0],s=n[i][1];for(let o=-1;o<=7;o++)if(!(a+o<=-1||r<=a+o))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(o>=0&&o<=6&&(c===0||c===6)||c>=0&&c<=6&&(o===0||o===6)||o>=2&&o<=4&&c>=2&&c<=4?e.set(a+o,s+c,!0,!0):e.set(a+o,s+c,!1,!0))}}function w3(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function j3(e,t){const r=p3.getPositions(t);for(let n=0;n<r.length;n++){const i=r[n][0],a=r[n][1];for(let s=-2;s<=2;s++)for(let o=-2;o<=2;o++)s===-2||s===2||o===-2||o===2||s===0&&o===0?e.set(i+s,a+o,!0,!0):e.set(i+s,a+o,!1,!0)}}function _3(e,t){const r=e.size,n=au.getEncodedBits(t);let i,a,s;for(let o=0;o<18;o++)i=Math.floor(o/3),a=o%3+r-8-3,s=(n>>o&1)===1,e.set(i,a,s,!0),e.set(a,i,s,!0)}function Uf(e,t,r){const n=e.size,i=y3.getEncodedBits(t,r);let a,s;for(a=0;a<15;a++)s=(i>>a&1)===1,a<6?e.set(a,8,s,!0):a<8?e.set(a+1,8,s,!0):e.set(n-15+a,8,s,!0),a<8?e.set(8,n-a-1,s,!0):a<9?e.set(8,15-a-1+1,s,!0):e.set(8,15-a-1,s,!0);e.set(n-8,8,1,!0)}function k3(e,t){const r=e.size;let n=-1,i=r-1,a=7,s=0;for(let o=r-1;o>0;o-=2)for(o===6&&o--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,o-c)){let u=!1;s<t.length&&(u=(t[s]>>>a&1)===1),e.set(i,o-c,u),a--,a===-1&&(s++,a=7)}if(i+=n,i<0||r<=i){i-=n,n=-n;break}}}function S3(e,t,r){const n=new h3;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),x3.getCharCountIndicator(c.mode,e)),c.write(n)});const i=md.getSymbolTotalCodewords(e),a=Em.getTotalCodewordsCount(e,t),s=(i-a)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const o=(s-n.getLengthInBits())/8;for(let c=0;c<o;c++)n.put(c%2?17:236,8);return N3(n,e,t)}function N3(e,t,r){const n=md.getSymbolTotalCodewords(t),i=Em.getTotalCodewordsCount(t,r),a=n-i,s=Em.getBlocksCount(t,r),o=n%s,c=s-o,u=Math.floor(n/s),d=Math.floor(a/s),f=d+1,h=u-d,m=new v3(h);let v=0;const b=new Array(s),w=new Array(s);let y=0;const g=new Uint8Array(e.buffer);for(let _=0;_<s;_++){const N=_<c?d:f;b[_]=g.slice(v,v+N),w[_]=m.encode(b[_]),v+=N,y=Math.max(y,N)}const p=new Uint8Array(n);let j=0,S,k;for(S=0;S<y;S++)for(k=0;k<s;k++)S<b[k].length&&(p[j++]=b[k][S]);for(S=0;S<h;S++)for(k=0;k<s;k++)p[j++]=w[k][S];return p}function E3(e,t,r,n){let i;if(Array.isArray(e))i=zf.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=zf.rawSplit(e);u=au.getBestVersionForData(d,r)}i=zf.fromString(e,u||40)}else throw new Error("Invalid data");const a=au.getBestVersionForData(i,r);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const s=S3(t,r,i),o=md.getSymbolSize(t),c=new m3(o);return b3(c,t),w3(c),j3(c,t),Uf(c,r,0),t>=7&&_3(c,t),k3(c,s),isNaN(n)&&(n=Nm.getBestMask(c,Uf.bind(null,c,r))),Nm.applyMask(n,c),Uf(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:i}}$2.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=$f.M,i,a;return typeof r<"u"&&(n=$f.from(r.errorCorrectionLevel,$f.M),i=au.from(r.version),a=Nm.from(r.maskPattern),r.toSJISFunc&&md.setToSJISFunction(r.toSJISFunc)),E3(t,i,n,a)};var J2={},Tg={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(a){return[a,a]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,a=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:a,scale:a?4:s,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const a=e.getScale(n,i);return Math.floor((n+i.margin*2)*a)},e.qrToImageData=function(n,i,a){const s=i.modules.size,o=i.modules.data,c=e.getScale(s,a),u=Math.floor((s+a.margin*2)*c),d=a.margin*c,f=[a.color.light,a.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let v=(h*u+m)*4,b=a.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),y=Math.floor((m-d)/c);b=f[o[w*s+y]?1:0]}n[v++]=b.r,n[v++]=b.g,n[v++]=b.b,n[v]=b.a}}})(Tg);(function(e){const t=Tg;function r(i,a,s){i.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=s,a.width=s,a.style.height=s+"px",a.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,s,o){let c=o,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(a.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,a,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(a,s,o){let c=o;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(a,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(J2);var X2={};const C3=Tg;function ix(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Bf(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function P3(e,t,r){let n="",i=0,a=!1,s=0;for(let o=0;o<e.length;o++){const c=Math.floor(o%t),u=Math.floor(o/t);!c&&!a&&(a=!0),e[o]?(s++,o>0&&c>0&&e[o-1]||(n+=a?Bf("M",c+r,.5+u+r):Bf("m",i,0),i=0,a=!1),c+1<t&&e[o+1]||(n+=Bf("h",s),s=0)):i++}return n}X2.render=function(t,r,n){const i=C3.getOptions(r),a=t.modules.size,s=t.modules.data,o=a+i.margin*2,c=i.color.light.a?"<path "+ix(i.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+ix(i.color.dark,"stroke")+' d="'+P3(s,a,i.margin)+'"/>',d='viewBox="0 0 '+o+" "+o+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const O3=H4,Cm=$2,Z2=J2,A3=X2;function Mg(e,t,r,n,i){const a=[].slice.call(arguments,1),s=a.length,o=typeof a[s-1]=="function";if(!o&&!O3())throw new Error("Callback required as last argument");if(o){if(s<2)throw new Error("Too few arguments provided");s===2?(i=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=Cm.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=Cm.create(r,n);i(null,e(c,t,n))}catch(c){i(c)}}fi.create=Cm.create;fi.toCanvas=Mg.bind(null,Z2.render);fi.toDataURL=Mg.bind(null,Z2.renderToDataURL);fi.toString=Mg.bind(null,function(e,t,r){return A3.render(e,r)});const T3=()=>{const{user:e}=Qt(),t=Rr(),[r,n]=x.useState(null),[i,a]=x.useState(!0),[s,o]=x.useState(""),[c,u]=x.useState("#000000"),[d,f]=x.useState("#ffffff"),[h,m]=x.useState(!1),[v,b]=x.useState(!1);x.useRef(null);const w=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert foncé",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];x.useEffect(()=>{e&&y()},[e]),x.useEffect(()=>{r&&g()},[r,c,d]);const y=async()=>{if(e){a(!0);try{const{data:_,error:N}=await q.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(N&&N.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",N),N;n(_)}catch(_){console.error("Erreur lors du chargement:",_)}finally{a(!1)}}},g=async()=>{if(r){b(!0);try{const _=`https://a.cloudmenu.fr/m/${r.slug}?ref=qr`,N=await fi.toDataURL(_,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"M"});o(N)}catch(_){console.error("Erreur lors de la génération du QR code:",_)}finally{b(!1)}}},p=()=>{if(!s||!r)return;const _=document.createElement("a");_.download=`qr-code-${r.slug}.png`,_.href=s,_.click()},j=async()=>{if(r)try{await navigator.clipboard.writeText(`${k}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch(_){console.error("Erreur lors de la copie:",_)}},S=_=>{u(_.color),f(_.bg)};if(i)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})});if(!r)return l.jsx("div",{className:"max-w-4xl mx-auto p-6",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(za,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configuré"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identité visuelle de votre restaurant pour générer un QR code."}),l.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const k=r?`https://a.cloudmenu.fr/m/${r.slug}`:"";return l.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[l.jsxs("div",{className:"mb-6 sm:mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Téléchargez votre QR code personnalisé pour afficher dans votre établissement. Il permet d'accéder à tous vos menus."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(sM,{className:"w-5 h-5"}),l.jsx("span",{children:"URL de votre restaurant"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[l.jsx("input",{type:"text",value:`${k}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),l.jsx("button",{onClick:j,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?l.jsxs(l.Fragment,{children:[l.jsx(st,{className:"w-4 h-4"}),l.jsx("span",{children:"Copié !"})]}):l.jsxs(l.Fragment,{children:[l.jsx(gm,{className:"w-4 h-4"}),l.jsx("span",{children:"Copier"})]})})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["🔗 ",l.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramètre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(jg,{className:"w-5 h-5"}),l.jsx("span",{children:"Personnalisation"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prédéfinies"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:w.map((_,N)=>l.jsxs("button",{onClick:()=>S(_),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===_.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:_.color}}),l.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:_.bg}})]}),l.jsx("span",{className:"text-xs font-medium text-gray-700",children:_.name})]},N))})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:c,onChange:_=>u(_.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),l.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrière-plan"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("input",{type:"color",value:d,onChange:_=>f(_.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),l.jsx("input",{type:"text",value:d,onChange:_=>f(_.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(za,{className:"w-5 h-5"}),l.jsx("span",{children:"Aperçu du QR Code"})]}),l.jsx("div",{className:"text-center",children:v?l.jsx("div",{className:"flex items-center justify-center h-80",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Génération..."})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&l.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("button",{onClick:p,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[l.jsx(JT,{className:"w-5 h-5"}),l.jsx("span",{children:"Télécharger le QR Code"})]})})]})})]}),l.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"💡 Comment utiliser votre QR Code"}),l.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),l.jsx("span",{children:"Téléchargez le QR code en cliquant sur le bouton ci-dessus"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),l.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),l.jsx("span",{children:"Vos clients scannent le QR code avec leur téléphone"})]}),l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),l.jsx("span",{children:"Ils accèdent directement à votre menu en ligne !"})]})]})]})]})]})]})},Qs={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"}},M3=()=>{const e=navigator.language.split("-")[0];return Object.keys(Qs).includes(e)?e:"fr"};function I3(){var S;const{slug:e}=ra(),[t,r]=x.useState(null),[n,i]=x.useState([]),[a,s]=x.useState(M3()),[o,c]=x.useState(!1),[u,d]=x.useState(!0),[f,h]=x.useState(""),[m,v]=x.useState(!1);x.useEffect(()=>{const k=()=>{v(window.innerWidth<768)};return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),x.useEffect(()=>{e&&(w(),b())},[e]);const b=async()=>{try{const k=window.location.href,_=await fi.toDataURL(k,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(_)}catch(k){console.error("Error generating QR code:",k)}},w=async()=>{d(!0);try{const{data:k,error:_}=await q.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(_||!k){console.error("Erreur lors du chargement du restaurant:",_),d(!1);return}r(k);const{data:N,error:E}=await q.from("menus").select("*").eq("user_id",k.user_id).eq("actif",!0).eq("status","published").order("created_at",{ascending:!0});E?(console.error("Erreur lors du chargement des menus:",E),i([])):i(N||[])}catch(k){console.error("Erreur:",k)}finally{d(!1)}},g=n.reduce((k,_)=>{const N=k.find(E=>E.menu_name===_.menu_name);return N?N.languages.push(_):k.push({menu_name:_.menu_name||_.nom,description:_.description,languages:[_]}),k},[]).filter(k=>k.languages.some(_=>_.language===a)),p=Array.from(new Set(n.map(k=>k.language||"fr"))),j=k=>k.languages.find(_=>_.language===a);return u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsx(na,{size:"lg"})}):t?m?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.banner_url&&l.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden",children:l.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"px-4 py-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 mb-6",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name}),p.length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx(y2,{size:16}),l.jsx("span",{className:"text-lg",children:(S=Qs[a])==null?void 0:S.flag}),l.jsx(eu,{size:14})]}),o&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-40 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:p.map(k=>{var _,N;return l.jsx("button",{onClick:()=>{s(k),c(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 transition-colors ${k===a?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg",children:(_=Qs[k])==null?void 0:_.flag}),l.jsx("span",{className:"text-sm",children:(N=Qs[k])==null?void 0:N.name})]})},k)})})]})]}),t.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),l.jsxs("div",{className:"space-y-2",children:[t.address&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(bm,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("span",{children:t.address})]}),t.telephone&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(Vr,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("a",{href:`tel:${t.telephone}`,className:"hover:text-orange-600",children:t.telephone})]}),t.hours&&l.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[l.jsx(Io,{size:16,className:"flex-shrink-0 mt-0.5"}),l.jsx("span",{children:t.hours})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:a==="fr"?"Nos Menus":a==="en"?"Our Menus":a==="es"?"Nuestros Menús":a==="de"?"Unsere Menüs":a==="it"?"I Nostri Menu":"Nos Menus"}),g.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[l.jsx(wg,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),l.jsx("p",{className:"text-gray-600",children:a==="fr"?"Aucun menu disponible pour le moment.":a==="en"?"No menus available at the moment.":a==="es"?"No hay menús disponibles en este momento.":a==="de"?"Derzeit sind keine Menüs verfügbar.":a==="it"?"Nessun menu disponibile al momento.":"Aucun menu disponible pour le moment."})]}):l.jsx("div",{className:"space-y-3",children:g.map(k=>{var C;const _=j(k),N=_.slug.split("/").pop(),E=k.languages.length>1;return l.jsx(Ye,{to:`/m/${e}/${N}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all p-5",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[E&&l.jsx("span",{className:"text-xl",children:(C=Qs[_.language||"fr"])==null?void 0:C.flag}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.menu_name})]}),k.description&&l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:k.description})]}),l.jsx(bg,{className:"flex-shrink-0 ml-3 text-gray-400",size:20})]})},k.menu_name)})})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:l.jsx("div",{className:"max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:l.jsx(x2,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),l.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),l.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),l.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&l.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),l.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),l.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),l.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),l.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),t.description&&l.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&l.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(bm,{size:16}),l.jsx("span",{children:t.address})]}),t.telephone&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Vr,{size:16}),l.jsx("span",{children:t.telephone})]}),t.hours&&l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(Io,{size:16}),l.jsx("span",{children:t.hours})]})]})]})})}):l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a été désactivé."})]})})}const wi={fr:{name:"Français",flag:"🇫🇷"},en:{name:"English",flag:"🇬🇧"},es:{name:"Español",flag:"🇪🇸"},de:{name:"Deutsch",flag:"🇩🇪"},it:{name:"Italiano",flag:"🇮🇹"}},D3=()=>{var $,tt,he,ft;const e=Rr(),{slug:t,menuSlug:r}=ra(),[n,i]=x.useState(null),[a,s]=x.useState([]),[o,c]=x.useState({}),[u,d]=x.useState(!0),[f,h]=x.useState(null),[m,v]=x.useState(""),[b,w]=x.useState(!1),[y,g]=x.useState([]),[p,j]=x.useState(null),[S,k]=x.useState(""),[_,N]=x.useState(!1),[E,C]=x.useState(!1);x.useState(!1);const[P,M]=x.useState(!1),[F,Y]=x.useState(!1),[ie,H]=x.useState(!1),[K,U]=x.useState(null),[O,D]=x.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),W=x.useRef({}),L=x.useRef(null),le=x.useRef({});x.useEffect(()=>{const I=()=>{N(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),x.useEffect(()=>{t&&r&&(V(),A())},[t,r]);const A=async()=>{try{const I=window.location.href,G=await fi.toDataURL(I,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});k(G)}catch(I){console.error("Error generating QR code:",I)}};x.useEffect(()=>{if(n&&!b){const G=new URLSearchParams(window.location.search).get("ref");let J="direct_link";G==="qr"?J="qr_scan":G==="gmb"&&(J="gmb"),FT(n.id,J),w(!0)}},[n,b]),x.useEffect(()=>{a.length>0&&!m&&v(a[0].id)},[a]),x.useEffect(()=>{if(m&&le.current[m]&&L.current){const I=le.current[m],G=L.current;I.getBoundingClientRect(),G.getBoundingClientRect();const J=I.offsetLeft,De=I.offsetWidth,ht=G.scrollLeft,Et=G.offsetWidth;J<ht?G.scrollTo({left:J-20,behavior:"smooth"}):J+De>ht+Et&&G.scrollTo({left:J+De-Et+20,behavior:"smooth"})}},[m]);const V=async()=>{if(!t||!r){h("Paramètres manquants"),d(!1);return}try{const{data:I,error:G}=await q.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(G||!I){h("Restaurant non trouvé"),d(!1);return}j(I);const{data:J,error:De}=await q.from("menus").select("*").eq("user_id",I.user_id).eq("actif",!0).eq("status","published");if(De){h("Erreur lors du chargement des menus"),d(!1);return}g(J||[]);const ht=J==null?void 0:J.find(Et=>Et.slug.split("/").pop()===r);if(!ht){h("Menu non trouvé"),d(!1);return}i(ht),await ee(ht.id)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},ee=async I=>{try{const{data:G,error:J}=await q.from("categories").select("*").eq("menu_id",I).eq("actif",!0).order("ordre",{ascending:!0});if(J)throw J;if(s(G||[]),G&&G.length>0){const{data:De,error:ht}=await q.from("menu_items").select("*").in("category_id",G.map(Zt=>Zt.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(ht)throw ht;const Et={};G.forEach(Zt=>{Et[Zt.id]=(De==null?void 0:De.filter(yi=>yi.category_id===Zt.id))||[]}),c(Et)}}catch(G){console.error("Erreur lors du chargement du contenu:",G)}},B=I=>{v(I);const G=W.current[I];if(G){const De=G.offsetTop-140;window.scrollTo({top:De,behavior:"smooth"})}};x.useEffect(()=>{const I=()=>{const G=window.scrollY+250;let J="",De=1/0;for(const ht of a){const Et=W.current[ht.id];if(Et){const Zt=Et.offsetTop,yi=Zt+Et.offsetHeight,HE=Math.max(Zt,G-150),VE=Math.min(yi,G+200),KE=Math.max(0,VE-HE),GE=yi-Zt;if(KE/Math.min(GE,350)>.4){J=ht.id;break}const Qd=Zt-G;Qd>0&&Qd<De&&(De=Qd,J=ht.id)}}if(!J){De=1/0;for(const ht of a){const Et=W.current[ht.id];if(Et){const Zt=Et.offsetTop,yi=Math.abs(Zt-G);yi<De&&(De=yi,J=ht.id)}}}J&&J!==m&&v(J)};return window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I)},[a,m]),x.useEffect(()=>{const I=G=>{E&&C(!1)};if(E)return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[E]);const Q=I=>{const G=I.replace(/\D/g,"");return`https://wa.me/${G.startsWith("33")?G:`33${G.substring(1)}`}`},R=(I,G)=>{U({type:I,text:G}),setTimeout(()=>U(null),5e3)},re=async I=>{if(I.preventDefault(),!O.customer_name.trim()||!O.customer_phone.trim()||!O.reservation_date||!O.reservation_time){R("error","Veuillez remplir tous les champs obligatoires");return}H(!0);try{const{error:G}=await q.from("reservations").insert([{menu_id:n.id,customer_name:O.customer_name,customer_email:null,customer_phone:O.customer_phone,party_size:O.party_size,reservation_date:O.reservation_date,reservation_time:O.reservation_time,special_requests:O.special_requests||null,status:"pending"}]);if(G)throw G;R("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),D({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{Y(!1)},3e3)}catch(G){console.error("Erreur lors de la réservation:",G),R("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{H(!1)}},se=()=>{const I=new Date;return I.setDate(I.getDate()+1),I.toISOString().split("T")[0]};return u?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouvé"}),l.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):_?l.jsxs("div",{className:"min-h-screen",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[l.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:l.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[l.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:n.nom}),l.jsxs("div",{className:"hidden lg:flex items-center space-x-2",children:[y.filter(I=>I.menu_name===n.menu_name).length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{M(!P)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx(y2,{size:18}),l.jsx("span",{className:"text-xl",children:($=wi[n.language||"fr"])==null?void 0:$.flag}),l.jsx("span",{className:"text-sm font-medium",children:(tt=wi[n.language||"fr"])==null?void 0:tt.name}),l.jsx(eu,{size:16})]}),P&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:y.filter(I=>I.menu_name===n.menu_name).map(I=>{var G,J;return l.jsx("button",{onClick:()=>{const De=I.slug.split("/").pop();e(`/m/${t}/${De}`),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I.id===n.id?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:(G=wi[I.language||"fr"])==null?void 0:G.flag}),l.jsx("span",{className:"text-sm",children:(J=wi[I.language||"fr"])==null?void 0:J.name})]}),I.id===n.id&&l.jsx(st,{size:16})]})},I.id)})})]}),l.jsx("div",{className:"w-px h-6 bg-gray-300"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[(p==null?void 0:p.telephone)&&l.jsx("a",{href:`tel:${p==null?void 0:p.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${p==null?void 0:p.telephone}`,children:l.jsx(Vr,{size:20})}),(p==null?void 0:p.whatsapp)&&l.jsx("a",{href:Q(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${p==null?void 0:p.whatsapp}`,children:l.jsx(tu,{size:20})}),(p==null?void 0:p.instagram)&&l.jsx("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:l.jsx(Ro,{size:20})}),(p==null?void 0:p.facebook)&&l.jsx("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:l.jsx(Do,{size:20})}),(p==null?void 0:p.tiktok)&&l.jsx("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:l.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),l.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",style:{backgroundColor:n.couleur_primaire},children:[l.jsx(Er,{size:18}),l.jsx("span",{className:"text-sm font-medium",children:"Réserver"})]}),y.filter(I=>I.menu_name===n.menu_name).length>1&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>{M(!P)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[l.jsx("span",{className:"text-xl",children:(he=wi[n.language||"fr"])==null?void 0:he.flag}),l.jsx(eu,{size:16})]}),P&&l.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:y.filter(I=>I.menu_name===n.menu_name).map(I=>{var G,J;return l.jsx("button",{onClick:()=>{const De=I.slug.split("/").pop();e(`/m/${t}/${De}`),M(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${I.id===n.id?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl",children:(G=wi[I.language||"fr"])==null?void 0:G.flag}),l.jsx("span",{className:"text-sm",children:(J=wi[I.language||"fr"])==null?void 0:J.name})]}),I.id===n.id&&l.jsx(st,{size:16})]})},I.id)})})]}),((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&l.jsx("button",{onClick:I=>{I.stopPropagation(),C(!E)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:l.jsx(wg,{size:24,className:"text-black"})})]}),E&&((p==null?void 0:p.telephone)||(p==null?void 0:p.whatsapp)||(p==null?void 0:p.instagram)||(p==null?void 0:p.facebook)||(p==null?void 0:p.tiktok))&&l.jsxs("div",{className:"absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[l.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:l.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),l.jsxs("div",{className:"py-1",children:[(p==null?void 0:p.telephone)&&l.jsxs("a",{href:`tel:${p==null?void 0:p.telephone}`,className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Vr,{size:18,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Téléphone"}),l.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.telephone})]})]}),(p==null?void 0:p.whatsapp)&&l.jsxs("a",{href:Q(p==null?void 0:p.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(tu,{size:18,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),l.jsx("div",{className:"text-sm text-gray-600",children:p==null?void 0:p.whatsapp})]})]}),(p==null?void 0:p.instagram)&&l.jsxs("a",{href:p==null?void 0:p.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Ro,{size:18,className:"text-pink-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["@",p==null?void 0:p.instagram.split("/").pop()]})]})]}),(p==null?void 0:p.facebook)&&l.jsxs("a",{href:p==null?void 0:p.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Do,{size:18,className:"text-blue-700"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Voir la page"})]})]}),(p==null?void 0:p.tiktok)&&l.jsxs("a",{href:p==null?void 0:p.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[l.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),l.jsxs("div",{className:"text-sm text-gray-600",children:["@",(ft=p==null?void 0:p.tiktok.split("/").pop())==null?void 0:ft.replace("@","")]})]})]}),!(p!=null&&p.telephone)&&!(p!=null&&p.whatsapp)&&!(p!=null&&p.instagram)&&!(p!=null&&p.facebook)&&!(p!=null&&p.tiktok)&&l.jsx("div",{className:"px-4 py-8 text-gray-500 text-center",children:"Aucune information de contact configurée"})]})]})]})}),n.banniere_url&&l.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:l.jsx("img",{src:n.banniere_url,alt:"Bannière du restaurant",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"px-4 lg:pt-20",children:[a.length>0&&l.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:l.jsx("div",{ref:L,className:"flex space-x-8 overflow-x-auto scrollbar-hide items-center",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:a.map(I=>l.jsx("button",{ref:G=>le.current[I.id]=G,onClick:()=>B(I.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===I.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===I.id?n.couleur_primaire:void 0,borderColor:m===I.id?n.couleur_primaire:void 0},children:I.nom},I.id))})}),l.jsx("div",{className:"hidden lg:block mb-8",children:l.jsx("div",{className:"text-center",children:l.jsxs("button",{onClick:()=>Y(!0),className:"bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center space-x-3 font-medium text-lg mx-auto",style:{backgroundColor:n.couleur_primaire},children:[l.jsx(Er,{size:24}),l.jsx("span",{children:"Réserver une table"})]})})}),l.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[a.length>0&&l.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),l.jsx("nav",{className:"py-2",children:a.map(I=>{const G=o[I.id]||[];return G.length===0?null:l.jsxs("button",{onClick:()=>B(I.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===I.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===I.id?n.couleur_primaire:n.couleur_texte,borderColor:m===I.id?n.couleur_primaire:void 0},children:[l.jsx("div",{className:"font-medium text-base",children:I.nom}),l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[G.length," plat",G.length>1?"s":""]})]},I.id)})})]})}),l.jsx("div",{className:"lg:min-h-screen",children:a.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:l.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de création"}),l.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propriétaire de ce restaurant configure actuellement son menu.",l.jsx("br",{}),"Revenez bientôt pour découvrir nos délicieux plats !"]})]})}):l.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:a.map(I=>{const G=o[I.id]||[];return G.length===0?null:l.jsxs("div",{ref:J=>W.current[I.id]=J,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[l.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[l.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:I.nom}),I.description&&l.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:I.description}),l.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),l.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[l.jsx("div",{className:"lg:hidden",children:G.map(J=>l.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100",children:J.image_url?l.jsx("img",{src:J.image_url,alt:J.nom,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-gray-400 text-xs",children:"📷"})})})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1 pr-2",children:[l.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:J.nom}),l.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[J.vegetarien&&l.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Végétarien",children:l.jsx(Pa,{className:"w-3 h-3"})}),J.vegan&&l.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:l.jsx(Pa,{className:"w-3 h-3"})}),J.sans_gluten&&l.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),J.epice&&l.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"Épicé",children:l.jsx(vm,{className:"w-3 h-3"})})]})]}),l.jsxs("span",{className:"text-xl font-bold flex-shrink-0 ml-2",style:{color:n.couleur_primaire},children:[J.prix.toFixed(2)," €"]})]}),J.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:J.description}),J.allergenes.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mb-3 bg-gray-50 px-2 py-1 rounded",children:["Allergènes: ",J.allergenes.join(", ")]}),l.jsx("div",{className:"flex items-center justify-end",children:l.jsxs("button",{className:"px-4 py-2 rounded-full text-white text-sm font-medium flex items-center space-x-1 shadow-sm",style:{backgroundColor:n.couleur_primaire},children:[l.jsx(Lo,{className:"w-4 h-4"}),l.jsx("span",{children:"Ajouter"})]})})]})]})},J.id))}),G.map(J=>l.jsx("div",{className:"hidden lg:block",children:l.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[l.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[J.image_url?l.jsx("img",{src:J.image_url,alt:J.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm",children:l.jsx("span",{className:"text-gray-400 text-2xl",children:"🍽️"})})}),l.jsxs("div",{className:"absolute top-3 left-3 flex space-x-1",children:[J.vegetarien&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Végétarien",children:l.jsx(Pa,{className:"w-4 h-4"})}),J.vegan&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:l.jsx(Pa,{className:"w-4 h-4"})}),J.sans_gluten&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),J.epice&&l.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"Épicé",children:l.jsx(vm,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[l.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:J.nom}),J.description&&l.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:J.description}),J.allergenes.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:["Allergènes: ",J.allergenes.join(", ")]}),l.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[l.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[J.prix.toFixed(2)," €"]}),l.jsx("button",{className:"px-6 py-2 rounded-full text-white font-medium hover:scale-105 active:scale-95 transition-all duration-200 shadow-md hover:shadow-lg",style:{backgroundColor:n.couleur_primaire},children:"Ajouter"})]})]})]})},J.id))]})]},I.id)})})})]}),(n.afficher_powered_by||n.lien_cloudmenu)&&l.jsxs("footer",{className:"text-center py-8 border-t border-gray-200 bg-gray-50 mx-4 lg:mx-0 lg:rounded-t-2xl",children:[n.afficher_powered_by&&l.jsx("p",{className:"text-base text-gray-500 mb-3",children:"Propulsé par CloudMenu"}),n.lien_cloudmenu&&l.jsx("a",{href:"https://cloudmenu.com",target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",style:{color:n.couleur_primaire},children:"Créer mon menu gratuitement avec CloudMenu"})]})]}),F&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Réserver une table"}),l.jsx("button",{onClick:()=>Y(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:l.jsx(qe,{size:20})})]})}),K&&l.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${K.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[K.type==="success"?l.jsx(st,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):l.jsx(qe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:K.text})]}),l.jsxs("form",{onSubmit:re,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),l.jsx("input",{type:"text",value:O.customer_name,onChange:I=>D(G=>({...G,customer_name:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),l.jsx("input",{type:"tel",value:O.customer_phone,onChange:I=>D(G=>({...G,customer_phone:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),l.jsx("input",{type:"date",value:O.reservation_date,onChange:I=>D(G=>({...G,reservation_date:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white [&::-webkit-calendar-picker-indicator]:cursor-pointer",min:se(),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),l.jsx("input",{type:"time",value:O.reservation_time,onChange:I=>D(G=>({...G,reservation_time:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white [&::-webkit-calendar-picker-indicator]:cursor-pointer",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),l.jsx("select",{value:O.party_size,onChange:I=>D(G=>({...G,party_size:parseInt(I.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(I=>l.jsxs("option",{value:I,children:[I," personne",I>1?"s":""]},I))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),l.jsx("textarea",{value:O.special_requests,onChange:I=>D(G=>({...G,special_requests:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:()=>Y(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),l.jsx("button",{type:"submit",disabled:ie,className:"flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center space-x-2",style:{backgroundColor:n.couleur_primaire},children:ie?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Er,{className:"w-5 h-5"}),l.jsx("span",{children:"Réserver"})]})})]})]})]})})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:l.jsx("div",{className:"max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:l.jsx(x2,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(p==null?void 0:p.restaurant_name)||n.nom}),l.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:n.menu_name||n.nom}),l.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),l.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),l.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:S&&l.jsx("img",{src:S,alt:"QR Code",className:"w-64 h-64"})}),l.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),l.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),l.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),l.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),l.jsx("p",{children:"Découvrez notre menu interactif"})]})]}),n.description&&l.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:l.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},R3=()=>{const{slug:e}=ra(),[t,r]=x.useState(null),[n,i]=x.useState(!0),[a,s]=x.useState(null),[o,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});x.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:y,error:g}=await q.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(g){s("Erreur lors du chargement du menu");return}if(!y){s("Restaurant non trouvé");return}r(y)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},v=(y,g)=>{d({type:y,text:g}),setTimeout(()=>d(null),5e3)},b=async y=>{if(y.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){v("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:g}=await q.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(g)throw g;v("success","Votre réservation a été envoyée avec succès ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(g){console.error("Erreur lors de la réservation:",g),v("error","Erreur lors de l'envoi de la réservation. Veuillez réessayer.")}finally{c(!1)}},w=()=>{const y=new Date;return y.setDate(y.getDate()+1),y.toISOString().split("T")[0]};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):a||!t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):l.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:l.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[l.jsxs(Ye,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[l.jsx(ol,{size:20}),l.jsx("span",{children:"Retour à l'accueil"})]}),l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx("span",{className:"text-2xl",children:"🍽️"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Réserver une table"}),l.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&l.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?l.jsx(st,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):l.jsx(qe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),l.jsx("span",{className:"text-sm",children:u.text})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),l.jsx("input",{type:"text",value:f.customer_name,onChange:y=>h(g=>({...g,customer_name:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone *"}),l.jsx("input",{type:"tel",value:f.customer_phone,onChange:y=>h(g=>({...g,customer_phone:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),l.jsx("input",{type:"email",value:f.customer_email,onChange:y=>h(g=>({...g,customer_email:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),l.jsx("input",{type:"date",value:f.reservation_date,onChange:y=>h(g=>({...g,reservation_date:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),l.jsx("input",{type:"time",value:f.reservation_time,onChange:y=>h(g=>({...g,reservation_time:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),l.jsx("select",{value:f.party_size,onChange:y=>h(g=>({...g,party_size:parseInt(y.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(y=>l.jsxs("option",{value:y,children:[y," personne",y>1?"s":""]},y))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spéciales (optionnel)"}),l.jsx("textarea",{value:f.special_requests,onChange:y=>h(g=>({...g,special_requests:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, préférences de table, occasion spéciale..."})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:o?l.jsx(ge,{className:"w-5 h-5 animate-spin"}):l.jsxs(l.Fragment,{children:[l.jsx(Er,{className:"w-5 h-5"}),l.jsx("span",{children:"Envoyer la réservation"})]})})]}),l.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["ℹ️ ",l.jsx("strong",{children:"Information :"})," Votre réservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},L3=()=>{var u;const{slug:e}=ra(),[t,r]=x.useState(null),[n,i]=x.useState(!0),[a,s]=x.useState(null);x.useEffect(()=>{o()},[e]);const o=async()=>{if(!e){s("Slug manquant"),i(!1);return}try{const{data:d,error:f}=await q.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouvé");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{i(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[l.jsx(ge,{className:"w-6 h-6 animate-spin"}),l.jsx("span",{children:"Chargement..."})]})}):a||!t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx(bn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouvé"}),l.jsx("p",{className:"text-gray-600",children:a||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):l.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[l.jsxs(Ye,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[l.jsx(ol,{size:20}),l.jsx("span",{children:"Retour à l'accueil"})]}),l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:l.jsx("span",{className:"text-2xl",children:"🍽️"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),l.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&l.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Vr,{size:24,className:"text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Téléphone"}),l.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),l.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(tu,{size:24,className:"text-green-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),l.jsx("p",{className:"text-gray-600",children:"Messagerie instantanée"})]})]}),l.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[l.jsx("span",{children:t.whatsapp}),l.jsx(v2,{size:16})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:l.jsx(Vr,{size:24,style:{color:t.couleur_primaire}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Réservation"}),l.jsx("p",{className:"text-gray-600",children:"Réservez en ligne"})]})]}),l.jsx(Ye,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Réserver une table"})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:l.jsx(Vr,{size:24,style:{color:t.couleur_primaire}})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),l.jsx("p",{className:"text-gray-600",children:"Découvrez nos plats"})]})]}),l.jsx(Ye,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&l.jsx("div",{className:"mt-12",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les réseaux sociaux"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&l.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[l.jsx(Ro,{size:32,className:"mb-4"}),l.jsx("span",{className:"font-medium",children:"Instagram"}),l.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&l.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[l.jsx(Do,{size:32,className:"mb-4"}),l.jsx("span",{className:"font-medium",children:"Facebook"}),l.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&l.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[l.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:l.jsx("span",{className:"text-black font-bold",children:"T"})}),l.jsx("span",{className:"font-medium",children:"TikTok"}),l.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),l.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:l.jsxs("p",{className:"text-blue-700 text-center",children:["ℹ️ ",l.jsx("strong",{children:"Besoin d'aide ?"})," N'hésitez pas à nous contacter pour toute question ou demande spéciale. Nous sommes là pour vous aider !"]})})]})})};function $3(){const{user:e}=Qt();Rr();const[t,r]=x.useState(!0),[n,i]=x.useState(!1),[a,s]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""});x.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:g,error:p}=await q.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(p&&p.code!=="PGRST116")throw p;g&&(c(g),h({restaurant_name:g.restaurant_name,slug:g.slug,description:g.description||"",banner_url:g.banner_url||"",logo_url:g.logo_url||"",telephone:g.telephone||"",whatsapp:g.whatsapp||"",instagram:g.instagram||"",facebook:g.facebook||"",tiktok:g.tiktok||"",address:g.address||"",hours:g.hours||""}))}catch(g){console.error("Erreur lors du chargement du profil:",g),v("error","Erreur lors du chargement du profil")}finally{r(!1)}}},v=(g,p)=>{s({type:g,text:p}),setTimeout(()=>s(null),5e3)},b=(g,p)=>{if(h(j=>({...j,[g]:p})),g==="restaurant_name"&&!o){const j=nn(p);h(S=>({...S,slug:j}))}},w=async(g,p)=>{if(e){d(!0);try{const j=f[p],S=await Qa(g,e.id,p==="banner_url"?"banners":"logos");j&&await La(j),h(k=>({...k,[p]:S})),v("success","Image téléchargée avec succès")}catch(j){console.error("Erreur lors du téléchargement:",j),v("error","Erreur lors du téléchargement de l'image")}finally{d(!1)}}},y=async()=>{if(e){if(!f.restaurant_name.trim()){v("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){v("error","Le slug est requis");return}i(!0);try{if(o){const g={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours},{error:p}=await q.from("restaurant_profiles").update(g).eq("id",o.id);if(p)throw p;v("success","Profil mis à jour avec succès")}else{const g={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours},{data:p,error:j}=await q.from("restaurant_profiles").insert([g]).select().single();if(j)throw j;c(p),v("success","Profil créé avec succès")}await m()}catch(g){console.error("Erreur lors de la sauvegarde:",g),v("error","Erreur lors de la sauvegarde du profil")}finally{i(!1)}}};return t?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(na,{size:"lg"})}):l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[a&&l.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[a.type==="success"?l.jsx(st,{size:20}):l.jsx(qe,{size:20}),l.jsx("span",{children:a.text})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identité Visuelle"}),l.jsx("p",{className:"text-gray-600",children:"Configurez l'identité visuelle et les informations de votre restaurant"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(GT,{size:20}),l.jsx("span",{children:"Informations générales"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),l.jsx("input",{type:"text",value:f.restaurant_name,onChange:g=>b("restaurant_name",g.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),l.jsx("input",{type:"text",value:f.slug,onChange:g=>b("slug",g.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!o})]}),o&&l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas être modifiée après la création"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:f.description,onChange:g=>b("description",g.target.value),placeholder:"Décrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(bm,{size:16,className:"inline mr-1"}),"Adresse"]}),l.jsx("input",{type:"text",value:f.address,onChange:g=>b("address",g.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Io,{size:16,className:"inline mr-1"}),"Horaires"]}),l.jsx("input",{type:"text",value:f.hours,onChange:g=>b("hours",g.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannière"}),f.banner_url?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:f.banner_url,alt:"Bannière",className:"w-full h-48 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>h(g=>({...g,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:l.jsx(qe,{size:16})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx($o,{className:"w-12 h-12 text-gray-400 mb-2"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour télécharger une bannière"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"banner_url")},disabled:u})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?l.jsxs("div",{className:"relative inline-block",children:[l.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),l.jsx("button",{onClick:()=>h(g=>({...g,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:l.jsx(qe,{size:14})})]}):l.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[l.jsx($o,{className:"w-8 h-8 text-gray-400 mb-1"}),l.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),l.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:g=>{var p;return((p=g.target.files)==null?void 0:p[0])&&w(g.target.files[0],"logo_url")},disabled:u})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Réseaux Sociaux"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Vr,{size:16,className:"inline mr-1"}),"Téléphone"]}),l.jsx("input",{type:"tel",value:f.telephone,onChange:g=>b("telephone",g.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),l.jsx("input",{type:"tel",value:f.whatsapp,onChange:g=>b("whatsapp",g.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Ro,{size:16,className:"inline mr-1"}),"Instagram"]}),l.jsx("input",{type:"url",value:f.instagram,onChange:g=>b("instagram",g.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Do,{size:16,className:"inline mr-1"}),"Facebook"]}),l.jsx("input",{type:"url",value:f.facebook,onChange:g=>b("facebook",g.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(lM,{size:16,className:"inline mr-1"}),"TikTok"]}),l.jsx("input",{type:"url",value:f.tiktok,onChange:g=>b("tiktok",g.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{onClick:y,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?l.jsxs(l.Fragment,{children:[l.jsx(ge,{className:"animate-spin",size:20}),l.jsx("span",{children:"Enregistrement..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(_g,{size:20}),l.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function e_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=e_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ye(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=e_(e))&&(n&&(n+=" "),n+=t);return n}var pd={},t_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(t_);var Ig={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ig);var Dg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Dg);var gd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const u=r[a];o?u==="\\"&&a+1<i?(a++,s+=r[a]):u===o?o="":s+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,a++}return s&&n.push(s),n}e.toPath=t})(gd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t_,r=Ig,n=Dg,i=gd;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(pd);var z3=pd.get;const vd=oi(z3);var lr=e=>e===0?0:e>0?1:-1,mr=e=>typeof e=="number"&&e!=+e,Mi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ae=e=>(typeof e=="number"||e instanceof Number)&&!mr(e),Gr=e=>ae(e)||typeof e=="string",U3=0,Fo=e=>{var t=++U3;return"".concat(e||"").concat(t)},si=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(t)&&typeof t!="string")return n;var a;if(Mi(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return mr(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},r_=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function an(e,t,r){return ae(e)&&ae(t)?e+r*(t-e):t}function n_(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):vd(n,t))===r)}var Je=e=>e===null||typeof e>"u",fl=e=>Je(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),B3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rg(e){if(typeof e!="string")return!1;var t=B3;return t.includes(e)}var F3=["viewBox","children"],ax=["points","pathLength"],Ff={svg:F3,polygon:ax,polyline:ax},Lg=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Rg(i)&&(n[i]=a=>r[i](r,a))}),n},W3=(e,t,r)=>n=>(e(t,r,n),null),i_=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Rg(i)&&typeof a=="function"&&(n||(n={}),n[i]=W3(a,t,r))}),n},q3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function a_(e){if(typeof e!="string")return!1;var t=q3;return t.includes(e)}function ia(e){var t=Object.entries(e).filter(r=>{var[n]=r;return a_(n)});return Object.fromEntries(t)}var s_=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,H3=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(Ff==null?void 0:Ff[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&a.includes(t)||a_(t)),c=!!r&&Rg(t);return s||o||c},Xe=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;H3((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},V3=["children","width","height","viewBox","className","style","title","desc"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function K3(e,t){if(e==null)return{};var r,n,i=G3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $g=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=K3(e,V3),f=a||{width:n,height:i,x:0,y:0},h=ye("recharts-surface",s);return x.createElement("svg",Pm({},Xe(d,!0,"svg"),{className:h,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),Y3=["children","className"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(null,arguments)}function Q3(e,t){if(e==null)return{};var r,n,i=J3(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ys=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Q3(e,Y3),a=ye("recharts-layer",n);return x.createElement("g",Om({className:a},Xe(i,!0),{ref:t}),r)}),o_=x.createContext(null),X3=()=>x.useContext(o_);function be(e){return function(){return e}}const l_=Math.cos,su=Math.sin,Lr=Math.sqrt,ou=Math.PI,yd=2*ou,Am=Math.PI,Tm=2*Am,Ni=1e-6,Z3=Tm-Ni;function c_(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function e5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return c_;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class t5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?c_:e5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ni)if(!(Math.abs(f*c-u*d)>Ni)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,v=i-o,b=c*c+u*u,w=m*m+v*v,y=Math.sqrt(b),g=Math.sqrt(h),p=a*Math.tan((Am-Math.acos((b+h-w)/(2*y*g)))/2),j=p/g,S=p/y;Math.abs(j-1)>Ni&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ni||Math.abs(this._y1-d)>Ni)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Tm+Tm),h>Z3?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ni&&this._append`A${n},${n},0,${+(h>=Am)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function zg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new t5(t)}function Ug(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function u_(e){this._context=e}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xd(e){return new u_(e)}function d_(e){return e[0]}function f_(e){return e[1]}function h_(e,t){var r=be(!0),n=null,i=xd,a=null,s=zg(o);e=typeof e=="function"?e:e===void 0?d_:be(e),t=typeof t=="function"?t:t===void 0?f_:be(t);function o(c){var u,d=(c=Ug(c)).length,f,h=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:be(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:be(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:be(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function Jl(e,t,r){var n=null,i=be(!0),a=null,s=xd,o=null,c=zg(u);e=typeof e=="function"?e:e===void 0?d_:be(+e),t=typeof t=="function"?t:be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?f_:be(+r);function u(f){var h,m,v,b=(f=Ug(f)).length,w,y=!1,g,p=new Array(b),j=new Array(b);for(a==null&&(o=s(g=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=h-1;v>=m;--v)o.point(p[v],j[v]);o.lineEnd(),o.areaEnd()}y&&(p[h]=+e(w,h,f),j[h]=+t(w,h,f),o.point(n?+n(w,h,f):p[h],r?+r(w,h,f):j[h]))}if(g)return o=null,g+""||null}function d(){return h_().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:be(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:be(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:be(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class m_{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function r5(e){return new m_(e,!0)}function n5(e){return new m_(e,!1)}const Bg={draw(e,t){const r=Lr(t/ou);e.moveTo(r,0),e.arc(0,0,r,0,yd)}},i5={draw(e,t){const r=Lr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},p_=Lr(1/3),a5=p_*2,s5={draw(e,t){const r=Lr(t/a5),n=r*p_;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},o5={draw(e,t){const r=Lr(t),n=-r/2;e.rect(n,n,r,r)}},l5=.8908130915292852,g_=su(ou/10)/su(7*ou/10),c5=su(yd/10)*g_,u5=-l_(yd/10)*g_,d5={draw(e,t){const r=Lr(t*l5),n=c5*r,i=u5*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=yd*a/5,o=l_(s),c=su(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},Wf=Lr(3),f5={draw(e,t){const r=-Lr(t/(Wf*3));e.moveTo(0,r*2),e.lineTo(-Wf*r,-r),e.lineTo(Wf*r,-r),e.closePath()}},er=-.5,tr=Lr(3)/2,Mm=1/Lr(12),h5=(Mm/2+1)*3,m5={draw(e,t){const r=Lr(t/h5),n=r/2,i=r*Mm,a=n,s=r*Mm+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(er*n-tr*i,tr*n+er*i),e.lineTo(er*a-tr*s,tr*a+er*s),e.lineTo(er*o-tr*c,tr*o+er*c),e.lineTo(er*n+tr*i,er*i-tr*n),e.lineTo(er*a+tr*s,er*s-tr*a),e.lineTo(er*o+tr*c,er*c-tr*o),e.closePath()}};function p5(e,t){let r=null,n=zg(i);e=typeof e=="function"?e:be(e||Bg),t=typeof t=="function"?t:be(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:be(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function lu(){}function cu(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function v_(e){this._context=e}v_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:cu(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g5(e){return new v_(e)}function y_(e){this._context=e}y_.prototype={areaStart:lu,areaEnd:lu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v5(e){return new y_(e)}function x_(e){this._context=e}x_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:cu(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y5(e){return new x_(e)}function b_(e){this._context=e}b_.prototype={areaStart:lu,areaEnd:lu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function x5(e){return new b_(e)}function sx(e){return e<0?-1:1}function ox(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(sx(a)+sx(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function lx(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function qf(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function uu(e){this._context=e}uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qf(this,this._t0,lx(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qf(this,lx(this,r=ox(this,e,t)),r);break;default:qf(this,this._t0,r=ox(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function w_(e){this._context=new j_(e)}(w_.prototype=Object.create(uu.prototype)).point=function(e,t){uu.prototype.point.call(this,t,e)};function j_(e){this._context=e}j_.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function b5(e){return new uu(e)}function w5(e){return new w_(e)}function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=cx(e),i=cx(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cx(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function j5(e){return new __(e)}function bd(e,t){this._context=e,this._t=t}bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _5(e){return new bd(e,.5)}function k5(e){return new bd(e,0)}function S5(e){return new bd(e,1)}function rs(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Im(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function N5(e,t){return e[t]}function E5(e){const t=[];return t.key=e,t}function C5(){var e=be([]),t=Im,r=rs,n=N5;function i(a){var s=Array.from(e.apply(this,arguments),E5),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=Ug(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:be(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Im:typeof a=="function"?a:be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??rs,i):r},i}function P5(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}rs(e,t)}}function O5(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}rs(e,t)}}function A5(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<o;++v){var b=e[t[v]],w=b[n][1]||0,y=b[n-1][1]||0;m+=w-y}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,rs(e,t)}}var T5=["type","size","sizeType"];function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(null,arguments)}function ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ux(Object(r),!0).forEach(function(n){M5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M5(e,t,r){return(t=I5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I5(e){var t=D5(e,"string");return typeof t=="symbol"?t:t+""}function D5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R5(e,t){if(e==null)return{};var r,n,i=L5(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function L5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k_={symbolCircle:Bg,symbolCross:i5,symbolDiamond:s5,symbolSquare:o5,symbolStar:d5,symbolTriangle:f5,symbolWye:m5},$5=Math.PI/180,z5=e=>{var t="symbol".concat(fl(e));return k_[t]||Bg},U5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},B5=(e,t)=>{k_["symbol".concat(fl(e))]=t},S_=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=R5(e,T5),a=dx(dx({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=z5(s),m=p5().type(h).size(U5(r,n,s));return m()},{className:c,cx:u,cy:d}=a,f=Xe(a,!0);return u===+u&&d===+d&&r===+r?x.createElement("path",Dm({},f,{className:ye("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};S_.registerSymbol=B5;function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}function fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fx(Object(r),!0).forEach(function(n){Fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fg(e,t,r){return(t=W5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W5(e){var t=q5(e,"string");return typeof t=="symbol"?t:t+""}function q5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rr=32;class Wg extends x.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=rr/2,a=rr/6,s=rr/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return x.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:rr,y2:i,className:"recharts-legend-icon"});if(c==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(rr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return x.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(rr/8,"h").concat(rr,"v").concat(rr*3/4,"h").concat(-rr,"z"),className:"recharts-legend-icon"});if(x.isValidElement(t.legendIcon)){var u=F5({},t);return delete u.legendIcon,x.cloneElement(t.legendIcon,u)}return x.createElement(S_,{fill:o,cx:i,cy:i,size:rr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:rr,height:rr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=ye({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var v=d.inactive?a:d.color,b=h?h(d.value,d,f):d.value;return x.createElement("li",Rm({className:m,style:c,key:"legend-item-".concat(f)},i_(this.props,d,f)),x.createElement($g,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},this.renderIcon(d,s)),x.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Fg(Wg,"displayName","Legend");Fg(Wg,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var N_={},E_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(E_);var qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(qg);var C_={},wd={},P_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(P_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(wd);var O_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(O_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wd,r=O_;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(C_);var A_={},T_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pd;function r(n){return function(i){return t.get(i,n)}}e.property=r})(T_);var M_={},Hf={},Vf={},Hg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Hg);var Vg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Vg);var Kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Kg);var hx;function H5(){return hx||(hx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=Hg,n=Vg,i=Kg;function a(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function v(b,w,y,g,p,j){const S=m(b,w,y,g,p,j);return S!==void 0?!!S:s(b,w,v,j)},new Map)}function s(f,h,m,v){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,v);case"function":return Object.keys(h).length>0?s(f,{...h},m,v):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function o(f,h,m,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,v);if(h instanceof Map)return c(f,h,m,v);if(h instanceof Set)return d(f,h,m,v);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(v&&v.has(h))return v.get(h)===f;v&&v.set(h,f);try{for(let w=0;w<b.length;w++){const y=b[w];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,v))return!1}return!0}finally{v&&v.delete(h)}}function c(f,h,m,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const y=f.get(b);if(m(y,w,b,f,h,v)===!1)return!1}return!0}function u(f,h,m,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const y=h[w];let g=!1;for(let p=0;p<f.length;p++){if(b.has(p))continue;const j=f[p];let S=!1;if(m(j,y,w,f,h,v)&&(S=!0),S){b.add(p),g=!0;break}}if(!g)return!1}return!0}function d(f,h,m,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,v):!1}e.isMatchWith=a,e.isSetMatch=d}(Vf)),Vf}var mx;function Gg(){return mx||(mx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H5();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Hf)),Hf}var I_={},Yg={},D_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(D_);var Qg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qg);var Jg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",b="[object DataView]",w="[object Uint8Array]",y="[object Uint8ClampedArray]",g="[object Uint16Array]",p="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",N="[object BigInt64Array]",E="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=b,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=E,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=_,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=g,e.uint32ArrayTag=p,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=y})(Jg);var R_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(R_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_,r=Qg,n=Jg,i=Vg,a=R_;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,v=void 0){const b=v==null?void 0:v(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=o(d[y],y,h,m,v);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[y,g]of d)w.set(y,o(g,y,h,m,v));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const y of d)w.add(o(y,void 0,h,m,v));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=o(d[y],y,h,m,v);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,v),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,v),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,v),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,v),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,v),w}return d}function c(d,f,h=d,m,v){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const y=b[w],g=Object.getOwnPropertyDescriptor(d,y);(g==null||g.writable)&&(d[y]=o(f[y],y,h,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(Yg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yg;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(I_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=I_;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(M_);var L_={},$_={},z_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yg,r=Jg;function n(i,a){return t.cloneDeepWith(i,(s,o,c,u)=>{const d=a==null?void 0:a(s,o,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(z_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z_;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($_);var U_={},Xg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Xg);var B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qg;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ig,r=Xg,n=B_,i=gd;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(U_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg(),r=Dg,n=$_,i=pd,a=U_;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(L_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg,r=T_,n=M_,i=L_;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(A_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E_,r=qg,n=C_,i=A_;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(N_);var V5=N_.uniqBy;const px=oi(V5);function F_(e,t,r){return t===!0?px(e,r):typeof t=="function"?px(e,t):e}var W_={exports:{}},q_={},H_={exports:{}},V_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=x;function K5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G5=typeof Object.is=="function"?Object.is:K5,Y5=ns.useState,Q5=ns.useEffect,J5=ns.useLayoutEffect,X5=ns.useDebugValue;function Z5(e,t){var r=t(),n=Y5({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return J5(function(){i.value=r,i.getSnapshot=t,Kf(i)&&a({inst:i})},[e,r,t]),Q5(function(){return Kf(i)&&a({inst:i}),e(function(){Kf(i)&&a({inst:i})})},[e]),X5(r),r}function Kf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!G5(e,r)}catch{return!0}}function e6(e,t){return t()}var t6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?e6:Z5;V_.useSyncExternalStore=ns.useSyncExternalStore!==void 0?ns.useSyncExternalStore:t6;H_.exports=V_;var r6=H_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=x,n6=r6;function i6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a6=typeof Object.is=="function"?Object.is:i6,s6=n6.useSyncExternalStore,o6=jd.useRef,l6=jd.useEffect,c6=jd.useMemo,u6=jd.useDebugValue;q_.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=o6(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=c6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var v=s.value;if(i(v,m))return f=v}return f=m}if(v=f,a6(d,m))return v;var b=n(m);return i!==void 0&&i(v,b)?(d=m,v):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var o=s6(e,a[0],a[1]);return l6(function(){s.hasValue=!0,s.value=o},[o]),u6(o),o};W_.exports=q_;var d6=W_.exports,Zg=x.createContext(null),f6=e=>e,ut=()=>{var e=x.useContext(Zg);return e?e.store.dispatch:f6},Nc=()=>{},h6=()=>Nc,m6=(e,t)=>e===t;function ne(e){var t=x.useContext(Zg);return d6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:h6,t?t.store.getState:Nc,t?t.store.getState:Nc,t?e:Nc,m6)}function p6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function g6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function v6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var gx=e=>Array.isArray(e)?e:[e];function y6(e){const t=Array.isArray(e[0])?e[0]:e;return v6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function x6(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var b6=class{constructor(e){this.value=e}deref(){return this.value}},w6=typeof WeakRef<"u"?WeakRef:b6,j6=0,vx=1;function Xl(){return{s:j6,v:void 0,o:null,p:null}}function K_(e,t={}){let r=Xl();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const w=b.get(v);w===void 0?(o=Xl(),b.set(v,o)):o=w}else{let b=o.p;b===null&&(o.p=b=new Map);const w=b.get(v);w===void 0?(o=Xl(),b.set(v,o)):o=w}}const u=o;let d;if(o.s===vx)d=o.v;else if(d=e.apply(null,arguments),a++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new w6(d):d}return u.s=vx,u.v=d,d}return s.clearCache=()=>{r=Xl(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function _6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),p6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=K_,argsMemoizeOptions:v=[],devModeChecks:b={}}=d,w=gx(h),y=gx(v),g=y6(i),p=f(function(){return a++,u.apply(null,arguments)},...w),j=m(function(){s++;const k=x6(g,arguments);return o=p.apply(null,k),o},...y);return Object.assign(j,{resultFunc:u,memoizedResultFunc:p,dependencies:g,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var T=_6(K_),k6=Object.assign((e,t=T)=>{g6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>k6}),G_={},Y_={},Q_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(Q_);var J_={},e0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(e0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(J_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q_,r=J_,n=gd;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,v)=>{let b=m;for(let w=0;w<v.length&&b!=null;++w)b=b[v[w]];return b},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],v.criteria[b],o[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(Y_);var X_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(X_);var t0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xg,r=wd,n=Hg,i=Kg;function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.eq(c[o],s):!1}e.isIterateeCall=a})(t0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y_,r=X_,n=t0;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(G_);var S6=G_.sortBy;const _d=oi(S6);var Z_=e=>e.legend.settings,N6=e=>e.legend.size,E6=e=>e.legend.payload,C6=T([E6,Z_],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?_d(n,r):n});function P6(){return ne(C6)}var Zl=1;function ek(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Zl||Math.abs(s.left-t.left)>Zl||Math.abs(s.top-t.top)>Zl||Math.abs(s.width-t.width)>Zl)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function nt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var O6=typeof Symbol=="function"&&Symbol.observable||"@@observable",yx=O6,Gf=()=>Math.random().toString(36).substring(7).split("").join("."),A6={INIT:`@@redux/INIT${Gf()}`,REPLACE:`@@redux/REPLACE${Gf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gf()}`},du=A6;function r0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tk(e,t,r){if(typeof e!="function")throw new Error(nt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nt(1));return r(tk)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((w,y)=>{s.set(y,w)}))}function d(){if(c)throw new Error(nt(3));return i}function f(w){if(typeof w!="function")throw new Error(nt(4));if(c)throw new Error(nt(5));let y=!0;u();const g=o++;return s.set(g,w),function(){if(y){if(c)throw new Error(nt(6));y=!1,u(),s.delete(g),a=null}}}function h(w){if(!r0(w))throw new Error(nt(7));if(typeof w.type>"u")throw new Error(nt(8));if(typeof w.type!="string")throw new Error(nt(17));if(c)throw new Error(nt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(a=s).forEach(g=>{g()}),w}function m(w){if(typeof w!="function")throw new Error(nt(10));n=w,h({type:du.REPLACE})}function v(){const w=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(nt(11));function g(){const j=y;j.next&&j.next(d())}return g(),{unsubscribe:w(g)}},[yx](){return this}}}return h({type:du.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[yx]:v}}function T6(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:du.INIT})>"u")throw new Error(nt(12));if(typeof r(void 0,{type:du.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nt(13))})}function rk(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{T6(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],v=h(m,o);if(typeof v>"u")throw o&&o.type,new Error(nt(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function fu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function M6(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(nt(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=fu(...o)(i.dispatch),{...i,dispatch:a}}}function nk(e){return r0(e)&&"type"in e&&typeof e.type=="string"}var ik=Symbol.for("immer-nothing"),xx=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function Cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var is=Object.getPrototypeOf;function Gi(e){return!!e&&!!e[Kt]}function jn(e){var t;return e?ak(e)||Array.isArray(e)||!!e[xx]||!!((t=e.constructor)!=null&&t[xx])||hl(e)||Sd(e):!1}var I6=Object.prototype.constructor.toString();function ak(e){if(!e||typeof e!="object")return!1;const t=is(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===I6}function hu(e,t){kd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function kd(e){const t=e[Kt];return t?t.type_:Array.isArray(e)?1:hl(e)?2:Sd(e)?3:0}function Lm(e,t){return kd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function sk(e,t,r){const n=kd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function D6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hl(e){return e instanceof Map}function Sd(e){return e instanceof Set}function Ei(e){return e.copy_||e.base_}function $m(e,t){if(hl(e))return new Map(e);if(Sd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=ak(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Kt];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(is(e),n)}else{const n=is(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function n0(e,t=!1){return Nd(e)||Gi(e)||!jn(e)||(kd(e)>1&&Object.defineProperties(e,{set:{value:ec},add:{value:ec},clear:{value:ec},delete:{value:ec}}),Object.freeze(e),t&&Object.values(e).forEach(r=>n0(r,!0))),e}function ec(){Cr(2)}function Nd(e){return Object.isFrozen(e)}var R6={};function Yi(e){const t=R6[e];return t||Cr(0,e),t}var Wo;function ok(){return Wo}function L6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bx(e,t){t&&(Yi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zm(e){Um(e),e.drafts_.forEach($6),e.drafts_=null}function Um(e){e===Wo&&(Wo=e.parent_)}function wx(e){return Wo=L6(Wo,e)}function $6(e){const t=e[Kt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function jx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Kt].modified_&&(zm(t),Cr(4)),jn(e)&&(e=mu(t,e),t.parent_||pu(t,e)),t.patches_&&Yi("Patches").generateReplacementPatches_(r[Kt].base_,e,t.patches_,t.inversePatches_)):e=mu(t,r,[]),zm(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ik?e:void 0}function mu(e,t,r){if(Nd(t))return t;const n=t[Kt];if(!n)return hu(t,(i,a)=>_x(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return pu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),hu(a,(o,c)=>_x(e,n,i,o,c,r,s)),pu(e,i,!1),r&&e.patches_&&Yi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function _x(e,t,r,n,i,a,s){if(Gi(i)){const o=a&&t&&t.type_!==3&&!Lm(t.assigned_,n)?a.concat(n):void 0,c=mu(e,i,o);if(sk(r,n,c),Gi(c))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(jn(i)&&!Nd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mu(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(hl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&pu(e,i)}}function pu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&n0(t,r)}function z6(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ok(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=i0;r&&(i=[n],a=qo);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var i0={get(e,t){if(t===Kt)return e;const r=Ei(e);if(!Lm(r,t))return U6(e,r,t);const n=r[t];return e.finalized_||!jn(n)?n:n===Yf(e.base_,t)?(Qf(e),e.copy_[t]=Fm(n,e)):n},has(e,t){return t in Ei(e)},ownKeys(e){return Reflect.ownKeys(Ei(e))},set(e,t,r){const n=lk(Ei(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Yf(Ei(e),t),a=i==null?void 0:i[Kt];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(D6(r,i)&&(r!==void 0||Lm(e.base_,t)))return!0;Qf(e),Bm(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qf(e),Bm(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ei(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Cr(11)},getPrototypeOf(e){return is(e.base_)},setPrototypeOf(){Cr(12)}},qo={};hu(i0,(e,t)=>{qo[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qo.deleteProperty=function(e,t){return qo.set.call(this,e,t,void 0)};qo.set=function(e,t,r){return i0.set.call(this,e[0],t,r,e[0])};function Yf(e,t){const r=e[Kt];return(r?Ei(r):e)[t]}function U6(e,t,r){var i;const n=lk(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function lk(e,t){if(!(t in e))return;let r=is(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=is(r)}}function Bm(e){e.modified_||(e.modified_=!0,e.parent_&&Bm(e.parent_))}function Qf(e){e.copy_||(e.copy_=$m(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var B6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Cr(6),n!==void 0&&typeof n!="function"&&Cr(7);let i;if(jn(t)){const a=wx(this),s=Fm(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?zm(a):Um(a)}return bx(a,n),jx(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===ik&&(i=void 0),this.autoFreeze_&&n0(i,!0),n){const a=[],s=[];Yi("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Cr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){jn(e)||Cr(8),Gi(e)&&(e=mn(e));const t=wx(this),r=Fm(e,void 0);return r[Kt].isManual_=!0,Um(t),r}finishDraft(e,t){const r=e&&e[Kt];(!r||!r.isManual_)&&Cr(9);const{scope_:n}=r;return bx(n,t),jx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Yi("Patches").applyPatches_;return Gi(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Fm(e,t){const r=hl(e)?Yi("MapSet").proxyMap_(e,t):Sd(e)?Yi("MapSet").proxySet_(e,t):z6(e,t);return(t?t.scope_:ok()).drafts_.push(r),r}function mn(e){return Gi(e)||Cr(10,e),ck(e)}function ck(e){if(!jn(e)||Nd(e))return e;const t=e[Kt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$m(e,t.scope_.immer_.useStrictShallowCopy_)}else r=$m(e,!0);return hu(r,(n,i)=>{sk(r,n,ck(i))}),t&&(t.finalized_=!1),r}var F6=new B6,uk=F6.produce;function dk(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var W6=dk(),q6=dk,H6=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?fu:fu.apply(null,arguments)};function pr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(Ht(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>nk(n)&&n.type===e,r}var fk=class Js extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Js.prototype)}static get[Symbol.species](){return Js}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Js(...t[0].concat(this)):new Js(...t.concat(this))}};function kx(e){return jn(e)?uk(e,()=>{}):e}function tc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function V6(e){return typeof e=="boolean"}var K6=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new fk;return r&&(V6(r)?s.push(W6):s.push(q6(r.extraArgument))),s},G6="RTK_autoBatch",Sx=e=>t=>{setTimeout(t,e)},Y6=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Sx(10):e.type==="callback"?e.queueNotification:Sx(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[G6]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},Q6=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new fk(e);return n&&i.push(Y6(typeof n=="object"?n:void 0)),i};function J6(e){const t=K6(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(r0(r))c=rk(r);else throw new Error(Ht(1));let u;typeof n=="function"?u=n(t):u=t();let d=fu;i&&(d=H6({trace:!1,...typeof i=="object"&&i}));const f=M6(...u),h=Q6(f);let m=typeof o=="function"?o(h):h();const v=d(...m);return tk(c,s,v)}function hk(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ht(28));if(o in t)throw new Error(Ht(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function X6(e){return typeof e=="function"}function Z6(e,t){let[r,n,i]=hk(t),a;if(X6(e))a=()=>kx(e());else{const o=kx(e);a=()=>o}function s(o=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Gi(d)){const m=f(d,c);return m===void 0?d:m}else{if(jn(d))return uk(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var eI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tI=(e=21)=>{let t="",r=e;for(;r--;)t+=eI[Math.random()*64|0];return t},rI=Symbol.for("rtk-slice-createasyncthunk");function nI(e,t){return`${e}/${t}`}function iI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[rI];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ht(11));typeof process<"u";const o=(typeof i.reducers=="function"?i.reducers(sI()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const k=typeof j=="string"?j:j.type;if(!k)throw new Error(Ht(12));if(k in u.sliceCaseReducersByType)throw new Error(Ht(13));return u.sliceCaseReducersByType[k]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=o[j],k={reducerName:j,type:nI(a,j),createNotation:typeof i.reducers=="function"};lI(S)?uI(k,S,d,t):oI(k,S,d)});function f(){const[j={},S=[],k=void 0]=typeof i.extraReducers=="function"?hk(i.extraReducers):[i.extraReducers],_={...j,...u.sliceCaseReducersByType};return Z6(i.initialState,N=>{for(let E in _)N.addCase(E,_[E]);for(let E of u.sliceMatchers)N.addMatcher(E.matcher,E.reducer);for(let E of S)N.addMatcher(E.matcher,E.reducer);k&&N.addDefaultCase(k)})}const h=j=>j,m=new Map,v=new WeakMap;let b;function w(j,S){return b||(b=f()),b(j,S)}function y(){return b||(b=f()),b.getInitialState()}function g(j,S=!1){function k(N){let E=N[j];return typeof E>"u"&&S&&(E=tc(v,k,y)),E}function _(N=h){const E=tc(m,S,()=>new WeakMap);return tc(E,N,()=>{const C={};for(const[P,M]of Object.entries(i.selectors??{}))C[P]=aI(M,N,()=>tc(v,N,y),S);return C})}return{reducerPath:j,getSelectors:_,get selectors(){return _(k)},selectSlice:k}}const p={name:a,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...g(s),injectInto(j,{reducerPath:S,...k}={}){const _=S??s;return j.inject({reducerPath:_,reducer:w},k),{...p,...g(_,!0)}}};return p}}function aI(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var Xt=iI();function sI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function oI({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!cI(n))throw new Error(Ht(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?pr(e,s):pr(e))}function lI(e){return e._reducerDefinitionType==="asyncThunk"}function cI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uI({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Ht(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=r,f=i(e,a,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||rc,pending:o||rc,rejected:c||rc,settled:u||rc})}function rc(){}var dI="task",mk="listener",pk="completed",a0="cancelled",fI=`task-${a0}`,hI=`task-${pk}`,Wm=`${mk}-${a0}`,mI=`${mk}-${pk}`,Ed=class{constructor(e){Jd(this,"name","TaskAbortError");Jd(this,"message");this.code=e,this.message=`${dI} ${a0} (reason: ${e})`}},s0=(e,t)=>{if(typeof e!="function")throw new TypeError(Ht(32))},gu=()=>{},gk=(e,t=gu)=>(e.catch(t),e),vk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),zi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ui=e=>{if(e.aborted){const{reason:t}=e;throw new Ed(t)}};function yk(e,t){let r=gu;return new Promise((n,i)=>{const a=()=>i(new Ed(e.reason));if(e.aborted){a();return}r=vk(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=gu})}var pI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ed?"cancelled":"rejected",error:r}}finally{t==null||t()}},vu=e=>t=>gk(yk(e,t).then(r=>(Ui(e),r))),xk=e=>{const t=vu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ua}=Object,Nx={},Cd="listenerMiddleware",gI=(e,t)=>{const r=n=>vk(e,()=>zi(n,e.reason));return(n,i)=>{s0(n);const a=new AbortController;r(a);const s=pI(async()=>{Ui(e),Ui(a.signal);const o=await n({pause:vu(a.signal),delay:xk(a.signal),signal:a.signal});return Ui(a.signal),o},()=>zi(a,hI));return i!=null&&i.autoJoin&&t.push(s.catch(gu)),{result:vu(e)(s),cancel(){zi(a,fI)}}}},vI=(e,t)=>{const r=async(n,i)=>{Ui(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await yk(t,Promise.race(o));return Ui(t),c}finally{a()}};return(n,i)=>gk(r(n,i))},bk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=pr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ht(21));return s0(a),{predicate:i,type:t,effect:a}},wk=Ua(e=>{const{type:t,predicate:r,effect:n}=bk(e);return{id:tI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ht(22))}}},{withTypes:()=>wk}),Ex=(e,t)=>{const{type:r,effect:n,predicate:i}=bk(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},qm=e=>{e.pending.forEach(t=>{zi(t,Wm)})},yI=e=>()=>{e.forEach(qm),e.clear()},Cx=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},jk=Ua(pr(`${Cd}/add`),{withTypes:()=>jk}),xI=pr(`${Cd}/removeAll`),_k=Ua(pr(`${Cd}/remove`),{withTypes:()=>_k}),bI=(...e)=>{console.error(`${Cd}/error`,...e)},ml=(e={})=>{const t=new Map,{extra:r,onError:n=bI}=e;s0(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&qm(d)}),a=d=>{const f=Ex(t,d)??wk(d);return i(f)};Ua(a,{withTypes:()=>a});const s=d=>{const f=Ex(t,d);return f&&(f.unsubscribe(),d.cancelActive&&qm(f)),!!f};Ua(s,{withTypes:()=>s});const o=async(d,f,h,m)=>{const v=new AbortController,b=vI(a,v.signal),w=[];try{d.pending.add(v),await Promise.resolve(d.effect(f,Ua({},h,{getOriginalState:m,condition:(y,g)=>b(y,g).then(Boolean),take:b,delay:xk(v.signal),pause:vu(v.signal),extra:r,signal:v.signal,fork:gI(v.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,g,p)=>{y!==v&&(zi(y,Wm),p.delete(y))})},cancel:()=>{zi(v,Wm),d.pending.delete(v)},throwIfCancelled:()=>{Ui(v.signal)}})))}catch(y){y instanceof Ed||Cx(n,y,{raisedBy:"effect"})}finally{await Promise.all(w),zi(v,mI),d.pending.delete(v)}},c=yI(t);return{middleware:d=>f=>h=>{if(!nk(h))return f(h);if(jk.match(h))return a(h.payload);if(xI.match(h)){c();return}if(_k.match(h))return s(h.payload);let m=d.getState();const v=()=>{if(m===Nx)throw new Error(Ht(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),y=Array.from(t.values());for(const g of y){let p=!1;try{p=g.predicate(h,w,m)}catch(j){p=!1,Cx(n,j,{raisedBy:"predicate"})}p&&o(g,h,d,v)}}}finally{m=Nx}return b},startListening:a,stopListening:s,clearListeners:c}};function Ht(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kk=Xt({name:"chartLayout",initialState:wI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:jI,setLayout:_I,setChartSize:kI,setScale:SI}=kk.actions,NI=kk.reducer;function Px(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(r),!0).forEach(function(n){EI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EI(e,t,r){return(t=CI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CI(e){var t=PI(e,"string");return typeof t=="symbol"?t:t+""}function PI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yu=Math.PI/180,OI=e=>e*180/Math.PI,ot=(e,t,r,n)=>({x:e+Math.cos(-yu*n)*r,y:t+Math.sin(-yu*n)*r}),AI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},TI=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},MI=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=TI({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:OI(c),angleInRadian:c}},II=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},DI=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},RI=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=MI({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=II(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Ox(Ox({},t),{},{radius:i,angle:DI(d,t)}):null};function Sk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ax(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ax(Object(r),!0).forEach(function(n){LI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LI(e,t,r){return(t=$I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $I(e){var t=zI(e,"string");return typeof t=="symbol"?t:t+""}function zI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t,r){return Je(e)||Je(t)?r:Gr(t)?vd(e,t,r):typeof t=="function"?t(e):r}var UI=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,f=c>=o-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(lr(d-u)!==lr(f-d)){var m=[];if(lr(f-d)===lr(i[1]-i[0])){h=f;var v=d+i[1]-i[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var y=Math.min(u,f),g=Math.max(u,f);if(e>(y+d)/2&&e<=(g+d)/2){({index:s}=r[c]);break}}}else if(t){for(var p=0;p<o;p++)if(p===0&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p>0&&p<o-1&&e>(t[p].coordinate+t[p-1].coordinate)/2&&e<=(t[p].coordinate+t[p+1].coordinate)/2||p===o-1&&e>(t[p].coordinate+t[p-1].coordinate)/2){({index:s}=t[p]);break}}return s},BI=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ae(e[a]))return sr(sr({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ae(e[s]))return sr(sr({},e),{},{[s]:e[s]+(i||0)})}return e},mi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Nk=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},Ek=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,b=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(b=m==="angleAxis"&&a&&a.length>=2?lr(a[0]-a[1])*2*b:b,f||h){var w=(f||h||[]).map((y,g)=>{var p=n?n.indexOf(y):y;return{coordinate:s(p)+b,value:y,offset:b,index:g}});return w.filter(y=>!mr(y.coordinate))}return c&&u?u.map((y,g)=>({coordinate:s(y)+b,value:y,index:g,offset:b})):s.ticks&&!r&&d!=null?s.ticks(d).map((y,g)=>({coordinate:s(y)+b,value:y,offset:b,index:g})):s.domain().map((y,g)=>({coordinate:s(y)+b,value:n?n[y]:y,index:g,offset:b}))},Tx=1e-4,FI=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Tx,a=Math.max(n[0],n[1])+Tx,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},WI=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=mr(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},qI=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=mr(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},HI={sign:WI,expand:P5,none:rs,silhouette:O5,wiggle:A5,positive:qI},VI=(e,t,r)=>{var n=HI[r],i=C5().keys(t).value((a,s)=>+kt(a,s,0)).order(Im).offset(n);return i(e)};function Mx(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Je(i[t.dataKey])){var o=n_(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=kt(i,Je(s)?t.dataKey:s);return Je(c)?null:t.scale(c)}var KI=e=>{var t=e.flat(2).filter(ae);return[Math.min(...t),Math.max(...t)]},GI=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],YI=(e,t,r)=>{if(e!=null)return GI(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((c,u)=>{var d=Sk(u,t,r),f=KI(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Ix=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dx=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hm=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=_d(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Rx(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return sr(sr({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ck(e,t){if(e)return String(e);if(typeof t=="string")return t}function QI(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?RI({x:e,y:t},n):null}var JI=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return sr(sr(sr({},n),ot(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return sr(sr(sr({},n),ot(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},XI=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Cn=e=>e.layout.width,Pn=e=>e.layout.height,ZI=e=>e.layout.scale,Pk=e=>e.layout.margin,Pd=T(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Od=T(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),eD="data-recharts-item-index",tD="data-recharts-item-data-key",pl=60;function Lx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lx(Object(r),!0).forEach(function(n){rD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rD(e,t,r){return(t=nD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nD(e){var t=iD(e,"string");return typeof t=="symbol"?t:t+""}function iD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aD=e=>e.brush.height;function sD(e){var t=Od(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:pl;return r+i}return r},0)}function oD(e){var t=Od(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:pl;return r+i}return r},0)}function lD(e){var t=Pd(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function cD(e){var t=Pd(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var dt=T([Cn,Pn,Pk,aD,sD,oD,lD,cD,Z_,N6],(e,t,r,n,i,a,s,o,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=nc(nc({},f),d),m=h.bottom;h.bottom+=n,h=BI(h,c,u);var v=e-h.left-h.right,b=t-h.top-h.bottom;return nc(nc({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(b,0)})}),uD=T(dt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ok=T(Cn,Pn,(e,t)=>({x:0,y:0,width:e,height:t})),dD=x.createContext(null),vr=()=>x.useContext(dD)!=null,Ad=e=>e.brush,Td=T([Ad,dt,Pk],(e,t,r)=>({height:e.height,x:ae(e.x)?e.x:t.left,y:ae(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ae(e.width)?e.width:t.width})),o0=()=>{var e,t=vr(),r=ne(uD),n=ne(Td),i=(e=ne(Ad))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},fD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Ak=()=>{var e;return(e=ne(dt))!==null&&e!==void 0?e:fD},l0=()=>ne(Cn),c0=()=>ne(Pn),hD=()=>ne(e=>e.layout.margin),Se=e=>e.layout.layoutType,u0=()=>ne(Se),mD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Tk=Xt({name:"legend",initialState:mD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=mn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:$x,setLegendSettings:pD,addLegendPayload:gD,removeLegendPayload:vD}=Tk.actions,yD=Tk.reducer,xD=["contextPayload"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zx(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0(e,t,r){return(t=bD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bD(e){var t=wD(e,"string");return typeof t=="symbol"?t:t+""}function wD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jD(e,t){if(e==null)return{};var r,n,i=_D(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _D(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kD(e){return e.value}function SD(e){var{contextPayload:t}=e,r=jD(e,xD),n=F_(t,e.payloadUniqBy,kD),i=as(as({},r),{},{payload:n});return x.isValidElement(e.content)?x.cloneElement(e.content,i):typeof e.content=="function"?x.createElement(e.content,i):x.createElement(Wg,i)}function ND(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),as(as({},u),d)}function ED(e){var t=ut();return x.useEffect(()=>{t(pD(e))},[t,e]),null}function CD(e){var t=ut();return x.useEffect(()=>(t($x(e)),()=>{t($x({width:0,height:0}))}),[t,e]),null}function PD(e){var t=P6(),r=X3(),n=hD(),{width:i,height:a,wrapperStyle:s,portal:o}=e,[c,u]=ek([t]),d=l0(),f=c0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=Md.getWidthOrHeight(e.layout,a,i,h),v=o?s:as(as({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||a||"auto"},ND(s,e,n,d,f,c)),s),b=o??r;if(b==null)return null;var w=x.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},x.createElement(ED,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),x.createElement(CD,{width:c.width,height:c.height}),x.createElement(SD,Vm({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return mg.createPortal(w,b)}class Md extends x.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ae(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return x.createElement(PD,this.props)}}d0(Md,"displayName","Legend");d0(Md,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(null,arguments)}function Ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ux(Object(r),!0).forEach(function(n){OD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t,r){return(t=AD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AD(e){var t=TD(e,"string");return typeof t=="symbol"?t:t+""}function TD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MD(e){return Array.isArray(e)&&Gr(e[0])&&Gr(e[1])?e.join(" ~ "):e}var ID=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var S={padding:0,margin:0},k=(o?_d(a,o):a).map((_,N)=>{if(_.type==="none")return null;var E=_.formatter||s||MD,{value:C,name:P}=_,M=C,F=P;if(E){var Y=E(C,P,_,N,a);if(Array.isArray(Y))[M,F]=Y;else if(Y!=null)M=Y;else return null}var ie=Jf({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ie},Gr(F)?x.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Gr(F)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},M),x.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},v=Jf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Jf({margin:0},i),w=!Je(d),y=w?d:"",g=ye("recharts-default-tooltip",c),p=ye("recharts-tooltip-label",u);w&&f&&a!==void 0&&a!==null&&(y=f(d,a));var j=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Km({className:g,style:v},j),x.createElement("p",{className:p,style:b},x.isValidElement(y)?y:"".concat(y)),m())},$s="recharts-tooltip-wrapper",DD={visibility:"hidden"};function RD(e){var{coordinate:t,translateX:r,translateY:n}=e;return ye($s,{["".concat($s,"-right")]:ae(r)&&t&&ae(t.x)&&r>=t.x,["".concat($s,"-left")]:ae(r)&&t&&ae(t.x)&&r<t.x,["".concat($s,"-bottom")]:ae(n)&&t&&ae(t.y)&&n>=t.y,["".concat($s,"-top")]:ae(n)&&t&&ae(t.y)&&n<t.y})}function Bx(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&ae(a[n]))return a[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+o,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function LD(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function $D(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=Bx({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=Bx({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=LD({translateX:d,translateY:f,useTranslate3d:o})):u=DD,{cssProperties:u,cssClasses:RD({translateX:d,translateY:f,coordinate:r})}}function Fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fx(Object(r),!0).forEach(function(n){Gm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gm(e,t,r){return(t=zD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e){var t=UD(e,"string");return typeof t=="symbol"?t:t+""}function UD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BD extends x.PureComponent{constructor(){super(...arguments),Gm(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gm(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:b,innerRef:w,hasPortalFromProps:y}=this.props,{cssClasses:g,cssProperties:p}=$D({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),j=y?{}:ic(ic({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},p),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=ic(ic({},j),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:S,ref:w},a)}}var FD=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),xs={devToolsEnabled:!1,isSsr:FD()},Mk=()=>ne(e=>e.rootProps.accessibilityLayer);function Dr(e){return Number.isFinite(e)}function xu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(null,arguments)}function Wx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wx(Object(r),!0).forEach(function(n){WD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WD(e,t,r){return(t=qD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qD(e){var t=HD(e,"string");return typeof t=="symbol"?t:t+""}function HD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hx={curveBasisClosed:v5,curveBasisOpen:y5,curveBasis:g5,curveBumpX:r5,curveBumpY:n5,curveLinearClosed:x5,curveLinear:xd,curveMonotoneX:b5,curveMonotoneY:w5,curveNatural:j5,curveStep:_5,curveStepAfter:S5,curveStepBefore:k5},ac=e=>Dr(e.x)&&Dr(e.y),zs=e=>e.x,Us=e=>e.y,VD=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fl(e));return(r==="curveMonotone"||r==="curveBump")&&t?Hx["".concat(r).concat(t==="vertical"?"Y":"X")]:Hx[r]||xd},KD=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=VD(t,i),o=a?r.filter(ac):r,c;if(Array.isArray(n)){var u=a?n.filter(f=>ac(f)):n,d=o.map((f,h)=>qx(qx({},f),{},{base:u[h]}));return i==="vertical"?c=Jl().y(Us).x1(zs).x0(f=>f.base.x):c=Jl().x(zs).y1(Us).y0(f=>f.base.y),c.defined(ac).curve(s),c(d)}return i==="vertical"&&ae(n)?c=Jl().y(Us).x1(zs).x0(n):ae(n)?c=Jl().x(zs).y1(Us).y0(n):c=h_().x(zs).y(Us),c.defined(ac).curve(s),c(o)},Ik=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?KD(e):n;return x.createElement("path",Ym({},ia(e),Lg(e),{className:ye("recharts-curve",t),d:a===null?void 0:a,ref:i}))},GD=["x","y","top","left","width","height","className"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function Vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(r),!0).forEach(function(n){QD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QD(e,t,r){return(t=JD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JD(e){var t=XD(e,"string");return typeof t=="symbol"?t:t+""}function XD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZD(e,t){if(e==null)return{};var r,n,i=eR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tR=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),rR=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=ZD(e,GD),u=YD({x:t,y:r,top:n,left:i,width:a,height:s},c);return!ae(t)||!ae(r)||!ae(a)||!ae(s)||!ae(n)||!ae(i)?null:x.createElement("path",Qm({},Xe(u,!0),{className:ye("recharts-cross",o),d:tR(t,r,a,s,n,i)}))};function nR(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Kx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(r),!0).forEach(function(n){aR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aR(e,t,r){return(t=sR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(e){var t=oR(e,"string");return typeof t=="symbol"?t:t+""}function oR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=iR({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function lR(){}function Gx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gx(Object(r),!0).forEach(function(n){cR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cR(e,t,r){return(t=uR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uR(e){var t=dR(e,"string");return typeof t=="symbol"?t:t+""}function dR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hR=(e,t,r)=>e.map(n=>"".concat(fR(n)," ").concat(t,"ms ").concat(r)).join(","),mR=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ho=(e,t)=>Object.keys(t).reduce((r,n)=>Yx(Yx({},r),{},{[n]:e(n,t[n])}),{});function Qx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function at(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qx(Object(r),!0).forEach(function(n){pR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pR(e,t,r){return(t=gR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gR(e){var t=vR(e,"string");return typeof t=="symbol"?t:t+""}function vR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bu=(e,t,r)=>e+(t-e)*r,Jm=e=>{var{from:t,to:r}=e;return t!==r},Dk=(e,t,r)=>{var n=Ho((i,a)=>{if(Jm(a)){var[s,o]=e(a.from,a.to,a.velocity);return at(at({},a),{},{from:s,velocity:o})}return a},t);return r<1?Ho((i,a)=>Jm(a)?at(at({},a),{},{velocity:bu(a.velocity,n[i].velocity,r),from:bu(a.from,n[i].from,r)}):a,t):Dk(e,n,r-1)};function yR(e,t,r,n,i,a){var s,o=n.reduce((h,m)=>at(at({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Ho((h,m)=>m.from,o),u=()=>!Object.values(o).filter(Jm).length,d=null,f=h=>{s||(s=h);var m=h-s,v=m/r.dt;o=Dk(r,o,v),i(at(at(at({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{d()})}function xR(e,t,r,n,i,a,s){var o=null,c=i.reduce((f,h)=>at(at({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Ho((b,w)=>bu(...w,r(h)),c);if(a(at(at(at({},e),t),m)),h<1)o=s.setTimeout(d);else{var v=Ho((b,w)=>bu(...w,r(1)),c);a(at(at(at({},e),t),v))}};return()=>(o=s.setTimeout(d),()=>{o()})}const bR=(e,t,r,n,i,a)=>{var s=mR(e,t);return r.isStepper===!0?yR(e,t,r,s,i,a):xR(e,t,r,n,s,i,a)};var wu=1e-4,Rk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Lk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Jx=(e,t)=>r=>{var n=Rk(e,t);return Lk(n,r)},wR=(e,t)=>r=>{var n=Rk(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return Lk(i,r)},Xx=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(v=>parseFloat(v)))}}else s.length===4&&([t,n,r,i]=s);var u=Jx(t,r),d=Jx(n,i),f=wR(t,r),h=v=>v>1?1:v<0?0:v,m=v=>{for(var b=v>1?1:v,w=b,y=0;y<8;++y){var g=u(w)-b,p=f(w);if(Math.abs(g-b)<wu||p<wu)return d(w);w=h(w-g/p)}return d(w)};return m.isStepper=!1,m},jR=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-o)<wu&&Math.abs(f)<wu?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},_R=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xx(e);case"spring":return jR();default:if(e.split("(")[0]==="cubic-bezier")return Xx(e)}return typeof e=="function"?e:null};function kR(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class SR{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function NR(){return kR(new SR)}var ER=x.createContext(NR);function CR(e,t){var r=x.useContext(ER);return x.useMemo(()=>t??r(e),[e,t,r])}var PR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Zx={t:0},Xf={t:1};function $k(e){var t=yr(e,PR),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=CR(t.animationId,t.animationManager),[f,h]=x.useState(r?Zx:Xf),m=x.useRef(null);return x.useEffect(()=>{r||h(Xf)},[r]),x.useEffect(()=>{if(!r||!n)return lR;var v=bR(Zx,Xf,_R(a),i,h,d.getTimeoutController()),b=()=>{m.current=v()};return d.start([c,s,b,i,o]),()=>{d.stop(),m.current&&m.current(),o()}},[r,n,i,a,s,c,o,d]),u(f.t)}function zk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Fo(t)),n=x.useRef(e);return n.current!==e&&(r.current=Fo(t),n.current=e),r.current}function eb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eb(Object(r),!0).forEach(function(n){OR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OR(e,t,r){return(t=AR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AR(e){var t=TR(e,"string");return typeof t=="symbol"?t:t+""}function TR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(null,arguments)}var rb=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>a?a:i[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(a>0&&i===+i&&i>0){var m=Math.min(a,i);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},MR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IR=e=>{var t=yr(e,MR),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Y=r.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:b}=t,w=x.useRef(o),y=x.useRef(c),g=x.useRef(a),p=x.useRef(s),j=x.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),S=zk(j,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var k=ye("recharts-rectangle",d);if(!b)return x.createElement("path",ju({},Xe(t,!0),{className:k,d:rb(a,s,o,c,u)}));var _=w.current,N=y.current,E=g.current,C=p.current,P="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),F=hR(["strokeDasharray"],h,typeof f=="string"?f:void 0);return x.createElement($k,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},Y=>{var ie=an(_,o,Y),H=an(N,c,Y),K=an(E,a,Y),U=an(C,s,Y);r.current&&(w.current=ie,y.current=H,g.current=K,p.current=U);var O;return v?Y>0?O={transition:F,strokeDasharray:M}:O={strokeDasharray:P}:O={strokeDasharray:M},x.createElement("path",ju({},Xe(t,!0),{className:k,d:rb(K,U,ie,H,u),ref:r,style:tb(tb({},O),t.style)}))})};function Uk(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=ot(t,r,n,i),o=ot(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(null,arguments)}var DR=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},sc=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/yu,f=c?i:i+a*d,h=ot(t,r,u,f),m=ot(t,r,n,f),v=c?i-a*d:i,b=ot(t,r,u*Math.cos(d*yu),v);return{center:h,circleTangency:m,lineTangency:b,theta:d}},Bk=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=DR(a,s),c=a+o,u=ot(t,r,i,a),d=ot(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=ot(t,r,n,a),m=ot(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},RR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=lr(u-c),{circleTangency:f,lineTangency:h,theta:m}=sc({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:b,theta:w}=sc({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-m-w;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Bk({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var g="M ".concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:p,lineTangency:j,theta:S}=sc({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:_,theta:N}=sc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),E=o?Math.abs(c-u):Math.abs(c-u)-S-N;if(E<0&&a===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(p.x,",").concat(p.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},LR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$R=e=>{var t=yr(e,LR),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=ye("recharts-sector",f),m=a-i,v=si(s,m,0,!0),b;return v>0&&Math.abs(u-d)<360?b=RR({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):b=Bk({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),x.createElement("path",Xm({},Xe(t,!0),{className:h,d:b}))};function zR(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=ot(o,c,u,f),m=ot(o,c,d,f);n=h.x,i=h.y,a=m.x,s=m.y}else return Uk(t);return[{x:n,y:i},{x:a,y:s}]}var Fk={},Wk={},qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t0,r=Wk;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=n})(Fk);var UR=Fk.range;const Hk=oi(UR);function ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BR(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f0(e){let t,r,n;e.length!==2?(t=ni,r=(o,c)=>ni(e(o),c),n=(o,c)=>e(o)-c):(t=e===ni||e===BR?e:FR,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function FR(){return 0}function Vk(e){return e===null?NaN:+e}function*WR(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qR=f0(ni),gl=qR.right;f0(Vk).center;class nb extends Map{constructor(t,r=KR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(ib(this,t))}has(t){return super.has(ib(this,t))}set(t,r){return super.set(HR(this,t),r)}delete(t){return super.delete(VR(this,t))}}function ib({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function VR({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GR(e=ni){if(e===ni)return Kk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YR=Math.sqrt(50),QR=Math.sqrt(10),JR=Math.sqrt(2);function _u(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=YR?10:a>=QR?5:a>=JR?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?_u(e,t,r*2):[o,c,u]}function Zm(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?_u(t,e,r):_u(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function ep(e,t,r){return t=+t,e=+e,r=+r,_u(e,t,r)[2]}function tp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ep(t,e,r):ep(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ab(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sb(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Gk(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Kk:GR(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));Gk(e,t,m,v,i)}const a=e[t];let s=r,o=n;for(Bs(e,r,t),i(e[n],a)>0&&Bs(e,r,n);s<o;){for(Bs(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?Bs(e,r,o):(++o,Bs(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Bs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function XR(e,t,r){if(e=Float64Array.from(WR(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return sb(e);if(t>=1)return ab(e);var n,i=(n-1)*t,a=Math.floor(i),s=ab(Gk(e,a).subarray(0,a+1)),o=sb(e.subarray(a+1));return s+(o-s)*(i-a)}}function ZR(e,t,r=Vk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function eL(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function On(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rp=Symbol("implicit");function h0(){var e=new nb,t=[],r=[],n=rp;function i(a){let s=e.get(a);if(s===void 0){if(n!==rp)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new nb;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return h0(t,r).unknown(n)},xr.apply(i,arguments),i}function m0(){var e=h0().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,v=m?i:n,b=m?n:i;a=(b-v)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),v+=(b-v-a*(h-c))*d,s=a*(1-c),o&&(v=Math.round(v),s=Math.round(s));var w=eL(h).map(function(y){return v+a*y});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return m0(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},xr.apply(f(),arguments)}function Yk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yk(t())},e}function tL(){return Yk(m0.apply(null,arguments).paddingInner(1))}function p0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vl(){}var Vo=.7,ku=1/Vo,Ba="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rL=/^#([0-9a-f]{3,8})$/,nL=new RegExp(`^rgb\\(${Ba},${Ba},${Ba}\\)$`),iL=new RegExp(`^rgb\\(${Kr},${Kr},${Kr}\\)$`),aL=new RegExp(`^rgba\\(${Ba},${Ba},${Ba},${Ko}\\)$`),sL=new RegExp(`^rgba\\(${Kr},${Kr},${Kr},${Ko}\\)$`),oL=new RegExp(`^hsl\\(${Ko},${Kr},${Kr}\\)$`),lL=new RegExp(`^hsla\\(${Ko},${Kr},${Kr},${Ko}\\)$`),ob={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p0(vl,Go,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lb,formatHex:lb,formatHex8:cL,formatHsl:uL,formatRgb:cb,toString:cb});function lb(){return this.rgb().formatHex()}function cL(){return this.rgb().formatHex8()}function uL(){return Jk(this).formatHsl()}function cb(){return this.rgb().formatRgb()}function Go(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ub(t):r===3?new Tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?oc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?oc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nL.exec(e))?new Tt(t[1],t[2],t[3],1):(t=iL.exec(e))?new Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=aL.exec(e))?oc(t[1],t[2],t[3],t[4]):(t=sL.exec(e))?oc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oL.exec(e))?hb(t[1],t[2]/100,t[3]/100,1):(t=lL.exec(e))?hb(t[1],t[2]/100,t[3]/100,t[4]):ob.hasOwnProperty(e)?ub(ob[e]):e==="transparent"?new Tt(NaN,NaN,NaN,0):null}function ub(e){return new Tt(e>>16&255,e>>8&255,e&255,1)}function oc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tt(e,t,r,n)}function dL(e){return e instanceof vl||(e=Go(e)),e?(e=e.rgb(),new Tt(e.r,e.g,e.b,e.opacity)):new Tt}function np(e,t,r,n){return arguments.length===1?dL(e):new Tt(e,t,r,n??1)}function Tt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}p0(Tt,np,Qk(vl,{brighter(e){return e=e==null?ku:Math.pow(ku,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tt(Bi(this.r),Bi(this.g),Bi(this.b),Su(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:db,formatHex:db,formatHex8:fL,formatRgb:fb,toString:fb}));function db(){return`#${Ii(this.r)}${Ii(this.g)}${Ii(this.b)}`}function fL(){return`#${Ii(this.r)}${Ii(this.g)}${Ii(this.b)}${Ii((isNaN(this.opacity)?1:this.opacity)*255)}`}function fb(){const e=Su(this.opacity);return`${e===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${e===1?")":`, ${e})`}`}function Su(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ii(e){return e=Bi(e),(e<16?"0":"")+e.toString(16)}function hb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pr(e,t,r,n)}function Jk(e){if(e instanceof Pr)return new Pr(e.h,e.s,e.l,e.opacity);if(e instanceof vl||(e=Go(e)),!e)return new Pr;if(e instanceof Pr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Pr(s,o,c,e.opacity)}function hL(e,t,r,n){return arguments.length===1?Jk(e):new Pr(e,t,r,n??1)}function Pr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}p0(Pr,hL,Qk(vl,{brighter(e){return e=e==null?ku:Math.pow(ku,e),new Pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vo:Math.pow(Vo,e),new Pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Tt(Zf(e>=240?e-240:e+120,i,n),Zf(e,i,n),Zf(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pr(mb(this.h),lc(this.s),lc(this.l),Su(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Su(this.opacity);return`${e===1?"hsl(":"hsla("}${mb(this.h)}, ${lc(this.s)*100}%, ${lc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mb(e){return e=(e||0)%360,e<0?e+360:e}function lc(e){return Math.max(0,Math.min(1,e||0))}function Zf(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const g0=e=>()=>e;function mL(e,t){return function(r){return e+r*t}}function pL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gL(e){return(e=+e)==1?Xk:function(t,r){return r-t?pL(t,r,e):g0(isNaN(t)?r:t)}}function Xk(e,t){var r=t-e;return r?mL(e,r):g0(isNaN(e)?t:e)}const pb=function e(t){var r=gL(t);function n(i,a){var s=r((i=np(i)).r,(a=np(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=Xk(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function vL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function yL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=bs(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function bL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Nu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wL(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=bs(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var ip=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eh=new RegExp(ip.source,"g");function jL(e){return function(){return e}}function _L(e){return function(t){return e(t)+""}}function kL(e,t){var r=ip.lastIndex=eh.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=ip.exec(e))&&(i=eh.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Nu(n,i)})),r=eh.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?_L(c[0].x):jL(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function bs(e,t){var r=typeof t,n;return t==null||r==="boolean"?g0(t):(r==="number"?Nu:r==="string"?(n=Go(t))?(t=n,pb):kL:t instanceof Go?pb:t instanceof Date?bL:yL(t)?vL:Array.isArray(t)?xL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wL:Nu)(e,t)}function v0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function SL(e,t){t===void 0&&(t=e,e=bs);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function NL(e){return function(){return e}}function Eu(e){return+e}var gb=[0,1];function jt(e){return e}function ap(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NL(isNaN(t)?NaN:.5)}function EL(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function CL(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=ap(i,n),a=r(s,a)):(n=ap(n,i),a=r(a,s)),function(o){return a(n(o))}}function PL(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=ap(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=gl(e,o,1,n)-1;return a[c](i[c](o))}}function yl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Id(){var e=gb,t=gb,r=bs,n,i,a,s=jt,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==jt&&(s=EL(e[0],e[h-1])),o=h>2?PL:CL,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),Nu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Eu),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=v0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:jt,d()):s!==jt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function y0(){return Id()(jt,jt)}function OL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Cu(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ss(e){return e=Cu(Math.abs(e)),e?e[1]:NaN}function AL(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function TL(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ML=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yo(e){if(!(t=ML.exec(e)))throw new Error("invalid format: "+e);var t;return new x0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yo.prototype=x0.prototype;function x0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}x0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IL(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Zk;function DL(e,t){var r=Cu(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(Zk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Cu(e,Math.max(0,t+a-1))[0]}function vb(e,t){var r=Cu(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const yb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vb(e*100,t),r:vb,s:DL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xb(e){return e}var bb=Array.prototype.map,wb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function RL(e){var t=e.grouping===void 0||e.thousands===void 0?xb:AL(bb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?xb:TL(bb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Yo(f);var h=f.fill,m=f.align,v=f.sign,b=f.symbol,w=f.zero,y=f.width,g=f.comma,p=f.precision,j=f.trim,S=f.type;S==="n"?(g=!0,S="g"):yb[S]||(p===void 0&&(p=12),j=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var k=b==="$"?r:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",_=b==="$"?n:/[%p]/.test(S)?s:"",N=yb[S],E=/[defgprs%]/.test(S);p=p===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p));function C(P){var M=k,F=_,Y,ie,H;if(S==="c")F=N(P)+F,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?c:N(Math.abs(P),p),j&&(P=IL(P)),K&&+P==0&&v!=="+"&&(K=!1),M=(K?v==="("?v:o:v==="-"||v==="("?"":v)+M,F=(S==="s"?wb[8+Zk/3]:"")+F+(K&&v==="("?")":""),E){for(Y=-1,ie=P.length;++Y<ie;)if(H=P.charCodeAt(Y),48>H||H>57){F=(H===46?i+P.slice(Y+1):P.slice(Y))+F,P=P.slice(0,Y);break}}}g&&!w&&(P=t(P,1/0));var U=M.length+P.length+F.length,O=U<y?new Array(y-U+1).join(h):"";switch(g&&w&&(P=t(O+P,O.length?y-F.length:1/0),O=""),m){case"<":P=M+P+F+O;break;case"=":P=M+O+P+F;break;case"^":P=O.slice(0,U=O.length>>1)+M+P+F+O.slice(U);break;default:P=O+M+P+F;break}return a(P)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=Yo(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(ss(h)/3)))*3,b=Math.pow(10,-v),w=wb[8+v/3];return function(y){return m(b*y)+w}}return{format:u,formatPrefix:d}}var cc,b0,eS;LL({thousands:",",grouping:[3],currency:["$",""]});function LL(e){return cc=RL(e),b0=cc.format,eS=cc.formatPrefix,cc}function $L(e){return Math.max(0,-ss(Math.abs(e)))}function zL(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ss(t)/3)))*3-ss(Math.abs(e)))}function UL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ss(t)-ss(e))+1}function tS(e,t,r,n){var i=tp(e,t,r),a;switch(n=Yo(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=zL(i,s))&&(n.precision=a),eS(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=UL(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=$L(i))&&(n.precision=a-(n.type==="%")*2);break}}return b0(n)}function pi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Zm(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return tS(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=ep(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function rS(){var e=y0();return e.copy=function(){return yl(e,rS())},xr.apply(e,arguments),pi(e)}function nS(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Eu),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nS(e).unknown(t)},e=arguments.length?Array.from(e,Eu):[0,1],pi(r)}function iS(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function jb(e){return Math.log(e)}function _b(e){return Math.exp(e)}function BL(e){return-Math.log(-e)}function FL(e){return-Math.exp(-e)}function WL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qL(e){return e===10?WL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function kb(e){return(t,r)=>-e(-t,r)}function w0(e){const t=e(jb,_b),r=t.domain;let n=10,i,a;function s(){return i=HL(n),a=qL(n),r()[0]<0?(i=kb(i),a=kb(a),e(BL,FL)):e(jb,_b),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),v,b;const w=o==null?10:+o;let y=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>d)break;y.push(b)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>d)break;y.push(b)}y.length*2<w&&(y=Zm(u,d,w))}else y=Zm(h,m,Math.min(m-h,w)).map(a);return f?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Yo(c)).precision==null&&(c.trim=!0),c=b0(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(iS(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function aS(){const e=w0(Id()).domain([1,10]);return e.copy=()=>yl(e,aS()).base(e.base()),xr.apply(e,arguments),e}function Sb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Nb(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j0(e){var t=1,r=e(Sb(t),Nb(t));return r.constant=function(n){return arguments.length?e(Sb(t=+n),Nb(t)):t},pi(r)}function sS(){var e=j0(Id());return e.copy=function(){return yl(e,sS()).constant(e.constant())},xr.apply(e,arguments)}function Eb(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function KL(e){return e<0?-e*e:e*e}function _0(e){var t=e(jt,jt),r=1;function n(){return r===1?e(jt,jt):r===.5?e(VL,KL):e(Eb(r),Eb(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},pi(t)}function k0(){var e=_0(Id());return e.copy=function(){return yl(e,k0()).exponent(e.exponent())},xr.apply(e,arguments),e}function GL(){return k0.apply(null,arguments).exponent(.5)}function Cb(e){return Math.sign(e)*e*e}function YL(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oS(){var e=y0(),t=[0,1],r=!1,n;function i(a){var s=YL(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(Cb(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Eu)).map(Cb)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return oS(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xr.apply(i,arguments),pi(i)}function lS(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=ZR(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[gl(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ni),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return lS().domain(e).range(t).unknown(n)},xr.apply(a,arguments)}function cS(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[gl(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return cS().domain([e,t]).range(i).unknown(a)},xr.apply(pi(s),arguments)}function uS(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[gl(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uS().domain(e).range(t).unknown(r)},xr.apply(i,arguments)}const th=new Date,rh=new Date;function He(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>He(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(th.setTime(+a),rh.setTime(+s),e(th),e(rh),Math.floor(r(th,rh))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Pu=He(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Pu.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?He(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Pu);Pu.range;const un=1e3,cr=un*60,dn=cr*60,_n=dn*24,S0=_n*7,Pb=_n*30,nh=_n*365,Di=He(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCSeconds());Di.range;const N0=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getMinutes());N0.range;const E0=He(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCMinutes());E0.range;const C0=He(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un-e.getMinutes()*cr)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getHours());C0.range;const P0=He(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCHours());P0.range;const xl=He(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cr)/_n,e=>e.getDate()-1);xl.range;const Dd=He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_n,e=>e.getUTCDate()-1);Dd.range;const dS=He(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_n,e=>Math.floor(e/_n));dS.range;function aa(e){return He(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cr)/S0)}const Rd=aa(0),Ou=aa(1),QL=aa(2),JL=aa(3),os=aa(4),XL=aa(5),ZL=aa(6);Rd.range;Ou.range;QL.range;JL.range;os.range;XL.range;ZL.range;function sa(e){return He(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/S0)}const Ld=sa(0),Au=sa(1),e$=sa(2),t$=sa(3),ls=sa(4),r$=sa(5),n$=sa(6);Ld.range;Au.range;e$.range;t$.range;ls.range;r$.range;n$.range;const O0=He(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());O0.range;const A0=He(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());A0.range;const kn=He(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kn.range;const Sn=He(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:He(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sn.range;function fS(e,t,r,n,i,a){const s=[[Di,1,un],[Di,5,5*un],[Di,15,15*un],[Di,30,30*un],[a,1,cr],[a,5,5*cr],[a,15,15*cr],[a,30,30*cr],[i,1,dn],[i,3,3*dn],[i,6,6*dn],[i,12,12*dn],[n,1,_n],[n,2,2*_n],[r,1,S0],[t,1,Pb],[t,3,3*Pb],[e,1,nh]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=f0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(tp(u/nh,d/nh,f));if(m===0)return Pu.every(Math.max(tp(u,d,f),1));const[v,b]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return v.every(b)}return[o,c]}const[i$,a$]=fS(Sn,A0,Ld,dS,P0,E0),[s$,o$]=fS(kn,O0,Rd,xl,C0,N0);function ih(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ah(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function l$(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Ws(i),d=qs(i),f=Ws(a),h=qs(a),m=Ws(s),v=qs(s),b=Ws(o),w=qs(o),y=Ws(c),g=qs(c),p={a:K,A:U,b:O,B:D,c:null,d:Db,e:Db,f:A$,g:B$,G:W$,H:C$,I:P$,j:O$,L:hS,m:T$,M:M$,p:W,q:L,Q:$b,s:zb,S:I$,u:D$,U:R$,V:L$,w:$$,W:z$,x:null,X:null,y:U$,Y:F$,Z:q$,"%":Lb},j={a:le,A,b:V,B:ee,c:null,d:Rb,e:Rb,f:G$,g:i8,G:s8,H:H$,I:V$,j:K$,L:pS,m:Y$,M:Q$,p:B,q:Q,Q:$b,s:zb,S:J$,u:X$,U:Z$,V:e8,w:t8,W:r8,x:null,X:null,y:n8,Y:a8,Z:o8,"%":Lb},S={a:C,A:P,b:M,B:F,c:Y,d:Mb,e:Mb,f:k$,g:Tb,G:Ab,H:Ib,I:Ib,j:b$,L:_$,m:x$,M:w$,p:E,q:y$,Q:N$,s:E$,S:j$,u:h$,U:m$,V:p$,w:f$,W:g$,x:ie,X:H,y:Tb,Y:Ab,Z:v$,"%":S$};p.x=k(r,p),p.X=k(n,p),p.c=k(t,p),j.x=k(r,j),j.X=k(n,j),j.c=k(t,j);function k(R,re){return function(se){var $=[],tt=-1,he=0,ft=R.length,I,G,J;for(se instanceof Date||(se=new Date(+se));++tt<ft;)R.charCodeAt(tt)===37&&($.push(R.slice(he,tt)),(G=Ob[I=R.charAt(++tt)])!=null?I=R.charAt(++tt):G=I==="e"?" ":"0",(J=re[I])&&(I=J(se,G)),$.push(I),he=tt+1);return $.push(R.slice(he,tt)),$.join("")}}function _(R,re){return function(se){var $=Fs(1900,void 0,1),tt=N($,R,se+="",0),he,ft;if(tt!=se.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(re&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(he=ah(Fs($.y,0,1)),ft=he.getUTCDay(),he=ft>4||ft===0?Au.ceil(he):Au(he),he=Dd.offset(he,($.V-1)*7),$.y=he.getUTCFullYear(),$.m=he.getUTCMonth(),$.d=he.getUTCDate()+($.w+6)%7):(he=ih(Fs($.y,0,1)),ft=he.getDay(),he=ft>4||ft===0?Ou.ceil(he):Ou(he),he=xl.offset(he,($.V-1)*7),$.y=he.getFullYear(),$.m=he.getMonth(),$.d=he.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ft="Z"in $?ah(Fs($.y,0,1)).getUTCDay():ih(Fs($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(ft+5)%7:$.w+$.U*7-(ft+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,ah($)):ih($)}}function N(R,re,se,$){for(var tt=0,he=re.length,ft=se.length,I,G;tt<he;){if($>=ft)return-1;if(I=re.charCodeAt(tt++),I===37){if(I=re.charAt(tt++),G=S[I in Ob?re.charAt(tt++):I],!G||($=G(R,se,$))<0)return-1}else if(I!=se.charCodeAt($++))return-1}return $}function E(R,re,se){var $=u.exec(re.slice(se));return $?(R.p=d.get($[0].toLowerCase()),se+$[0].length):-1}function C(R,re,se){var $=m.exec(re.slice(se));return $?(R.w=v.get($[0].toLowerCase()),se+$[0].length):-1}function P(R,re,se){var $=f.exec(re.slice(se));return $?(R.w=h.get($[0].toLowerCase()),se+$[0].length):-1}function M(R,re,se){var $=y.exec(re.slice(se));return $?(R.m=g.get($[0].toLowerCase()),se+$[0].length):-1}function F(R,re,se){var $=b.exec(re.slice(se));return $?(R.m=w.get($[0].toLowerCase()),se+$[0].length):-1}function Y(R,re,se){return N(R,t,re,se)}function ie(R,re,se){return N(R,r,re,se)}function H(R,re,se){return N(R,n,re,se)}function K(R){return s[R.getDay()]}function U(R){return a[R.getDay()]}function O(R){return c[R.getMonth()]}function D(R){return o[R.getMonth()]}function W(R){return i[+(R.getHours()>=12)]}function L(R){return 1+~~(R.getMonth()/3)}function le(R){return s[R.getUTCDay()]}function A(R){return a[R.getUTCDay()]}function V(R){return c[R.getUTCMonth()]}function ee(R){return o[R.getUTCMonth()]}function B(R){return i[+(R.getUTCHours()>=12)]}function Q(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var re=k(R+="",p);return re.toString=function(){return R},re},parse:function(R){var re=_(R+="",!1);return re.toString=function(){return R},re},utcFormat:function(R){var re=k(R+="",j);return re.toString=function(){return R},re},utcParse:function(R){var re=_(R+="",!0);return re.toString=function(){return R},re}}}var Ob={"-":"",_:" ",0:"0"},Ze=/^\s*\d+/,c$=/^%/,u$=/[\\^$*+?|[\]().{}]/g;function fe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function d$(e){return e.replace(u$,"\\$&")}function Ws(e){return new RegExp("^(?:"+e.map(d$).join("|")+")","i")}function qs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function f$(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function h$(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function m$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function p$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function g$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Ab(e,t,r){var n=Ze.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Tb(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function v$(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function y$(e,t,r){var n=Ze.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Mb(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function b$(e,t,r){var n=Ze.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ib(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function w$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function j$(e,t,r){var n=Ze.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function _$(e,t,r){var n=Ze.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function k$(e,t,r){var n=Ze.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function S$(e,t,r){var n=c$.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function N$(e,t,r){var n=Ze.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E$(e,t,r){var n=Ze.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Db(e,t){return fe(e.getDate(),t,2)}function C$(e,t){return fe(e.getHours(),t,2)}function P$(e,t){return fe(e.getHours()%12||12,t,2)}function O$(e,t){return fe(1+xl.count(kn(e),e),t,3)}function hS(e,t){return fe(e.getMilliseconds(),t,3)}function A$(e,t){return hS(e,t)+"000"}function T$(e,t){return fe(e.getMonth()+1,t,2)}function M$(e,t){return fe(e.getMinutes(),t,2)}function I$(e,t){return fe(e.getSeconds(),t,2)}function D$(e){var t=e.getDay();return t===0?7:t}function R$(e,t){return fe(Rd.count(kn(e)-1,e),t,2)}function mS(e){var t=e.getDay();return t>=4||t===0?os(e):os.ceil(e)}function L$(e,t){return e=mS(e),fe(os.count(kn(e),e)+(kn(e).getDay()===4),t,2)}function $$(e){return e.getDay()}function z$(e,t){return fe(Ou.count(kn(e)-1,e),t,2)}function U$(e,t){return fe(e.getFullYear()%100,t,2)}function B$(e,t){return e=mS(e),fe(e.getFullYear()%100,t,2)}function F$(e,t){return fe(e.getFullYear()%1e4,t,4)}function W$(e,t){var r=e.getDay();return e=r>=4||r===0?os(e):os.ceil(e),fe(e.getFullYear()%1e4,t,4)}function q$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function Rb(e,t){return fe(e.getUTCDate(),t,2)}function H$(e,t){return fe(e.getUTCHours(),t,2)}function V$(e,t){return fe(e.getUTCHours()%12||12,t,2)}function K$(e,t){return fe(1+Dd.count(Sn(e),e),t,3)}function pS(e,t){return fe(e.getUTCMilliseconds(),t,3)}function G$(e,t){return pS(e,t)+"000"}function Y$(e,t){return fe(e.getUTCMonth()+1,t,2)}function Q$(e,t){return fe(e.getUTCMinutes(),t,2)}function J$(e,t){return fe(e.getUTCSeconds(),t,2)}function X$(e){var t=e.getUTCDay();return t===0?7:t}function Z$(e,t){return fe(Ld.count(Sn(e)-1,e),t,2)}function gS(e){var t=e.getUTCDay();return t>=4||t===0?ls(e):ls.ceil(e)}function e8(e,t){return e=gS(e),fe(ls.count(Sn(e),e)+(Sn(e).getUTCDay()===4),t,2)}function t8(e){return e.getUTCDay()}function r8(e,t){return fe(Au.count(Sn(e)-1,e),t,2)}function n8(e,t){return fe(e.getUTCFullYear()%100,t,2)}function i8(e,t){return e=gS(e),fe(e.getUTCFullYear()%100,t,2)}function a8(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function s8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ls(e):ls.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function o8(){return"+0000"}function Lb(){return"%"}function $b(e){return+e}function zb(e){return Math.floor(+e/1e3)}var ma,vS,yS;l8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l8(e){return ma=l$(e),vS=ma.format,ma.parse,yS=ma.utcFormat,ma.utcParse,ma}function c8(e){return new Date(e)}function u8(e){return e instanceof Date?+e:+new Date(+e)}function T0(e,t,r,n,i,a,s,o,c,u){var d=y0(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),g=u("%b %d"),p=u("%B"),j=u("%Y");function S(k){return(c(k)<k?m:o(k)<k?v:s(k)<k?b:a(k)<k?w:n(k)<k?i(k)<k?y:g:r(k)<k?p:j)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,u8)):h().map(c8)},d.ticks=function(k){var _=h();return e(_[0],_[_.length-1],k??10)},d.tickFormat=function(k,_){return _==null?S:u(_)},d.nice=function(k){var _=h();return(!k||typeof k.range!="function")&&(k=t(_[0],_[_.length-1],k??10)),k?h(iS(_,k)):d},d.copy=function(){return yl(d,T0(e,t,r,n,i,a,s,o,c,u))},d}function d8(){return xr.apply(T0(s$,o$,kn,O0,Rd,xl,C0,N0,Di,vS).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f8(){return xr.apply(T0(i$,a$,Sn,A0,Ld,Dd,P0,E0,Di,yS).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $d(){var e=0,t=1,r,n,i,a,s=jt,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,s=f(m,v),u):[s(0),s(1)]}}return u.range=d(bs),u.rangeRound=d(v0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function gi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xS(){var e=pi($d()(jt));return e.copy=function(){return gi(e,xS())},On.apply(e,arguments)}function bS(){var e=w0($d()).domain([1,10]);return e.copy=function(){return gi(e,bS()).base(e.base())},On.apply(e,arguments)}function wS(){var e=j0($d());return e.copy=function(){return gi(e,wS()).constant(e.constant())},On.apply(e,arguments)}function M0(){var e=_0($d());return e.copy=function(){return gi(e,M0()).exponent(e.exponent())},On.apply(e,arguments)}function h8(){return M0.apply(null,arguments).exponent(.5)}function jS(){var e=[],t=jt;function r(n){if(n!=null&&!isNaN(n=+n))return t((gl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ni),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>XR(e,a/n))},r.copy=function(){return jS(t).domain(e)},On.apply(r,arguments)}function zd(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=jt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-a)*(n*b<n*a?o:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function v(b){return function(w){var y,g,p;return arguments.length?([y,g,p]=w,u=SL(b,[y,g,p]),m):[u(0),u(.5),u(1)]}}return m.range=v(bs),m.rangeRound=v(v0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),a=b(t),s=b(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function _S(){var e=pi(zd()(jt));return e.copy=function(){return gi(e,_S())},On.apply(e,arguments)}function kS(){var e=w0(zd()).domain([.1,1,10]);return e.copy=function(){return gi(e,kS()).base(e.base())},On.apply(e,arguments)}function SS(){var e=j0(zd());return e.copy=function(){return gi(e,SS()).constant(e.constant())},On.apply(e,arguments)}function I0(){var e=_0(zd());return e.copy=function(){return gi(e,I0()).exponent(e.exponent())},On.apply(e,arguments)}function m8(){return I0.apply(null,arguments).exponent(.5)}const Xs=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:m0,scaleDiverging:_S,scaleDivergingLog:kS,scaleDivergingPow:I0,scaleDivergingSqrt:m8,scaleDivergingSymlog:SS,scaleIdentity:nS,scaleImplicit:rp,scaleLinear:rS,scaleLog:aS,scaleOrdinal:h0,scalePoint:tL,scalePow:k0,scaleQuantile:lS,scaleQuantize:cS,scaleRadial:oS,scaleSequential:xS,scaleSequentialLog:bS,scaleSequentialPow:M0,scaleSequentialQuantile:jS,scaleSequentialSqrt:h8,scaleSequentialSymlog:wS,scaleSqrt:GL,scaleSymlog:sS,scaleThreshold:uS,scaleTime:d8,scaleUtc:f8,tickFormat:tS},Symbol.toStringTag,{value:"Module"}));var vi=e=>e.chartData,p8=T([vi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),D0=(e,t,r,n)=>n?p8(e):vi(e);function cs(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Dr(t)&&Dr(r))return!0}return!1}function Ub(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function g8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(Dr(r))i=r;else if(typeof r=="function")return;if(Dr(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(cs(s))return s}}function v8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(cs(n))return Ub(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ae(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Ix.test(i)){var c=Ix.exec(i);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(ae(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Dx.test(a)){var d=Dx.exec(a);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(cs(h))return t==null?h:Ub(h,t,r)}}}var ws=1e9,y8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},L0,Ee=!0,gr="[DecimalError] ",Fi=gr+"Invalid argument: ",R0=gr+"Exponent out of range: ",js=Math.floor,Ci=Math.pow,x8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ft,Ke=1e7,_e=7,NS=9007199254740991,Tu=js(NS/_e),Z={};Z.absoluteValue=Z.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Z.comparedTo=Z.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Z.decimalPlaces=Z.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_e;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Z.dividedBy=Z.div=function(e){return pn(this,new this.constructor(e))};Z.dividedToIntegerBy=Z.idiv=function(e){var t=this,r=t.constructor;return ve(pn(t,new r(e),0,1),r.precision)};Z.equals=Z.eq=function(e){return!this.cmp(e)};Z.exponent=function(){return Le(this)};Z.greaterThan=Z.gt=function(e){return this.cmp(e)>0};Z.greaterThanOrEqualTo=Z.gte=function(e){return this.cmp(e)>=0};Z.isInteger=Z.isint=function(){return this.e>this.d.length-2};Z.isNegative=Z.isneg=function(){return this.s<0};Z.isPositive=Z.ispos=function(){return this.s>0};Z.isZero=function(){return this.s===0};Z.lessThan=Z.lt=function(e){return this.cmp(e)<0};Z.lessThanOrEqualTo=Z.lte=function(e){return this.cmp(e)<1};Z.logarithm=Z.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ft))throw Error(gr+"NaN");if(r.s<1)throw Error(gr+(r.s?"NaN":"-Infinity"));return r.eq(Ft)?new n(0):(Ee=!1,t=pn(Qo(r,a),Qo(e,a),a),Ee=!0,ve(t,i))};Z.minus=Z.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PS(t,e):ES(t,(e.s=-e.s,e))};Z.modulo=Z.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(gr+"NaN");return r.s?(Ee=!1,t=pn(r,e,0,1).times(e),Ee=!0,r.minus(t)):ve(new n(r),i)};Z.naturalExponential=Z.exp=function(){return CS(this)};Z.naturalLogarithm=Z.ln=function(){return Qo(this)};Z.negated=Z.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Z.plus=Z.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ES(t,e):PS(t,(e.s=-e.s,e))};Z.precision=Z.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fi+e);if(t=Le(i)+1,n=i.d.length-1,r=n*_e+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Z.squareRoot=Z.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(gr+"NaN")}for(e=Le(o),Ee=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Wr(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=js((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(pn(o,a,s+2)).times(.5),Wr(a.d).slice(0,s)===(t=Wr(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(ve(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Ee=!0,ve(n,r)};Z.times=Z.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+m[n]*h[i-n-1]+t,a[i--]=o%Ke|0,t=o/Ke|0;a[i]=(a[i]+t)%Ke|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Ee?ve(e,f.precision):e};Z.toDecimalPlaces=Z.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Yr(e,0,ws),t===void 0?t=n.rounding:Yr(t,0,8),ve(r,e+Le(r)+1,t))};Z.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Qi(n,!0):(Yr(e,0,ws),t===void 0?t=i.rounding:Yr(t,0,8),n=ve(new i(n),e+1,t),r=Qi(n,!0,e+1)),r};Z.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Qi(i):(Yr(e,0,ws),t===void 0?t=a.rounding:Yr(t,0,8),n=ve(new a(i),e+Le(i)+1,t),r=Qi(n.abs(),!1,e+Le(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Z.toInteger=Z.toint=function(){var e=this,t=e.constructor;return ve(new t(e),Le(e)+1,t.rounding)};Z.toNumber=function(){return+this};Z.toPower=Z.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Ft);if(o=new c(o),!o.s){if(e.s<1)throw Error(gr+"Infinity");return o}if(o.eq(Ft))return o;if(n=c.precision,e.eq(Ft))return ve(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=NS){for(i=new c(Ft),t=Math.ceil(n/_e+4),Ee=!1;r%2&&(i=i.times(o),Fb(i.d,t)),r=js(r/2),r!==0;)o=o.times(o),Fb(o.d,t);return Ee=!0,e.s<0?new c(Ft).div(i):ve(i,n)}}else if(a<0)throw Error(gr+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ee=!1,i=e.times(Qo(o,n+u)),Ee=!0,i=CS(i),i.s=a,i};Z.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Le(i),n=Qi(i,r<=a.toExpNeg||r>=a.toExpPos)):(Yr(e,1,ws),t===void 0?t=a.rounding:Yr(t,0,8),i=ve(new a(i),e,t),r=Le(i),n=Qi(i,e<=r||r<=a.toExpNeg,e)),n};Z.toSignificantDigits=Z.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Yr(e,1,ws),t===void 0?t=n.rounding:Yr(t,0,8)),ve(new n(r),e,t)};Z.toString=Z.valueOf=Z.val=Z.toJSON=Z[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Le(e),r=e.constructor;return Qi(e,t<=r.toExpNeg||t>=r.toExpPos)};function ES(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ee?ve(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/_e),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ke|0,c[a]%=Ke;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Ee?ve(t,f):t}function Yr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fi+e)}function Wr(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=_e-n.length,r&&(a+=zn(r)),a+=n;s=e[t],n=s+"",r=_e-n.length,r&&(a+=zn(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var pn=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ke|0,s=a/Ke|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ke+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,m,v,b,w,y,g,p,j,S,k,_,N,E=n.constructor,C=n.s==i.s?1:-1,P=n.d,M=i.d;if(!n.s)return new E(n);if(!i.s)throw Error(gr+"Division by zero");for(c=n.e-i.e,_=M.length,S=P.length,m=new E(C),v=m.d=[],u=0;M[u]==(P[u]||0);)++u;if(M[u]>(P[u]||0)&&--c,a==null?g=a=E.precision:s?g=a+(Le(n)-Le(i))+1:g=a,g<0)return new E(0);if(g=g/_e+2|0,u=0,_==1)for(d=0,M=M[0],g++;(u<S||d)&&g--;u++)p=d*Ke+(P[u]||0),v[u]=p/M|0,d=p%M|0;else{for(d=Ke/(M[0]+1)|0,d>1&&(M=e(M,d),P=e(P,d),_=M.length,S=P.length),j=_,b=P.slice(0,_),w=b.length;w<_;)b[w++]=0;N=M.slice(),N.unshift(0),k=M[0],M[1]>=Ke/2&&++k;do d=0,o=t(M,b,_,w),o<0?(y=b[0],_!=w&&(y=y*Ke+(b[1]||0)),d=y/k|0,d>1?(d>=Ke&&(d=Ke-1),f=e(M,d),h=f.length,w=b.length,o=t(f,b,h,w),o==1&&(d--,r(f,_<h?N:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),o==-1&&(w=b.length,o=t(M,b,_,w),o<1&&(d++,r(b,_<w?N:M,w))),w=b.length):o===0&&(d++,b=[0]),v[u++]=d,o&&b[0]?b[w++]=P[j]||0:(b=[P[j]],w=1);while((j++<S||b[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=c,ve(m,s?a+Le(m)+1:a)}}();function CS(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Le(e)>16)throw Error(R0+Le(e));if(!e.s)return new d(Ft);for(t==null?(Ee=!1,o=f):o=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ci(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(Ft),d.precision=o;;){if(i=ve(i.times(e),o),r=r.times(++c),s=a.plus(pn(i,r,o)),Wr(s.d).slice(0,o)===Wr(a.d).slice(0,o)){for(;u--;)a=ve(a.times(a),o);return d.precision=f,t==null?(Ee=!0,ve(a,f)):a}a=s}}function Le(e){for(var t=e.e*_e,r=e.d[0];r>=10;r/=10)t++;return t}function sh(e,t,r){if(t>e.LN10.sd())throw Ee=!0,r&&(e.precision=r),Error(gr+"LN10 precision limit exceeded");return ve(new e(e.LN10),t)}function zn(e){for(var t="";e--;)t+="0";return t}function Qo(e,t){var r,n,i,a,s,o,c,u,d,f=1,h=10,m=e,v=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(gr+(m.s?"NaN":"-Infinity"));if(m.eq(Ft))return new b(0);if(t==null?(Ee=!1,u=w):u=t,m.eq(10))return t==null&&(Ee=!0),sh(b,u);if(u+=h,b.precision=u,r=Wr(v),n=r.charAt(0),a=Le(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Wr(m.d),n=r.charAt(0),f++;a=Le(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return c=sh(b,u+2,w).times(a+""),m=Qo(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Ee=!0,ve(m,w)):m;for(o=s=m=pn(m.minus(Ft),m.plus(Ft),u),d=ve(m.times(m),u),i=3;;){if(s=ve(s.times(d),u),c=o.plus(pn(s,new b(i),u)),Wr(c.d).slice(0,u)===Wr(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(sh(b,u+2,w).times(a+""))),o=pn(o,new b(f),u),b.precision=w,t==null?(Ee=!0,ve(o,w)):o;o=c,i+=2}}function Bb(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=js(r/_e),e.d=[],n=(r+1)%_e,r<0&&(n+=_e),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_e;n<i;)e.d.push(+t.slice(n,n+=_e));t=t.slice(n),n=_e-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ee&&(e.e>Tu||e.e<-Tu))throw Error(R0+r)}else e.s=0,e.e=0,e.d=[0];return e}function ve(e,t,r){var n,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=_e,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_e),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=_e,i=n-_e+s}if(r!==void 0&&(a=Ci(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Ci(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Le(e),f.length=1,t=t-a-1,f[0]=Ci(10,(_e-t%_e)%_e),e.e=js(-t/_e)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ci(10,_e-n),f[d]=i>0?(u/Ci(10,s-i)%Ci(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Ke&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Ke)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Ee&&(e.e>Tu||e.e<-Tu))throw Error(R0+Le(e));return e}function PS(e,t){var r,n,i,a,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ee?ve(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(m/_e),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Ke-1;--c[a],c[i]+=Ke}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ee?ve(t,m):t):new h(0)}function Qi(e,t,r){var n,i=Le(e),a=Wr(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+zn(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+zn(-i-1)+a,r&&(n=r-s)>0&&(a+=zn(n))):i>=s?(a+=zn(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+zn(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=zn(n))),e.s<0?"-"+a:a}function Fb(e,t){if(e.length>t)return e.length=t,!0}function OS(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Fi+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return Bb(s,a.toString())}else if(typeof a!="string")throw Error(Fi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,x8.test(a))Bb(s,a);else throw Error(Fi+a)}if(i.prototype=Z,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=OS,i.config=i.set=b8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function b8(e){if(!e||typeof e!="object")throw Error(gr+"Object expected");var t,r,n,i=["precision",1,ws,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(js(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Fi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fi+r+": "+n);return this}var L0=OS(y8);Ft=new L0(1);const me=L0;var w8=e=>e,AS={"@@functional/placeholder":!0},TS=e=>e===AS,Wb=e=>function t(){return arguments.length===0||arguments.length===1&&TS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},MS=(e,t)=>e===1?t:Wb(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==AS).length;return a>=e?t(...n):MS(e-a,Wb(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(d=>TS(d)?o.shift():d);return t(...u,...o)}))}),Ud=e=>MS(e.length,e),sp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},j8=Ud((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),_8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return w8;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}},op=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),IS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=i,r=e(...i)),r}};function DS(e){var t;return e===0?t=1:t=Math.floor(new me(e).abs().log(10).toNumber())+1,t}function RS(e,t,r){for(var n=new me(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}Ud((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Ud((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ud((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var LS=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},$S=(e,t,r)=>{if(e.lte(0))return new me(0);var n=DS(e.toNumber()),i=new me(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new me(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?new me(c.toNumber()):new me(Math.ceil(c.toNumber()))},k8=(e,t,r)=>{var n=new me(1),i=new me(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new me(10).pow(DS(e)-1),i=new me(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new me(Math.floor(e)))}else e===0?i=new me(Math.floor((t-1)/2)):r||(i=new me(Math.floor(e)));var s=Math.floor((t-1)/2),o=_8(j8(c=>i.add(new me(c-s).mul(n)).toNumber()),sp);return o(0,t)},zS=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new me(0),tickMin:new me(0),tickMax:new me(0)};var s=$S(new me(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new me(0):(o=new me(t).add(r).div(2),o=o.sub(new me(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new me(r).sub(o).div(s).toNumber()),d=c+u+1;return d>n?zS(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:o.sub(new me(c).mul(s)),tickMax:o.add(new me(u).mul(s))})};function S8(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=LS([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...sp(0,n-1).map(()=>1/0)]:[...sp(0,n-1).map(()=>-1/0),o];return t>r?op(c):c}if(s===o)return k8(s,n,i);var{step:u,tickMin:d,tickMax:f}=zS(s,o,a,i,0),h=RS(d,f.add(new me(.1).mul(u)),u);return t>r?op(h):h}function N8(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=LS([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),c=$S(new me(s).sub(a).div(o-1),i,0),u=[...RS(new me(a),new me(s),c),s];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?op(u):u}var E8=IS(S8),C8=IS(N8),P8=e=>e.rootProps.barCategoryGap,Bd=e=>e.rootProps.stackOffset,$0=e=>e.options.chartName,z0=e=>e.rootProps.syncId,US=e=>e.rootProps.syncMethod,U0=e=>e.options.eventEmitter,sn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Ut={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Fd=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},O8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:sn.angleAxisId,includeHidden:!1,name:void 0,reversed:sn.reversed,scale:sn.scale,tick:sn.tick,tickCount:void 0,ticks:void 0,type:sn.type,unit:void 0},A8={allowDataOverflow:Ut.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ut.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ut.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ut.scale,tick:Ut.tick,tickCount:Ut.tickCount,ticks:void 0,type:Ut.type,unit:void 0},T8={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:sn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sn.scale,tick:sn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},M8={allowDataOverflow:Ut.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ut.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ut.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ut.scale,tick:Ut.tick,tickCount:Ut.tickCount,ticks:void 0,type:"category",unit:void 0},B0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?T8:O8,F0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?M8:A8,Wd=e=>e.polarOptions,W0=T([Cn,Pn,dt],AI),BS=T([Wd,W0],(e,t)=>{if(e!=null)return si(e.innerRadius,t,0)}),FS=T([Wd,W0],(e,t)=>{if(e!=null)return si(e.outerRadius,t,t*.8)}),I8=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},WS=T([Wd],I8);T([B0,WS],Fd);var qS=T([W0,BS,FS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});T([F0,qS],Fd);var HS=T([Se,Wd,BS,FS,Cn,Pn],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:si(s,i,i/2),cy:si(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),$e=(e,t)=>t,qd=(e,t,r)=>r;function VS(e){return e==null?void 0:e.id}var Ve=e=>{var t=Se(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_s=e=>e.tooltip.settings.axisId,et=e=>{var t=Ve(e),r=_s(e);return bl(e,t,r)},KS=T([et],e=>e==null?void 0:e.dataKey);function GS(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=VS(o);u.forEach((f,h)=>{var m=a==null||i?h:String(kt(f,a,null)),v=kt(f,o.dataKey,0),b;s.has(m)?b=s.get(m):b={},Object.assign(b,{[d]:v}),s.set(m,b)})}}),Array.from(s.values())}function q0(e){return e.stackId!=null&&e.dataKey!=null}function qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qb(Object(r),!0).forEach(function(n){D8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D8(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=L8(e,"string");return typeof t=="symbol"?t:t+""}function L8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lp=[0,"auto"],Lt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YS=(e,t)=>e.cartesianAxis.xAxis[t],An=(e,t)=>{var r=YS(e,t);return r??Lt},$t={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:pl},QS=(e,t)=>e.cartesianAxis.yAxis[t],Tn=(e,t)=>{var r=QS(e,t);return r??$t},$8={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},H0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??$8},Rt=(e,t,r)=>{switch(t){case"xAxis":return An(e,r);case"yAxis":return Tn(e,r);case"zAxis":return H0(e,r);case"angleAxis":return B0(e,r);case"radiusAxis":return F0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},z8=(e,t,r)=>{switch(t){case"xAxis":return An(e,r);case"yAxis":return Tn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bl=(e,t,r)=>{switch(t){case"xAxis":return An(e,r);case"yAxis":return Tn(e,r);case"angleAxis":return B0(e,r);case"radiusAxis":return F0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},JS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function XS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ZS=e=>e.graphicalItems.cartesianItems,U8=T([$e,qd],XS),eN=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wl=T([ZS,Rt,U8],eN),tN=T([wl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(q0)),rN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nN=T([wl],rN),iN=e=>e.map(t=>t.data).filter(Boolean).flat(1),B8=T([wl],iN),aN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},V0=T([B8,D0],aN),sN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:kt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:kt(i,n)}))):e.map(n=>({value:n})),Hd=T([V0,Rt,wl],sN);function oN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function oa(e){return e.filter(t=>Gr(t)||t instanceof Date).map(Number).filter(t=>mr(t)===!1)}function F8(e,t,r){return!r||typeof t!="number"||mr(t)?[]:r.length?oa(r.flatMap(n=>{var i=kt(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Dr(a)||!Dr(s)))return[t-a,t+s]})):[]}var W8=T([tN,D0,et],GS),lN=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,c=o.map(VS);return[s,{stackedData:VI(e,c,r),graphicalItems:o}]}))},q8=T([W8,tN,Bd],lN),cN=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=YI(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},H8=T([q8,vi,$e],cN),uN=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var o,c,u=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>oN(i,f)),d=kt(a,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:F8(a,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:kt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Vd=e=>e.errorBars,dN=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>oN(r,n));T([nN,Vd,$e],dN);var V8=T([V0,Rt,nN,Vd,$e],uN);function K8(e){var{value:t}=e;if(Gr(t)||t instanceof Date)return t}var Hb=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=oa(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},G8=(e,t,r)=>{var n=e.map(K8).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&r_(n))?Hk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},K0=e=>{var t;if(e==null||!("domain"in e))return lp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=oa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:lp},Iu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},fN=e=>e.referenceElements.dots,ks=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Y8=T([fN,$e,qd],ks),hN=e=>e.referenceElements.areas,Q8=T([hN,$e,qd],ks),mN=e=>e.referenceElements.lines,J8=T([mN,$e,qd],ks),pN=(e,t)=>{var r=oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},X8=T(Y8,$e,pN),gN=(e,t)=>{var r=oa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Z8=T([Q8,$e],gN),vN=(e,t)=>{var r=oa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ez=T(J8,$e,vN),tz=T(X8,ez,Z8,(e,t,r)=>Iu(e,r,t)),rz=T([Rt],K0),yN=(e,t,r,n,i,a,s)=>{var o=g8(t,e.allowDataOverflow);if(o!=null)return o;var c=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",u=c?Iu(r,i,Hb(n)):Iu(i,Hb(n));return v8(t,u,e.allowDataOverflow)},nz=T([Rt,rz,H8,V8,tz,Se,$e],yN),iz=[0,1],xN=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=mi(t,a);return u&&o==null?Hk(0,r.length):c==="category"?G8(n,e,u):i==="expand"?iz:s}},G0=T([Rt,Se,V0,Hd,Bd,$e,nz],xN),bN=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(fl(a));return o in Xs?o:"point"}}},jl=T([Rt,Se,JS,$0,$e],bN);function az(e){if(e!=null){if(e in Xs)return Xs[e]();var t="scale".concat(fl(e));if(t in Xs)return Xs[t]()}}function Y0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=az(t);if(i!=null){var a=i.domain(r).range(n);return FI(a),a}}}var wN=(e,t,r)=>{var n=K0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&cs(e))return E8(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&cs(e))return C8(e,t.tickCount,t.allowDecimals)}},Q0=T([G0,bl,jl],wN),jN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&cs(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},sz=T([Rt,G0,Q0,$e],jN),oz=T(Hd,Rt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(oa(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),_N=T(oz,Se,P8,dt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Dr(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=si(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),lz=(e,t)=>{var r=An(e,t);return r==null||typeof r.padding!="string"?0:_N(e,"xAxis",t,r.padding)},cz=(e,t)=>{var r=Tn(e,t);return r==null||typeof r.padding!="string"?0:_N(e,"yAxis",t,r.padding)},uz=T(An,lz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),dz=T(Tn,cz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),fz=T([dt,uz,Td,Ad,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),hz=T([dt,Se,dz,Td,Ad,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_l=(e,t,r,n)=>{var i;switch(t){case"xAxis":return fz(e,r,n);case"yAxis":return hz(e,r,n);case"zAxis":return(i=H0(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return WS(e);case"radiusAxis":return qS(e,r);default:return}},kN=T([Rt,_l],Fd),Ss=T([Rt,jl,sz,kN],Y0);T([wl,Vd,$e],dN);function SN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kd=(e,t)=>t,Gd=(e,t,r)=>r,mz=T(Pd,Kd,Gd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SN)),pz=T(Od,Kd,Gd,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SN)),NN=(e,t)=>({width:e.width,height:t.height}),gz=(e,t)=>{var r=typeof t.width=="number"?t.width:pl;return{width:r,height:e.height}},vz=T(dt,An,NN),yz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},xz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},bz=T(Pn,dt,mz,Kd,Gd,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=NN(t,o);s==null&&(s=yz(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),wz=T(Cn,dt,pz,Kd,Gd,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=gz(t,o);s==null&&(s=xz(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),jz=(e,t)=>{var r=An(e,t);if(r!=null)return bz(e,r.orientation,r.mirror)},_z=T([dt,An,jz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),kz=(e,t)=>{var r=Tn(e,t);if(r!=null)return wz(e,r.orientation,r.mirror)},Sz=T([dt,Tn,kz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Nz=T(dt,Tn,(e,t)=>{var r=typeof t.width=="number"?t.width:pl;return{width:r,height:e.height}}),EN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=mi(e,n),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&r_(c))return c}},J0=T([Se,Hd,Rt,$e],EN),CN=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=mi(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},X0=T([Se,Hd,bl,$e],CN),Vb=T([Se,z8,jl,Ss,J0,X0,_l,Q0,$e],(e,t,r,n,i,a,s,o,c)=>{if(t==null)return null;var u=mi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),Ez=(e,t,r,n,i,a,s,o,c)=>{if(!(t==null||n==null)){var u=mi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&a!=null&&a.length>=2?lr(a[0]-a[1])*2*v:v;var b=f||i;if(b){var w=b.map((y,g)=>{var p=s?s.indexOf(y):y;return{index:g,coordinate:n(p)+v,value:y,offset:v}});return w.filter(y=>!mr(y.coordinate))}return u&&o?o.map((y,g)=>({coordinate:n(y)+v,value:y,index:g,offset:v})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,g)=>({coordinate:n(y)+v,value:s?s[y]:y,index:g,offset:v}))}},PN=T([Se,bl,jl,Ss,Q0,_l,J0,X0,$e],Ez),Cz=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=mi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?lr(n[0]-n[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},ON=T([Se,bl,Ss,_l,J0,X0,$e],Cz),AN=T(Rt,Ss,(e,t)=>{if(!(e==null||t==null))return Mu(Mu({},e),{},{scale:t})}),Pz=T([Rt,jl,G0,kN],Y0);T((e,t,r)=>H0(e,r),Pz,(e,t)=>{if(!(e==null||t==null))return Mu(Mu({},e),{},{scale:t})});var Oz=T([Se,Pd,Od],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TN=e=>e.options.defaultTooltipEventType,MN=e=>e.options.validateTooltipEventTypes;function IN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Z0(e,t){var r=TN(e),n=MN(e);return IN(t,r,n)}function Az(e){return ne(t=>Z0(t,e))}var DN=(e,t)=>{var r,n=Number(t);if(!(mr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Tz=e=>e.tooltip.settings,qn={active:!1,index:null,dataKey:void 0,coordinate:void 0},Mz={itemInteraction:{click:qn,hover:qn},axisInteraction:{click:qn,hover:qn},keyboardInteraction:qn,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RN=Xt({name:"tooltip",initialState:Mz,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=mn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Iz,removeTooltipEntrySettings:Dz,setTooltipSettingsState:Rz,setActiveMouseOverItemIndex:Lz,mouseLeaveItem:jq,mouseLeaveChart:LN,setActiveClickItemIndex:_q,setMouseOverAxisIndex:$N,setMouseClickAxisIndex:$z,setSyncInteraction:cp,setKeyboardInteraction:up}=RN.actions,zz=RN.reducer;function Kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kb(Object(r),!0).forEach(function(n){Uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uz(e,t,r){return(t=Bz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e){var t=Fz(e,"string");return typeof t=="symbol"?t:t+""}function Fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wz(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qz(e){return e.index!=null}var zN=(e,t,r,n)=>{if(t==null)return qn;var i=Wz(e,t,r);if(i==null)return qn;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(qz(i)){if(a)return uc(uc({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return uc(uc({},qn),{},{coordinate:i.coordinate})},ev=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Dr(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},UN=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},BN=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},kl=e=>e.options.tooltipPayloadSearcher,Ns=e=>e.tooltip;function Gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gb(Object(r),!0).forEach(function(n){Hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hz(e,t,r){return(t=Vz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=Kz(e,"string");return typeof t=="symbol"?t:t+""}function Kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gz(e,t){return e??t}var FN=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:b,settings:w}=m,y=Gz(b,o),g=Array.isArray(y)?Sk(y,u,d):y,p=(v=w==null?void 0:w.dataKey)!==null&&v!==void 0?v:n,j=w==null?void 0:w.nameKey,S;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&s==="axis"?S=n_(g,n,i):S=a(g,t,c,j),Array.isArray(S))S.forEach(_=>{var N=Yb(Yb({},w),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});h.push(Rx({tooltipEntrySettings:N,dataKey:_.dataKey,payload:_.payload,value:kt(_.payload,_.dataKey),name:_.name}))});else{var k;h.push(Rx({tooltipEntrySettings:w,dataKey:p,payload:S,value:kt(S,p),name:(k=kt(S,j))!==null&&k!==void 0?k:w==null?void 0:w.name}))}return h},f)}},tv=T([et,Se,JS,$0,Ve],bN),Yz=T([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Qz=T([Ve,_s],XS),Sl=T([Yz,et,Qz],eN),Jz=T([Sl],e=>e.filter(q0)),Xz=T([Sl],iN),Es=T([Xz,vi],aN),Zz=T([Jz,vi,et],GS),rv=T([Es,et,Sl],sN),eU=T([et],K0),tU=T([Sl],e=>e.filter(q0)),rU=T([Zz,tU,Bd],lN),nU=T([rU,vi,Ve],cN),iU=T([Sl],rN),aU=T([Es,et,iU,Vd,Ve],uN),sU=T([fN,Ve,_s],ks),oU=T([sU,Ve],pN),lU=T([hN,Ve,_s],ks),cU=T([lU,Ve],gN),uU=T([mN,Ve,_s],ks),dU=T([uU,Ve],vN),fU=T([oU,dU,cU],Iu),hU=T([et,eU,nU,aU,fU,Se,Ve],yN),WN=T([et,Se,Es,rv,Bd,Ve,hU],xN),mU=T([WN,et,tv],wN),pU=T([et,WN,mU,Ve],jN),qN=e=>{var t=Ve(e),r=_s(e),n=!1;return _l(e,t,r,n)},HN=T([et,qN],Fd),VN=T([et,tv,pU,HN],Y0),gU=T([Se,rv,et,Ve],EN),vU=T([Se,rv,et,Ve],CN),yU=(e,t,r,n,i,a,s,o)=>{if(t){var{type:c}=t,u=mi(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?lr(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},Mn=T([Se,et,tv,VN,qN,gU,vU,Ve],yU),nv=T([TN,MN,Tz],(e,t,r)=>IN(r.shared,e,t)),KN=e=>e.tooltip.settings.trigger,iv=e=>e.tooltip.settings.defaultIndex,Yd=T([Ns,nv,KN,iv],zN),Jo=T([Yd,Es],ev),GN=T([Mn,Jo],DN),xU=T([Yd],e=>{if(e)return e.dataKey}),YN=T([Ns,nv,KN,iv],BN),bU=T([Cn,Pn,Se,dt,Mn,iv,YN,kl],UN),wU=T([Yd,bU],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),jU=T([Yd],e=>e.active),_U=T([YN,Jo,vi,KS,GN,kl,nv],FN),kU=T([_U],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Qb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(r),!0).forEach(function(n){SU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SU(e,t,r){return(t=NU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NU(e){var t=EU(e,"string");return typeof t=="symbol"?t:t+""}function EU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CU=()=>ne(et),PU=()=>{var e=CU(),t=ne(Mn),r=ne(VN);return Hm(Jb(Jb({},e),{},{scale:r}),t)},OU=()=>ne($0),av=(e,t)=>t,QN=(e,t,r)=>r,sv=(e,t,r,n)=>n,AU=T(Mn,e=>_d(e,t=>t.coordinate)),ov=T([Ns,av,QN,sv],zN),JN=T([ov,Es],ev),TU=(e,t,r)=>{if(t!=null){var n=Ns(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},XN=T([Ns,av,QN,sv],BN),Du=T([Cn,Pn,Se,dt,Mn,sv,XN,kl],UN),MU=T([ov,Du],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ZN=T(Mn,JN,DN),IU=T([XN,JN,vi,KS,ZN,kl,av],FN),DU=T([ov],e=>({isActive:e.active,activeIndex:e.index})),RU=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a)){var c=QI(e.chartX,e.chartY,t,r,o);if(c){var u=XI(c,t),d=UI(u,s,a,n,i),f=JI(t,a,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function Xb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xb(Object(r),!0).forEach(function(n){LU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LU(e,t,r){return(t=$U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $U(e){var t=zU(e,"string");return typeof t=="symbol"?t:t+""}function zU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UU(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,v;if(u==="ScatterChart")m=d,v=rR;else if(u==="BarChart")m=nR(s,d,i,a),v=IR;else if(s==="radial"){var{cx:b,cy:w,radius:y,startAngle:g,endAngle:p}=Uk(d);m={cx:b,cy:w,startAngle:g,endAngle:p,innerRadius:y,outerRadius:y},v=$R}else m={points:zR(s,d,i)},v=Ik;var j=typeof o=="object"&&"className"in o?o.className:void 0,S=dc(dc(dc(dc({stroke:"#ccc",pointerEvents:"none"},i),m),Xe(o,!1)),{},{payload:f,payloadIndex:h,className:ye("recharts-tooltip-cursor",j)});return x.isValidElement(o)?x.cloneElement(o,S):x.createElement(v,S)}function BU(e){var t=PU(),r=Ak(),n=u0(),i=OU();return x.createElement(UU,dp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var eE=x.createContext(null),FU=()=>x.useContext(eE),tE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,v){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,g,p;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,v),!0}for(p=1,g=new Array(y-1);p<y;p++)g[p-1]=arguments[p];w.fn.apply(w.context,g)}else{var j=w.length,S;for(p=0;p<j;p++)switch(w[p].once&&this.removeListener(u,w[p].fn,void 0,!0),y){case 1:w[p].fn.call(w[p].context);break;case 2:w[p].fn.call(w[p].context,d);break;case 3:w[p].fn.call(w[p].context,d,f);break;case 4:w[p].fn.call(w[p].context,d,f,h);break;default:if(!g)for(S=1,g=new Array(y-1);S<y;S++)g[S-1]=arguments[S];w[p].fn.apply(w[p].context,g)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,m);else{for(var b=0,w=[],y=v.length;b<y;b++)(v[b].fn!==d||h&&!v[b].once||f&&v[b].context!==f)&&w.push(v[b]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(tE);var WU=tE.exports;const qU=oi(WU);var Xo=new qU,fp="recharts.syncEvent.tooltip",Zb="recharts.syncEvent.brush";function HU(e,t){if(t){var r=Number.parseInt(t,10);if(!mr(r))return e==null?void 0:e[r]}}var VU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rE=Xt({name:"options",initialState:VU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KU=rE.reducer,{createEventEmitter:GU}=rE.actions;function YU(e){return e.tooltip.syncInteraction}var QU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nE=Xt({name:"chartData",initialState:QU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ew,setDataStartEndIndexes:JU,setComputedData:kq}=nE.actions,XU=nE.reducer,ZU=["x","y"];function tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tw(Object(r),!0).forEach(function(n){eB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eB(e,t,r){return(t=tB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tB(e){var t=rB(e,"string");return typeof t=="symbol"?t:t+""}function rB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nB(e,t){if(e==null)return{};var r,n,i=iB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iE=()=>{};function aB(){var e=ne(z0),t=ne(U0),r=ut(),n=ne(US),i=ne(Mn),a=u0(),s=o0(),o=ne(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return iE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:v,y:b}=m,w=nB(m,ZU),y=ji(ji(ji({},w),typeof v=="number"&&{x:Math.max(s.x,Math.min(v,s.x+s.width))}),typeof b=="number"&&{y:Math.max(s.y,Math.min(b,s.y+s.height))}),g=ji(ji({},d),{},{payload:ji(ji({},d.payload),{},{coordinate:y})});r(g)}else r(d);return}if(i!=null){var p;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},S=n(i,j);p=i[S]}else n==="value"&&(p=i.find(F=>String(F.value)===d.payload.label));var{coordinate:k}=d.payload;if(p==null||d.payload.active===!1||k==null||s==null){r(cp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:_,y:N}=k,E=Math.min(_,s.x+s.width),C=Math.min(N,s.y+s.height),P={x:a==="horizontal"?p.coordinate:E,y:a==="horizontal"?C:p.coordinate},M=cp({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(p.index),label:d.payload.label});r(M)}}};return Xo.on(fp,c),()=>{Xo.off(fp,c)}},[o,r,t,e,n,i,a,s])}function sB(){var e=ne(z0),t=ne(U0),r=ut();x.useEffect(()=>{if(e==null)return iE;var n=(i,a,s)=>{t!==s&&e===i&&r(JU(a))};return Xo.on(Zb,n),()=>{Xo.off(Zb,n)}},[r,t,e])}function oB(){var e=ut();x.useEffect(()=>{e(GU())},[e]),aB(),sB()}function lB(e,t,r,n,i,a){var s=ne(h=>TU(h,e,t)),o=ne(U0),c=ne(z0),u=ne(US),d=ne(YU),f=d==null?void 0:d.active;x.useEffect(()=>{if(!f&&c!=null&&o!=null){var h=cp({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});Xo.emit(fp,c,h,o)}},[f,r,s,i,n,o,c,u,a])}function rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rw(Object(r),!0).forEach(function(n){cB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cB(e,t,r){return(t=uB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uB(e){var t=dB(e,"string");return typeof t=="symbol"?t:t+""}function dB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fB(e){return e.dataKey}function hB(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(ID,t)}var iw=[],mB={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!xs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pB(e){var t=yr(e,mB),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:v,cursor:b,shared:w,trigger:y,defaultIndex:g,portal:p,axisId:j}=t,S=ut(),k=typeof g=="number"?String(g):g;x.useEffect(()=>{S(Rz({shared:w,trigger:y,axisId:j,active:r,defaultIndex:k}))},[S,w,y,j,r,k]);var _=o0(),N=Mk(),E=Az(w),{activeIndex:C,isActive:P}=ne(V=>DU(V,E,y,k)),M=ne(V=>IU(V,E,y,k)),F=ne(V=>ZN(V,E,y,k)),Y=ne(V=>MU(V,E,y,k)),ie=M,H=FU(),K=r??P,[U,O]=ek([ie,K]),D=E==="axis"?F:void 0;lB(E,y,Y,D,C,K);var W=p??H;if(W==null)return null;var L=ie??iw;K||(L=iw),o&&L.length&&(L=F_(ie.filter(V=>V.value!=null&&(V.hide!==!0||t.includeHidden)),d,fB));var le=L.length>0,A=x.createElement(BD,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:c,active:K,coordinate:Y,hasPayload:le,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:_,wrapperStyle:v,lastBoundingBox:U,innerRef:O,hasPortalFromProps:!!p},hB(s,nw(nw({},t),{},{payload:L,label:D,active:K,coordinate:Y,accessibilityLayer:N})));return x.createElement(x.Fragment,null,mg.createPortal(A,W),K&&x.createElement(BU,{cursor:b,tooltipEventType:E,coordinate:Y,payload:ie,index:C}))}var aE={},sE={},oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{v(),s=void 0,o=null},w=()=>{d()},y=function(...g){if(i!=null&&i.aborted)return;s=this,o=g;const p=h==null;m(),c&&p&&d()};return y.schedule=m,y.cancel=b,y.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),y}e.debounce=t})(oE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oE;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(sE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sE;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(aE);var gB=aE.throttle;const vB=oi(gB);var mo=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aw(Object(r),!0).forEach(function(n){yB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yB(e,t,r){return(t=xB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wB=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,b=x.useRef(null),w=x.useRef();w.current=m,x.useImperativeHandle(t,()=>b.current);var[y,g]=x.useState({containerWidth:n.width,containerHeight:n.height}),p=x.useCallback((S,k)=>{g(_=>{var N=Math.round(S),E=Math.round(k);return _.containerWidth===N&&_.containerHeight===E?_:{containerWidth:N,containerHeight:E}})},[]);x.useEffect(()=>{var S=E=>{var C,{width:P,height:M}=E[0].contentRect;p(P,M),(C=w.current)===null||C===void 0||C.call(w,P,M)};d>0&&(S=vB(S,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(S),{width:_,height:N}=b.current.getBoundingClientRect();return p(_,N),k.observe(b.current),()=>{k.disconnect()}},[p,d]);var j=x.useMemo(()=>{var{containerWidth:S,containerHeight:k}=y;if(S<0||k<0)return null;mo(Mi(i)||Mi(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var _=Mi(i)?S:i,N=Mi(a)?k:a;return r&&r>0&&(_?N=_/r:N&&(_=N*r),c&&N>c&&(N=c)),mo(_>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,i,a,s,o,r),x.Children.map(u,E=>x.cloneElement(E,{width:_,height:N,style:oh({width:_,height:N},E.props.style)}))},[r,u,a,c,o,s,y,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:ye("recharts-responsive-container",h),style:oh(oh({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:b},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function jB(e,t,r){return(t=_B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e){var t=kB(e,"string");return typeof t=="symbol"?t:t+""}function kB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SB{constructor(t){jB(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=CB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CB(e){var t=PB(e,"string");return typeof t=="symbol"?t:t+""}function PB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OB={cacheSize:2e3,enableCache:!0},lE=NB({},OB),ow=new SB(lE.cacheSize),AB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lw="recharts_measurement_span";function TB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var cw=(e,t)=>{try{var r=document.getElementById(lw);r||(r=document.createElement("span"),r.setAttribute("id",lw),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,AB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},po=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||xs.isSsr)return{width:0,height:0};if(!lE.enableCache)return cw(t,r);var n=TB(t,r),i=ow.get(n);if(i)return i;var a=cw(t,r);return ow.set(n,a),a},uw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,IB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DB=Object.keys(cE),Oa="NaN";function RB(e,t){return e*cE[t]}class Ct{static parse(t){var r,[,n,i]=(r=IB.exec(t))!==null&&r!==void 0?r:[];return new Ct(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,mr(t)&&(this.unit=""),r!==""&&!MB.test(r)&&(this.num=NaN,this.unit=""),DB.includes(r)&&(this.num=RB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ct(NaN,""):new Ct(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function uE(e){if(e.includes(Oa))return Oa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=uw.exec(t))!==null&&r!==void 0?r:[],s=Ct.parse(n??""),o=Ct.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Oa;t=t.replace(uw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=dw.exec(t))!==null&&u!==void 0?u:[],m=Ct.parse(d??""),v=Ct.parse(h??""),b=f==="+"?m.add(v):m.subtract(v);if(b.isNaN())return Oa;t=t.replace(dw,b.toString())}return t}var fw=/\(([^()]*)\)/;function LB(e){for(var t=e,r;(r=fw.exec(t))!=null;){var[,n]=r;t=t.replace(fw,uE(n))}return t}function $B(e){var t=e.replace(/\s+/g,"");return t=LB(t),t=uE(t),t}function zB(e){try{return $B(e)}catch{return Oa}}function lh(e){var t=zB(e.slice(5,-1));return t===Oa?"":t}var UB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],BB=["dx","dy","angle","className","breakAll"];function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function hw(e,t){if(e==null)return{};var r,n,i=FB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function FB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dE=/[ \f\n\r\t\v\u2028\u2029]+/,fE=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Je(t)||(r?i=t.toString().split(""):i=t.toString().split(dE));var a=i.map(o=>({word:o,width:po(o,n).width})),s=r?0:po(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},WB=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=ae(a),d=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((M,F)=>{var{word:Y,width:ie}=F,H=M[M.length-1];if(H&&(n==null||i||H.width+ie+r<Number(n)))H.words.push(Y),H.width+=ie+r;else{var K={words:[Y],width:ie};M.push(K)}return M},[])},h=f(t),m=C=>C.reduce((P,M)=>P.width>M.width?P:M);if(!u||i)return h;var v=h.length>a||m(h).width>Number(n);if(!v)return h;for(var b="…",w=C=>{var P=d.slice(0,C),M=fE({breakAll:c,style:o,children:P+b}).wordsWithComputedWidth,F=f(M),Y=F.length>a||m(F).width>Number(n);return[Y,F]},y=0,g=d.length-1,p=0,j;y<=g&&p<=d.length-1;){var S=Math.floor((y+g)/2),k=S-1,[_,N]=w(k),[E]=w(S);if(!_&&!E&&(y=S+1),_&&E&&(g=S-1),!_&&E){j=N;break}p++}return j||h},mw=e=>{var t=Je(e)?[]:e.toString().split(dE);return[{words:t}]},qB=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!xs.isSsr){var o,c,u=fE({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return mw(n);return WB({breakAll:a,children:n,maxLines:s,style:i},o,c,t,r)}return mw(n)},pw="#808080",lv=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=pw}=e,d=hw(e,UB),f=x.useMemo(()=>qB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:v,className:b,breakAll:w}=d,y=hw(d,BB);if(!Gr(r)||!Gr(n)||f.length===0)return null;var g=r+(ae(h)?h:0),p=n+(ae(m)?m:0),j;switch(c){case"start":j=lh("calc(".concat(a,")"));break;case"middle":j=lh("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:j=lh("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(s){var k=f[0].width,{width:_}=d;S.push("scale(".concat(ae(_)?_/k:1,")"))}return v&&S.push("rotate(".concat(v,", ").concat(g,", ").concat(p,")")),S.length&&(y.transform=S.join(" ")),x.createElement("text",hp({},Xe(y,!0),{ref:t,x:g,y:p,className:ye("recharts-text",b),textAnchor:o,fill:u.includes("url")?pw:u}),f.map((N,E)=>{var C=N.words.join(w?"":" ");return x.createElement("tspan",{x:g,dy:E===0?j:i,key:"".concat(C,"-").concat(E)},C)}))});lv.displayName="Text";var HB=["labelRef"];function VB(e,t){if(e==null)return{};var r,n,i=KB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gw(Object(r),!0).forEach(function(n){GB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GB(e,t,r){return(t=YB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=QB(e,"string");return typeof t=="symbol"?t:t+""}function QB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(){return on=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},on.apply(null,arguments)}var hE=x.createContext(null),JB=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=x.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return x.createElement(hE.Provider,{value:s},a)},mE=()=>{var e=x.useContext(hE),t=o0();return e||t},XB=x.createContext(null),ZB=()=>{var e=x.useContext(XB),t=ne(HS);return e||t},e7=e=>{var{value:t,formatter:r}=e,n=Je(e.children)?t:e.children;return typeof r=="function"?r(n):n},cv=e=>e!=null&&typeof e=="function",t7=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},r7=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,v=(u+d)/2,b=t7(f,h),w=b>=0?1:-1,y,g;switch(t){case"insideStart":y=f+w*a,g=m;break;case"insideEnd":y=h-w*a,g=!m;break;case"end":y=h+w*a,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=b<=0?g:!g;var p=ot(o,c,v,y),j=ot(o,c,v,y+(g?1:-1)*359),S="M".concat(p.x,",").concat(p.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(g?0:1,`,
    `).concat(j.x,",").concat(j.y),k=Je(e.id)?Fo("recharts-radial-line-"):e.id;return x.createElement("text",on({},n,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",s)}),x.createElement("defs",null,x.createElement("path",{id:k,d:S})),x.createElement("textPath",{xlinkHref:"#".concat(k)},r))},n7=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:f}=ot(n,i,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:v}=ot(n,i,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},pE=e=>"cx"in e&&ae(e.cx),i7=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!pE(r)&&(a=r);var{x:s,y:o,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",v=c>=0?1:-1,b=v*n,w=v>0?"end":"start",y=v>0?"start":"end";if(i==="top"){var g={x:s+c/2,y:o-d*n,textAnchor:"middle",verticalAnchor:h};return Me(Me({},g),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var p={x:s+c/2,y:o+u+f,textAnchor:"middle",verticalAnchor:m};return Me(Me({},p),a?{height:Math.max(a.y+a.height-(o+u),0),width:c}:{})}if(i==="left"){var j={x:s-b,y:o+u/2,textAnchor:w,verticalAnchor:"middle"};return Me(Me({},j),a?{width:Math.max(j.x-a.x,0),height:u}:{})}if(i==="right"){var S={x:s+c+b,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return Me(Me({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:u}:{})}var k=a?{width:c,height:u}:{};return i==="insideLeft"?Me({x:s+b,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?Me({x:s+c-b,y:o+u/2,textAnchor:w,verticalAnchor:"middle"},k):i==="insideTop"?Me({x:s+c/2,y:o+f,textAnchor:"middle",verticalAnchor:m},k):i==="insideBottom"?Me({x:s+c/2,y:o+u-f,textAnchor:"middle",verticalAnchor:h},k):i==="insideTopLeft"?Me({x:s+b,y:o+f,textAnchor:y,verticalAnchor:m},k):i==="insideTopRight"?Me({x:s+c-b,y:o+f,textAnchor:w,verticalAnchor:m},k):i==="insideBottomLeft"?Me({x:s+b,y:o+u-f,textAnchor:y,verticalAnchor:h},k):i==="insideBottomRight"?Me({x:s+c-b,y:o+u-f,textAnchor:w,verticalAnchor:h},k):i&&typeof i=="object"&&(ae(i.x)||Mi(i.x))&&(ae(i.y)||Mi(i.y))?Me({x:s+si(i.x,c),y:o+si(i.y,u),textAnchor:"end",verticalAnchor:"end"},k):Me({x:s+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},a7={offset:5};function Un(e){var t=yr(e,a7),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=ZB(),f=mE(),h=n==="center"?f:d??f,m=r||h;if(!m||Je(i)&&Je(a)&&!x.isValidElement(s)&&typeof s!="function")return null;var v=Me(Me({},t),{},{viewBox:m});if(x.isValidElement(s)){var b=VB(v,HB);return x.cloneElement(s,b)}var w;if(typeof s=="function"){if(w=x.createElement(s,v),x.isValidElement(w))return w}else w=e7(t);var y=pE(m),g=Xe(t,!0);if(y&&(n==="insideStart"||n==="insideEnd"||n==="end"))return r7(t,n,w,g,m);var p=y?n7(m,t.offset,t.position):i7(t,m);return x.createElement(lv,on({ref:u,className:ye("recharts-label",o)},g,p,{breakAll:c}),w)}Un.displayName="Label";var s7=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(Un,on({key:"label-implicit"},n)):Gr(e)?x.createElement(Un,on({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===Un?x.cloneElement(e,Me({key:"label-implicit"},n)):x.createElement(Un,on({key:"label-implicit",content:e},n)):cv(e)?x.createElement(Un,on({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(Un,on({},e,{key:"label-implicit"},n)):null};function o7(e){var{label:t}=e,r=mE();return s7(t,r)||null}var gE={},vE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vE);var yE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE,r=yE,n=wd;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(gE);var l7=gE.last;const c7=oi(l7);var u7=["valueAccessor"],d7=["dataKey","clockWise","id","textBreakAll"];function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ru.apply(null,arguments)}function vw(e,t){if(e==null)return{};var r,n,i=f7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function f7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h7=e=>Array.isArray(e.value)?c7(e.value):e.value,xE=x.createContext(void 0),m7=xE.Provider,bE=x.createContext(void 0);bE.Provider;function p7(){return x.useContext(xE)}function g7(){return x.useContext(bE)}function Ec(e){var{valueAccessor:t=h7}=e,r=vw(e,u7),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,o=vw(r,d7),c=p7(),u=g7(),d=c||u;return!d||!d.length?null:x.createElement(ys,{className:"recharts-label-list"},d.map((f,h)=>{var m,v=Je(n)?t(f,h):kt(f&&f.payload,n),b=Je(a)?{}:{id:"".concat(a,"-").concat(h)};return x.createElement(Un,Ru({},Xe(f,!0),o,b,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:v,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}Ec.displayName="LabelList";function v7(e){var{label:t}=e;return t?t===!0?x.createElement(Ec,{key:"labelList-implicit"}):x.isValidElement(t)||cv(t)?x.createElement(Ec,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Ec,Ru({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}var wE=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=ye("recharts-dot",i);return t===+t&&r===+r&&n===+n?x.createElement("circle",mp({},ia(e),Lg(e),{className:a,cx:t,cy:r,r:n})):null},y7={radiusAxis:{},angleAxis:{}},x7=Xt({name:"polarAxis",initialState:y7,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),b7=x7.reducer;function w7(e){var{fn:t,args:r}=e,n=ut(),i=vr();return x.useEffect(()=>{if(!i){var a=t(r);return n(Iz(a)),()=>{n(Dz(a))}}},[t,r,n,i]),null}var j7=()=>{};function _7(e){var{legendPayload:t}=e,r=ut(),n=vr();return x.useEffect(()=>n?j7:(r(gD(t)),()=>{r(vD(t))}),[r,n,t]),null}var ch,k7=()=>{var[e]=x.useState(()=>Fo("uid-"));return e},S7=(ch=mC.useId)!==null&&ch!==void 0?ch:k7;function N7(e,t){var r=S7();return t||(e?"".concat(e,"-").concat(r):r)}var E7=x.createContext(void 0),C7=e=>{var{id:t,type:r,children:n}=e,i=N7("recharts-".concat(r),t);return x.createElement(E7.Provider,{value:i},n(i))},P7={cartesianItems:[],polarItems:[]},jE=Xt({name:"graphicalItems",initialState:P7,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=mn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=mn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=mn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:O7,replaceCartesianGraphicalItem:A7,removeCartesianGraphicalItem:T7,addPolarGraphicalItem:Sq,removePolarGraphicalItem:Nq}=jE.actions,M7=jE.reducer;function I7(e){var t=ut(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(O7(e)):r.current!==e&&t(A7({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(T7(r.current)),r.current=null)},[t]),null}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){D7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D7(e,t,r){return(t=R7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=L7(e,"string");return typeof t=="symbol"?t:t+""}function L7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7={xAxis:{},yAxis:{},zAxis:{}},_E=Xt({name:"cartesianAxis",initialState:$7,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=xw(xw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:z7,removeXAxis:U7,addYAxis:B7,removeYAxis:F7,addZAxis:Eq,removeZAxis:Cq,updateYAxisWidth:W7}=_E.actions,q7=_E.reducer,H7=T([dt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),V7=T([H7,Cn,Pn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),uv=()=>ne(V7),K7=()=>ne(kU);function bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(r),!0).forEach(function(n){G7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7(e,t,r){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y7(e){var t=Q7(e,"string");return typeof t=="symbol"?t:t+""}function Q7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=ww(ww({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Xe(i,!1)),Lg(i)),o;return x.isValidElement(i)?o=x.cloneElement(i,s):typeof i=="function"?o=i(s):o=x.createElement(wE,s),x.createElement(ys,{className:"recharts-active-dot"},o)};function X7(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=ne(Jo),s=K7();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return Je(o)?null:J7({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var Z7={},eF=Xt({name:"errorBars",initialState:Z7,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),tF=eF.reducer,rF=["children"];function nF(e,t){if(e==null)return{};var r,n,i=iF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sF=x.createContext(aF);function oF(e){var{children:t}=e,r=nF(e,rF);return x.createElement(sF.Provider,{value:r},t)}function kE(e,t){var r,n,i=ne(u=>An(u,e)),a=ne(u=>Tn(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Lt.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:$t.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function lF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=uv(),{needClipX:a,needClipY:s,needClip:o}=kE(t,r);if(!o)return null;var{x:c,y:u,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var cF=e=>{var{chartData:t}=e,r=ut(),n=vr();return x.useEffect(()=>n?()=>{}:(r(ew(t)),()=>{r(ew(void 0))}),[t,r,n]),null},jw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uF=Xt({name:"brush",initialState:jw,reducers:{setBrushSettings(e,t){return t.payload==null?jw:t.payload}}}),dF=uF.reducer;function fF(e,t,r){return(t=hF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hF(e){var t=mF(e,"string");return typeof t=="symbol"?t:t+""}function mF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dv{static create(t){return new dv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}fF(dv,"EPS",1e-4);function pF(e){return(e%180+180)%180}var gF=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=pF(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},vF={dots:[],areas:[],lines:[]},yF=Xt({name:"referenceElements",initialState:vF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=mn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=mn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=mn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),xF=yF.reducer,bF=x.createContext(void 0),wF=e=>{var{children:t}=e,[r]=x.useState("".concat(Fo("recharts"),"-clip")),n=uv();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return x.createElement(bF.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function us(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function SE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function jF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gF(n,r)}function _F(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Lu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function kF(e,t){return SE(e,t+1)}function SF(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:SE(n,u)};var b=c,w,y=()=>(w===void 0&&(w=r(v,b)),w),g=v.coordinate,p=c===0||Lu(e,g,y,d,o);p||(c=0,d=s,u+=1),p&&(d=g+e*(y()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(r),!0).forEach(function(n){NF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NF(e,t,r){return(t=EF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PF(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(h){var m=a[h],v,b=()=>(v===void 0&&(v=r(m,h)),v);if(h===s-1){var w=e*(m.coordinate+e*b()/2-c);a[h]=m=gt(gt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else a[h]=m=gt(gt({},m),{},{tickCoord:m.coordinate});var y=Lu(e,m.tickCoord,b,o,c);y&&(c=m.tickCoord-e*(b()/2+i),a[h]=gt(gt({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function OF(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=gt(gt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Lu(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=gt(gt({},d),{},{isShow:!0}))}for(var v=a?o-1:o,b=function(g){var p=s[g],j,S=()=>(j===void 0&&(j=r(p,g)),j);if(g===0){var k=e*(p.coordinate-e*S()/2-c);s[g]=p=gt(gt({},p),{},{tickCoord:k<0?p.coordinate-k*e:p.coordinate})}else s[g]=p=gt(gt({},p),{},{tickCoord:p.coordinate});var _=Lu(e,p.tickCoord,S,c,u);_&&(c=p.tickCoord+e*(S()/2+i),s[g]=gt(gt({},p),{},{isShow:!0}))},w=0;w<v;w++)b(w);return s}function fv(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ae(c)||xs.isSsr){var h;return(h=kF(i,ae(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],v=o==="top"||o==="bottom"?"width":"height",b=d&&v==="width"?po(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(p,j)=>{var S=typeof u=="function"?u(p.value,j):p.value;return v==="width"?jF(po(S,{fontSize:t,letterSpacing:r}),b,f):po(S,{fontSize:t,letterSpacing:r})[v]},y=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,g=_F(a,y,v);return c==="equidistantPreserveStart"?SF(y,g,w,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=OF(y,g,w,i,s,c==="preserveStartEnd"):m=PF(y,g,w,i,s),m.filter(p=>p.isShow))}var AF=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(r?n:0);return Math.round(u)}return 0},TF=["axisLine","width","height","className","hide","ticks"],MF=["viewBox"],IF=["viewBox"];function pp(e,t){if(e==null)return{};var r,n,i=DF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){RF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RF(e,t,r){return(t=LF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LF(e){var t=$F(e,"string");return typeof t=="symbol"?t:t+""}function $F(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function zF(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Fe(Fe(Fe({},c),Xe(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Fe(Fe({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Fe(Fe({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return x.createElement("line",Ji({},u,{className:ye("recharts-cartesian-axis-line",vd(o,"className"))}))}function UF(e,t,r,n,i,a,s,o,c){var u,d,f,h,m,v,b=o?-1:1,w=e.tickSize||s,y=ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=r+ +!o*i,f=h-b*w,v=f-b*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!o*n,u=d-b*w,m=u-b*c,v=y;break;case"right":f=h=e.coordinate,d=t+ +o*n,u=d+b*w,m=u+b*c,v=y;break;default:u=d=e.coordinate,h=r+ +o*i,f=h+b*w,v=f+b*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function BF(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function FF(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function WF(e){var{option:t,tickProps:r,value:n}=e,i,a=ye(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,Fe(Fe({},r),{},{className:a}));else if(typeof t=="function")i=t(Fe(Fe({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=ye(s,t==null?void 0:t.className)),i=x.createElement(lv,Ji({},r,{className:s}),n)}return i}function qF(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:o,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:v,tickSize:b,tickMargin:w,fontSize:y,letterSpacing:g,getTicksConfig:p,events:j}=e,S=fv(Fe(Fe({},p),{},{ticks:t}),y,g),k=BF(u,d),_=FF(u,d),N=ia(p),E=Xe(r,!1),C=Fe(Fe({},N),{},{fill:"none"},Xe(n,!1)),P=S.map((M,F)=>{var{line:Y,tick:ie}=UF(M,f,h,m,v,u,b,d,w),H=Fe(Fe(Fe(Fe({textAnchor:k,verticalAnchor:_},N),{},{stroke:"none",fill:i},E),ie),{},{index:F,payload:M,visibleTicksCount:S.length,tickFormatter:a,padding:o},c);return x.createElement(ys,Ji({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},i_(j,M,F)),n&&x.createElement("line",Ji({},C,Y,{className:ye("recharts-cartesian-axis-tick-line",vd(n,"className"))})),r&&x.createElement(WF,{option:r,tickProps:H,value:"".concat(typeof a=="function"?a(M.value,F):M.value).concat(s||"")}))});return P.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var HF=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o}=e,c=pp(e,TF),[u,d]=x.useState(""),[f,h]=x.useState(""),m=x.useRef([]);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return AF({ticks:m.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=x.useCallback(b=>{if(b){var w=b.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var y=w[0];if(y){var g=window.getComputedStyle(y),p=g.fontSize,j=g.letterSpacing;(p!==u||j!==f)&&(d(p),h(j))}}},[u,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:x.createElement(ys,{className:ye("recharts-cartesian-axis",a),ref:v},x.createElement(zF,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ia(e)}),x.createElement(qF,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),x.createElement(JB,{x:e.x,y:e.y,width:e.width,height:e.height},x.createElement(o7,{label:e.label}),e.children))}),VF=x.memo(HF,(e,t)=>{var{viewBox:r}=e,n=pp(e,MF),{viewBox:i}=t,a=pp(t,IF);return us(r,i)&&us(n,a)}),mv=x.forwardRef((e,t)=>{var r=yr(e,hv);return x.createElement(VF,Ji({},r,{ref:t}))});mv.displayName="CartesianAxis";var KF=["x1","y1","x2","y2","key"],GF=["offset"],YF=["xAxisId","yAxisId"],QF=["xAxisId","yAxisId"];function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){JF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JF(e,t,r){return(t=XF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=ZF(e,"string");return typeof t=="symbol"?t:t+""}function ZF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ri.apply(null,arguments)}function $u(e,t){if(e==null)return{};var r,n,i=e9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var t9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return x.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function NE(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=t,c=$u(t,KF),u=ia(c),d=$u(u,GF);r=x.createElement("line",Ri({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function r9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var a=$u(e,YF),s=i.map((o,c)=>{var u=yt(yt({},a),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return NE(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function n9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var a=$u(e,QF),s=i.map((o,c)=>{var u=yt(yt({},a),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return NE(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function i9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?i+s-f:u[h+1]-f;if(v<=0)return null;var b=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function a9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?i+s-f:u[h+1]-f;if(v<=0)return null;var b=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:v,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var s9=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Nk(fv(yt(yt(yt({},hv),r),{},{ticks:Ek(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},o9=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Nk(fv(yt(yt(yt({},hv),r),{},{ticks:Ek(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},l9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function EE(e){var t=l0(),r=c0(),n=Ak(),i=yt(yt({},yr(e,l9)),{},{x:ae(e.x)?e.x:n.left,y:ae(e.y)?e.y:n.top,width:ae(e.width)?e.width:n.width,height:ae(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,v=vr(),b=ne(E=>Vb(E,"xAxis",a,v)),w=ne(E=>Vb(E,"yAxis",s,v));if(!ae(u)||u<=0||!ae(d)||d<=0||!ae(o)||o!==+o||!ae(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||s9,g=i.horizontalCoordinatesGenerator||o9,{horizontalPoints:p,verticalPoints:j}=i;if((!p||!p.length)&&typeof g=="function"){var S=h&&h.length,k=g({yAxis:w?yt(yt({},w),{},{ticks:S?h:w.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);mo(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(p=k)}if((!j||!j.length)&&typeof y=="function"){var _=m&&m.length,N=y({xAxis:b?yt(yt({},b),{},{ticks:_?m:b.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);mo(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(t9,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(i9,Ri({},i,{horizontalPoints:p})),x.createElement(a9,Ri({},i,{verticalPoints:j})),x.createElement(r9,Ri({},i,{offset:n,horizontalPoints:p,xAxis:b,yAxis:w})),x.createElement(n9,Ri({},i,{offset:n,verticalPoints:j,xAxis:b,yAxis:w})))}EE.displayName="CartesianGrid";var CE=(e,t,r,n)=>AN(e,"xAxis",t,n),PE=(e,t,r,n)=>ON(e,"xAxis",t,n),OE=(e,t,r,n)=>AN(e,"yAxis",r,n),AE=(e,t,r,n)=>ON(e,"yAxis",r,n),c9=T([Se,CE,OE,PE,AE],(e,t,r,n,i)=>mi(e,"xAxis")?Hm(t,n,!1):Hm(r,i,!1)),u9=(e,t,r,n,i)=>i;function d9(e){return e.type==="line"}var f9=T([ZS,u9],(e,t)=>e.filter(d9).find(r=>r.id===t)),h9=T([Se,CE,OE,PE,AE,f9,c9,D0],(e,t,r,n,i,a,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return D9({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}}),m9=["id"],p9=["type","layout","connectNulls","needClip"],g9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pv(e,t){if(e==null)return{};var r,n,i=b9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function b9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(null,arguments)}var w9=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ck(r,t),payload:e}]};function j9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ck(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var TE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _9(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var k9=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return TE(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){o=[...r.slice(0,c),a-u];break}var d=o.length%2===0?[0,s]:[s];return[..._9(r,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function S9(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=ye("recharts-line-dot",typeof e!="boolean"?e.className:"");r=x.createElement(wE,Xi({},t,{className:n}))}return r}function N9(e,t){return e==null?!1:t?!0:e.length===1}function E9(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!N9(r,i))return null;var o=pv(n,m9),c=s_(i),u=ia(o),d=Xe(i,!0),f=r.map((m,v)=>{var b=Bt(Bt(Bt({key:"dot-".concat(v),r:3},u),d),{},{index:v,cx:m.x,cy:m.y,dataKey:a,value:m.value,payload:m.payload,points:r});return S9(i,b)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return x.createElement(ys,Xi({className:"recharts-line-dots",key:"dots"},h),f)}function C9(e){var{showLabels:t,children:r,points:n}=e,i=x.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return Bt(Bt({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(m7,{value:t?i:null},r)}function Ew(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:c,needClip:u}=a,d=pv(a,p9),f=Bt(Bt({},Xe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return x.createElement(x.Fragment,null,(n==null?void 0:n.length)>1&&x.createElement(Ik,Xi({},f,{pathRef:r})),x.createElement(E9,{points:n,clipPathId:t,props:a}))}function P9(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function O9(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:v,onAnimationEnd:b,onAnimationStart:w}=r,y=i.current,g=zk(r,"recharts-line-"),[p,j]=x.useState(!1),S=!p,k=x.useCallback(()=>{typeof b=="function"&&b(),j(!1)},[b]),_=x.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),N=P9(n.current),E=a.current;return x.createElement(C9,{points:s,showLabels:S},r.children,x.createElement($k,{animationId:g,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:_,key:g},C=>{var P=an(E,N+E,C),M=Math.min(P,N),F;if(c)if(o){var Y="".concat(o).split(/[,\s]+/gim).map(K=>parseFloat(K));F=k9(M,N,Y)}else F=TE(N,M);else F=o==null?void 0:String(o);if(y){var ie=y.length/s.length,H=C===1?s:s.map((K,U)=>{var O=Math.floor(U*ie);if(y[O]){var D=y[O];return Bt(Bt({},K),{},{x:an(D.x,K.x,C),y:an(D.y,K.y,C)})}return h?Bt(Bt({},K),{},{x:an(m*2,K.x,C),y:an(v/2,K.y,C)}):Bt(Bt({},K),{},{x:K.x,y:K.y})});return i.current=H,x.createElement(Ew,{props:r,points:H,clipPathId:t,pathRef:n,strokeDasharray:F})}return C>0&&N>0&&(i.current=s,a.current=M),x.createElement(Ew,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:F})}),x.createElement(v7,{label:r.label}))}function A9(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),i=x.useRef(0),a=x.useRef(null);return x.createElement(O9,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var T9=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:kt(e.payload,t)});class M9 extends x.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var v=ye("recharts-line",a),b=h,{r:w=3,strokeWidth:y=2}=(t=Xe(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=s_(n),p=w*2+y;return x.createElement(x.Fragment,null,x.createElement(ys,{className:v},m&&x.createElement("defs",null,x.createElement(lF,{clipPathId:b,xAxisId:s,yAxisId:o}),!g&&x.createElement("clipPath",{id:"clipPath-dots-".concat(b)},x.createElement("rect",{x:u-p/2,y:c-p/2,width:d+p,height:f+p}))),x.createElement(oF,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:T9,errorBarOffset:0},x.createElement(A9,{props:this.props,clipPathId:b}))),x.createElement(X7,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ME={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!xs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function I9(e){var t=yr(e,ME),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:v,id:b}=t,w=pv(t,g9),{needClip:y}=kE(m,v),g=uv(),p=u0(),j=vr(),S=ne(C=>h9(C,m,v,j,b));if(p!=="horizontal"&&p!=="vertical"||S==null||g==null)return null;var{height:k,width:_,x:N,y:E}=g;return x.createElement(M9,Xi({},w,{id:b,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:v,points:S,layout:p,height:k,width:_,left:N,top:E,needClip:y}))}function D9(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=kt(u,s);if(t==="horizontal"){var h=Mx({axis:r,ticks:i,bandSize:o,entry:u,index:d}),m=Je(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var v=Je(f)?null:r.scale(f),b=Mx({axis:n,ticks:a,bandSize:o,entry:u,index:d});return v==null||b==null?null:{x:v,y:b,value:f,payload:u}}).filter(Boolean)}function R9(e){var t=yr(e,ME),r=vr();return x.createElement(C7,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(_7,{legendPayload:w9(t)}),x.createElement(w7,{fn:j9,args:t}),x.createElement(I7,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(I9,Xi({},t,{id:n}))))}var Zs=x.memo(R9);Zs.displayName="Line";var L9=["dangerouslySetInnerHTML","ticks"],$9=["id"],z9=["domain"],U9=["domain"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function zu(e,t){if(e==null)return{};var r,n,i=B9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function B9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F9(e){var t=ut();return x.useEffect(()=>(t(z7(e)),()=>{t(U7(e))}),[e,t]),null}var W9=e=>{var{xAxisId:t,className:r}=e,n=ne(Ok),i=vr(),a="xAxis",s=ne(m=>Ss(m,a,t,i)),o=ne(m=>PN(m,a,t,i)),c=ne(m=>vz(m,t)),u=ne(m=>_z(m,t)),d=ne(m=>YS(m,t));if(c==null||u==null||d==null)return null;var f=zu(e,L9),h=zu(d,$9);return x.createElement(mv,gp({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:ye("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},q9={allowDataOverflow:Lt.allowDataOverflow,allowDecimals:Lt.allowDecimals,allowDuplicatedCategory:Lt.allowDuplicatedCategory,height:Lt.height,hide:!1,mirror:Lt.mirror,orientation:Lt.orientation,padding:Lt.padding,reversed:Lt.reversed,scale:Lt.scale,tickCount:Lt.tickCount,type:Lt.type,xAxisId:0},H9=e=>{var t,r,n,i,a,s=yr(e,q9);return x.createElement(x.Fragment,null,x.createElement(F9,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),x.createElement(W9,s))},V9=(e,t)=>{var{domain:r}=e,n=zu(e,z9),{domain:i}=t,a=zu(t,U9);return us(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:us({domain:r},{domain:i}):!1},IE=x.memo(H9,V9);IE.displayName="XAxis";var K9=["dangerouslySetInnerHTML","ticks"],G9=["id"],Y9=["domain"],Q9=["domain"];function vp(){return vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vp.apply(null,arguments)}function Uu(e,t){if(e==null)return{};var r,n,i=J9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function X9(e){var t=ut();return x.useEffect(()=>(t(B7(e)),()=>{t(F7(e))}),[e,t]),null}var Z9=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=x.useRef(null),s=x.useRef(null),o=ne(Ok),c=vr(),u=ut(),d="yAxis",f=ne(g=>Ss(g,d,t,c)),h=ne(g=>Nz(g,t)),m=ne(g=>Sz(g,t)),v=ne(g=>PN(g,d,t,c)),b=ne(g=>QS(g,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!h||cv(i)||x.isValidElement(i)||b==null)){var g=a.current;if(g){var p=g.getCalculatedWidth();Math.round(h.width)!==Math.round(p)&&u(W7({id:t,width:p}))}}},[v,h,u,i,t,n,b]),h==null||m==null||b==null)return null;var w=Uu(e,K9),y=Uu(b,G9);return x.createElement(mv,vp({},w,y,{ref:a,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ye("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:v}))},eW={allowDataOverflow:$t.allowDataOverflow,allowDecimals:$t.allowDecimals,allowDuplicatedCategory:$t.allowDuplicatedCategory,hide:!1,mirror:$t.mirror,orientation:$t.orientation,padding:$t.padding,reversed:$t.reversed,scale:$t.scale,tickCount:$t.tickCount,type:$t.type,width:$t.width,yAxisId:0},tW=e=>{var t,r,n,i,a,s=yr(e,eW);return x.createElement(x.Fragment,null,x.createElement(X9,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),x.createElement(Z9,s))},rW=(e,t)=>{var{domain:r}=e,n=Uu(e,Y9),{domain:i}=t,a=Uu(t,Q9);return us(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:us({domain:r},{domain:i}):!1},DE=x.memo(tW,rW);DE.displayName="YAxis";var nW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=x;function iW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aW=typeof Object.is=="function"?Object.is:iW,sW=Nl.useSyncExternalStore,oW=Nl.useRef,lW=Nl.useEffect,cW=Nl.useMemo,uW=Nl.useDebugValue;nW.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=oW(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=cW(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&s.hasValue){var v=s.value;if(i(v,m))return f=v}return f=m}if(v=f,aW(d,m))return v;var b=n(m);return i!==void 0&&i(v,b)?(d=m,v):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var o=sW(e,a[0],a[1]);return lW(function(){s.hasValue=!0,s.value=o},[o]),uW(o),o};function dW(e){e()}function fW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Cw={notify(){},get:()=>[]};function hW(e,t){let r,n=Cw,i=0,a=!1;function s(b){d();const w=n.subscribe(b);let y=!1;return()=>{y||(y=!0,w(),f())}}function o(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=fW())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=Cw)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var mW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pW=mW(),gW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vW=gW(),yW=()=>pW||vW?x.useLayoutEffect:x.useEffect,xW=yW(),uh=Symbol.for("react-redux-context"),dh=typeof globalThis<"u"?globalThis:{};function bW(){if(!x.createContext)return{};const e=dh[uh]??(dh[uh]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var wW=bW();function jW(e){const{children:t,context:r,serverState:n,store:i}=e,a=x.useMemo(()=>{const c=hW(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=x.useMemo(()=>i.getState(),[i]);xW(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||wW;return x.createElement(o.Provider,{value:a},t)}var _W=jW,kW=(e,t)=>t,gv=T([kW,Se,HS,Ve,HN,Mn,AU,dt],RU),vv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},RE=pr("mouseClick"),LE=ml();LE.startListening({actionCreator:RE,effect:(e,t)=>{var r=e.payload,n=gv(t.getState(),vv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch($z({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var yp=pr("mouseMove"),$E=ml();$E.startListening({actionCreator:yp,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Z0(n,n.tooltip.settings.shared),a=gv(n,vv(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch($N({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(LN()))}});var Pw={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},zE=Xt({name:"rootProps",initialState:Pw,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Pw.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),SW=zE.reducer,{updateOptions:NW}=zE.actions,EW=Xt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),CW=EW.reducer,UE=pr("keyDown"),BE=pr("focus"),yv=ml();yv.startListening({actionCreator:UE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(ev(i,Es(r))),o=Mn(r);if(a==="Enter"){var c=Du(r,"axis","hover",String(i.index));t.dispatch(up({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=Oz(r),d=u==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,h=s+f*d;if(!(o==null||h>=o.length||h<0)){var m=Du(r,"axis","hover",String(h));t.dispatch(up({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});yv.startListening({actionCreator:BE,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Du(r,"axis","hover",String(a));t.dispatch(up({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var nr=pr("externalEvent"),FE=ml();FE.startListening({actionCreator:nr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:wU(r),activeDataKey:xU(r),activeIndex:Jo(r),activeLabel:GN(r),activeTooltipIndex:Jo(r),isTooltipActive:jU(r)};e.payload.handler(n,e.payload.reactEvent)}}});var PW=T([Ns],e=>e.tooltipItemPayloads),OW=T([PW,kl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),WE=pr("touchMove"),qE=ml();qE.startListening({actionCreator:WE,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Z0(n,n.tooltip.settings.shared);if(i==="axis"){var a=gv(n,vv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch($N({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(eD),d=(s=c.getAttribute(tD))!==null&&s!==void 0?s:void 0,f=OW(t.getState(),u,d);t.dispatch(Lz({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var AW=rk({brush:dF,cartesianAxis:q7,chartData:XU,errorBars:tF,graphicalItems:M7,layout:NI,legend:yD,options:KU,polarAxis:b7,polarOptions:CW,referenceElements:xF,rootProps:SW,tooltip:zz}),TW=function(t){return J6({reducer:AW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([LE.middleware,$E.middleware,yv.middleware,FE.middleware,qE.middleware]),devTools:xs.devToolsEnabled})};function MW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=vr(),a=x.useRef(null);if(i)return r;a.current==null&&(a.current=TW(t));var s=Zg;return x.createElement(_W,{context:s,store:a.current},r)}function IW(e){var{layout:t,width:r,height:n,margin:i}=e,a=ut(),s=vr();return x.useEffect(()=>{s||(a(_I(t)),a(kI({width:r,height:n})),a(jI(i)))},[a,s,t,r,n,i]),null}function DW(e){var t=ut();return x.useEffect(()=>{t(NW(e))},[t,e]),null}var RW=["children"];function LW(e,t){if(e==null)return{};var r,n,i=$W(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bu(){return Bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bu.apply(null,arguments)}var zW={width:"100%",height:"100%"},UW=x.forwardRef((e,t)=>{var r=l0(),n=c0(),i=Mk();if(!xu(r)||!xu(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0,x.createElement($g,Bu({},s,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:zW,ref:t}),a)}),BW=e=>{var{children:t}=e,r=ne(Td);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return x.createElement($g,{width:n,height:i,x:s,y:a},t)},Ow=x.forwardRef((e,t)=>{var{children:r}=e,n=LW(e,RW),i=vr();return i?x.createElement(BW,null,r):x.createElement(UW,Bu({ref:t},n),r)});function FW(){var e=ut(),[t,r]=x.useState(null),n=ne(ZI);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;Dr(a)&&a!==n&&e(SI(a))}},[t,e,n]),r}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function WW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){qW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qW(e,t,r){return(t=HW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KW=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:b,style:w,width:y}=e,g=ut(),[p,j]=x.useState(null),[S,k]=x.useState(null);oB();var _=FW(),N=x.useCallback(L=>{_(L),typeof t=="function"&&t(L),j(L),k(L)},[_,t,j,k]),E=x.useCallback(L=>{g(RE(L)),g(nr({handler:a,reactEvent:L}))},[g,a]),C=x.useCallback(L=>{g(yp(L)),g(nr({handler:u,reactEvent:L}))},[g,u]),P=x.useCallback(L=>{g(LN()),g(nr({handler:d,reactEvent:L}))},[g,d]),M=x.useCallback(L=>{g(yp(L)),g(nr({handler:f,reactEvent:L}))},[g,f]),F=x.useCallback(()=>{g(BE())},[g]),Y=x.useCallback(L=>{g(UE(L.key))},[g]),ie=x.useCallback(L=>{g(nr({handler:s,reactEvent:L}))},[g,s]),H=x.useCallback(L=>{g(nr({handler:o,reactEvent:L}))},[g,o]),K=x.useCallback(L=>{g(nr({handler:c,reactEvent:L}))},[g,c]),U=x.useCallback(L=>{g(nr({handler:h,reactEvent:L}))},[g,h]),O=x.useCallback(L=>{g(nr({handler:b,reactEvent:L}))},[g,b]),D=x.useCallback(L=>{g(WE(L)),g(nr({handler:v,reactEvent:L}))},[g,v]),W=x.useCallback(L=>{g(nr({handler:m,reactEvent:L}))},[g,m]);return x.createElement(eE.Provider,{value:p},x.createElement(o_.Provider,{value:S},x.createElement("div",{className:ye("recharts-wrapper",n),style:WW({position:"relative",cursor:"default",width:y,height:i},w),onClick:E,onContextMenu:ie,onDoubleClick:H,onFocus:F,onKeyDown:Y,onMouseDown:K,onMouseEnter:C,onMouseLeave:P,onMouseMove:M,onMouseUp:U,onTouchEnd:W,onTouchMove:D,onTouchStart:O,ref:N},r)))}),GW=["children","className","width","height","style","compact","title","desc"];function YW(e,t){if(e==null)return{};var r,n,i=QW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JW=x.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:c,desc:u}=e,d=YW(e,GW),f=ia(d);return o?x.createElement(Ow,{otherAttributes:f,title:c,desc:u},r):x.createElement(KW,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(Ow,{otherAttributes:f,title:c,desc:u,ref:t},x.createElement(wF,null,r)))}),XW=["width","height"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function ZW(e,t){if(e==null)return{};var r,n,i=eq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tq={top:5,right:5,bottom:5,left:5},rq={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:tq,reverseStackOrder:!1,syncMethod:"index"},nq=x.forwardRef(function(t,r){var n,i=yr(t.categoricalChartProps,rq),{width:a,height:s}=i,o=ZW(i,XW);if(!xu(a)||!xu(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(MW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},x.createElement(cF,{chartData:h.data}),x.createElement(IW,{width:a,height:s,layout:i.layout,margin:i.margin}),x.createElement(DW,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(JW,xp({},o,{width:a,height:s,ref:r})))}),iq=["axis"],aq=x.forwardRef((e,t)=>x.createElement(nq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iq,tooltipPayloadSearcher:HU,categoricalChartProps:e,ref:t}));const sq=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const i=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],a=o=>new Date(o).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(o,c)=>[o,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Évolution des visites"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accès"})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[l.jsx(Er,{className:"w-4 h-4 text-gray-500"}),l.jsx("select",{value:r,onChange:o=>n(o.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:i.map(o=>l.jsx("option",{value:o.value,children:o.label},o.value))})]})]}),l.jsx("div",{className:"h-80",children:t?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx("div",{className:"text-gray-500",children:"Chargement des données..."})}):e.length===0?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-gray-400 mb-2",children:"📊"}),l.jsx("div",{className:"text-gray-500",children:"Aucune donnée disponible"})]})}):l.jsx(wB,{width:"100%",height:"100%",children:l.jsxs(aq,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[l.jsx(EE,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),l.jsx(IE,{dataKey:"date",tickFormatter:a,stroke:"#666",fontSize:12}),l.jsx(DE,{stroke:"#666",fontSize:12}),l.jsx(pB,{formatter:s,labelFormatter:o=>`Date: ${a(o)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),l.jsx(Md,{}),l.jsx(Zs,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),l.jsx(Zs,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),l.jsx(Zs,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),l.jsx(Zs,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&l.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((o,c)=>o+c.qr_scan,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((o,c)=>o+c.gmb,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((o,c)=>o+c.direct_link,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((o,c)=>o+c.share,0)}),l.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},oq=()=>{const{user:e}=Qt(),[t,r]=x.useState("7"),[n,i]=x.useState([]),[a,s]=x.useState(!0),[o,c]=x.useState([{icon:za,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:Hy,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:Tr,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:Ky,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=x.useState(!0),[f,h]=x.useState(0),[m,v]=x.useState(""),[b,w]=x.useState(""),[y,g]=x.useState(""),p=x.useRef(null);x.useEffect(()=>{if(e){const _=Date.now();_-f>5e3&&(h(_),S(),j(),k())}},[e,t,f]),x.useEffect(()=>{const _=()=>{if(!document.hidden&&e){const N=Date.now();N-f>3e4&&(h(N),S(),j())}};return document.addEventListener("visibilitychange",_),()=>document.removeEventListener("visibilitychange",_)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:_,error:N}=await q.from("menus").select("id").eq("user_id",e.id);if(N||!_||_.length===0){i([]);return}const E=_.map(H=>H.id),C=new Date,P=new Date;P.setDate(P.getDate()-parseInt(t));const{data:M,error:F}=await q.from("menu_analytics").select("visit_type, visited_at").in("menu_id",E).gte("visited_at",P.toISOString()).lte("visited_at",C.toISOString()).order("visited_at",{ascending:!0});if(F){i([]);return}const Y={};for(let H=new Date(P);H<=C;H.setDate(H.getDate()+1)){const K=H.toISOString().split("T")[0];Y[K]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}M==null||M.forEach(H=>{const K=H.visited_at.split("T")[0];Y[K]&&(Y[K][H.visit_type]++,Y[K].total++)});const ie=Object.entries(Y).map(([H,K])=>({date:H,qr_scan:K.qr_scan,gmb:K.gmb,direct_link:K.direct_link,share:K.share,total:K.total})).sort((H,K)=>new Date(H.date).getTime()-new Date(K.date).getTime());i(ie)}catch(_){console.error("Error loading trend data:",_),i([])}finally{s(!1)}}},S=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:_,error:N}=await q.from("menus").select("id").eq("user_id",e.id);if(N||!_||_.length===0){c(Q=>Q.map(R=>({...R,value:"0",change:"Aucune donnée"}))),d(!1);return}const E=_.map(Q=>Q.id),C=new Date,P=new Date(C.getFullYear(),C.getMonth(),C.getDate()),M=new Date(P);M.setDate(M.getDate()-7);const F=[q.from("menu_analytics").select("id").in("menu_id",E),q.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","qr_scan"),q.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","gmb"),q.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","qr_scan").gte("visited_at",P.toISOString()),q.from("menu_analytics").select("id").in("menu_id",E).eq("visit_type","gmb").gte("visited_at",P.toISOString()),q.from("menu_analytics").select("id").in("menu_id",E).gte("visited_at",M.toISOString())],Y=await Promise.allSettled(F),ie=Y[0].status==="fulfilled"?Y[0].value.data:[],H=Y[1].status==="fulfilled"?Y[1].value.data:[],K=Y[2].status==="fulfilled"?Y[2].value.data:[],U=Y[3].status==="fulfilled"?Y[3].value.data:[],O=Y[4].status==="fulfilled"?Y[4].value.data:[],D=Y[5].status==="fulfilled"?Y[5].value.data:[],W=(ie==null?void 0:ie.length)||0,L=(H==null?void 0:H.length)||0,le=(K==null?void 0:K.length)||0,A=(U==null?void 0:U.length)||0,V=(O==null?void 0:O.length)||0,ee=(D==null?void 0:D.length)||0,B=W-L-le;c([{icon:za,label:"Scans QR Code",value:L.toString(),change:A>0?`+${A} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:Hy,label:"Visites GMB",value:le.toString(),change:V>0?`+${V} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:Tr,label:"Vues directes",value:B.toString(),change:B>0?`${B} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:Ky,label:"Total des vues",value:W.toString(),change:`${L} QR + ${le} GMB + ${B} directes`,color:"text-purple-600"}])}catch(_){console.error("Error loading stats:",_),c(N=>N.map(E=>({...E,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},k=async()=>{if(e)try{const{data:_,error:N}=await q.from("menus").select("nom, slug").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(N||!_)return;const{data:E}=await q.from("restaurant_profiles").select("name").eq("user_id",e.id).maybeSingle(),C=(E==null?void 0:E.name)||_.nom||"Mon Restaurant",P=_.slug||_.nom;w(C),g(P);const M=`${window.location.origin}/menu/${P}?source=qr_scan`;if(p.current){await fi.toCanvas(p.current,M,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const F=p.current.toDataURL();v(F)}}catch(_){console.error("Error loading QR code:",_)}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! 👋"}),l.jsx("p",{className:"text-gray-600",children:"Gérez facilement votre menu en ligne et offrez une expérience moderne à vos clients."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map((_,N)=>l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:_.label}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:_.value}),l.jsx("p",{className:`text-xs ${_.color} mt-1`,children:_.change})]}),l.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:l.jsx(_.icon,{size:24,className:_.color})})]})},N))})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[l.jsx("canvas",{ref:p,style:{display:"none"}}),m?l.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):l.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:l.jsx(za,{size:48,className:"text-gray-400"})})]})})})]}),l.jsx(sq,{data:n,loading:a,timeRange:t,onTimeRangeChange:r})]})},lq=()=>{const{user:e}=Qt(),[t,r]=x.useState(null),[n,i]=x.useState([]),[a,s]=x.useState(!0),[o,c]=x.useState(""),[u,d]=x.useState("all"),[f,h]=x.useState(null),[m,v]=x.useState("month"),[b,w]=x.useState(new Date);x.useEffect(()=>{e&&y()},[e]),x.useEffect(()=>{t&&g()},[t]);const y=async()=>{try{const{data:O,error:D}=await q.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if(D){console.error("Erreur lors du chargement du menu:",D);return}r(O)}catch(O){console.error("Erreur lors du chargement du menu:",O)}},g=async()=>{if(t){s(!0);try{const{data:O,error:D}=await q.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if(D){console.error("Erreur lors du chargement des réservations:",D);return}i(O||[])}catch(O){console.error("Erreur lors du chargement des réservations:",O)}finally{s(!1)}}},p=(O,D)=>{h({type:O,text:D}),setTimeout(()=>h(null),5e3)},j=async(O,D)=>{try{const{error:W}=await q.from("reservations").update({status:D,updated_at:new Date().toISOString()}).eq("id",O);if(W)throw W;i(le=>le.map(A=>A.id===O?{...A,status:D}:A)),p("success",`Réservation ${{confirmed:"confirmée",cancelled:"annulée",completed:"terminée",pending:"en attente"}[D]} avec succès`)}catch(W){console.error("Erreur lors de la mise à jour:",W),p("error","Erreur lors de la mise à jour")}},S=n.filter(O=>{const D=O.customer_name.toLowerCase().includes(o.toLowerCase())||O.customer_email.toLowerCase().includes(o.toLowerCase())||O.customer_phone.includes(o),W=u==="all"||O.status===u;return D&&W}),k=O=>{switch(O){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},_=O=>{switch(O){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},N=O=>{switch(O){case"pending":return"En attente";case"confirmed":return"Confirmée";case"cancelled":return"Annulée";case"completed":return"Terminée";default:return O}},E=O=>new Date(O).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=O=>O.slice(0,5),P=O=>{const D=O.toISOString().split("T")[0];return S.filter(W=>W.reservation_date===D)},M=O=>{const D=O.getFullYear(),W=O.getMonth(),L=new Date(D,W,1),le=new Date(L);le.setDate(le.getDate()-L.getDay());const A=[],V=new Date(le);for(let ee=0;ee<42;ee++)A.push(new Date(V)),V.setDate(V.getDate()+1);return A},F=O=>{const D=new Date(O);D.setDate(O.getDate()-O.getDay());const W=[];for(let L=0;L<7;L++){const le=new Date(D);le.setDate(D.getDate()+L),W.push(le)}return W},Y=O=>{const D=new Date(b);switch(m){case"day":D.setDate(D.getDate()+(O==="next"?1:-1));break;case"week":D.setDate(D.getDate()+(O==="next"?7:-7));break;case"month":D.setMonth(D.getMonth()+(O==="next"?1:-1));break}w(D)},ie=()=>{let O="";switch(m){case"day":O=b.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const D=new Date(b);D.setDate(b.getDate()-b.getDay());const W=new Date(D);W.setDate(D.getDate()+6),O=`${D.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${W.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":O=b.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("button",{onClick:()=>Y("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(g2,{size:20})}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:O}),l.jsx("button",{onClick:()=>Y("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx(bg,{size:20})})]})},H=()=>{const O=P(b),D=Array.from({length:14},(W,L)=>`${(L+8).toString().padStart(2,"0")}:00`);return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ie(),l.jsx("div",{className:"space-y-2",children:D.map(W=>{const L=O.filter(le=>le.reservation_time.startsWith(W.split(":")[0]));return l.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[l.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:W}),l.jsx("div",{className:"flex-1 ml-4",children:L.length>0?l.jsx("div",{className:"space-y-1",children:L.map(le=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${k(le.status)}`}),l.jsx("span",{className:"text-sm font-medium",children:le.customer_name}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",le.party_size," pers.)"]}),l.jsx("span",{className:"text-xs text-gray-500",children:C(le.reservation_time)})]},le.id))}):l.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},W)})})]})},K=()=>{const O=F(b),D=Array.from({length:14},(W,L)=>`${(L+8).toString().padStart(2,"0")}:00`);return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ie(),l.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[l.jsx("div",{className:"font-medium text-gray-600 p-2"}),O.map(W=>l.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[l.jsx("div",{children:W.toLocaleDateString("fr-FR",{weekday:"short"})}),l.jsx("div",{className:"text-lg",children:W.getDate()})]},W.toISOString())),D.map(W=>l.jsxs(Fw.Fragment,{children:[l.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:W}),O.map(L=>{const le=P(L).filter(A=>A.reservation_time.startsWith(W.split(":")[0]));return l.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:le.map(A=>l.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${k(A.status)}`,children:[l.jsx("div",{className:"font-medium truncate",children:A.customer_name}),l.jsxs("div",{children:[A.party_size,"p ",C(A.reservation_time)]})]},A.id))},`${L.toISOString()}-${W}`)})]},W))]})]})},U=()=>{const O=M(b),D=b.getMonth();return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[ie(),l.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(W=>l.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:W},W))}),l.jsx("div",{className:"grid grid-cols-7 gap-1",children:O.map(W=>{const L=W.getMonth()===D,le=P(W),A=W.toDateString()===new Date().toDateString();return l.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${L?"bg-white":"bg-gray-50"} ${A?"ring-2 ring-orange-500":""}`,children:[l.jsx("div",{className:`text-sm font-medium mb-1 ${L?"text-gray-900":"text-gray-400"}`,children:W.getDate()}),l.jsxs("div",{className:"space-y-1",children:[le.slice(0,3).map(V=>l.jsxs("div",{className:`text-xs p-1 rounded text-white ${k(V.status)}`,children:[l.jsx("div",{className:"font-medium truncate",children:V.customer_name}),l.jsx("div",{children:C(V.reservation_time)})]},V.id)),le.length>3&&l.jsxs("div",{className:"text-xs text-gray-500",children:["+",le.length-3," autres"]})]})]},W.toISOString())})})]})};return a&&!t?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?l.jsxs("div",{className:"space-y-6",children:[f&&l.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?l.jsx(st,{className:"w-5 h-5"}):l.jsx(qe,{className:"w-5 h-5"}),l.jsx("span",{children:f.text})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des réservations"}),l.jsx("p",{className:"text-gray-600",children:"Gérez les réservations de table de votre restaurant"})]}),l.jsx("div",{className:"flex items-center space-x-3",children:l.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[l.jsx(v2,{size:16}),l.jsx("span",{children:"Voir le menu"})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),l.jsx(Er,{className:"w-8 h-8 text-gray-400"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(O=>O.status==="pending").length})]}),l.jsx(Io,{className:"w-8 h-8 text-orange-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmées"}),l.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(O=>O.status==="confirmed").length})]}),l.jsx(st,{className:"w-8 h-8 text-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(O=>{const D=new Date(O.reservation_date),W=new Date,L=new Date(W);return L.setDate(W.getDate()+7),D>=W&&D<=L}).length})]}),l.jsx(Gy,{className:"w-8 h-8 text-blue-500"})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>v("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(ym,{size:16}),l.jsx("span",{children:"Liste"})]}),l.jsxs("button",{onClick:()=>v("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(YT,{size:16}),l.jsx("span",{children:"Jour"})]}),l.jsxs("button",{onClick:()=>v("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(tM,{size:16}),l.jsx("span",{children:"Semaine"})]}),l.jsxs("button",{onClick:()=>v("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[l.jsx(Er,{size:16}),l.jsx("span",{children:"Mois"})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(uM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Rechercher...",value:o,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),l.jsx("div",{className:"sm:w-48",children:l.jsxs("div",{className:"relative",children:[l.jsx(eM,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[l.jsx("option",{value:"all",children:"Tous les statuts"}),l.jsx("option",{value:"pending",children:"En attente"}),l.jsx("option",{value:"confirmed",children:"Confirmées"}),l.jsx("option",{value:"cancelled",children:"Annulées"}),l.jsx("option",{value:"completed",children:"Terminées"})]})]})})]})]})}),m!=="list"&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Légende des couleurs"}),l.jsxs("div",{className:"flex flex-wrap gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Confirmée"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Annulée"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Terminée"})]})]})]}),m==="day"&&H(),m==="week"&&K(),m==="month"&&U(),m==="list"&&l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:a?l.jsx("div",{className:"p-8 text-center",children:l.jsx("div",{className:"text-gray-600",children:"Chargement des réservations..."})}):S.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune réservation":"Aucun résultat"}),l.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des réservations via votre menu en ligne.":"Aucune réservation ne correspond à vos critères de recherche."}),n.length===0&&l.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["💡 ",l.jsx("strong",{children:"Comment ça marche :"}),' Un bouton "Réserver une table" sera automatiquement ajouté à votre menu en ligne. Les clients pourront faire des réservations directement depuis votre menu.']})})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:S.map(O=>l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.customer_name}),l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${_(O.status)}`,children:N(O.status)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Er,{className:"w-4 h-4"}),l.jsx("span",{children:E(O.reservation_date)})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Io,{className:"w-4 h-4"}),l.jsx("span",{children:C(O.reservation_time)})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Gy,{className:"w-4 h-4"}),l.jsxs("span",{children:[O.party_size," personne",O.party_size>1?"s":""]})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[l.jsx(Vr,{className:"w-4 h-4"}),l.jsx("span",{children:O.customer_phone})]})]}),O.customer_email&&l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[l.jsx(xm,{className:"w-4 h-4"}),l.jsx("span",{children:O.customer_email})]}),O.special_requests&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spéciales :"}),l.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:O.special_requests})]})]}),O.status==="pending"&&l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>j(O.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[l.jsx(st,{size:14}),l.jsx("span",{children:"Confirmer"})]}),l.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[l.jsx(qe,{size:14}),l.jsx("span",{children:"Annuler"})]})]}),O.status==="confirmed"&&l.jsxs("div",{className:"flex space-x-2 ml-4",children:[l.jsxs("button",{onClick:()=>j(O.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[l.jsx(st,{size:14}),l.jsx("span",{children:"Terminer"})]}),l.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[l.jsx(qe,{size:14}),l.jsx("span",{children:"Annuler"})]})]})]})},O.id))})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Er,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir gérer les réservations."}),l.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller à la configuration"})]})};function cq(){const{loading:e,user:t}=Qt();return e?l.jsx(na,{fullScreen:!0}):l.jsx(N4,{children:l.jsxs(r4,{children:[l.jsx(rt,{path:"/onboarding",element:l.jsx($4,{})}),l.jsx(rt,{path:"/reset-password",element:l.jsx(U4,{})}),l.jsx(rt,{path:"/m/:slug",element:l.jsx(I3,{})}),l.jsx(rt,{path:"/m/:slug/:menuSlug",element:l.jsx(D3,{})}),l.jsx(rt,{path:"/m/:slug/reservation",element:l.jsx(R3,{})}),l.jsx(rt,{path:"/m/:slug/contact",element:l.jsx(L3,{})}),l.jsx(rt,{path:"/",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"accueil",children:l.jsx(oq,{})})})}),l.jsx(rt,{path:"/mes-menus",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"mes-menus",children:l.jsx(W4,{})})})}),l.jsx(rt,{path:"/mon-menu/nouveau",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"mes-menus",children:l.jsx(ex,{})})})}),l.jsx(rt,{path:"/mon-menu/:menuId",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"mes-menus",children:l.jsx(ex,{})})})}),l.jsx(rt,{path:"/categories/:menuId",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"mes-menus",children:l.jsx(F4,{})})})}),l.jsx(rt,{path:"/import-ai/:menuId",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"mes-menus",children:l.jsx(q4,{})})})}),l.jsx(rt,{path:"/identite-visuelle",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"identite-visuelle",children:l.jsx($3,{})})})}),l.jsx(rt,{path:"/qr-code",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"qr-code",children:l.jsx(T3,{})})})}),l.jsx(rt,{path:"/account-settings",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"account-settings",children:l.jsx(z4,{})})})}),l.jsx(rt,{path:"/reservations",element:l.jsx(zr,{children:l.jsx(jr,{currentPage:"reservations",children:l.jsx(lq,{})})})})]})})}Hj(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(fM,{children:l.jsx(WT,{children:l.jsx(cq,{})})})}));
