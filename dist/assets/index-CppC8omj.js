var bC=Object.defineProperty;var wC=(e,t,r)=>t in e?bC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Nf=(e,t,r)=>wC(e,typeof t!="symbol"?t+"":t,r);function jC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _C(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var s1={exports:{}},pd={},o1={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=Symbol.for("react.element"),kC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),CC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),OC=Symbol.for("react.forward_ref"),AC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),MC=Symbol.for("react.lazy"),Hv=Symbol.iterator;function IC(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var l1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c1=Object.assign,u1={};function Ds(e,t,r){this.props=e,this.context=t,this.refs=u1,this.updater=r||l1}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d1(){}d1.prototype=Ds.prototype;function Kp(e,t,r){this.props=e,this.context=t,this.refs=u1,this.updater=r||l1}var Gp=Kp.prototype=new d1;Gp.constructor=Kp;c1(Gp,Ds.prototype);Gp.isPureReactComponent=!0;var Kv=Array.isArray,f1=Object.prototype.hasOwnProperty,Yp={current:null},h1={key:!0,ref:!0,__self:!0,__source:!0};function m1(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)f1.call(t,n)&&!h1.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:_l,type:e,key:i,ref:s,props:a,_owner:Yp.current}}function DC(e,t){return{$$typeof:_l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qp(e){return typeof e=="object"&&e!==null&&e.$$typeof===_l}function $C(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gv=/\/+/g;function Sf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$C(""+e.key):t.toString(36)}function Uc(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _l:case kC:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Sf(s,0):n,Kv(a)?(r="",e!=null&&(r=e.replace(Gv,"$&/")+"/"),Uc(a,t,r,"",function(u){return u})):a!=null&&(Qp(a)&&(a=DC(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Gv,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Kv(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Sf(i,l);s+=Uc(i,t,r,c,a)}else if(c=IC(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Sf(i,l++),s+=Uc(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function tc(e,t,r){if(e==null)return e;var n=[],a=0;return Uc(e,n,"","",function(i){return t.call(r,i,a++)}),n}function LC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},Bc={transition:null},RC={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Bc,ReactCurrentOwner:Yp};function p1(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:tc,forEach:function(e,t,r){tc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return tc(e,function(){t++}),t},toArray:function(e){return tc(e,function(t){return t})||[]},only:function(e){if(!Qp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Ds;me.Fragment=NC;me.Profiler=EC;me.PureComponent=Kp;me.StrictMode=SC;me.Suspense=AC;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RC;me.act=p1;me.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=c1({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Yp.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)f1.call(t,c)&&!h1.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_l,type:e.type,key:a,ref:i,props:n,_owner:s}};me.createContext=function(e){return e={$$typeof:PC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:CC,_context:e},e.Consumer=e};me.createElement=m1;me.createFactory=function(e){var t=m1.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:OC,render:e}};me.isValidElement=Qp;me.lazy=function(e){return{$$typeof:MC,_payload:{_status:-1,_result:e},_init:LC}};me.memo=function(e,t){return{$$typeof:TC,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=Bc.transition;Bc.transition={};try{e()}finally{Bc.transition=t}};me.unstable_act=p1;me.useCallback=function(e,t){return Lt.current.useCallback(e,t)};me.useContext=function(e){return Lt.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};me.useEffect=function(e,t){return Lt.current.useEffect(e,t)};me.useId=function(){return Lt.current.useId()};me.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};me.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Lt.current.useMemo(e,t)};me.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};me.useRef=function(e){return Lt.current.useRef(e)};me.useState=function(e){return Lt.current.useState(e)};me.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};me.useTransition=function(){return Lt.current.useTransition()};me.version="18.3.1";o1.exports=me;var v=o1.exports;const g1=Ca(v),zC=jC({__proto__:null,default:g1},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=v,BC=Symbol.for("react.element"),FC=Symbol.for("react.fragment"),qC=Object.prototype.hasOwnProperty,WC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VC={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qC.call(t,n)&&!VC.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BC,type:e,key:i,ref:s,props:a,_owner:WC.current}}pd.Fragment=FC;pd.jsx=v1;pd.jsxs=v1;s1.exports=pd;var o=s1.exports,y1={exports:{}},cr={},x1={exports:{}},b1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,O){var L=B.length;B.push(O);e:for(;0<L;){var U=L-1>>>1,q=B[U];if(0<a(q,O))B[U]=O,B[L]=q,L=U;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var O=B[0],L=B.pop();if(L!==O){B[0]=L;e:for(var U=0,q=B.length,ce=q>>>1;U<ce;){var fe=2*(U+1)-1,pe=B[fe],De=fe+1,ie=B[De];if(0>a(pe,L))De<q&&0>a(ie,pe)?(B[U]=ie,B[De]=L,U=De):(B[U]=pe,B[fe]=L,U=fe);else if(De<q&&0>a(ie,L))B[U]=ie,B[De]=L,U=De;else break e}}return O}function a(B,O){var L=B.sortIndex-O.sortIndex;return L!==0?L:B.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=B)n(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=r(u)}}function j(B){if(x=!1,g(B),!y)if(r(c)!==null)y=!0,Q(_);else{var O=r(u);O!==null&&Y(j,O.startTime-B)}}function _(B,O){y=!1,x&&(x=!1,b(E),E=-1),m=!0;var L=h;try{for(g(O),f=r(c);f!==null&&(!(f.expirationTime>O)||B&&!P());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var q=U(f.expirationTime<=O);O=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),g(O)}else n(c);f=r(c)}if(f!==null)var ce=!0;else{var fe=r(u);fe!==null&&Y(j,fe.startTime-O),ce=!1}return ce}finally{f=null,h=L,m=!1}}var N=!1,k=null,E=-1,S=5,C=-1;function P(){return!(e.unstable_now()-C<S)}function M(){if(k!==null){var B=e.unstable_now();C=B;var O=!0;try{O=k(!0,B)}finally{O?$():(N=!1,k=null)}}else N=!1}var $;if(typeof p=="function")$=function(){p(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,W=I.port2;I.port1.onmessage=M,$=function(){W.postMessage(null)}}else $=function(){w(M,0)};function Q(B){k=B,N||(N=!0,$())}function Y(B,O){E=w(function(){B(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,Q(_))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var L=h;h=O;try{return B()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,O){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var L=h;h=B;try{return O()}finally{h=L}},e.unstable_scheduleCallback=function(B,O,L){var U=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,B){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=L+q,B={id:d++,callback:O,priorityLevel:B,startTime:L,expirationTime:q,sortIndex:-1},L>U?(B.sortIndex=L,t(u,B),r(c)===null&&B===r(u)&&(x?(b(E),E=-1):x=!0,Y(j,L-U))):(B.sortIndex=q,t(c,B),y||m||(y=!0,Q(_))),B},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(B){var O=h;return function(){var L=h;h=O;try{return B.apply(this,arguments)}finally{h=L}}}})(b1);x1.exports=b1;var HC=x1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC=v,or=HC;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w1=new Set,Fo={};function wi(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(Fo[e]=t,e=0;e<t.length;e++)w1.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=Object.prototype.hasOwnProperty,GC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Qv={};function YC(e){return zh.call(Qv,e)?!0:zh.call(Yv,e)?!1:GC.test(e)?Qv[e]=!0:(Yv[e]=!0,!1)}function QC(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function JC(e,t,r,n){if(t===null||typeof t>"u"||QC(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Rt(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jp=/[\-:]([a-z])/g;function Xp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jp,Xp);wt[t]=new Rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jp,Xp);wt[t]=new Rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jp,Xp);wt[t]=new Rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zp(e,t,r,n){var a=wt.hasOwnProperty(t)?wt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(JC(t,r,a,n)&&(r=null),n||a===null?YC(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qn=KC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),Uh=Symbol.for("react.profiler"),j1=Symbol.for("react.provider"),_1=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Fh=Symbol.for("react.suspense_list"),rg=Symbol.for("react.memo"),ta=Symbol.for("react.lazy"),k1=Symbol.for("react.offscreen"),Jv=Symbol.iterator;function eo(e){return e===null||typeof e!="object"?null:(e=Jv&&e[Jv]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Ef;function xo(e){if(Ef===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ef=t&&t[1]||""}return`
`+Ef+e}var Cf=!1;function Pf(e,t){if(!e||Cf)return"";Cf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Cf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xo(e):""}function XC(e){switch(e.tag){case 5:return xo(e.type);case 16:return xo("Lazy");case 13:return xo("Suspense");case 19:return xo("SuspenseList");case 0:case 2:case 15:return e=Pf(e.type,!1),e;case 11:return e=Pf(e.type.render,!1),e;case 1:return e=Pf(e.type,!0),e;default:return""}}function qh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bi:return"Fragment";case Ui:return"Portal";case Uh:return"Profiler";case eg:return"StrictMode";case Bh:return"Suspense";case Fh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _1:return(e.displayName||"Context")+".Consumer";case j1:return(e._context.displayName||"Context")+".Provider";case tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rg:return t=e.displayName||null,t!==null?t:qh(e.type)||"Memo";case ta:t=e._payload,e=e._init;try{return qh(e(t))}catch{}}return null}function ZC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(t);case 8:return t===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _a(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eP(e){var t=N1(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nc(e){e._valueTracker||(e._valueTracker=eP(e))}function S1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N1(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function nu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wh(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Xv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_a(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E1(e,t){t=t.checked,t!=null&&Zp(e,"checked",t,!1)}function Vh(e,t){E1(e,t);var r=_a(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hh(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hh(e,t.type,_a(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Zv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hh(e,t,r){(t!=="number"||nu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bo=Array.isArray;function Zi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_a(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Kh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ey(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(K(92));if(bo(r)){if(1<r.length)throw Error(K(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_a(r)}}function C1(e,t){var r=_a(t.value),n=_a(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function P1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?P1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ac,O1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ac=ac||document.createElement("div"),ac.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ac.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tP=["Webkit","ms","Moz","O"];Object.keys(Eo).forEach(function(e){tP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eo[t]=Eo[e]})});function A1(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Eo.hasOwnProperty(e)&&Eo[e]?(""+t).trim():t+"px"}function T1(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=A1(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var rP=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yh(e,t){if(t){if(rP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Qh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=null;function ng(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xh=null,es=null,ts=null;function ry(e){if(e=Sl(e)){if(typeof Xh!="function")throw Error(K(280));var t=e.stateNode;t&&(t=bd(t),Xh(e.stateNode,e.type,t))}}function M1(e){es?ts?ts.push(e):ts=[e]:es=e}function I1(){if(es){var e=es,t=ts;if(ts=es=null,ry(e),t)for(e=0;e<t.length;e++)ry(t[e])}}function D1(e,t){return e(t)}function $1(){}var Of=!1;function L1(e,t,r){if(Of)return e(t,r);Of=!0;try{return D1(e,t,r)}finally{Of=!1,(es!==null||ts!==null)&&($1(),I1())}}function Wo(e,t){var r=e.stateNode;if(r===null)return null;var n=bd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(K(231,t,typeof r));return r}var Zh=!1;if(Mn)try{var to={};Object.defineProperty(to,"passive",{get:function(){Zh=!0}}),window.addEventListener("test",to,to),window.removeEventListener("test",to,to)}catch{Zh=!1}function nP(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Co=!1,au=null,iu=!1,em=null,aP={onError:function(e){Co=!0,au=e}};function iP(e,t,r,n,a,i,s,l,c){Co=!1,au=null,nP.apply(aP,arguments)}function sP(e,t,r,n,a,i,s,l,c){if(iP.apply(this,arguments),Co){if(Co){var u=au;Co=!1,au=null}else throw Error(K(198));iu||(iu=!0,em=u)}}function ji(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ny(e){if(ji(e)!==e)throw Error(K(188))}function oP(e){var t=e.alternate;if(!t){if(t=ji(e),t===null)throw Error(K(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return ny(a),e;if(i===n)return ny(a),t;i=i.sibling}throw Error(K(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(K(189))}}if(r.alternate!==n)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?e:t}function z1(e){return e=oP(e),e!==null?U1(e):null}function U1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U1(e);if(t!==null)return t;e=e.sibling}return null}var B1=or.unstable_scheduleCallback,ay=or.unstable_cancelCallback,lP=or.unstable_shouldYield,cP=or.unstable_requestPaint,Ge=or.unstable_now,uP=or.unstable_getCurrentPriorityLevel,ag=or.unstable_ImmediatePriority,F1=or.unstable_UserBlockingPriority,su=or.unstable_NormalPriority,dP=or.unstable_LowPriority,q1=or.unstable_IdlePriority,gd=null,ln=null;function fP(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(gd,e,void 0,(e.current.flags&128)===128)}catch{}}var Kr=Math.clz32?Math.clz32:pP,hP=Math.log,mP=Math.LN2;function pP(e){return e>>>=0,e===0?32:31-(hP(e)/mP|0)|0}var ic=64,sc=4194304;function wo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ou(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=wo(l):(i&=s,i!==0&&(n=wo(i)))}else s=r&~a,s!==0?n=wo(s):i!==0&&(n=wo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Kr(t),a=1<<r,n|=e[r],t&=~a;return n}function gP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Kr(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=gP(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function tm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function W1(){var e=ic;return ic<<=1,!(ic&4194240)&&(ic=64),e}function Af(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function kl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kr(t),e[t]=r}function yP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Kr(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ig(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Kr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _e=0;function V1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var H1,sg,K1,G1,Y1,rm=!1,oc=[],ma=null,pa=null,ga=null,Vo=new Map,Ho=new Map,sa=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(e,t){switch(e){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(t.pointerId)}}function ro(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Sl(t),t!==null&&sg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function bP(e,t,r,n,a){switch(t){case"focusin":return ma=ro(ma,e,t,r,n,a),!0;case"dragenter":return pa=ro(pa,e,t,r,n,a),!0;case"mouseover":return ga=ro(ga,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Vo.set(i,ro(Vo.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ho.set(i,ro(Ho.get(i)||null,e,t,r,n,a)),!0}return!1}function Q1(e){var t=Ya(e.target);if(t!==null){var r=ji(t);if(r!==null){if(t=r.tag,t===13){if(t=R1(r),t!==null){e.blockedOn=t,Y1(e.priority,function(){K1(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jh=n,r.target.dispatchEvent(n),Jh=null}else return t=Sl(r),t!==null&&sg(t),e.blockedOn=r,!1;t.shift()}return!0}function sy(e,t,r){Fc(e)&&r.delete(t)}function wP(){rm=!1,ma!==null&&Fc(ma)&&(ma=null),pa!==null&&Fc(pa)&&(pa=null),ga!==null&&Fc(ga)&&(ga=null),Vo.forEach(sy),Ho.forEach(sy)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,rm||(rm=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,wP)))}function Ko(e){function t(a){return no(a,e)}if(0<oc.length){no(oc[0],e);for(var r=1;r<oc.length;r++){var n=oc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ma!==null&&no(ma,e),pa!==null&&no(pa,e),ga!==null&&no(ga,e),Vo.forEach(t),Ho.forEach(t),r=0;r<sa.length;r++)n=sa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<sa.length&&(r=sa[0],r.blockedOn===null);)Q1(r),r.blockedOn===null&&sa.shift()}var rs=qn.ReactCurrentBatchConfig,lu=!0;function jP(e,t,r,n){var a=_e,i=rs.transition;rs.transition=null;try{_e=1,og(e,t,r,n)}finally{_e=a,rs.transition=i}}function _P(e,t,r,n){var a=_e,i=rs.transition;rs.transition=null;try{_e=4,og(e,t,r,n)}finally{_e=a,rs.transition=i}}function og(e,t,r,n){if(lu){var a=nm(e,t,r,n);if(a===null)Bf(e,t,n,cu,r),iy(e,n);else if(bP(a,e,t,r,n))n.stopPropagation();else if(iy(e,n),t&4&&-1<xP.indexOf(e)){for(;a!==null;){var i=Sl(a);if(i!==null&&H1(i),i=nm(e,t,r,n),i===null&&Bf(e,t,n,cu,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Bf(e,t,n,null,r)}}var cu=null;function nm(e,t,r,n){if(cu=null,e=ng(n),e=Ya(e),e!==null)if(t=ji(e),t===null)e=null;else if(r=t.tag,r===13){if(e=R1(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cu=e,null}function J1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uP()){case ag:return 1;case F1:return 4;case su:case dP:return 16;case q1:return 536870912;default:return 16}default:return 16}}var ua=null,lg=null,qc=null;function X1(){if(qc)return qc;var e,t=lg,r=t.length,n,a="value"in ua?ua.value:ua.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return qc=a.slice(e,1<n?1-n:void 0)}function Wc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lc(){return!0}function oy(){return!1}function ur(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?lc:oy,this.isPropagationStopped=oy,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lc)},persist:function(){},isPersistent:lc}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=ur($s),Nl=Fe({},$s,{view:0,detail:0}),kP=ur(Nl),Tf,Mf,ao,vd=Fe({},Nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(Tf=e.screenX-ao.screenX,Mf=e.screenY-ao.screenY):Mf=Tf=0,ao=e),Tf)},movementY:function(e){return"movementY"in e?e.movementY:Mf}}),ly=ur(vd),NP=Fe({},vd,{dataTransfer:0}),SP=ur(NP),EP=Fe({},Nl,{relatedTarget:0}),If=ur(EP),CP=Fe({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),PP=ur(CP),OP=Fe({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),AP=ur(OP),TP=Fe({},$s,{data:0}),cy=ur(TP),MP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $P(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=DP[e])?!!t[e]:!1}function ug(){return $P}var LP=Fe({},Nl,{key:function(e){if(e.key){var t=MP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?IP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(e){return e.type==="keypress"?Wc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RP=ur(LP),zP=Fe({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=ur(zP),UP=Fe({},Nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),BP=ur(UP),FP=Fe({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),qP=ur(FP),WP=Fe({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),VP=ur(WP),HP=[9,13,27,32],dg=Mn&&"CompositionEvent"in window,Po=null;Mn&&"documentMode"in document&&(Po=document.documentMode);var KP=Mn&&"TextEvent"in window&&!Po,Z1=Mn&&(!dg||Po&&8<Po&&11>=Po),dy=" ",fy=!1;function ej(e,t){switch(e){case"keyup":return HP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function GP(e,t){switch(e){case"compositionend":return tj(t);case"keypress":return t.which!==32?null:(fy=!0,dy);case"textInput":return e=t.data,e===dy&&fy?null:e;default:return null}}function YP(e,t){if(Fi)return e==="compositionend"||!dg&&ej(e,t)?(e=X1(),qc=lg=ua=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Z1&&t.locale!=="ko"?null:t.data;default:return null}}var QP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!QP[e.type]:t==="textarea"}function rj(e,t,r,n){M1(n),t=uu(t,"onChange"),0<t.length&&(r=new cg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Oo=null,Go=null;function JP(e){hj(e,0)}function yd(e){var t=Vi(e);if(S1(t))return e}function XP(e,t){if(e==="change")return t}var nj=!1;if(Mn){var Df;if(Mn){var $f="oninput"in document;if(!$f){var my=document.createElement("div");my.setAttribute("oninput","return;"),$f=typeof my.oninput=="function"}Df=$f}else Df=!1;nj=Df&&(!document.documentMode||9<document.documentMode)}function py(){Oo&&(Oo.detachEvent("onpropertychange",aj),Go=Oo=null)}function aj(e){if(e.propertyName==="value"&&yd(Go)){var t=[];rj(t,Go,e,ng(e)),L1(JP,t)}}function ZP(e,t,r){e==="focusin"?(py(),Oo=t,Go=r,Oo.attachEvent("onpropertychange",aj)):e==="focusout"&&py()}function eO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yd(Go)}function tO(e,t){if(e==="click")return yd(t)}function rO(e,t){if(e==="input"||e==="change")return yd(t)}function nO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:nO;function Yo(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!zh.call(t,a)||!Yr(e[a],t[a]))return!1}return!0}function gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vy(e,t){var r=gy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gy(r)}}function ij(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ij(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sj(){for(var e=window,t=nu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nu(e.document)}return t}function fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aO(e){var t=sj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ij(r.ownerDocument.documentElement,r)){if(n!==null&&fg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=vy(r,i);var s=vy(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iO=Mn&&"documentMode"in document&&11>=document.documentMode,qi=null,am=null,Ao=null,im=!1;function yy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;im||qi==null||qi!==nu(n)||(n=qi,"selectionStart"in n&&fg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ao&&Yo(Ao,n)||(Ao=n,n=uu(am,"onSelect"),0<n.length&&(t=new cg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qi)))}function cc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wi={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Lf={},oj={};Mn&&(oj=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function xd(e){if(Lf[e])return Lf[e];if(!Wi[e])return e;var t=Wi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in oj)return Lf[e]=t[r];return e}var lj=xd("animationend"),cj=xd("animationiteration"),uj=xd("animationstart"),dj=xd("transitionend"),fj=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(e,t){fj.set(e,t),wi(t,[e])}for(var Rf=0;Rf<xy.length;Rf++){var zf=xy[Rf],sO=zf.toLowerCase(),oO=zf[0].toUpperCase()+zf.slice(1);Pa(sO,"on"+oO)}Pa(lj,"onAnimationEnd");Pa(cj,"onAnimationIteration");Pa(uj,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(dj,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lO=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function by(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,sP(n,t,void 0,e),e.currentTarget=null}function hj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;by(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;by(a,l,u),i=c}}}if(iu)throw e=em,iu=!1,em=null,e}function Ae(e,t){var r=t[um];r===void 0&&(r=t[um]=new Set);var n=e+"__bubble";r.has(n)||(mj(t,e,2,!1),r.add(n))}function Uf(e,t,r){var n=0;t&&(n|=4),mj(r,e,n,t)}var uc="_reactListening"+Math.random().toString(36).slice(2);function Qo(e){if(!e[uc]){e[uc]=!0,w1.forEach(function(r){r!=="selectionchange"&&(lO.has(r)||Uf(r,!1,e),Uf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uc]||(t[uc]=!0,Uf("selectionchange",!1,t))}}function mj(e,t,r,n){switch(J1(t)){case 1:var a=jP;break;case 4:a=_P;break;default:a=og}r=a.bind(null,t,r,e),a=void 0,!Zh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Bf(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=Ya(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}L1(function(){var u=i,d=ng(r),f=[];e:{var h=fj.get(e);if(h!==void 0){var m=cg,y=e;switch(e){case"keypress":if(Wc(r)===0)break e;case"keydown":case"keyup":m=RP;break;case"focusin":y="focus",m=If;break;case"focusout":y="blur",m=If;break;case"beforeblur":case"afterblur":m=If;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=SP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=BP;break;case lj:case cj:case uj:m=PP;break;case dj:m=qP;break;case"scroll":m=kP;break;case"wheel":m=VP;break;case"copy":case"cut":case"paste":m=AP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uy}var x=(t&4)!==0,w=!x&&e==="scroll",b=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,g;p!==null;){g=p;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,b!==null&&(j=Wo(p,b),j!=null&&x.push(Jo(p,j,g)))),w)break;p=p.return}0<x.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Jh&&(y=r.relatedTarget||r.fromElement)&&(Ya(y)||y[In]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Ya(y):null,y!==null&&(w=ji(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(x=ly,j="onMouseLeave",b="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=uy,j="onPointerLeave",b="onPointerEnter",p="pointer"),w=m==null?h:Vi(m),g=y==null?h:Vi(y),h=new x(j,p+"leave",m,r,d),h.target=w,h.relatedTarget=g,j=null,Ya(d)===u&&(x=new x(b,p+"enter",y,r,d),x.target=g,x.relatedTarget=w,j=x),w=j,m&&y)t:{for(x=m,b=y,p=0,g=x;g;g=Oi(g))p++;for(g=0,j=b;j;j=Oi(j))g++;for(;0<p-g;)x=Oi(x),p--;for(;0<g-p;)b=Oi(b),g--;for(;p--;){if(x===b||b!==null&&x===b.alternate)break t;x=Oi(x),b=Oi(b)}x=null}else x=null;m!==null&&wy(f,h,m,x,!1),y!==null&&w!==null&&wy(f,w,y,x,!0)}}e:{if(h=u?Vi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=XP;else if(hy(h))if(nj)_=rO;else{_=eO;var N=ZP}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=tO);if(_&&(_=_(e,u))){rj(f,_,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Hh(h,"number",h.value)}switch(N=u?Vi(u):window,e){case"focusin":(hy(N)||N.contentEditable==="true")&&(qi=N,am=u,Ao=null);break;case"focusout":Ao=am=qi=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,yy(f,r,d);break;case"selectionchange":if(iO)break;case"keydown":case"keyup":yy(f,r,d)}var k;if(dg)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Fi?ej(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Z1&&r.locale!=="ko"&&(Fi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Fi&&(k=X1()):(ua=d,lg="value"in ua?ua.value:ua.textContent,Fi=!0)),N=uu(u,E),0<N.length&&(E=new cy(E,e,null,r,d),f.push({event:E,listeners:N}),k?E.data=k:(k=tj(r),k!==null&&(E.data=k)))),(k=KP?GP(e,r):YP(e,r))&&(u=uu(u,"onBeforeInput"),0<u.length&&(d=new cy("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}hj(f,t)})}function Jo(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uu(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wo(e,r),i!=null&&n.unshift(Jo(e,i,a)),i=Wo(e,t),i!=null&&n.push(Jo(e,i,a))),e=e.return}return n}function Oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wy(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wo(r,i),c!=null&&s.unshift(Jo(r,c,l))):a||(c=Wo(r,i),c!=null&&s.push(Jo(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var cO=/\r\n?/g,uO=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(cO,`
`).replace(uO,"")}function dc(e,t,r){if(t=jy(t),jy(e)!==t&&r)throw Error(K(425))}function du(){}var sm=null,om=null;function lm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cm=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,fO=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(e){return _y.resolve(null).then(e).catch(hO)}:cm;function hO(e){setTimeout(function(){throw e})}function Ff(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ko(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ko(t)}function va(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ky(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ls,Xo="__reactProps$"+Ls,In="__reactContainer$"+Ls,um="__reactEvents$"+Ls,mO="__reactListeners$"+Ls,pO="__reactHandles$"+Ls;function Ya(e){var t=e[sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[In]||r[sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ky(e);e!==null;){if(r=e[sn])return r;e=ky(e)}return t}e=r,r=e.parentNode}return null}function Sl(e){return e=e[sn]||e[In],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function bd(e){return e[Xo]||null}var dm=[],Hi=-1;function Oa(e){return{current:e}}function Me(e){0>Hi||(e.current=dm[Hi],dm[Hi]=null,Hi--)}function Pe(e,t){Hi++,dm[Hi]=e.current,e.current=t}var ka={},Ot=Oa(ka),Ht=Oa(!1),ci=ka;function ds(e,t){var r=e.type.contextTypes;if(!r)return ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Kt(e){return e=e.childContextTypes,e!=null}function fu(){Me(Ht),Me(Ot)}function Ny(e,t,r){if(Ot.current!==ka)throw Error(K(168));Pe(Ot,t),Pe(Ht,r)}function pj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(K(108,ZC(e)||"Unknown",a));return Fe({},r,n)}function hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ka,ci=Ot.current,Pe(Ot,e),Pe(Ht,Ht.current),!0}function Sy(e,t,r){var n=e.stateNode;if(!n)throw Error(K(169));r?(e=pj(e,t,ci),n.__reactInternalMemoizedMergedChildContext=e,Me(Ht),Me(Ot),Pe(Ot,e)):Me(Ht),Pe(Ht,r)}var wn=null,wd=!1,qf=!1;function gj(e){wn===null?wn=[e]:wn.push(e)}function gO(e){wd=!0,gj(e)}function Aa(){if(!qf&&wn!==null){qf=!0;var e=0,t=_e;try{var r=wn;for(_e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}wn=null,wd=!1}catch(a){throw wn!==null&&(wn=wn.slice(e+1)),B1(ag,Aa),a}finally{_e=t,qf=!1}}return null}var Ki=[],Gi=0,mu=null,pu=0,xr=[],br=0,ui=null,Nn=1,Sn="";function Fa(e,t){Ki[Gi++]=pu,Ki[Gi++]=mu,mu=e,pu=t}function vj(e,t,r){xr[br++]=Nn,xr[br++]=Sn,xr[br++]=ui,ui=e;var n=Nn;e=Sn;var a=32-Kr(n)-1;n&=~(1<<a),r+=1;var i=32-Kr(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Nn=1<<32-Kr(t)+a|r<<a|n,Sn=i+e}else Nn=1<<i|r<<a|n,Sn=e}function hg(e){e.return!==null&&(Fa(e,1),vj(e,1,0))}function mg(e){for(;e===mu;)mu=Ki[--Gi],Ki[Gi]=null,pu=Ki[--Gi],Ki[Gi]=null;for(;e===ui;)ui=xr[--br],xr[br]=null,Sn=xr[--br],xr[br]=null,Nn=xr[--br],xr[br]=null}var ir=null,ar=null,$e=!1,qr=null;function yj(e,t){var r=jr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ey(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ir=e,ar=va(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ir=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ui!==null?{id:Nn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=jr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ir=e,ar=null,!0):!1;default:return!1}}function fm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hm(e){if($e){var t=ar;if(t){var r=t;if(!Ey(e,t)){if(fm(e))throw Error(K(418));t=va(r.nextSibling);var n=ir;t&&Ey(e,t)?yj(n,r):(e.flags=e.flags&-4097|2,$e=!1,ir=e)}}else{if(fm(e))throw Error(K(418));e.flags=e.flags&-4097|2,$e=!1,ir=e}}}function Cy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ir=e}function fc(e){if(e!==ir)return!1;if(!$e)return Cy(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lm(e.type,e.memoizedProps)),t&&(t=ar)){if(fm(e))throw xj(),Error(K(418));for(;t;)yj(e,t),t=va(t.nextSibling)}if(Cy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=va(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=ir?va(e.stateNode.nextSibling):null;return!0}function xj(){for(var e=ar;e;)e=va(e.nextSibling)}function fs(){ar=ir=null,$e=!1}function pg(e){qr===null?qr=[e]:qr.push(e)}var vO=qn.ReactCurrentBatchConfig;function io(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var n=r.stateNode}if(!n)throw Error(K(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,e))}return e}function hc(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Py(e){var t=e._init;return t(e._payload)}function bj(e){function t(b,p){if(e){var g=b.deletions;g===null?(b.deletions=[p],b.flags|=16):g.push(p)}}function r(b,p){if(!e)return null;for(;p!==null;)t(b,p),p=p.sibling;return null}function n(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function a(b,p){return b=wa(b,p),b.index=0,b.sibling=null,b}function i(b,p,g){return b.index=g,e?(g=b.alternate,g!==null?(g=g.index,g<p?(b.flags|=2,p):g):(b.flags|=2,p)):(b.flags|=1048576,p)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,p,g,j){return p===null||p.tag!==6?(p=Qf(g,b.mode,j),p.return=b,p):(p=a(p,g),p.return=b,p)}function c(b,p,g,j){var _=g.type;return _===Bi?d(b,p,g.props.children,j,g.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ta&&Py(_)===p.type)?(j=a(p,g.props),j.ref=io(b,p,g),j.return=b,j):(j=Jc(g.type,g.key,g.props,null,b.mode,j),j.ref=io(b,p,g),j.return=b,j)}function u(b,p,g,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Jf(g,b.mode,j),p.return=b,p):(p=a(p,g.children||[]),p.return=b,p)}function d(b,p,g,j,_){return p===null||p.tag!==7?(p=ni(g,b.mode,j,_),p.return=b,p):(p=a(p,g),p.return=b,p)}function f(b,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qf(""+p,b.mode,g),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rc:return g=Jc(p.type,p.key,p.props,null,b.mode,g),g.ref=io(b,null,p),g.return=b,g;case Ui:return p=Jf(p,b.mode,g),p.return=b,p;case ta:var j=p._init;return f(b,j(p._payload),g)}if(bo(p)||eo(p))return p=ni(p,b.mode,g,null),p.return=b,p;hc(b,p)}return null}function h(b,p,g,j){var _=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:l(b,p,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rc:return g.key===_?c(b,p,g,j):null;case Ui:return g.key===_?u(b,p,g,j):null;case ta:return _=g._init,h(b,p,_(g._payload),j)}if(bo(g)||eo(g))return _!==null?null:d(b,p,g,j,null);hc(b,g)}return null}function m(b,p,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(g)||null,l(p,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rc:return b=b.get(j.key===null?g:j.key)||null,c(p,b,j,_);case Ui:return b=b.get(j.key===null?g:j.key)||null,u(p,b,j,_);case ta:var N=j._init;return m(b,p,g,N(j._payload),_)}if(bo(j)||eo(j))return b=b.get(g)||null,d(p,b,j,_,null);hc(p,j)}return null}function y(b,p,g,j){for(var _=null,N=null,k=p,E=p=0,S=null;k!==null&&E<g.length;E++){k.index>E?(S=k,k=null):S=k.sibling;var C=h(b,k,g[E],j);if(C===null){k===null&&(k=S);break}e&&k&&C.alternate===null&&t(b,k),p=i(C,p,E),N===null?_=C:N.sibling=C,N=C,k=S}if(E===g.length)return r(b,k),$e&&Fa(b,E),_;if(k===null){for(;E<g.length;E++)k=f(b,g[E],j),k!==null&&(p=i(k,p,E),N===null?_=k:N.sibling=k,N=k);return $e&&Fa(b,E),_}for(k=n(b,k);E<g.length;E++)S=m(k,b,E,g[E],j),S!==null&&(e&&S.alternate!==null&&k.delete(S.key===null?E:S.key),p=i(S,p,E),N===null?_=S:N.sibling=S,N=S);return e&&k.forEach(function(P){return t(b,P)}),$e&&Fa(b,E),_}function x(b,p,g,j){var _=eo(g);if(typeof _!="function")throw Error(K(150));if(g=_.call(g),g==null)throw Error(K(151));for(var N=_=null,k=p,E=p=0,S=null,C=g.next();k!==null&&!C.done;E++,C=g.next()){k.index>E?(S=k,k=null):S=k.sibling;var P=h(b,k,C.value,j);if(P===null){k===null&&(k=S);break}e&&k&&P.alternate===null&&t(b,k),p=i(P,p,E),N===null?_=P:N.sibling=P,N=P,k=S}if(C.done)return r(b,k),$e&&Fa(b,E),_;if(k===null){for(;!C.done;E++,C=g.next())C=f(b,C.value,j),C!==null&&(p=i(C,p,E),N===null?_=C:N.sibling=C,N=C);return $e&&Fa(b,E),_}for(k=n(b,k);!C.done;E++,C=g.next())C=m(k,b,E,C.value,j),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?E:C.key),p=i(C,p,E),N===null?_=C:N.sibling=C,N=C);return e&&k.forEach(function(M){return t(b,M)}),$e&&Fa(b,E),_}function w(b,p,g,j){if(typeof g=="object"&&g!==null&&g.type===Bi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case rc:e:{for(var _=g.key,N=p;N!==null;){if(N.key===_){if(_=g.type,_===Bi){if(N.tag===7){r(b,N.sibling),p=a(N,g.props.children),p.return=b,b=p;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ta&&Py(_)===N.type){r(b,N.sibling),p=a(N,g.props),p.ref=io(b,N,g),p.return=b,b=p;break e}r(b,N);break}else t(b,N);N=N.sibling}g.type===Bi?(p=ni(g.props.children,b.mode,j,g.key),p.return=b,b=p):(j=Jc(g.type,g.key,g.props,null,b.mode,j),j.ref=io(b,p,g),j.return=b,b=j)}return s(b);case Ui:e:{for(N=g.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(b,p.sibling),p=a(p,g.children||[]),p.return=b,b=p;break e}else{r(b,p);break}else t(b,p);p=p.sibling}p=Jf(g,b.mode,j),p.return=b,b=p}return s(b);case ta:return N=g._init,w(b,p,N(g._payload),j)}if(bo(g))return y(b,p,g,j);if(eo(g))return x(b,p,g,j);hc(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(b,p.sibling),p=a(p,g),p.return=b,b=p):(r(b,p),p=Qf(g,b.mode,j),p.return=b,b=p),s(b)):r(b,p)}return w}var hs=bj(!0),wj=bj(!1),gu=Oa(null),vu=null,Yi=null,gg=null;function vg(){gg=Yi=vu=null}function yg(e){var t=gu.current;Me(gu),e._currentValue=t}function mm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ns(e,t){vu=e,gg=Yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Wt=!0),e.firstContext=null)}function Cr(e){var t=e._currentValue;if(gg!==e)if(e={context:e,memoizedValue:t,next:null},Yi===null){if(vu===null)throw Error(K(308));Yi=e,vu.dependencies={lanes:0,firstContext:e}}else Yi=Yi.next=e;return t}var Qa=null;function xg(e){Qa===null?Qa=[e]:Qa.push(e)}function jj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,xg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Dn(e,n)}function Dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ra=!1;function bg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _j(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ya(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Dn(e,r)}return a=n.interleaved,a===null?(t.next=t,xg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Dn(e,r)}function Vc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ig(e,r)}}function Oy(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yu(e,t,r,n){var a=e.updateQueue;ra=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(h=t,m=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Fe({},f,h);break e;case 2:ra=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);fi|=s,e.lanes=s,e.memoizedState=f}}function Ay(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(K(191,a));a.call(n)}}}var El={},cn=Oa(El),Zo=Oa(El),el=Oa(El);function Ja(e){if(e===El)throw Error(K(174));return e}function wg(e,t){switch(Pe(el,t),Pe(Zo,e),Pe(cn,El),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gh(t,e)}Me(cn),Pe(cn,t)}function ms(){Me(cn),Me(Zo),Me(el)}function kj(e){Ja(el.current);var t=Ja(cn.current),r=Gh(t,e.type);t!==r&&(Pe(Zo,e),Pe(cn,r))}function jg(e){Zo.current===e&&(Me(cn),Me(Zo))}var Re=Oa(0);function xu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wf=[];function _g(){for(var e=0;e<Wf.length;e++)Wf[e]._workInProgressVersionPrimary=null;Wf.length=0}var Hc=qn.ReactCurrentDispatcher,Vf=qn.ReactCurrentBatchConfig,di=0,Ue=null,rt=null,ct=null,bu=!1,To=!1,tl=0,yO=0;function Nt(){throw Error(K(321))}function kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function Ng(e,t,r,n,a,i){if(di=i,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hc.current=e===null||e.memoizedState===null?jO:_O,e=r(n,a),To){i=0;do{if(To=!1,tl=0,25<=i)throw Error(K(301));i+=1,ct=rt=null,t.updateQueue=null,Hc.current=kO,e=r(n,a)}while(To)}if(Hc.current=wu,t=rt!==null&&rt.next!==null,di=0,ct=rt=Ue=null,bu=!1,t)throw Error(K(300));return e}function Sg(){var e=tl!==0;return tl=0,e}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ue.memoizedState=ct=e:ct=ct.next=e,ct}function Pr(){if(rt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=ct===null?Ue.memoizedState:ct.next;if(t!==null)ct=t,rt=e;else{if(e===null)throw Error(K(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ct===null?Ue.memoizedState=ct=e:ct=ct.next=e}return ct}function rl(e,t){return typeof t=="function"?t(e):t}function Hf(e){var t=Pr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=rt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((di&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,Ue.lanes|=d,fi|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Yr(n,t.memoizedState)||(Wt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ue.lanes|=i,fi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kf(e){var t=Pr(),r=t.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Yr(i,t.memoizedState)||(Wt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Nj(){}function Sj(e,t){var r=Ue,n=Pr(),a=t(),i=!Yr(n.memoizedState,a);if(i&&(n.memoizedState=a,Wt=!0),n=n.queue,Eg(Pj.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,nl(9,Cj.bind(null,r,n,a,t),void 0,null),ut===null)throw Error(K(349));di&30||Ej(r,t,a)}return a}function Ej(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Cj(e,t,r,n){t.value=r,t.getSnapshot=n,Oj(t)&&Aj(e)}function Pj(e,t,r){return r(function(){Oj(t)&&Aj(e)})}function Oj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function Aj(e){var t=Dn(e,1);t!==null&&Gr(t,e,1,-1)}function Ty(e){var t=nn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t.queue=e,e=e.dispatch=wO.bind(null,Ue,e),[t.memoizedState,e]}function nl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Tj(){return Pr().memoizedState}function Kc(e,t,r,n){var a=nn();Ue.flags|=e,a.memoizedState=nl(1|t,r,void 0,n===void 0?null:n)}function jd(e,t,r,n){var a=Pr();n=n===void 0?null:n;var i=void 0;if(rt!==null){var s=rt.memoizedState;if(i=s.destroy,n!==null&&kg(n,s.deps)){a.memoizedState=nl(t,r,i,n);return}}Ue.flags|=e,a.memoizedState=nl(1|t,r,i,n)}function My(e,t){return Kc(8390656,8,e,t)}function Eg(e,t){return jd(2048,8,e,t)}function Mj(e,t){return jd(4,2,e,t)}function Ij(e,t){return jd(4,4,e,t)}function Dj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $j(e,t,r){return r=r!=null?r.concat([e]):null,jd(4,4,Dj.bind(null,t,e),r)}function Cg(){}function Lj(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Rj(e,t){var r=Pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function zj(e,t,r){return di&21?(Yr(r,t)||(r=W1(),Ue.lanes|=r,fi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Wt=!0),e.memoizedState=r)}function xO(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var n=Vf.transition;Vf.transition={};try{e(!1),t()}finally{_e=r,Vf.transition=n}}function Uj(){return Pr().memoizedState}function bO(e,t,r){var n=ba(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bj(e))Fj(t,r);else if(r=jj(e,t,r,n),r!==null){var a=Dt();Gr(r,e,n,a),qj(r,t,n)}}function wO(e,t,r){var n=ba(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bj(e))Fj(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Yr(l,s)){var c=t.interleaved;c===null?(a.next=a,xg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=jj(e,t,a,n),r!==null&&(a=Dt(),Gr(r,e,n,a),qj(r,t,n))}}function Bj(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Fj(e,t){To=bu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ig(e,r)}}var wu={readContext:Cr,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},jO={readContext:Cr,useCallback:function(e,t){return nn().memoizedState=[e,t===void 0?null:t],e},useContext:Cr,useEffect:My,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kc(4194308,4,Dj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kc(4,2,e,t)},useMemo:function(e,t){var r=nn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=nn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bO.bind(null,Ue,e),[n.memoizedState,e]},useRef:function(e){var t=nn();return e={current:e},t.memoizedState=e},useState:Ty,useDebugValue:Cg,useDeferredValue:function(e){return nn().memoizedState=e},useTransition:function(){var e=Ty(!1),t=e[0];return e=xO.bind(null,e[1]),nn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ue,a=nn();if($e){if(r===void 0)throw Error(K(407));r=r()}else{if(r=t(),ut===null)throw Error(K(349));di&30||Ej(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,My(Pj.bind(null,n,i,e),[e]),n.flags|=2048,nl(9,Cj.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=nn(),t=ut.identifierPrefix;if($e){var r=Sn,n=Nn;r=(n&~(1<<32-Kr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yO++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_O={readContext:Cr,useCallback:Lj,useContext:Cr,useEffect:Eg,useImperativeHandle:$j,useInsertionEffect:Mj,useLayoutEffect:Ij,useMemo:Rj,useReducer:Hf,useRef:Tj,useState:function(){return Hf(rl)},useDebugValue:Cg,useDeferredValue:function(e){var t=Pr();return zj(t,rt.memoizedState,e)},useTransition:function(){var e=Hf(rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Sj,useId:Uj,unstable_isNewReconciler:!1},kO={readContext:Cr,useCallback:Lj,useContext:Cr,useEffect:Eg,useImperativeHandle:$j,useInsertionEffect:Mj,useLayoutEffect:Ij,useMemo:Rj,useReducer:Kf,useRef:Tj,useState:function(){return Kf(rl)},useDebugValue:Cg,useDeferredValue:function(e){var t=Pr();return rt===null?t.memoizedState=e:zj(t,rt.memoizedState,e)},useTransition:function(){var e=Kf(rl)[0],t=Pr().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Sj,useId:Uj,unstable_isNewReconciler:!1};function Ur(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _d={isMounted:function(e){return(e=e._reactInternals)?ji(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),a=ba(e),i=Pn(n,a);i.payload=t,r!=null&&(i.callback=r),t=ya(e,i,a),t!==null&&(Gr(t,e,a,n),Vc(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),a=ba(e),i=Pn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ya(e,i,a),t!==null&&(Gr(t,e,a,n),Vc(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=ba(e),a=Pn(r,n);a.tag=2,t!=null&&(a.callback=t),t=ya(e,a,n),t!==null&&(Gr(t,e,n,r),Vc(t,e,n))}};function Iy(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Yo(r,n)||!Yo(a,i):!0}function Wj(e,t,r){var n=!1,a=ka,i=t.contextType;return typeof i=="object"&&i!==null?i=Cr(i):(a=Kt(t)?ci:Ot.current,n=t.contextTypes,i=(n=n!=null)?ds(e,a):ka),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_d,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Dy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_d.enqueueReplaceState(t,t.state,null)}function gm(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},bg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Cr(i):(i=Kt(t)?ci:Ot.current,a.context=ds(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pm(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&_d.enqueueReplaceState(a,a.state,null),yu(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ps(e,t){try{var r="",n=t;do r+=XC(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Gf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NO=typeof WeakMap=="function"?WeakMap:Map;function Vj(e,t,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_u||(_u=!0,Em=n),vm(e,t)},r}function Hj(e,t,r){r=Pn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){vm(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vm(e,t),typeof n!="function"&&(xa===null?xa=new Set([this]):xa.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function $y(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NO;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=zO.bind(null,e,t,r),t.then(e,e))}function Ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ry(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pn(-1,1),t.tag=2,ya(r,t,1))),r.lanes|=1),e)}var SO=qn.ReactCurrentOwner,Wt=!1;function Mt(e,t,r,n){t.child=e===null?wj(t,null,r,n):hs(t,e.child,r,n)}function zy(e,t,r,n,a){r=r.render;var i=t.ref;return ns(t,a),n=Ng(e,t,r,n,i,a),r=Sg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):($e&&r&&hg(t),t.flags|=1,Mt(e,t,n,a),t.child)}function Uy(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!$g(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Kj(e,t,i,n,a)):(e=Jc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yo,r(s,n)&&e.ref===t.ref)return $n(e,t,a)}return t.flags|=1,e=wa(i,n),e.ref=t.ref,e.return=t,t.child=e}function Kj(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Yo(i,n)&&e.ref===t.ref)if(Wt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Wt=!0);else return t.lanes=e.lanes,$n(e,t,a)}return ym(e,t,r,n,a)}function Gj(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ji,Zt),Zt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pe(Ji,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Pe(Ji,Zt),Zt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Pe(Ji,Zt),Zt|=n;return Mt(e,t,a,r),t.child}function Yj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ym(e,t,r,n,a){var i=Kt(r)?ci:Ot.current;return i=ds(t,i),ns(t,a),r=Ng(e,t,r,n,i,a),n=Sg(),e!==null&&!Wt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$n(e,t,a)):($e&&n&&hg(t),t.flags|=1,Mt(e,t,r,a),t.child)}function By(e,t,r,n,a){if(Kt(r)){var i=!0;hu(t)}else i=!1;if(ns(t,a),t.stateNode===null)Gc(e,t),Wj(t,r,n),gm(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cr(u):(u=Kt(r)?ci:Ot.current,u=ds(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Dy(t,s,n,u),ra=!1;var h=t.memoizedState;s.state=h,yu(t,n,s,a),c=t.memoizedState,l!==n||h!==c||Ht.current||ra?(typeof d=="function"&&(pm(t,r,d,n),c=t.memoizedState),(l=ra||Iy(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,_j(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ur(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Cr(c):(c=Kt(r)?ci:Ot.current,c=ds(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Dy(t,s,n,c),ra=!1,h=t.memoizedState,s.state=h,yu(t,n,s,a);var y=t.memoizedState;l!==f||h!==y||Ht.current||ra?(typeof m=="function"&&(pm(t,r,m,n),y=t.memoizedState),(u=ra||Iy(t,r,u,n,h,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return xm(e,t,r,n,i,a)}function xm(e,t,r,n,a,i){Yj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&Sy(t,r,!1),$n(e,t,i);n=t.stateNode,SO.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=hs(t,e.child,null,i),t.child=hs(t,null,l,i)):Mt(e,t,l,i),t.memoizedState=n.state,a&&Sy(t,r,!0),t.child}function Qj(e){var t=e.stateNode;t.pendingContext?Ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ny(e,t.context,!1),wg(e,t.containerInfo)}function Fy(e,t,r,n,a){return fs(),pg(a),t.flags|=256,Mt(e,t,r,n),t.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jj(e,t,r){var n=t.pendingProps,a=Re.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pe(Re,a&1),e===null)return hm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sd(s,n,0,null),e=ni(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wm(r),t.memoizedState=bm,e):Pg(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return EO(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wa(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=wa(l,i):(i=ni(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?wm(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=bm,n}return i=e.child,e=i.sibling,n=wa(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Pg(e,t){return t=Sd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mc(e,t,r,n){return n!==null&&pg(n),hs(t,e.child,null,r),e=Pg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EO(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Gf(Error(K(422))),mc(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Sd({mode:"visible",children:n.children},a,0,null),i=ni(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&hs(t,e.child,null,s),t.child.memoizedState=wm(s),t.memoizedState=bm,i);if(!(t.mode&1))return mc(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(K(419)),n=Gf(i,n,void 0),mc(e,t,s,n)}if(l=(s&e.childLanes)!==0,Wt||l){if(n=ut,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Dn(e,a),Gr(n,e,a,-1))}return Dg(),n=Gf(Error(K(421))),mc(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=UO.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ar=va(a.nextSibling),ir=t,$e=!0,qr=null,e!==null&&(xr[br++]=Nn,xr[br++]=Sn,xr[br++]=ui,Nn=e.id,Sn=e.overflow,ui=t),t=Pg(t,n.children),t.flags|=4096,t)}function qy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),mm(e.return,t,r)}function Yf(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Xj(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qy(e,r,t);else if(e.tag===19)qy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pe(Re,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&xu(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Yf(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&xu(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Yf(t,!0,r,null,i);break;case"together":Yf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,r=wa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function CO(e,t,r){switch(t.tag){case 3:Qj(t),fs();break;case 5:kj(t);break;case 1:Kt(t.type)&&hu(t);break;case 4:wg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pe(gu,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pe(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Jj(e,t,r):(Pe(Re,Re.current&1),e=$n(e,t,r),e!==null?e.sibling:null);Pe(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xj(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pe(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,Gj(e,t,r)}return $n(e,t,r)}var Zj,jm,e_,t_;Zj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};jm=function(){};e_=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ja(cn.current);var i=null;switch(r){case"input":a=Wh(e,a),n=Wh(e,n),i=[];break;case"select":a=Fe({},a,{value:void 0}),n=Fe({},n,{value:void 0}),i=[];break;case"textarea":a=Kh(e,a),n=Kh(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=du)}Yh(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};t_=function(e,t,r,n){r!==n&&(t.flags|=4)};function so(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function PO(e,t,r){var n=t.pendingProps;switch(mg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Kt(t.type)&&fu(),St(t),null;case 3:return n=t.stateNode,ms(),Me(Ht),Me(Ot),_g(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qr!==null&&(Om(qr),qr=null))),jm(e,t),St(t),null;case 5:jg(t);var a=Ja(el.current);if(r=t.type,e!==null&&t.stateNode!=null)e_(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(K(166));return St(t),null}if(e=Ja(cn.current),fc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[sn]=t,n[Xo]=i,e=(t.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(a=0;a<jo.length;a++)Ae(jo[a],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Xv(n,i),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",n);break;case"textarea":ey(n,i),Ae("invalid",n)}Yh(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&dc(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&dc(n.textContent,l,e),a=["children",""+l]):Fo.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ae("scroll",n)}switch(r){case"input":nc(n),Zv(n,i,!0);break;case"textarea":nc(n),ty(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=du)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=P1(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[sn]=t,e[Xo]=n,Zj(e,t,!1,!1),t.stateNode=e;e:{switch(s=Qh(r,n),r){case"dialog":Ae("cancel",e),Ae("close",e),a=n;break;case"iframe":case"object":case"embed":Ae("load",e),a=n;break;case"video":case"audio":for(a=0;a<jo.length;a++)Ae(jo[a],e);a=n;break;case"source":Ae("error",e),a=n;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),a=n;break;case"details":Ae("toggle",e),a=n;break;case"input":Xv(e,n),a=Wh(e,n),Ae("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Fe({},n,{value:void 0}),Ae("invalid",e);break;case"textarea":ey(e,n),a=Kh(e,n),Ae("invalid",e);break;default:a=n}Yh(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?T1(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&O1(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ae("scroll",e):c!=null&&Zp(e,i,c,s))}switch(r){case"input":nc(e),Zv(e,n,!1);break;case"textarea":nc(e),ty(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_a(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Zi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Zi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=du)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)t_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(K(166));if(r=Ja(el.current),Ja(cn.current),fc(t)){if(n=t.stateNode,r=t.memoizedProps,n[sn]=t,(i=n.nodeValue!==r)&&(e=ir,e!==null))switch(e.tag){case 3:dc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[sn]=t,t.stateNode=n}return St(t),null;case 13:if(Me(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&ar!==null&&t.mode&1&&!(t.flags&128))xj(),fs(),t.flags|=98560,i=!1;else if(i=fc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(K(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[sn]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),i=!1}else qr!==null&&(Om(qr),qr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?it===0&&(it=3):Dg())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return ms(),jm(e,t),e===null&&Qo(t.stateNode.containerInfo),St(t),null;case 10:return yg(t.type._context),St(t),null;case 17:return Kt(t.type)&&fu(),St(t),null;case 19:if(Me(Re),i=t.memoizedState,i===null)return St(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)so(i,!1);else{if(it!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=xu(e),s!==null){for(t.flags|=128,so(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pe(Re,Re.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>gs&&(t.flags|=128,n=!0,so(i,!1),t.lanes=4194304)}else{if(!n)if(e=xu(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),so(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!$e)return St(t),null}else 2*Ge()-i.renderingStartTime>gs&&r!==1073741824&&(t.flags|=128,n=!0,so(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,r=Re.current,Pe(Re,n?r&1|2:r&1),t):(St(t),null);case 22:case 23:return Ig(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function OO(e,t){switch(mg(t),t.tag){case 1:return Kt(t.type)&&fu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ms(),Me(Ht),Me(Ot),_g(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return jg(t),null;case 13:if(Me(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Re),null;case 4:return ms(),null;case 10:return yg(t.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var pc=!1,Ct=!1,AO=typeof WeakSet=="function"?WeakSet:Set,te=null;function Qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){He(e,t,n)}else r.current=null}function _m(e,t,r){try{r()}catch(n){He(e,t,n)}}var Wy=!1;function TO(e,t){if(sm=lu,e=sj(),fg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:e,selectionRange:r},lu=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,b=t.stateNode,p=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ur(t.type,x),w);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(j){He(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return y=Wy,Wy=!1,y}function Mo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&_m(t,r,i)}a=a.next}while(a!==n)}}function kd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function km(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function r_(e){var t=e.alternate;t!==null&&(e.alternate=null,r_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sn],delete t[Xo],delete t[um],delete t[mO],delete t[pO])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function n_(e){return e.tag===5||e.tag===3||e.tag===4}function Vy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||n_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=du));else if(n!==4&&(e=e.child,e!==null))for(Nm(e,t,r),e=e.sibling;e!==null;)Nm(e,t,r),e=e.sibling}function Sm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Sm(e,t,r),e=e.sibling;e!==null;)Sm(e,t,r),e=e.sibling}var vt=null,Br=!1;function Xn(e,t,r){for(r=r.child;r!==null;)a_(e,t,r),r=r.sibling}function a_(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(gd,r)}catch{}switch(r.tag){case 5:Ct||Qi(r,t);case 6:var n=vt,a=Br;vt=null,Xn(e,t,r),vt=n,Br=a,vt!==null&&(Br?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Br?(e=vt,r=r.stateNode,e.nodeType===8?Ff(e.parentNode,r):e.nodeType===1&&Ff(e,r),Ko(e)):Ff(vt,r.stateNode));break;case 4:n=vt,a=Br,vt=r.stateNode.containerInfo,Br=!0,Xn(e,t,r),vt=n,Br=a;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&_m(r,t,s),a=a.next}while(a!==n)}Xn(e,t,r);break;case 1:if(!Ct&&(Qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){He(r,t,l)}Xn(e,t,r);break;case 21:Xn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,Xn(e,t,r),Ct=n):Xn(e,t,r);break;default:Xn(e,t,r)}}function Hy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new AO),t.forEach(function(n){var a=BO.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Br=!1;break e;case 3:vt=l.stateNode.containerInfo,Br=!0;break e;case 4:vt=l.stateNode.containerInfo,Br=!0;break e}l=l.return}if(vt===null)throw Error(K(160));a_(i,s,a),vt=null,Br=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){He(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i_(t,e),t=t.sibling}function i_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),en(e),n&4){try{Mo(3,e,e.return),kd(3,e)}catch(x){He(e,e.return,x)}try{Mo(5,e,e.return)}catch(x){He(e,e.return,x)}}break;case 1:Lr(t,e),en(e),n&512&&r!==null&&Qi(r,r.return);break;case 5:if(Lr(t,e),en(e),n&512&&r!==null&&Qi(r,r.return),e.flags&32){var a=e.stateNode;try{qo(a,"")}catch(x){He(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&E1(a,i),Qh(l,s);var u=Qh(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?T1(a,f):d==="dangerouslySetInnerHTML"?O1(a,f):d==="children"?qo(a,f):Zp(a,d,f,u)}switch(l){case"input":Vh(a,i);break;case"textarea":C1(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Zi(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Zi(a,!!i.multiple,i.defaultValue,!0):Zi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Xo]=i}catch(x){He(e,e.return,x)}}break;case 6:if(Lr(t,e),en(e),n&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){He(e,e.return,x)}}break;case 3:if(Lr(t,e),en(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ko(t.containerInfo)}catch(x){He(e,e.return,x)}break;case 4:Lr(t,e),en(e);break;case 13:Lr(t,e),en(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Tg=Ge())),n&4&&Hy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,Lr(t,e),Ct=u):Lr(t,e),en(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(te=e,d=e.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:Mo(4,h,h.return);break;case 1:Qi(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){He(n,r,x)}}break;case 5:Qi(h,h.return);break;case 22:if(h.memoizedState!==null){Gy(f);continue}}m!==null?(m.return=h,te=m):Gy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=A1("display",s))}catch(x){He(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){He(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(t,e),en(e),n&4&&Hy(e);break;case 21:break;default:Lr(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(n_(r)){var n=r;break e}r=r.return}throw Error(K(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qo(a,""),n.flags&=-33);var i=Vy(e);Sm(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Vy(e);Nm(e,l,s);break;default:throw Error(K(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function MO(e,t,r){te=e,s_(e)}function s_(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var a=te,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||pc;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ct;l=pc;var u=Ct;if(pc=s,(Ct=c)&&!u)for(te=a;te!==null;)s=te,c=s.child,s.tag===22&&s.memoizedState!==null?Yy(a):c!==null?(c.return=s,te=c):Yy(a);for(;i!==null;)te=i,s_(i),i=i.sibling;te=a,pc=l,Ct=u}Ky(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,te=i):Ky(e)}}function Ky(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||kd(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ur(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ay(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ay(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ko(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ct||t.flags&512&&km(t)}catch(h){He(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Gy(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function Yy(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kd(4,t)}catch(c){He(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){He(t,a,c)}}var i=t.return;try{km(t)}catch(c){He(t,i,c)}break;case 5:var s=t.return;try{km(t)}catch(c){He(t,s,c)}}}catch(c){He(t,t.return,c)}if(t===e){te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,te=l;break}te=t.return}}var IO=Math.ceil,ju=qn.ReactCurrentDispatcher,Og=qn.ReactCurrentOwner,Nr=qn.ReactCurrentBatchConfig,ge=0,ut=null,Qe=null,bt=0,Zt=0,Ji=Oa(0),it=0,al=null,fi=0,Nd=0,Ag=0,Io=null,Ft=null,Tg=0,gs=1/0,xn=null,_u=!1,Em=null,xa=null,gc=!1,da=null,ku=0,Do=0,Cm=null,Yc=-1,Qc=0;function Dt(){return ge&6?Ge():Yc!==-1?Yc:Yc=Ge()}function ba(e){return e.mode&1?ge&2&&bt!==0?bt&-bt:vO.transition!==null?(Qc===0&&(Qc=W1()),Qc):(e=_e,e!==0||(e=window.event,e=e===void 0?16:J1(e.type)),e):1}function Gr(e,t,r,n){if(50<Do)throw Do=0,Cm=null,Error(K(185));kl(e,r,n),(!(ge&2)||e!==ut)&&(e===ut&&(!(ge&2)&&(Nd|=r),it===4&&oa(e,bt)),Gt(e,n),r===1&&ge===0&&!(t.mode&1)&&(gs=Ge()+500,wd&&Aa()))}function Gt(e,t){var r=e.callbackNode;vP(e,t);var n=ou(e,e===ut?bt:0);if(n===0)r!==null&&ay(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ay(r),t===1)e.tag===0?gO(Qy.bind(null,e)):gj(Qy.bind(null,e)),fO(function(){!(ge&6)&&Aa()}),r=null;else{switch(V1(n)){case 1:r=ag;break;case 4:r=F1;break;case 16:r=su;break;case 536870912:r=q1;break;default:r=su}r=m_(r,o_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function o_(e,t){if(Yc=-1,Qc=0,ge&6)throw Error(K(327));var r=e.callbackNode;if(as()&&e.callbackNode!==r)return null;var n=ou(e,e===ut?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Nu(e,n);else{t=n;var a=ge;ge|=2;var i=c_();(ut!==e||bt!==t)&&(xn=null,gs=Ge()+500,ri(e,t));do try{LO();break}catch(l){l_(e,l)}while(!0);vg(),ju.current=i,ge=a,Qe!==null?t=0:(ut=null,bt=0,t=it)}if(t!==0){if(t===2&&(a=tm(e),a!==0&&(n=a,t=Pm(e,a))),t===1)throw r=al,ri(e,0),oa(e,n),Gt(e,Ge()),r;if(t===6)oa(e,n);else{if(a=e.current.alternate,!(n&30)&&!DO(a)&&(t=Nu(e,n),t===2&&(i=tm(e),i!==0&&(n=i,t=Pm(e,i))),t===1))throw r=al,ri(e,0),oa(e,n),Gt(e,Ge()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(K(345));case 2:qa(e,Ft,xn);break;case 3:if(oa(e,n),(n&130023424)===n&&(t=Tg+500-Ge(),10<t)){if(ou(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=cm(qa.bind(null,e,Ft,xn),t);break}qa(e,Ft,xn);break;case 4:if(oa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Kr(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IO(n/1960))-n,10<n){e.timeoutHandle=cm(qa.bind(null,e,Ft,xn),n);break}qa(e,Ft,xn);break;case 5:qa(e,Ft,xn);break;default:throw Error(K(329))}}}return Gt(e,Ge()),e.callbackNode===r?o_.bind(null,e):null}function Pm(e,t){var r=Io;return e.current.memoizedState.isDehydrated&&(ri(e,t).flags|=256),e=Nu(e,t),e!==2&&(t=Ft,Ft=r,t!==null&&Om(t)),e}function Om(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function DO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Yr(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function oa(e,t){for(t&=~Ag,t&=~Nd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Kr(t),n=1<<r;e[r]=-1,t&=~n}}function Qy(e){if(ge&6)throw Error(K(327));as();var t=ou(e,0);if(!(t&1))return Gt(e,Ge()),null;var r=Nu(e,t);if(e.tag!==0&&r===2){var n=tm(e);n!==0&&(t=n,r=Pm(e,n))}if(r===1)throw r=al,ri(e,0),oa(e,t),Gt(e,Ge()),r;if(r===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qa(e,Ft,xn),Gt(e,Ge()),null}function Mg(e,t){var r=ge;ge|=1;try{return e(t)}finally{ge=r,ge===0&&(gs=Ge()+500,wd&&Aa())}}function hi(e){da!==null&&da.tag===0&&!(ge&6)&&as();var t=ge;ge|=1;var r=Nr.transition,n=_e;try{if(Nr.transition=null,_e=1,e)return e()}finally{_e=n,Nr.transition=r,ge=t,!(ge&6)&&Aa()}}function Ig(){Zt=Ji.current,Me(Ji)}function ri(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dO(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(mg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fu();break;case 3:ms(),Me(Ht),Me(Ot),_g();break;case 5:jg(n);break;case 4:ms();break;case 13:Me(Re);break;case 19:Me(Re);break;case 10:yg(n.type._context);break;case 22:case 23:Ig()}r=r.return}if(ut=e,Qe=e=wa(e.current,null),bt=Zt=t,it=0,al=null,Ag=Nd=fi=0,Ft=Io=null,Qa!==null){for(t=0;t<Qa.length;t++)if(r=Qa[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Qa=null}return e}function l_(e,t){do{var r=Qe;try{if(vg(),Hc.current=wu,bu){for(var n=Ue.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}bu=!1}if(di=0,ct=rt=Ue=null,To=!1,tl=0,Og.current=null,r===null||r.return===null){it=1,al=t,Qe=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ly(s);if(m!==null){m.flags&=-257,Ry(m,s,l,i,t),m.mode&1&&$y(i,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){$y(i,u,t),Dg();break e}c=Error(K(426))}}else if($e&&l.mode&1){var w=Ly(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ry(w,s,l,i,t),pg(ps(c,l));break e}}i=c=ps(c,l),it!==4&&(it=2),Io===null?Io=[i]:Io.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Vj(i,c,t);Oy(i,b);break e;case 1:l=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xa===null||!xa.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=Hj(i,l,t);Oy(i,j);break e}}i=i.return}while(i!==null)}d_(r)}catch(_){t=_,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function c_(){var e=ju.current;return ju.current=wu,e===null?wu:e}function Dg(){(it===0||it===3||it===2)&&(it=4),ut===null||!(fi&268435455)&&!(Nd&268435455)||oa(ut,bt)}function Nu(e,t){var r=ge;ge|=2;var n=c_();(ut!==e||bt!==t)&&(xn=null,ri(e,t));do try{$O();break}catch(a){l_(e,a)}while(!0);if(vg(),ge=r,ju.current=n,Qe!==null)throw Error(K(261));return ut=null,bt=0,it}function $O(){for(;Qe!==null;)u_(Qe)}function LO(){for(;Qe!==null&&!lP();)u_(Qe)}function u_(e){var t=h_(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?d_(e):Qe=t,Og.current=null}function d_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=OO(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,Qe=null;return}}else if(r=PO(r,t,Zt),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);it===0&&(it=5)}function qa(e,t,r){var n=_e,a=Nr.transition;try{Nr.transition=null,_e=1,RO(e,t,r,n)}finally{Nr.transition=a,_e=n}return null}function RO(e,t,r,n){do as();while(da!==null);if(ge&6)throw Error(K(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(yP(e,i),e===ut&&(Qe=ut=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gc||(gc=!0,m_(su,function(){return as(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Nr.transition,Nr.transition=null;var s=_e;_e=1;var l=ge;ge|=4,Og.current=null,TO(e,r),i_(r,e),aO(om),lu=!!sm,om=sm=null,e.current=r,MO(r),cP(),ge=l,_e=s,Nr.transition=i}else e.current=r;if(gc&&(gc=!1,da=e,ku=a),i=e.pendingLanes,i===0&&(xa=null),fP(r.stateNode),Gt(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(_u)throw _u=!1,e=Em,Em=null,e;return ku&1&&e.tag!==0&&as(),i=e.pendingLanes,i&1?e===Cm?Do++:(Do=0,Cm=e):Do=0,Aa(),null}function as(){if(da!==null){var e=V1(ku),t=Nr.transition,r=_e;try{if(Nr.transition=null,_e=16>e?16:e,da===null)var n=!1;else{if(e=da,da=null,ku=0,ge&6)throw Error(K(331));var a=ge;for(ge|=4,te=e.current;te!==null;){var i=te,s=i.child;if(te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:Mo(8,d,i)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(r_(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}te=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,te=s;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Mo(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,te=b;break e}te=i.return}}var p=e.current;for(te=p;te!==null;){s=te;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,te=g;else e:for(s=p;te!==null;){if(l=te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kd(9,l)}}catch(_){He(l,l.return,_)}if(l===s){te=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,te=j;break e}te=l.return}}if(ge=a,Aa(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(gd,e)}catch{}n=!0}return n}finally{_e=r,Nr.transition=t}}return!1}function Jy(e,t,r){t=ps(r,t),t=Vj(e,t,1),e=ya(e,t,1),t=Dt(),e!==null&&(kl(e,1,t),Gt(e,t))}function He(e,t,r){if(e.tag===3)Jy(e,e,r);else for(;t!==null;){if(t.tag===3){Jy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xa===null||!xa.has(n))){e=ps(r,e),e=Hj(t,e,1),t=ya(t,e,1),e=Dt(),t!==null&&(kl(t,1,e),Gt(t,e));break}}t=t.return}}function zO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(bt&r)===r&&(it===4||it===3&&(bt&130023424)===bt&&500>Ge()-Tg?ri(e,0):Ag|=r),Gt(e,t)}function f_(e,t){t===0&&(e.mode&1?(t=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):t=1);var r=Dt();e=Dn(e,t),e!==null&&(kl(e,t,r),Gt(e,r))}function UO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),f_(e,r)}function BO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(K(314))}n!==null&&n.delete(t),f_(e,r)}var h_;h_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ht.current)Wt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Wt=!1,CO(e,t,r);Wt=!!(e.flags&131072)}else Wt=!1,$e&&t.flags&1048576&&vj(t,pu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gc(e,t),e=t.pendingProps;var a=ds(t,Ot.current);ns(t,r),a=Ng(null,t,n,e,a,r);var i=Sg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,hu(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,bg(t),a.updater=_d,t.stateNode=a,a._reactInternals=t,gm(t,n,e,r),t=xm(null,t,n,!0,i,r)):(t.tag=0,$e&&i&&hg(t),Mt(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gc(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=qO(n),e=Ur(n,e),a){case 0:t=ym(null,t,n,e,r);break e;case 1:t=By(null,t,n,e,r);break e;case 11:t=zy(null,t,n,e,r);break e;case 14:t=Uy(null,t,n,Ur(n.type,e),r);break e}throw Error(K(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ur(n,a),ym(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ur(n,a),By(e,t,n,a,r);case 3:e:{if(Qj(t),e===null)throw Error(K(387));n=t.pendingProps,i=t.memoizedState,a=i.element,_j(e,t),yu(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ps(Error(K(423)),t),t=Fy(e,t,n,r,a);break e}else if(n!==a){a=ps(Error(K(424)),t),t=Fy(e,t,n,r,a);break e}else for(ar=va(t.stateNode.containerInfo.firstChild),ir=t,$e=!0,qr=null,r=wj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(fs(),n===a){t=$n(e,t,r);break e}Mt(e,t,n,r)}t=t.child}return t;case 5:return kj(t),e===null&&hm(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,lm(n,a)?s=null:i!==null&&lm(n,i)&&(t.flags|=32),Yj(e,t),Mt(e,t,s,r),t.child;case 6:return e===null&&hm(t),null;case 13:return Jj(e,t,r);case 4:return wg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=hs(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ur(n,a),zy(e,t,n,a,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Pe(gu,n._currentValue),n._currentValue=s,i!==null)if(Yr(i.value,s)){if(i.children===a.children&&!Ht.current){t=$n(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Pn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),mm(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(K(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),mm(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mt(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,ns(t,r),a=Cr(a),n=n(a),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return n=t.type,a=Ur(n,t.pendingProps),a=Ur(n.type,a),Uy(e,t,n,a,r);case 15:return Kj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ur(n,a),Gc(e,t),t.tag=1,Kt(n)?(e=!0,hu(t)):e=!1,ns(t,r),Wj(t,n,a),gm(t,n,a,r),xm(null,t,n,!0,e,r);case 19:return Xj(e,t,r);case 22:return Gj(e,t,r)}throw Error(K(156,t.tag))};function m_(e,t){return B1(e,t)}function FO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,r,n){return new FO(e,t,r,n)}function $g(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qO(e){if(typeof e=="function")return $g(e)?1:0;if(e!=null){if(e=e.$$typeof,e===tg)return 11;if(e===rg)return 14}return 2}function wa(e,t){var r=e.alternate;return r===null?(r=jr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Jc(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")$g(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Bi:return ni(r.children,a,i,t);case eg:s=8,a|=8;break;case Uh:return e=jr(12,r,t,a|2),e.elementType=Uh,e.lanes=i,e;case Bh:return e=jr(13,r,t,a),e.elementType=Bh,e.lanes=i,e;case Fh:return e=jr(19,r,t,a),e.elementType=Fh,e.lanes=i,e;case k1:return Sd(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j1:s=10;break e;case _1:s=9;break e;case tg:s=11;break e;case rg:s=14;break e;case ta:s=16,n=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=jr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ni(e,t,r,n){return e=jr(7,e,n,t),e.lanes=r,e}function Sd(e,t,r,n){return e=jr(22,e,n,t),e.elementType=k1,e.lanes=r,e.stateNode={isHidden:!1},e}function Qf(e,t,r){return e=jr(6,e,null,t),e.lanes=r,e}function Jf(e,t,r){return t=jr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function WO(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Af(0),this.expirationTimes=Af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lg(e,t,r,n,a,i,s,l,c){return e=new WO(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=jr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bg(i),e}function VO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p_(e){if(!e)return ka;e=e._reactInternals;e:{if(ji(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var r=e.type;if(Kt(r))return pj(e,r,t)}return t}function g_(e,t,r,n,a,i,s,l,c){return e=Lg(r,n,!0,e,a,i,s,l,c),e.context=p_(null),r=e.current,n=Dt(),a=ba(r),i=Pn(n,a),i.callback=t??null,ya(r,i,a),e.current.lanes=a,kl(e,a,n),Gt(e,n),e}function Ed(e,t,r,n){var a=t.current,i=Dt(),s=ba(a);return r=p_(r),t.context===null?t.context=r:t.pendingContext=r,t=Pn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ya(a,t,s),e!==null&&(Gr(e,a,s,i),Vc(e,a,s)),s}function Su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rg(e,t){Xy(e,t),(e=e.alternate)&&Xy(e,t)}function HO(){return null}var v_=typeof reportError=="function"?reportError:function(e){console.error(e)};function zg(e){this._internalRoot=e}Cd.prototype.render=zg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Ed(e,t,null,null)};Cd.prototype.unmount=zg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hi(function(){Ed(null,e,null,null)}),t[In]=null}};function Cd(e){this._internalRoot=e}Cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=G1();e={blockedOn:null,target:e,priority:t};for(var r=0;r<sa.length&&t!==0&&t<sa[r].priority;r++);sa.splice(r,0,e),r===0&&Q1(e)}};function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function KO(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Su(s);i.call(u)}}var s=g_(t,n,e,0,null,!1,!1,"",Zy);return e._reactRootContainer=s,e[In]=s.current,Qo(e.nodeType===8?e.parentNode:e),hi(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Su(c);l.call(u)}}var c=Lg(e,0,!1,null,null,!1,!1,"",Zy);return e._reactRootContainer=c,e[In]=c.current,Qo(e.nodeType===8?e.parentNode:e),hi(function(){Ed(t,c,r,n)}),c}function Od(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Su(s);l.call(c)}}Ed(t,s,e,a)}else s=KO(r,t,e,a,n);return Su(s)}H1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wo(t.pendingLanes);r!==0&&(ig(t,r|1),Gt(t,Ge()),!(ge&6)&&(gs=Ge()+500,Aa()))}break;case 13:hi(function(){var n=Dn(e,1);if(n!==null){var a=Dt();Gr(n,e,1,a)}}),Rg(e,1)}};sg=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var r=Dt();Gr(t,e,134217728,r)}Rg(e,134217728)}};K1=function(e){if(e.tag===13){var t=ba(e),r=Dn(e,t);if(r!==null){var n=Dt();Gr(r,e,t,n)}Rg(e,t)}};G1=function(){return _e};Y1=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};Xh=function(e,t,r){switch(t){case"input":if(Vh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=bd(n);if(!a)throw Error(K(90));S1(n),Vh(n,a)}}}break;case"textarea":C1(e,r);break;case"select":t=r.value,t!=null&&Zi(e,!!r.multiple,t,!1)}};D1=Mg;$1=hi;var GO={usingClientEntryPoint:!1,Events:[Sl,Vi,bd,M1,I1,Mg]},oo={findFiberByHostInstance:Ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YO={bundleType:oo.bundleType,version:oo.version,rendererPackageName:oo.rendererPackageName,rendererConfig:oo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=z1(e),e===null?null:e.stateNode},findFiberByHostInstance:oo.findFiberByHostInstance||HO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{gd=vc.inject(YO),ln=vc}catch{}}cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GO;cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ug(t))throw Error(K(200));return VO(e,t,null,r)};cr.createRoot=function(e,t){if(!Ug(e))throw Error(K(299));var r=!1,n="",a=v_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lg(e,1,!1,null,null,r,!1,n,a),e[In]=t.current,Qo(e.nodeType===8?e.parentNode:e),new zg(t)};cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=z1(t),e=e===null?null:e.stateNode,e};cr.flushSync=function(e){return hi(e)};cr.hydrate=function(e,t,r){if(!Pd(t))throw Error(K(200));return Od(null,e,t,!0,r)};cr.hydrateRoot=function(e,t,r){if(!Ug(e))throw Error(K(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=v_;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=g_(t,null,e,1,r??null,a,!1,i,s),e[In]=t.current,Qo(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Cd(t)};cr.render=function(e,t,r){if(!Pd(t))throw Error(K(200));return Od(null,e,t,!1,r)};cr.unmountComponentAtNode=function(e){if(!Pd(e))throw Error(K(40));return e._reactRootContainer?(hi(function(){Od(null,null,e,!1,function(){e._reactRootContainer=null,e[In]=null})}),!0):!1};cr.unstable_batchedUpdates=Mg;cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pd(r))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Od(e,t,r,!1,n)};cr.version="18.3.1-next-f1338f8080-20240426";function y_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y_)}catch(e){console.error(e)}}y_(),y1.exports=cr;var Bg=y1.exports,x_,ex=Bg;x_=ex.createRoot,ex.hydrateRoot;const QO="modulepreload",JO=function(e){return"/"+e},tx={},Cl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=JO(c),c in tx)return;tx[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":QO,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},XO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Fg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZO extends Fg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rx extends Fg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nx extends Fg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Am;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Am||(Am={}));var eA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tA{constructor(t,{headers:r={},customFetch:n,region:a=Am.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=XO(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return eA(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=s):typeof s=="string"?(l["Content-Type"]="text/plain",d=s):typeof FormData<"u"&&s instanceof FormData?d=s:(l["Content-Type"]="application/json",d=JSON.stringify(s)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:d}).catch(x=>{throw new ZO(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new rx(f);if(!f.ok)throw new nx(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof nx||a instanceof rx?a.context:void 0}}})}}var qt={},qg={},Ad={},Pl={},Td={},Md={},rA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=rA();const nA=vs.fetch,b_=vs.fetch.bind(vs),w_=vs.Headers,aA=vs.Request,iA=vs.Response,Rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:w_,Request:aA,Response:iA,default:b_,fetch:nA},Symbol.toStringTag,{value:"Module"})),sA=_C(Rs);var Id={};Object.defineProperty(Id,"__esModule",{value:!0});let oA=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Id.default=oA;var j_=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Md,"__esModule",{value:!0});const lA=j_(sA),cA=j_(Id);let uA=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=lA.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,l,c,u;let d=null,f=null,h=null,m=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),b=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(f=[],d=null,m=200,y="OK")}catch{i.status===404&&w===""?(m=204,y="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,y="OK"),d&&this.shouldThrowOnError)throw new cA.default(d)}return{error:d,data:f,count:h,status:m,statusText:y}});return this.shouldThrowOnError||(a=a.catch(i=>{var s,l,c;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Md.default=uA;var dA=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Td,"__esModule",{value:!0});const fA=dA(Md);let hA=class extends fA.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,s=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:s="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${u}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Td.default=hA;var mA=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pl,"__esModule",{value:!0});const pA=mA(Td);let gA=class extends pA.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Pl.default=gA;var vA=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ad,"__esModule",{value:!0});const lo=vA(Pl);let yA=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new lo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var a;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(s.length>0){const l=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new lo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){var s;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),a&&this.headers.append("Prefer",`count=${a}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new lo.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:r}={}){var n;const a="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new lo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new lo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Ad.default=yA;var __=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qg,"__esModule",{value:!0});const xA=__(Ad),bA=__(Pl);let wA=class k_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new xA.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new k_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new bA.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};qg.default=wA;var zs=Er&&Er.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const N_=zs(qg);qt.PostgrestClient=N_.default;const S_=zs(Ad);qt.PostgrestQueryBuilder=S_.default;const E_=zs(Pl);qt.PostgrestFilterBuilder=E_.default;const C_=zs(Td);qt.PostgrestTransformBuilder=C_.default;const P_=zs(Md);qt.PostgrestBuilder=P_.default;const O_=zs(Id);qt.PostgrestError=O_.default;var jA=qt.default={PostgrestClient:N_.default,PostgrestQueryBuilder:S_.default,PostgrestFilterBuilder:E_.default,PostgrestTransformBuilder:C_.default,PostgrestBuilder:P_.default,PostgrestError:O_.default};const{PostgrestClient:_A,PostgrestQueryBuilder:HW,PostgrestFilterBuilder:KW,PostgrestTransformBuilder:GW,PostgrestBuilder:YW,PostgrestError:QW}=jA;class kA{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const NA="2.15.5",SA=`realtime-js/${NA}`,EA="1.0.0",Tm=1e4,CA=1e3,PA=100;var $o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($o||($o={}));var et;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(et||(et={}));var Fr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fr||(Fr={}));var Mm;(function(e){e.websocket="websocket"})(Mm||(Mm={}));var Ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ga||(Ga={}));class OA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const l=n.decode(t.slice(s,s+a));s=s+a;const c=n.decode(t.slice(s,s+i));s=s+i;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class A_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const ax=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=AA(s,e,t,a),i),{})},AA=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?T_(i,s):Im(s)},T_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return DA(t,r)}switch(e){case Ee.bool:return TA(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return MA(t);case Ee.json:case Ee.jsonb:return IA(t);case Ee.timestamp:return $A(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Im(t);default:return Im(t)}},Im=e=>e,TA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},IA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>T_(t,l))}return e},$A=e=>typeof e=="string"?e.replace(" ","T"):e,M_=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xf{constructor(t,r,n={},a=Tm){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ix;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ix||(ix={}));class Lo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Lo.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=Lo.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Lo.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),y=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sx;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sx||(sx={}));var Ro;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ro||(Ro={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class Wg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xf(this,Fr.join,this.params,this.timeout),this.rejoinTimer=new A_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fr.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Lo(this),this.broadcastEndpointURL=M_(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Ro.PRESENCE]&&this.bindings[Ro.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(bn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(bn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(bn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,b=[];for(let p=0;p<w;p++){const g=x[p],{filter:{event:j,schema:_,table:N,filter:k}}=g,E=m&&m[p];if(E&&E.event===j&&E.schema===_&&E.table===N&&E.filter===k)b.push(Object.assign(Object.assign({},g),{id:E.id}));else{this.unsubscribe(),this.state=et.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(bn.SUBSCRIBED);return}}).receive("error",m=>{this.state=et.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===et.joined&&t===Ro.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Xf(this,Fr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xf(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>PA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fr;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var y,x,w;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===s}).map(m=>m.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(m=>{var y,x,w,b,p,g;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const j=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(p=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:w,commit_timestamp:b,type:p,errors:g}=y;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:b,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Wg.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fr.close,{},t)}_onError(t){this._on(Fr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ax(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ax(t.columns,t.old_record)),r}}const Zf=()=>{},yc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},LA=[1e3,2e3,5e3,1e4],RA=1e4,zA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class UA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Tm,this.transport=null,this.heartbeatIntervalMs=yc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Zf,this.ref=0,this.reconnectTimer=null,this.logger=Zf,this.conn=null,this.sendBuffer=[],this.serializer=new OA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...s)=>Cl(async()=>{const{default:l}=await Promise.resolve().then(()=>Rs);return{default:l}},void 0).then(({default:l})=>l(...s)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mm.websocket}`,this.httpEndpoint=M_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=kA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:EA}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $o.connecting:return Ga.Connecting;case $o.open:return Ga.Open;case $o.closing:return Ga.Closing;default:return Ga.Closed}}isConnected(){return this.connectionState()===Ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Wg(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},yc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([zA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:SA};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Fr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new A_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Tm,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:yc.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Zf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>LA[f-1]||RA,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Vg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class BA extends Vg{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dm extends Vg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var FA=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const I_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},qA=()=>FA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cl(()=>Promise.resolve().then(()=>Rs),void 0)).Response:Response}),$m=e=>{if(Array.isArray(e))return e.map(r=>$m(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=$m(n)}),t},WA=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var _i=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VA=(e,t,r)=>_i(void 0,void 0,void 0,function*(){const n=yield qA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,s=(a==null?void 0:a.statusCode)||i+"";t(new BA(eh(a),i,s))}).catch(a=>{t(new Dm(eh(a),a))}):t(new Dm(eh(e),e))}),HA=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(WA(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ol(e,t,r,n,a,i){return _i(this,void 0,void 0,function*(){return new Promise((s,l)=>{e(r,HA(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>VA(c,l,n))})})}function Eu(e,t,r,n){return _i(this,void 0,void 0,function*(){return Ol(e,"GET",t,r,n)})}function an(e,t,r,n,a){return _i(this,void 0,void 0,function*(){return Ol(e,"POST",t,n,a,r)})}function Lm(e,t,r,n,a){return _i(this,void 0,void 0,function*(){return Ol(e,"PUT",t,n,a,r)})}function KA(e,t,r,n){return _i(this,void 0,void 0,function*(){return Ol(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D_(e,t,r,n,a){return _i(this,void 0,void 0,function*(){return Ol(e,"DELETE",t,n,a,r)})}var Tt=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const GA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ox={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class YA{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=I_(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Tt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},ox),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Lm:an)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(tt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Tt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${s}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:ox.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Lm(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield an(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),l=s.searchParams.get("token");if(!l)throw new Vg("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Tt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield an(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Tt(this,void 0,void 0,function*(){try{const a=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}download(t,r){return Tt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Eu(this.fetch,`${this.url}/${a}/${l}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(tt(l))return{data:null,error:l};throw l}})}info(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Eu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$m(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}exists(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield KA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n)&&n instanceof Dm){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield D_(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Tt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},GA),r),{prefix:t||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}listV2(t,r){return Tt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const QA="2.12.1",JA={"X-Client-Info":`storage-js/${QA}`};var Ai=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class XA{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},JA),r),this.fetch=I_(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ai(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ai(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ai(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ai(this,void 0,void 0,function*(){try{return{data:yield Lm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(tt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ai(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ai(this,void 0,void 0,function*(){try{return{data:yield D_(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}class ZA extends XA{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new YA(this.url,this.headers,t,this.fetch)}}const eT="2.57.4";let _o="";typeof Deno<"u"?_o="deno":typeof document<"u"?_o="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_o="react-native":_o="node";const tT={"X-Client-Info":`supabase-js-${_o}/${eT}`},rT={headers:tT},nT={schema:"public"},aT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iT={};var sT=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oT=e=>{let t;return e?t=e:typeof fetch>"u"?t=b_:t=fetch,(...r)=>t(...r)},lT=()=>typeof Headers>"u"?w_:Headers,cT=(e,t,r)=>{const n=oT(r),a=lT();return(i,s)=>sT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},s),{headers:u}))})};var uT=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function dT(e){return e.endsWith("/")?e:e+"/"}function fT(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>uT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function hT(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dT(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $_="2.71.1",Ri=30*1e3,Rm=3,th=Rm*Ri,mT="http://localhost:9999",pT="supabase.auth.token",gT={"X-Client-Info":`gotrue-js/${$_}`},zm="X-Supabase-Api-Version",L_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yT=10*60*1e3;class Hg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xT extends Hg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bT(e){return de(e)&&e.name==="AuthApiError"}class R_ extends Hg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ta extends Hg{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ea extends Ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wT(e){return de(e)&&e.name==="AuthSessionMissingError"}class xc extends Ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bc extends Ta{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wc extends Ta{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jT(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class lx extends Ta{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Um extends Ta{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function rh(e){return de(e)&&e.name==="AuthRetryableFetchError"}class cx extends Ta{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bm extends Ta{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ux=` 	
\r=`.split(""),_T=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ux.length;t+=1)e[ux[t].charCodeAt(0)]=-2;for(let t=0;t<Cu.length;t+=1)e[Cu[t].charCodeAt(0)]=t;return e})();function dx(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cu[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Cu[n]),t.queuedBits-=6}}function z_(e,t,r){const n=_T[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function fx(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{ST(s,n,r)};for(let s=0;s<e.length;s+=1)z_(e.charCodeAt(s),a,i);return t.join("")}function kT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function NT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}kT(n,t)}}function ST(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ET(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)z_(e.charCodeAt(a),r,n);return new Uint8Array(t)}function CT(e){const t=[];return NT(e,r=>t.push(r)),new Uint8Array(t)}function PT(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>dx(a,r,n)),dx(null,r,n),t.join("")}function OT(e){return Math.round(Date.now()/1e3)+e}function AT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Rr=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},U_=()=>{if(!Rr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function TT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const B_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cl(async()=>{const{default:n}=await Promise.resolve().then(()=>Rs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},MT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ua=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zn=async(e,t)=>{await e.removeItem(t)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dd.promiseConstructor=Promise;function nh(e){const t=e.split(".");if(t.length!==3)throw new Bm("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!vT.test(t[n]))throw new Bm("JWT not in base64url format");return{header:JSON.parse(fx(t[0])),payload:JSON.parse(fx(t[1])),signature:ET(t[2]),raw:{header:t[0],payload:t[1]}}}async function IT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function DT(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function $T(e){return("0"+e.toString(16)).substr(-2)}function LT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,$T).join("")}async function RT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function zT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await RT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ti(e,t,r=!1){const n=LT();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await zi(e,`${t}-code-verifier`,a);const i=await zT(n);return[i,n===i?"plain":"s256"]}const UT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function BT(e){const t=e.headers.get(zm);if(!t||!t.match(UT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function FT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Mi(e){if(!WT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ah(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hx(e){return JSON.parse(JSON.stringify(e))}var VT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Wa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),HT=[502,503,504];async function mx(e){var t;if(!MT(e))throw new Um(Wa(e),0);if(HT.includes(e.status))throw new Um(Wa(e),e.status);let r;try{r=await e.json()}catch(i){throw new R_(Wa(i),i)}let n;const a=BT(e);if(a&&a.getTime()>=L_["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cx(Wa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ea}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new cx(Wa(r),e.status,r.weak_password.reasons);throw new xT(Wa(r),e.status||500,n)}const KT=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function he(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[zm]||(i[zm]=L_["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await GT(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function GT(e,t,r,n,a,i){const s=KT(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new Um(Wa(c),0)}if(l.ok||await mx(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await mx(c)}}function yn(e){var t;let r=null;XT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function px(e){const t=yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function la(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function YT(e){return{data:e,error:null}}function QT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=VT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function JT(e){return e}function XT(e){return e.access_token&&e.refresh_token&&e.expires_in}const ih=["global","local","others"];var ZT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class e3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=B_(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ih[0]){if(ih.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ih.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:la})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ZT(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:QT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:la})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:JT});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Mi(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:la})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Mi(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:la})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Mi(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:la})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Mi(t.userId);try{const{data:r,error:n}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Mi(t.userId),Mi(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}function gx(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function t3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ii={debug:!!(globalThis&&U_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F_ extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r3 extends F_{}async function n3(e,t,r){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ii.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}t3();const a3={url:mT,storageKey:pT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vx(e,t,r){return await r()}const Di={};class il{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=il.nextInstanceID,il.nextInstanceID+=1,this.instanceID>0&&Rr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},a3),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new e3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=B_(a.fetch),this.lock=a.lock||vx,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Rr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=n3:this.lock=vx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:U_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gx(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=gx(this.memoryStorage)),Rr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Di[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Di[this.storageKey]=Object.assign(Object.assign({},Di[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Di[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Di[this.storageKey]=Object.assign(Object.assign({},Di[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$_}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=TT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Rr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new R_("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:yn}),{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ti(this.storage,this.storageKey)),i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:yn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:yn})}else throw new bc("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return{data:{user:null,session:null},error:l};const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:px})}else throw new bc("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new xc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,m;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:b,statement:p,options:g}=t;let j;if(Rr())if(typeof b=="object")j=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),p?{statement:p}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)y=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:b}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:PT(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:yn});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new xc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ua(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:yn});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new xc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:yn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new xc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ti(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new bc("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:yn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Ti(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:YT})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ea;const{error:a}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l}}throw new bc("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<th:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ua(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=ah()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:la}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ea}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:la})})}catch(r){if(de(r))return wT(r)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ea;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ti(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:la});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ea;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=nh(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ea;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Rr())throw new wc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lx("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lx("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new wc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Ri&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(bT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=AT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ti(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Rr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await DT(async a=>(a>0&&await IT(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:yn})),(a,i)=>{const s=200*Math.pow(2,a);return i&&rh(i)&&Date.now()+s-n<Ri})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Rr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ua(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await zi(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:ah()}else if(a&&!a.user&&!a.user){const s=await Ua(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await Zn(this.storage,this.storageKey+"-user"),await zi(this.storage,this.storageKey,a)):a.user=ah()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<th;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${th}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),rh(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ea;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Dd;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new ea;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),de(i)){const s={session:null,error:i};return rh(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zi(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=hx(a);await zi(this.storage,this.storageKey,i)}else{const a=hx(r);await zi(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ri);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Ri);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ri}ms, refresh threshold is ${Rm} ticks`),a<=Rm&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F_)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Ti(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=nh(a.access_token);let l=null;s.aal&&(l=s.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=s.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+yT>a)return n;const{data:i,error:s}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return{data:null,error:y};n=m.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=nh(n);r!=null&&r.allowExpired||FT(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:s},error:null}}const d=qT(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,CT(`${l}.${c}`)))throw new Bm("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}il.nextInstanceID=0;const i3=il;class s3 extends i3{constructor(t){super(t)}}var o3=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class l3{constructor(t,r,n){var a,i,s;this.supabaseUrl=t,this.supabaseKey=r;const l=hT(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:nT,realtime:iT,auth:Object.assign(Object.assign({},aT),{storageKey:c}),global:rT},d=fT(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=cT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _A(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new ZA(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new tA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return o3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:s,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s3({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new UA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const c3=(e,t,r)=>new l3(e,t,r);function u3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}u3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d3="https://dpbohbsxstthvhzgqxje.supabase.co",f3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0",F=c3(d3,f3,{auth:{persistSession:!0,storageKey:"cloudmenu-auth-token",storage:window.localStorage,detectSessionInUrl:!0,flowType:"pkce"}}),fa=e=>e.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),ys=async(e,t)=>{try{const r=e.name.split(".").pop(),n=`${t}/${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`,{data:a,error:i}=await F.storage.from("cloudmenu").upload(n,e);if(i)return{url:"",error:i.message};const{data:s}=F.storage.from("cloudmenu").getPublicUrl(n);return{url:s.publicUrl}}catch{return{url:"",error:"Erreur lors de l'upload"}}},is=async e=>{try{const t=e.split("/cloudmenu/")[1];if(!t)return!1;const{error:r}=await F.storage.from("cloudmenu").remove([t]);return!r}catch{return!1}},h3=async(e,t="direct_link")=>{try{if(document.hidden)return;const r={menu_id:e,visit_type:t,user_agent:navigator.userAgent,referrer:document.referrer||null},{error:n}=await F.from("menu_analytics").insert([r]);n&&console.error("Erreur lors de l'enregistrement de la visite:",n)}catch(r){console.error("Erreur lors de l'enregistrement de la visite:",r)}},q_=v.createContext(void 0);function dr(){const e=v.useContext(q_);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function m3({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(!0),[i,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(!1);v.useEffect(()=>{const x=new URLSearchParams(window.location.search),w=x.has("code")||x.has("access_token")||x.has("token_type");d(w)},[]),v.useEffect(()=>{const x=()=>{const w=!document.hidden,b=i;if(b!==w&&s(w),w&&!b&&t&&!u){const p=Date.now(),g=sessionStorage.getItem("lastSessionCheck");p-(g?parseInt(g):0)>864e5&&(sessionStorage.setItem("lastSessionCheck",p.toString()),F.auth.getSession().then(({data:{session:_}})=>{!_&&t&&(console.warn("Session expired while tab was hidden, signing out"),m())}).catch(_=>{console.error("Error checking session on tab visibility change:",_)}))}};return document.addEventListener("visibilitychange",x),()=>document.removeEventListener("visibilitychange",x)},[t,u]),v.useEffect(()=>{let x=!0,w=null;const b=u?15e3:8e3,p=setTimeout(()=>{x&&n&&(console.warn(`Auth initialization timeout after ${b}ms - forcing completion`),a(!1),F.auth.getSession().then(({data:{session:j}})=>{j!=null&&j.user&&x&&(r(j.user),loadUserProfile(j.user.id))}).catch(()=>{}))},b);return c(p),(async()=>{if(t&&!n&&!u||t&&!n&&!u)return;const j=Date.now(),_=sessionStorage.getItem("lastAuthInit");if(j-(_?parseInt(_):0)<60*60*1e3&&t&&!u){a(!1);return}try{sessionStorage.setItem("lastAuthInit",j.toString());const{data:{session:k}}=await F.auth.getSession();p&&clearTimeout(p),x&&r((k==null?void 0:k.user)??null)}catch(k){console.error("Error initializing auth:",k),p&&clearTimeout(p),x&&r(null)}finally{x&&(a(!1),p&&clearTimeout(p))}})(),w=F.auth.onAuthStateChange(async(j,_)=>{var N;if(x&&!(!i&&j!=="SIGNED_OUT"&&!u||j==="SIGNED_IN"&&t&&((N=_==null?void 0:_.user)==null?void 0:N.id)===t.id))try{r((_==null?void 0:_.user)??null)}catch(k){console.error("Error in auth state change:",k)}finally{x&&a(!1)}}),()=>{x=!1,l&&clearTimeout(l),w&&w.data.subscription.unsubscribe()}},[i,u]);const f=async(x,w)=>{const{error:b}=await F.auth.signInWithPassword({email:x,password:w});return{error:b??void 0}},h=async(x,w)=>{const{error:b}=await F.auth.signUp({email:x,password:w});return{error:b??void 0}},m=async()=>{try{const{error:x}=await F.auth.signOut();x?console.error("Erreur lors de la dconnexion:",x):(r(null),window.location.reload())}catch{r(null),window.location.reload()}},y={user:t,loading:n,signIn:f,signUp:h,signOut:m};return o.jsx(q_.Provider,{value:y,children:e})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...p3,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${g3(e)}`,l].join(" "),...u},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ne("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ne("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ne("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ne("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ne("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ne("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ne("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class D3 extends v.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error Boundary caught an error:",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(v3,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Une erreur est survenue"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"L'application a rencontr une erreur inattendue. Vous pouvez essayer de recharger la page ou retourner  l'accueil."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxs("button",{onClick:this.handleReload,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(T3,{className:"w-4 h-4"}),o.jsx("span",{children:"Recharger"})]}),o.jsx("button",{onClick:this.handleGoHome,className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"Accueil"})]}),!1,o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg text-left",children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Si le problme persiste:"}),o.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[o.jsx("li",{children:" Vrifiez votre connexion internet"}),o.jsx("li",{children:" Effacez le cache de votre navigateur"}),o.jsx("li",{children:" Contactez le support si ncessaire"})]})]})]})}):this.props.children}}/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jx="popstate";function $3(e={}){function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return Ym("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ul(a)}return R3(t,r,null,e)}function Be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L3(){return Math.random().toString(36).substring(2,10)}function _x(e,t){return{usr:e.state,key:e.key,idx:t}}function Ym(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Us(t):t,state:r,key:t&&t.key||n||L3()}}function ul({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function R3(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){l="POP";let w=d(),b=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:b})}function h(w,b){l="PUSH";let p=Ym(x.location,w,b);u=d()+1;let g=_x(p,u),j=x.createHref(p);try{s.pushState(g,"",j)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(j)}i&&c&&c({action:l,location:x.location,delta:1})}function m(w,b){l="REPLACE";let p=Ym(x.location,w,b);u=d();let g=_x(p,u),j=x.createHref(p);s.replaceState(g,"",j),i&&c&&c({action:l,location:x.location,delta:0})}function y(w){return z3(w)}let x={get action(){return l},get location(){return e(a,s)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(jx,f),c=w,()=>{a.removeEventListener(jx,f),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let b=y(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(w){return s.go(w)}};return x}function z3(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Be(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ul(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function K_(e,t,r="/"){return U3(e,t,r,!1)}function U3(e,t,r,n){let a=typeof t=="string"?Us(t):t,i=Rn(a.pathname||"/",r);if(i==null)return null;let s=G_(e);B3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=X3(i);l=Q3(s[c],u,n)}return l}function G_(e,t=[],r=[],n="",a=!1){let i=(s,l,c=a,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Be(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=On([n,d.relativePath]),h=r.concat(d);s.children&&s.children.length>0&&(Be(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),G_(s.children,t,h,f,c)),!(s.path==null&&!s.index)&&t.push({path:f,score:G3(f,s.index),routesMeta:h})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let u of Y_(s.path))i(s,l,!0,u)}),t}function Y_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=Y_(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function B3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var F3=/^:[\w-]+$/,q3=3,W3=2,V3=1,H3=10,K3=-2,kx=e=>e==="*";function G3(e,t){let r=e.split("/"),n=r.length;return r.some(kx)&&(n+=K3),t&&(n+=W3),r.filter(a=>!kx(a)).reduce((a,i)=>a+(F3.test(i)?q3:i===""?V3:H3),n)}function Y3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Q3(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Ou({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:On([i,f.pathname]),pathnameBase:r4(On([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=On([i,f.pathnameBase]))}return s}function Ou(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=J3(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function J3(e,t=!1,r=!0){Qr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function X3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Rn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Z3(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Us(e):e;return{pathname:r?r.startsWith("/")?r:e4(r,t):t,search:n4(n),hash:a4(a)}}function e4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function lh(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Q_(e){let t=t4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function J_(e,t,r,n=!1){let a;typeof e=="string"?a=Us(e):(a={...e},Be(!a.pathname||!a.pathname.includes("?"),lh("?","pathname","search",a)),Be(!a.pathname||!a.pathname.includes("#"),lh("#","pathname","hash",a)),Be(!a.search||!a.search.includes("#"),lh("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Z3(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var On=e=>e.join("/").replace(/\/\/+/g,"/"),r4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var X_=["POST","PUT","PATCH","DELETE"];new Set(X_);var s4=["GET",...X_];new Set(s4);var Bs=v.createContext(null);Bs.displayName="DataRouter";var $d=v.createContext(null);$d.displayName="DataRouterState";v.createContext(!1);var Z_=v.createContext({isTransitioning:!1});Z_.displayName="ViewTransition";var o4=v.createContext(new Map);o4.displayName="Fetchers";var l4=v.createContext(null);l4.displayName="Await";var mn=v.createContext(null);mn.displayName="Navigation";var Ml=v.createContext(null);Ml.displayName="Location";var pn=v.createContext({outlet:null,matches:[],isDataRoute:!1});pn.displayName="Route";var Jg=v.createContext(null);Jg.displayName="RouteError";function c4(e,{relative:t}={}){Be(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(mn),{hash:a,pathname:i,search:s}=Dl(e,{relative:t}),l=i;return r!=="/"&&(l=i==="/"?r:On([r,i])),n.createHref({pathname:l,search:s,hash:a})}function Il(){return v.useContext(Ml)!=null}function Wn(){return Be(Il(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ml).location}var e2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t2(e){v.useContext(mn).static||v.useLayoutEffect(e)}function Xr(){let{isDataRoute:e}=v.useContext(pn);return e?j4():u4()}function u4(){Be(Il(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Bs),{basename:t,navigator:r}=v.useContext(mn),{matches:n}=v.useContext(pn),{pathname:a}=Wn(),i=JSON.stringify(Q_(n)),s=v.useRef(!1);return t2(()=>{s.current=!0}),v.useCallback((c,u={})=>{if(Qr(s.current,e2),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=J_(c,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:On([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,i,a,e])}v.createContext(null);function ki(){let{matches:e}=v.useContext(pn),t=e[e.length-1];return t?t.params:{}}function Dl(e,{relative:t}={}){let{matches:r}=v.useContext(pn),{pathname:n}=Wn(),a=JSON.stringify(Q_(r));return v.useMemo(()=>J_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function d4(e,t){return r2(e,t)}function r2(e,t,r,n,a){var p;Be(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(mn),{matches:s}=v.useContext(pn),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let g=f&&f.path||"";n2(u,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let h=Wn(),m;if(t){let g=typeof t=="string"?Us(t):t;Be(d==="/"||((p=g.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=h;let y=m.pathname||"/",x=y;if(d!=="/"){let g=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=K_(e,{pathname:x});Qr(f||w!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Qr(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=g4(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:On([d,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?d:On([d,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n,a);return t&&b?v.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function f4(){let e=w4(),t=i4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,s)}var h4=v.createElement(f4,null),m4=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?v.createElement(pn.Provider,{value:this.props.routeContext},v.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p4({routeContext:e,match:t,children:r}){let n=v.useContext(Bs);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(pn.Provider,{value:e},r)}function g4(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r==null?void 0:r.errors;if(s!=null){let u=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Be(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<i.length;u++){let d=i[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=r,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,d,f)=>{let h,m=!1,y=null,x=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,y=d.route.errorElement||h4,l&&(c<0&&f===0?(n2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):c===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,f+1)),b=()=>{let p;return h?p=y:m?p=x:d.route.Component?p=v.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,v.createElement(p4,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?v.createElement(m4,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:n}):b()},null)}function Xg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v4(e){let t=v.useContext(Bs);return Be(t,Xg(e)),t}function y4(e){let t=v.useContext($d);return Be(t,Xg(e)),t}function x4(e){let t=v.useContext(pn);return Be(t,Xg(e)),t}function Zg(e){let t=x4(e),r=t.matches[t.matches.length-1];return Be(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function b4(){return Zg("useRouteId")}function w4(){var n;let e=v.useContext(Jg),t=y4("useRouteError"),r=Zg("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function j4(){let{router:e}=v4("useNavigate"),t=Zg("useNavigate"),r=v.useRef(!1);return t2(()=>{r.current=!0}),v.useCallback(async(a,i={})=>{Qr(r.current,e2),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Nx={};function n2(e,t,r){!t&&!Nx[e]&&(Nx[e]=!0,Qr(!1,r))}v.memo(_4);function _4({routes:e,future:t,state:r,unstable_onError:n}){return r2(e,void 0,r,n,t)}function pt(e){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Be(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=v.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Us(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=v.useMemo(()=>{let y=Rn(c,s);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:n}},[s,c,u,d,f,h,n]);return Qr(m!=null,`<Router basename="${s}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:v.createElement(mn.Provider,{value:l},v.createElement(Ml.Provider,{children:t,value:m}))}function N4({children:e,location:t}){return d4(Qm(e),t)}function Qm(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){r.push.apply(r,Qm(n.props.children,i));return}Be(n.type===pt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Qm(n.props.children,i)),r.push(s)}),r}var Zc="get",eu="application/x-www-form-urlencoded";function Ld(e){return e!=null&&typeof e.tagName=="string"}function S4(e){return Ld(e)&&e.tagName.toLowerCase()==="button"}function E4(e){return Ld(e)&&e.tagName.toLowerCase()==="form"}function C4(e){return Ld(e)&&e.tagName.toLowerCase()==="input"}function P4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O4(e,t){return e.button===0&&(!t||t==="_self")&&!P4(e)}function Jm(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function A4(e,t){let r=Jm(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var jc=null;function T4(){if(jc===null)try{new FormData(document.createElement("form"),0),jc=!1}catch{jc=!0}return jc}var M4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ch(e){return e!=null&&!M4.has(e)?(Qr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):e}function I4(e,t){let r,n,a,i,s;if(E4(e)){let l=e.getAttribute("action");n=l?Rn(l,t):null,r=e.getAttribute("method")||Zc,a=ch(e.getAttribute("enctype"))||eu,i=new FormData(e)}else if(S4(e)||C4(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Rn(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Zc,a=ch(e.getAttribute("formenctype"))||ch(l.getAttribute("enctype"))||eu,i=new FormData(l,e),!T4()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else u&&i.append(u,f)}}else{if(Ld(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zc,n=null,a=eu,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function D4(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Rn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function $4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function R4(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await $4(i,r);return s.links?s.links():[]}return[]}));return F4(n.flat(1).filter(L4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Sx(e,t,r,n,a,i){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return i==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):i==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function z4(e,t,{includeHydrateFallback:r}={}){return U4(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function U4(e){return[...new Set(e)]}function B4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function F4(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(B4(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function a2(){let e=v.useContext(Bs);return e0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function q4(){let e=v.useContext($d);return e0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var t0=v.createContext(void 0);t0.displayName="FrameworkContext";function i2(){let e=v.useContext(t0);return e0(e,"You must render this element inside a <HydratedRouter> element"),e}function W4(e,t){let r=v.useContext(t0),[n,a]=v.useState(!1),[i,s]=v.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=v.useRef(null);v.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=b=>{b.forEach(p=>{s(p.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),v.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,h,{}]:[i,h,{onFocus:co(l,m),onBlur:co(c,y),onMouseEnter:co(u,m),onMouseLeave:co(d,y),onTouchStart:co(f,m)}]:[!1,h,{}]}function co(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function V4({page:e,...t}){let{router:r}=a2(),n=v.useMemo(()=>K_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(K4,{page:e,matches:n,...t}):null}function H4(e){let{manifest:t,routeModules:r}=i2(),[n,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return R4(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function K4({page:e,matches:t,...r}){let n=Wn(),{manifest:a,routeModules:i}=i2(),{basename:s}=a2(),{loaderData:l,matches:c}=q4(),u=v.useMemo(()=>Sx(e,t,c,a,n,"data"),[e,t,c,a,n]),d=v.useMemo(()=>Sx(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(b=>{var g;let p=a.routes[b.route.id];!p||!p.hasLoader||(!u.some(j=>j.route.id===b.route.id)&&b.route.id in l&&((g=i[b.route.id])!=null&&g.shouldRevalidate)||p.hasClientLoader?x=!0:y.add(b.route.id))}),y.size===0)return[];let w=D4(e,s,"data");return x&&y.size>0&&w.searchParams.set("_routes",t.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[w.pathname+w.search]},[s,l,n,a,u,t,e,i]),h=v.useMemo(()=>z4(d,a),[d,a]),m=H4(d);return v.createElement(v.Fragment,null,f.map(y=>v.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),h.map(y=>v.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:x})=>v.createElement("link",{key:y,nonce:r.nonce,...x})))}function G4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var s2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s2&&(window.__reactRouterVersion="7.9.1")}catch{}function Y4({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=$3({window:r,v5Compat:!0}));let a=n.current,[i,s]=v.useState({action:a.action,location:a.location}),l=v.useCallback(c=>{v.startTransition(()=>s(c))},[s]);return v.useLayoutEffect(()=>a.listen(l),[a,l]),v.createElement(k4,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var o2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=v.useContext(mn),x=typeof u=="string"&&o2.test(u),w,b=!1;if(typeof u=="string"&&x&&(w=u,s2))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),P=Rn(C.pathname,y);C.origin===S.origin&&P!=null?u=P+C.search+C.hash:b=!0}catch{Qr(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=c4(u,{relative:a}),[g,j,_]=W4(n,h),N=Z4(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function k(S){t&&t(S),S.defaultPrevented||N(S)}let E=v.createElement("a",{...h,..._,href:w||p,onClick:b||i?t:k,ref:G4(m,j),target:c,"data-discover":!x&&r==="render"?"true":void 0});return g&&!x?v.createElement(v.Fragment,null,E,v.createElement(V4,{page:p})):E});at.displayName="Link";var Q4=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:l,children:c,...u},d){let f=Dl(s,{relative:u.relative}),h=Wn(),m=v.useContext($d),{navigator:y,basename:x}=v.useContext(mn),w=m!=null&&iM(f)&&l===!0,b=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,p=h.pathname,g=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(p=p.toLowerCase(),g=g?g.toLowerCase():null,b=b.toLowerCase()),g&&x&&(g=Rn(g,x)||g);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let _=p===b||!a&&p.startsWith(b)&&p.charAt(j)==="/",N=g!=null&&(g===b||!a&&g.startsWith(b)&&g.charAt(b.length)==="/"),k={isActive:_,isPending:N,isTransitioning:w},E=_?t:void 0,S;typeof n=="function"?S=n(k):S=[n,_?"active":null,N?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(k):i;return v.createElement(at,{...u,"aria-current":E,className:S,ref:d,style:C,to:s,viewTransition:l},typeof c=="function"?c(k):c)});Q4.displayName="NavLink";var J4=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=Zc,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=nM(),x=aM(l,{relative:u}),w=s.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&o2.test(l),p=g=>{if(c&&c(g),g.defaultPrevented)return;g.preventDefault();let j=g.nativeEvent.submitter,_=(j==null?void 0:j.getAttribute("formmethod"))||s;y(j||g.currentTarget,{fetcherKey:t,method:_,navigate:r,replace:a,state:i,relative:u,preventScrollReset:d,viewTransition:f})};return v.createElement("form",{ref:m,method:w,action:x,onSubmit:n?c:p,...h,"data-discover":!b&&e==="render"?"true":void 0})});J4.displayName="Form";function X4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(e){let t=v.useContext(Bs);return Be(t,X4(e)),t}function Z4(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let l=Xr(),c=Wn(),u=Dl(e,{relative:i});return v.useCallback(d=>{if(O4(d,t)){d.preventDefault();let f=r!==void 0?r:ul(c)===ul(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[c,l,u,r,n,t,e,a,i,s])}function eM(e){Qr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(Jm(e)),r=v.useRef(!1),n=Wn(),a=v.useMemo(()=>A4(n.search,r.current?null:t.current),[n.search]),i=Xr(),s=v.useCallback((l,c)=>{const u=Jm(typeof l=="function"?l(new URLSearchParams(a)):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var tM=0,rM=()=>`__${String(++tM)}__`;function nM(){let{router:e}=l2("useSubmit"),{basename:t}=v.useContext(mn),r=b4();return v.useCallback(async(n,a={})=>{let{action:i,method:s,encType:l,formData:c,body:u}=I4(n,t);if(a.navigate===!1){let d=a.fetcherKey||rM();await e.fetch(d,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||s,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function aM(e,{relative:t}={}){let{basename:r}=v.useContext(mn),n=v.useContext(pn);Be(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Dl(e||".",{relative:t})},s=Wn();if(e==null){i.search=s.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:On([r,i.pathname])),ul(i)}function iM(e,{relative:t}={}){let r=v.useContext(Z_);Be(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=l2("useViewTransitionState"),a=Dl(e,{relative:t});if(!r.isTransitioning)return!1;let i=Rn(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Rn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ou(a.pathname,s)!=null||Ou(a.pathname,i)!=null}const sM=()=>{const[e,t]=v.useState("classic"),[r,n]=v.useState(""),[a,i]=v.useState(""),[s,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[y,x]=v.useState(""),[w,b]=v.useState(!1),[p,g]=v.useState(!1),[j,_]=v.useState(""),[N,k]=v.useState(!1),{signIn:E,signUp:S}=dr(),C=async Q=>{if(Q.preventDefault(),!r.trim()||!a.trim()){P("error","Veuillez remplir tous les champs");return}u(!0),m(null);try{const{error:Y}=await E(r,a);Y&&P("error",Y.message==="Invalid login credentials"?"Email ou mot de passe incorrect":Y.message)}catch{P("error","Une erreur est survenue")}finally{u(!1)}},P=(Q,Y)=>{m({type:Q,text:Y}),setTimeout(()=>m(null),5e3)},M=async Q=>{if(Q.preventDefault(),!j.trim()){P("error","Veuillez entrer votre adresse email");return}k(!0);try{const{error:Y}=await F.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`});Y?P("error",Y.message):(P("success","Un email de rinitialisation a t envoy  votre adresse email."),g(!1),_(""))}catch{P("error","Une erreur est survenue")}finally{k(!1)}},$=async Q=>{if(Q.preventDefault(),!y.trim()){P("error","Veuillez entrer votre adresse email");return}b(!0);try{const{error:Y}=await F.auth.signInWithOtp({email:y,options:{emailRedirectTo:`${window.location.origin}/`}});Y?P("error",Y.message):(P("success","Un lien de connexion a t envoy  votre adresse email ! Cliquez sur le lien pour vous connecter."),x(""))}catch{P("error","Une erreur est survenue")}finally{b(!1)}},I=async()=>{try{const{error:Q}=await F.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});Q&&P("error",Q.message)}catch{P("error","Erreur lors de la connexion avec Google")}},W=async()=>{if(!r.trim()||!a.trim()){P("error","Veuillez remplir tous les champs");return}f(!0),m(null);try{const{error:Q}=await S(r,a);Q?P("error",Q.message):(P("success","Compte cr avec succs ! Vous pouvez maintenant vous connecter."),i(""))}catch{P("error","Une erreur est survenue")}finally{f(!1)}};return p?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-20 mx-auto mb-8",style:{width:"390px",height:"auto"}}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Mot de passe oubli"}),o.jsx("p",{className:"text-gray-600",children:"Entrez votre email pour recevoir un lien de rinitialisation"})]}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Fm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Ln,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",children:o.jsxs("form",{onSubmit:M,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"forgotEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"forgotEmail",name:"forgotEmail",type:"email",autoComplete:"email",required:!0,value:j,onChange:Q=>_(Q.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:N,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:N?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Envoyer le lien de rinitialisation"}),o.jsx(sh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>{g(!1),_(""),m(null)},className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Retour  la connexion"})})]})})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"mx-auto mb-8",style:{width:"390px",height:"auto"}})}),h&&o.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 ${h.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[h.type==="success"?o.jsx(Fm,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Ln,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:h.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[o.jsxs("div",{className:"flex bg-gray-50",children:[o.jsx("button",{onClick:()=>t("classic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="classic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ss,{className:"w-4 h-4"}),o.jsx("span",{children:"Email & Mot de passe"})]})}),o.jsx("button",{onClick:()=>t("magic"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-all duration-200 ${e==="magic"?"bg-white text-orange-600 border-b-2 border-orange-600":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(oh,{className:"w-4 h-4"}),o.jsx("span",{children:"Connexion magique"})]})})]}),o.jsxs("div",{className:"p-8",children:[e==="classic"&&o.jsxs("form",{onSubmit:C,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(cl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:Q=>n(Q.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo@restaurant.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:Q=>i(Q.target.value),className:"w-full pl-12 pr-12 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"demo123",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",onClick:()=>l(!s),children:s?o.jsx(ai,{size:20}):o.jsx(un,{size:20})})]})]}),o.jsx("div",{className:"flex justify-between items-center",children:o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-orange-600 hover:text-orange-700 font-medium hover:underline",children:"Mot de passe oubli ?"})}),o.jsxs("div",{className:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3",children:[o.jsx("button",{type:"submit",disabled:c,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Se connecter"}),o.jsx(sh,{className:"ml-2 w-4 h-4"})]})}),o.jsx("button",{type:"button",onClick:W,disabled:d,className:"w-full sm:flex-1 flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:d?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsx("span",{children:"Crer un compte"})})]})]}),e==="magic"&&o.jsxs("form",{onSubmit:$,className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(oh,{className:"w-8 h-8 text-orange-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Connexion sans mot de passe"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Nous vous enverrons un lien magique par email pour vous connecter instantanment."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"magicEmail",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Adresse email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vm,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"magicEmail",name:"magicEmail",type:"email",autoComplete:"email",required:!0,value:y,onChange:Q=>x(Q.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-200 rounded-xl shadow-sm focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200",placeholder:"votre@email.com"})]})]}),o.jsx("button",{type:"submit",disabled:w,className:"w-full flex justify-center items-center py-4 px-6 border border-transparent rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-purple-600 to-orange-600 hover:from-purple-700 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:w?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(oh,{className:"mr-2 w-4 h-4"}),o.jsx("span",{children:"Envoyer le lien magique"}),o.jsx(sh,{className:"ml-2 w-4 h-4"})]})})]}),o.jsxs("div",{className:"mt-8",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"ou"})})]}),o.jsxs("button",{type:"button",onClick:I,className:"mt-6 w-full flex justify-center items-center py-4 px-6 border border-gray-200 rounded-xl text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 shadow-sm hover:shadow-md",children:[o.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{children:"Continuer avec Google"})]})]})]})]}),o.jsx("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-2xl sm:hidden",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(cl,{className:"w-4 h-4 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Compte de dmonstration"}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Email :"})," demo@restaurant.com"]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Mot de passe :"})," demo123"]})]})]})]})}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En vous connectant, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline font-medium",children:"conditions d'utilisation"})]})})]})})};function tn({children:e}){const{user:t,loading:r}=dr(),n=Xr(),[a,i]=v.useState(!1),[s,l]=v.useState(null),[c,u]=v.useState(!0),[d,f]=v.useState(!document.hidden),[h,m]=v.useState(null),[y,x]=v.useState(!1);v.useEffect(()=>{const p=new URLSearchParams(window.location.search),g=p.has("code")||p.has("access_token")||p.has("token_type");x(g)},[]),v.useEffect(()=>{if(y)return;const p=setTimeout(()=>{(a||r)&&c&&(console.warn("Emergency timeout - forcing state completion"),i(!1))},1e4);return m(p),()=>{clearTimeout(p),m(null)}},[a,r,c,y]),v.useEffect(()=>{const p=()=>{const g=!document.hidden;g!==d&&f(g)};return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[d]),v.useEffect(()=>{let p=!0;return s!==null&&t&&!r&&d||!d&&t&&s!==null?void 0:((async()=>{if(!t||r)return;if(window.location.pathname==="/onboarding"){p&&l(!1);return}const j=Date.now(),_=sessionStorage.getItem("lastMenuCheck");if(j-(_?parseInt(_):0)<5*60*1e3&&s!==null)return;const k=s===null&&window.location.pathname!=="/onboarding";k&&i(!0),sessionStorage.setItem("lastMenuCheck",j.toString());try{const{data:E,error:S}=await F.from("restaurant_profiles").select("id").eq("user_id",t.id).maybeSingle();if(!p)return;if(S&&S.code!=="PGRST116"){console.error("Error checking restaurant profile:",S),l(!1),n("/onboarding",{replace:!0});return}const C=!!E;l(C),!C&&window.location.pathname!=="/onboarding"&&n("/onboarding",{replace:!0})}catch(E){if(!p)return;console.error("Exception during profile check:",E),l(!1),n("/onboarding",{replace:!0})}finally{p&&k&&i(!1)}})(),()=>{p=!1})},[t,r,n,s,d,y]),v.useEffect(()=>()=>{u(!1),h&&clearTimeout(h)},[h]);const w=r&&(!t||s===null),b=a&&s===null;if(w||b){const p=y?"Finalisation de la connexion...":w?"Chargement...":b?"Vrification du compte...":"Initialisation...";return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:p})]})})}return t?s===null&&window.location.pathname!=="/onboarding"&&!sessionStorage.getItem("lastMenuCheck")?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vrification du compte..."})]})}):o.jsx(o.Fragment,{children:e}):o.jsx(sM,{})}const oM=()=>{const{user:e,loading:t}=dr(),r=Xr(),[n,a]=v.useState(1),[i,s]=v.useState(!1),[l,c]=v.useState(null),[u,d]=v.useState({restaurant_name:"",description:"",slug:"",banner_url:"",logo_url:"",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:""}),[f,h]=v.useState(!1),[m,y]=v.useState(null),[x,w]=v.useState(!1),b=3;v.useEffect(()=>{e&&p()},[e]),v.useEffect(()=>{const P=setTimeout(()=>{if(u.restaurant_name.trim()){const M=fa(u.restaurant_name);d($=>({...$,slug:M})),y(!0)}else d(M=>({...M,slug:""})),y(null)},500);return()=>clearTimeout(P)},[u.restaurant_name]);const p=async()=>{try{const{data:C,error:P}=await F.from("restaurant_profiles").select("id").eq("user_id",e.id).maybeSingle();if(P&&P.code!=="PGRST116"){console.error("Erreur lors de la vrification du profil:",P);return}C&&r("/",{replace:!0})}catch(C){console.error("Erreur lors de la vrification du profil:",C)}},g=(C,P)=>{c({type:C,text:P}),setTimeout(()=>c(null),5e3)},j=(C,P)=>{d(M=>({...M,[C]:P}))},_=async(C,P)=>{if(!C||!e)return;const M=5*1024*1024;if(C.size>M){g("error","Le fichier est trop volumineux (max 5MB)");return}if(!C.type.startsWith("image/")){g("error","Veuillez slectionner une image valide");return}w(!0);try{const $=P==="banner"?"banners":"logos",I=await ys(C,e.id,$);j(P==="banner"?"banner_url":"logo_url",I),g("success",`${P==="banner"?"Bannire":"Logo"} upload avec succs`)}catch{g("error","Erreur lors de l'upload")}finally{w(!1)}},N=()=>{switch(n){case 1:return u.restaurant_name.trim()&&u.slug&&m===!0;case 2:return!0;case 3:return!0;default:return!1}},k=()=>{N()&&n<b&&a(n+1)},E=()=>{n>1&&a(n-1)},S=async()=>{if(e){s(!0);try{const C={user_id:e.id,restaurant_name:u.restaurant_name,slug:u.slug,description:u.description,banner_url:u.banner_url,logo_url:u.logo_url,telephone:u.telephone,whatsapp:u.whatsapp,instagram:u.instagram,facebook:u.facebook,tiktok:u.tiktok,address:u.address,hours:u.hours},{error:P}=await F.from("restaurant_profiles").insert([C]);if(P)throw P;g("success","Restaurant cr avec succs ! Bienvenue sur CloudMenu ! "),setTimeout(()=>{r("/",{replace:!0})},2e3)}catch(C){console.error("Erreur lors de la cration du restaurant:",C),g("error","Erreur lors de la cration du restaurant")}finally{s(!1)}}};return t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):e?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-blue-50 py-8 px-4",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-8 relative",children:[o.jsx("button",{onClick:()=>r("/",{replace:!0}),className:"absolute right-0 top-0 text-gray-600 hover:text-gray-900 text-sm font-medium underline",children:"Passer cette tape"}),o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! "}),o.jsx("p",{className:"text-gray-600",children:"Configurons votre menu en quelques tapes simples"})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:[...Array(b)].map((C,P)=>o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${P+1<=n?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:P+1}),P<b-1&&o.jsx("div",{className:`flex-1 h-2 mx-4 rounded transition-colors ${P+1<n?"bg-orange-600":"bg-gray-200"}`})]},P))}),o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsx("span",{children:"Informations de base"}),o.jsx("span",{children:"Images"}),o.jsx("span",{children:"Contact"})]})]}),l&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[l.type==="success"?o.jsx(ze,{className:"w-5 h-5"}):o.jsx(Oe,{className:"w-5 h-5"}),o.jsx("span",{children:l.text})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de votre tablissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Commenons par les informations essentielles de votre restaurant."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant *"}),o.jsx("input",{type:"text",value:u.restaurant_name,onChange:C=>j("restaurant_name",C.target.value),placeholder:"ex: Chez Antoine, Pizza Roma, Le Bistrot...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"bg-gray-50 px-3 py-3 border border-r-0 border-gray-300 rounded-l-lg text-sm text-gray-500",children:"a.cloudmenu.fr/m/"}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("input",{type:"text",value:u.slug,readOnly:!0,className:"w-full px-3 py-3 border border-gray-300 rounded-r-lg bg-gray-50 text-gray-600"}),o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:f?o.jsx(ve,{className:"w-5 h-5 animate-spin text-gray-400"}):m===!0?o.jsx(ze,{className:"w-5 h-5 text-green-600"}):m===!1?o.jsx(Ln,{className:"w-5 h-5 text-red-600"}):null})]})]}),m===!1&&o.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Cette URL n'est pas disponible. Essayez un nom diffrent."}),m===!0&&o.jsx("p",{className:"mt-2 text-sm text-green-600",children:" Cette URL est disponible et sera rserve pour votre tablissement."}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:" Cette URL sera dfinitive et servira  gnrer votre QR code."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),o.jsx("textarea",{value:u.description,onChange:C=>j("description",C.target.value),placeholder:"Dcrivez votre tablissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),n===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Images de votre tablissement"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez un logo et une bannire pour personnaliser votre menu (optionnel)."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Bannire du restaurant"}),o.jsxs("div",{className:"space-y-3",children:[u.banner_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:u.banner_url,alt:"Bannire",className:"w-full h-32 object-cover rounded-lg border border-gray-200"}),o.jsx("button",{onClick:()=>j("banner_url",""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Oe,{size:12})})]}),o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:C=>{var M;const P=(M=C.target.files)==null?void 0:M[0];P&&_(P,"banner")},className:"hidden",disabled:x}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-orange-400 transition-colors",children:x?o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin text-orange-600"}),o.jsx("span",{className:"text-orange-600",children:"Upload en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(ws,{className:"mx-auto h-8 w-8 text-gray-400"}),o.jsx("p",{className:"mt-2 text-sm font-medium text-gray-900",children:"Cliquer pour ajouter une bannire"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu' 5MB"})]})})]})]})]})]}),n===3&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Informations de contact"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ajoutez vos informations de contact pour que vos clients puissent vous joindre facilement."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Sr,{className:"inline w-4 h-4 mr-1"}),"Tlphone"]}),o.jsx("input",{type:"tel",value:u.telephone,onChange:C=>j("telephone",C.target.value),placeholder:"01 23 45 67 89",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(mi,{className:"inline w-4 h-4 mr-1"}),"WhatsApp"]}),o.jsx("input",{type:"tel",value:u.whatsapp,onChange:C=>j("whatsapp",C.target.value),placeholder:"06 12 34 56 78",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Rseaux sociaux"}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Sa,{className:"inline w-4 h-4 mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:u.instagram,onChange:C=>j("instagram",C.target.value),placeholder:"https://instagram.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Na,{className:"inline w-4 h-4 mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:u.facebook,onChange:C=>j("facebook",C.target.value),placeholder:"https://facebook.com/monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"inline-block w-4 h-4 mr-1 bg-black rounded text-white text-xs flex items-center justify-center",children:"T"}),"TikTok"]}),o.jsx("input",{type:"url",value:u.tiktok,onChange:C=>j("tiktok",C.target.value),placeholder:"https://tiktok.com/@monrestaurant",className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]})]})]}),o.jsxs("div",{className:"flex justify-between pt-8 mt-8 border-t border-gray-200",children:[o.jsxs("button",{onClick:E,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx(W_,{size:20}),o.jsx("span",{children:"Prcdent"})]}),n<b?o.jsxs("button",{onClick:k,disabled:!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[o.jsx("span",{children:"Suivant"}),o.jsx(Kg,{size:20})]}):o.jsxs("button",{onClick:S,disabled:i||!N(),className:"flex items-center space-x-2 bg-orange-600 text-white px-8 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[i?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsx(ze,{size:20}),o.jsx("span",{children:i?"Cration...":"Crer mon restaurant"})]})]})]}),o.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:o.jsxs("p",{children:["En crant votre menu, vous acceptez nos"," ",o.jsx("a",{href:"#",className:"text-orange-600 hover:underline",children:"conditions d'utilisation"})]})})]})}):(r("/"),null)},lM=()=>{var g;const{user:e}=dr();v.useState(!1);const[t,r]=v.useState(null),[n,a]=v.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,s]=v.useState({current:!1,new:!1,confirm:!1}),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(""),[m,y]=v.useState(!1),x=(j,_)=>{r({type:j,text:_}),setTimeout(()=>r(null),5e3)},w=async j=>{if(j.preventDefault(),!n.currentPassword||!n.newPassword||!n.confirmPassword){x("error","Tous les champs sont obligatoires");return}if(n.newPassword!==n.confirmPassword){x("error","Les nouveaux mots de passe ne correspondent pas");return}if(n.newPassword.length<6){x("error","Le nouveau mot de passe doit contenir au moins 6 caractres");return}c(!0);try{const{error:_}=await F.auth.signInWithPassword({email:e.email,password:n.currentPassword});if(_){x("error","Mot de passe actuel incorrect");return}const{error:N}=await F.auth.updateUser({password:n.newPassword});if(N){x("error","Erreur lors de la mise  jour du mot de passe");return}a({currentPassword:"",newPassword:"",confirmPassword:""}),x("success","Mot de passe mis  jour avec succs")}catch(_){console.error("Erreur lors du changement de mot de passe:",_),x("error","Erreur lors du changement de mot de passe")}finally{c(!1)}},b=async()=>{if(f!=="SUPPRIMER"){x("error",'Veuillez taper "SUPPRIMER" pour confirmer');return}y(!0);try{const{data:j,error:_}=await F.from("menus").select("id").eq("user_id",e.id);_&&console.error("Erreur lors de la rcupration des menus:",_);const{error:N}=await F.auth.admin.deleteUser(e.id);if(N){x("error","Erreur lors de la suppression du compte");return}x("success","Compte supprim avec succs")}catch(j){console.error("Erreur lors de la suppression du compte:",j),x("error","Erreur lors de la suppression du compte")}finally{y(!1),d(!1),h("")}};if(!e)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})});const p=((g=e.email)==null?void 0:g.split("@")[0])||"Utilisateur";return o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-3 sm:p-4 lg:p-6",children:[t&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${t.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[t.type==="success"?o.jsx(ze,{className:"w-5 h-5 flex-shrink-0"}):o.jsx(Oe,{className:"w-5 h-5 flex-shrink-0"}),o.jsx("span",{children:t.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Paramtres du compte"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Grez vos informations personnelles et paramtres de scurit"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(cl,{size:20}),o.jsx("span",{children:"Informations du profil"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom d'affichage"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(cl,{size:20,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-medium text-gray-900 capitalize",children:p}),o.jsx("div",{className:"text-sm text-gray-500",children:"Gnr automatiquement depuis votre email"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse email"}),o.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600 cursor-not-allowed"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'email ne peut pas tre modifi pour des raisons de scurit"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compte cr le"}),o.jsx("div",{className:"text-sm text-gray-600",children:e.created_at?new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}):"Non disponible"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(ss,{size:20}),o.jsx("span",{children:"Changer le mot de passe"})]}),o.jsxs("form",{onSubmit:w,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.current?"text":"password",value:n.currentPassword,onChange:j=>a(_=>({..._,currentPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre mot de passe actuel"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,current:!j.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.current?o.jsx(ai,{size:16}):o.jsx(un,{size:16})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.new?"text":"password",value:n.newPassword,onChange:j=>a(_=>({..._,newPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Entrez votre nouveau mot de passe",minLength:6}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,new:!j.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.new?o.jsx(ai,{size:16}):o.jsx(un,{size:16})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractres"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i.confirm?"text":"password",value:n.confirmPassword,onChange:j=>a(_=>({..._,confirmPassword:j.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500",placeholder:"Confirmez votre nouveau mot de passe"}),o.jsx("button",{type:"button",onClick:()=>s(j=>({...j,confirm:!j.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i.confirm?o.jsx(ai,{size:16}):o.jsx(un,{size:16})})]})]}),o.jsx("div",{className:"pt-4",children:o.jsxs("button",{type:"submit",disabled:l,className:"bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:[l?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(Tl,{size:16}),o.jsx("span",{children:l?"Mise  jour...":"Mettre  jour le mot de passe"})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-red-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[o.jsx(Ln,{size:20}),o.jsx("span",{children:"Zone de danger"})]}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-medium text-red-900 mb-2",children:"Supprimer dfinitivement le compte"}),o.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Cette action est irrversible. Tous vos menus, catgories, plats et donnes analytiques seront supprims dfinitivement."}),u?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-sm font-medium text-red-900",children:["Pour confirmer, tapez ",o.jsx("strong",{children:"SUPPRIMER"})," dans le champ ci-dessous :"]}),o.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"SUPPRIMER",className:"w-full px-3 py-2 border border-red-300 rounded-md focus:ring-red-500 focus:border-red-500 text-sm"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:b,disabled:m||f!=="SUPPRIMER",className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 text-sm",children:[m?o.jsx(ve,{className:"w-4 h-4 animate-spin"}):o.jsx(pi,{size:16}),o.jsx("span",{children:m?"Suppression...":"Confirmer la suppression"})]}),o.jsx("button",{onClick:()=>{d(!1),h("")},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Annuler"})]})]}):o.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(pi,{size:16}),o.jsx("span",{children:"Supprimer mon compte"})]})]})})]})]})]})})},cM=()=>{eM();const e=Xr(),[t,r]=v.useState(""),[n,a]=v.useState(""),[i,s]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,y]=v.useState(null);v.useEffect(()=>{(async()=>{try{const{data:{session:p},error:g}=await F.auth.getSession();if(g){console.error("Session error:",g),y(!1);return}p&&p.user?y(!0):y(!1)}catch(p){console.error("Error checking session:",p),y(!1)}})()},[]);const x=(b,p)=>{h({type:b,text:p}),setTimeout(()=>h(null),5e3)},w=async b=>{if(b.preventDefault(),!t.trim()||!n.trim()){x("error","Veuillez remplir tous les champs");return}if(t!==n){x("error","Les mots de passe ne correspondent pas");return}if(t.length<6){x("error","Le mot de passe doit contenir au moins 6 caractres");return}d(!0);try{const{error:p}=await F.auth.updateUser({password:t});p?x("error",p.message):(x("success","Mot de passe mis  jour avec succs ! Redirection en cours..."),setTimeout(()=>{e("/",{replace:!0})},2e3))}catch{x("error","Une erreur est survenue")}finally{d(!1)}};return m===null?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Vrification du lien..."})]})}):m?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Nouveau mot de passe"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choisissez un nouveau mot de passe scuris pour votre compte"})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(ss,{className:"w-5 h-5 text-blue-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-1",children:" Rinitialisation de mot de passe"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Vous tes dans le processus de rinitialisation de votre mot de passe. Une fois votre nouveau mot de passe dfini, vous serez automatiquement connect  votre tableau de bord."})]})]})}),f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(Fm,{className:"w-5 h-5"}):o.jsx(Ln,{className:"w-5 h-5"}),o.jsx("span",{className:"text-sm",children:f.text})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:b=>r(b.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>s(!i),children:i?o.jsx(ai,{size:20}):o.jsx(un,{size:20})})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Au moins 6 caractres"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),o.jsxs("div",{className:"relative",children:[o.jsx(ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n,onChange:b=>a(b.target.value),className:"pl-10 pr-10 w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"",minLength:6}),o.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>c(!l),children:l?o.jsx(ai,{size:20}):o.jsx(un,{size:20})})]})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:u,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):"Mettre  jour le mot de passe"})}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm text-orange-600 hover:text-orange-700 font-medium",children:"Retour  la connexion"})})]}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:" Scurit"}),o.jsx("p",{className:"text-xs text-blue-700",children:"Choisissez un mot de passe unique et scuris. Une fois modifi, vous devrez vous reconnecter sur tous vos appareils."})]})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"max-w-md w-full space-y-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-12 mx-auto mb-6"}),o.jsx(Ln,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Lien invalide ou expir"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce lien de rinitialisation de mot de passe n'est plus valide ou a expir."}),o.jsx("button",{onClick:()=>e("/"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors",children:"Retour  la connexion"})]})})})},c2=v.memo(({onMenuToggle:e})=>{var c;const[t,r]=v.useState(!1),{user:n,signOut:a}=dr(),i=async()=>{r(!1);try{await a()}catch(u){console.error("Erreur lors de la dconnexion:",u),window.location.reload()}},s=((c=n==null?void 0:n.email)==null?void 0:c.split("@")[0])||"Utilisateur",l=(n==null?void 0:n.email)||"";return o.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 fixed top-0 left-0 right-0 z-30",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:e,className:"lg:hidden p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Pu,{size:20})}),o.jsx("div",{className:"flex items-center",children:o.jsx("img",{src:"https://pub-f75ac4351c874e6f945cfc0ccd7d6d35.r2.dev/CloudMenu/CloudMenu.svg",alt:"CloudMenu",className:"h-6 sm:h-8"})})]}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(y3,{size:18,className:"sm:w-5 sm:h-5"})}),o.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 sm:h-5 sm:w-5 flex items-center justify-center font-medium text-[10px] sm:text-xs",children:"3"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>r(!t),className:"flex items-center space-x-2 sm:space-x-3 p-1 sm:p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-orange-500 rounded-full flex items-center justify-center",children:o.jsx(cl,{size:14,className:"sm:w-[18px] sm:h-[18px] text-white"})}),o.jsxs("div",{className:"text-left hidden sm:block",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-xs text-gray-500 max-w-[120px] truncate",children:l})]}),o.jsx(sl,{size:14,className:"text-gray-400 hidden sm:block"})]}),t&&o.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 sm:hidden",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 capitalize",children:s}),o.jsx("div",{className:"text-sm text-gray-500",children:l}),o.jsx("div",{className:"text-xs text-orange-600 font-medium mt-1",children:"Restaurant configur"})]}),o.jsxs("div",{className:"py-1",children:[o.jsxs(at,{to:"/account-settings",className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(ll,{size:16}),o.jsx("span",{children:"Paramtres du compte"})]}),o.jsxs("button",{onClick:i,className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-gray-50 flex items-center space-x-3",children:[o.jsx(A3,{size:16}),o.jsx("span",{children:"Se dconnecter"})]})]})]})]})]}),t&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)})]})});c2.displayName="Header";const u2=v.memo(({isOpen:e,onClose:t})=>{const r=Wn(),n=[{section:"Tableau de bord",items:[{icon:E3,label:"Accueil",path:"/",active:r.pathname==="/"}]},{section:"Mon Restaurant",items:[{icon:Qg,label:"Identit Visuelle",path:"/identite-visuelle",active:r.pathname==="/identite-visuelle"},{icon:P3,label:"Mes Menus",path:"/mes-menus",active:r.pathname==="/mes-menus"||r.pathname.startsWith("/mon-menu")||r.pathname.startsWith("/categories")},{icon:os,label:"QR Code",path:"/qr-code",active:r.pathname==="/qr-code"}]},{section:"Services clients",items:[{icon:rr,label:"Rservations",path:"/reservations",active:r.pathname==="/reservations"}]},{section:"Configuration",items:[{icon:ll,label:"Paramtres",path:"/account-settings",active:r.pathname==="/account-settings"}]}];return o.jsx(o.Fragment,{children:o.jsxs("aside",{className:`
        bg-gray-900 w-64 min-h-screen fixed left-0 top-16 z-30 transform transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"}
        lg:translate-x-0 lg:z-0
      `,children:[o.jsx("div",{className:"lg:hidden flex justify-end p-4",children:o.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white p-1",children:o.jsx(Oe,{size:20})})}),o.jsx("div",{className:"p-4 lg:pt-4",children:n.map((a,i)=>o.jsxs("div",{className:"mb-6 lg:mb-8",children:[o.jsx("h3",{className:"text-gray-400 text-xs font-semibold uppercase tracking-wider mb-3",children:a.section}),o.jsx("nav",{className:"space-y-1",children:a.items.map((s,l)=>s.path?o.jsxs(at,{to:s.path,onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l):o.jsxs("button",{onClick:t,className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${s.active?"bg-orange-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[o.jsx(s.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:s.label})]},l))})]},i))})]})})});u2.displayName="Sidebar";const uM=({children:e})=>o.jsx("div",{className:"animate-fadeIn",children:e}),zr=v.memo(({children:e,currentPage:t})=>{const[r,n]=v.useState(!1),a=v.useCallback(()=>n(l=>!l),[]),i=v.useCallback(()=>n(!1),[]),s=v.useCallback(()=>{r&&i()},[r,i]);return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(c2,{onMenuToggle:a}),o.jsx(u2,{currentPage:t,isOpen:r,onClose:i}),r&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 lg:hidden transition-opacity duration-200",onClick:s}),o.jsx("main",{className:"lg:ml-64 pt-16 transition-all duration-300",children:o.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:o.jsx(uM,{children:e})})})]})});zr.displayName="MainLayout";const Ni=({size:e="md",fullScreen:t=!1})=>{const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n=o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("div",{className:`${r[e]} border-2 border-orange-200 border-t-orange-600 rounded-full animate-spin`})});return t?o.jsx("div",{className:"fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[o.jsx("div",{className:"w-10 h-10 border-3 border-orange-200 border-t-orange-600 rounded-full animate-spin"}),o.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:"Chargement..."})]})}):n},Ex=[{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""},{code:"de",name:"Deutsch",flag:""},{code:"it",name:"Italiano",flag:""},{code:"pt",name:"Portugus",flag:""},{code:"ar",name:"",flag:""},{code:"zh",name:"",flag:""},{code:"ja",name:"",flag:""},{code:"ru",name:"",flag:""},{code:"nl",name:"Nederlands",flag:""}],dM=({menuId:e,defaultLanguage:t,menuName:r})=>{const[n,a]=v.useState([]),[i,s]=v.useState(!0),[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(!1),[m,y]=v.useState(null),[x,w]=v.useState("");v.useEffect(()=>{b()},[e]);const b=async()=>{try{const{data:S,error:C}=await F.from("menu_languages").select("*").eq("menu_id",e).order("created_at",{ascending:!0});if(C)throw C;a(S||[])}catch(S){console.error("Error loading languages:",S)}finally{s(!1)}},p=(S,C)=>{d({type:S,text:C}),setTimeout(()=>d(null),3e3)},g=async(S,C)=>{c(S);try{const{data:{session:P}}=await F.auth.getSession();if(!P)throw new Error("Not authenticated");const M=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-menu",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({menuId:e,targetLanguage:S,languageName:C})});if(!M.ok){const I=await M.json();throw new Error(I.error||"Translation failed")}try{const I=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/translate-interface",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({languageCode:S,languageName:C})});I.ok||console.warn("Interface translation warning:",await I.text())}catch(I){console.warn("Interface translation failed:",I)}const $=await M.json();p("success",`Traduction en ${C} russie`),await b(),h(!1)}catch(P){console.error("Translation error:",P),p("error",P.message||"Erreur lors de la traduction")}finally{c(null)}},j=(S,C)=>{y(S),w(C)},_=()=>{y(null),w("")},N=async S=>{if(!x.trim()){p("error","Le titre ne peut pas tre vide");return}try{const{error:C}=await F.from("menu_languages").update({menu_title:x.trim()}).eq("id",S);if(C)throw C;p("success","Titre mis  jour"),await b(),y(null),w("")}catch(C){console.error("Error updating menu title:",C),p("error","Erreur lors de la mise  jour")}},k=async(S,C)=>{if(confirm("Voulez-vous vraiment supprimer cette traduction ?"))try{const{data:P}=await F.from("categories").select("id").eq("menu_id",e);if(P){const $=P.map(W=>W.id);await F.from("category_translations").delete().in("category_id",$).eq("language_code",C);const{data:I}=await F.from("menu_items").select("id").in("category_id",$);I&&await F.from("menu_item_translations").delete().in("menu_item_id",I.map(W=>W.id)).eq("language_code",C)}const{error:M}=await F.from("menu_languages").delete().eq("id",S);if(M)throw M;p("success","Traduction supprime"),await b()}catch(P){console.error("Error deleting language:",P),p("error","Erreur lors de la suppression")}},E=Ex.filter(S=>!n.some(C=>C.language_code===S.code)&&S.code!==t);return i?o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx(ve,{className:"w-6 h-6 animate-spin text-gray-400"})})}):o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 flex items-center space-x-2",children:[o.jsx(Yg,{size:20}),o.jsx("span",{children:"Traductions"})]}),!f&&E.length>0&&o.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-3 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 text-sm",children:[o.jsx(ol,{size:16}),o.jsx("span",{children:"Ajouter une langue"})]})]}),u&&o.jsxs("div",{className:`mb-4 p-3 rounded-lg flex items-center space-x-2 ${u.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:[u.type==="success"?o.jsx(ze,{size:16}):o.jsx(Oe,{size:16}),o.jsx("span",{className:"text-sm",children:u.text})]}),f&&o.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-medium text-gray-900",children:"Slectionner une langue"}),o.jsx("button",{onClick:()=>h(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Oe,{size:18})})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:E.map(S=>o.jsxs("button",{onClick:()=>g(S.code,S.name),disabled:l!==null,className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-white hover:border-orange-300 transition-colors disabled:opacity-50",children:[o.jsx("span",{className:"text-2xl",children:S.flag}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:S.name}),l===S.code&&o.jsx(ve,{className:"w-4 h-4 animate-spin text-orange-600"})]},S.code))})]}),o.jsx("div",{className:"space-y-3",children:n.length===0?o.jsx("p",{className:"text-sm text-gray-600 py-4 text-center",children:"Aucune traduction ajoute. Ajoutez des langues pour traduire automatiquement votre menu."}):n.map(S=>{const C=Ex.find(M=>M.code===S.language_code),P=m===S.id;return o.jsx("div",{className:"p-3 sm:p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:o.jsxs("div",{className:"flex items-start justify-between gap-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[o.jsx("span",{className:"text-2xl flex-shrink-0",children:(C==null?void 0:C.flag)||""}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-gray-900 mb-1",children:(C==null?void 0:C.name)||S.language_code}),P?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"text",value:x,onChange:M=>w(M.target.value),placeholder:"Titre du menu",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",autoFocus:!0}),o.jsx("button",{onClick:()=>N(S.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Sauvegarder",children:o.jsx(Tl,{size:16})}),o.jsx("button",{onClick:_,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Annuler",children:o.jsx(Oe,{size:16})})]}):o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx("span",{className:"truncate",children:S.menu_title||r}),o.jsx("button",{onClick:()=>j(S.id,S.menu_title||r),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors flex-shrink-0",title:"Modifier le titre",children:o.jsx(Hm,{size:14})})]})]})]}),!P&&o.jsx("button",{onClick:()=>k(S.id,S.language_code),className:"text-red-600 hover:text-red-700 p-2 rounded hover:bg-red-50 flex-shrink-0",title:"Supprimer cette traduction",children:o.jsx(pi,{size:16})})]})},S.id)})}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-xs sm:text-sm text-blue-800",children:[o.jsx("strong",{children:"Note :"})," Les traductions sont gnres automatiquement par IA. Vous pouvez ensuite les modifier directement dans la page de gestion des articles."]})})]})},Cx=()=>{const{menuId:e}=ki(),t=Xr(),r=e===void 0,[n,a]=v.useState(!1),[i,s]=v.useState(!0),[l,c]=v.useState({nom:"",menu_name:"",description:"",slug:"",banniere_url:"",language:"fr",status:"published",couleur_primaire:"#f97316",couleur_secondaire:"#1f2937",couleur_texte:"#374151",couleur_fond:"#ffffff",afficher_powered_by:!0,lien_cloudmenu:!0,currency_symbol:""}),[u,d]=v.useState(!1),[f,h]=v.useState(!1),[m,y]=v.useState(null),[x,w]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:{user:E}}=await F.auth.getUser();if(E){const{data:S}=await F.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",E.id).maybeSingle();a(!!S),S&&r&&c(C=>({...C,nom:S.restaurant_name,slug:S.slug}))}s(!1)})()},[r]),v.useEffect(()=>{!r&&e?b(e):d(!1)},[e,r]);const b=async k=>{d(!0);try{const{data:{user:E}}=await F.auth.getUser();if(!E)return;const{data:S,error:C}=await F.from("menus").select("*").eq("id",k).eq("user_id",E.id).maybeSingle();if(C){console.error("Erreur lors du chargement du menu:",C),j("error","Erreur lors du chargement du menu");return}if(!S){j("error","Menu non trouv"),t("/mes-menus");return}w(S),c({nom:S.nom,menu_name:S.menu_name||"",description:S.description,slug:S.slug,banniere_url:S.banniere_url,language:S.language||"fr",status:S.status||"published",couleur_primaire:S.couleur_primaire,couleur_secondaire:S.couleur_secondaire,couleur_texte:S.couleur_texte,couleur_fond:S.couleur_fond,afficher_powered_by:S.afficher_powered_by,lien_cloudmenu:S.lien_cloudmenu,currency_symbol:S.currency_symbol||""})}catch(E){console.error("Erreur lors du chargement du menu:",E),j("error","Erreur lors du chargement du menu")}finally{d(!1)}},p=(k,E)=>{c(S=>{const C={...S,[k]:E};return k==="nom"&&typeof E=="string"&&r&&!n&&(C.slug=fa(E)),C})},g=async(k,E)=>{if(!k)return;const S=5*1024*1024;if(k.size>S){j("error","Le fichier est trop volumineux (max 5MB)");return}if(!k.type.startsWith("image/")){j("error","Veuillez slectionner une image valide");return}d(!0);try{const C=l.banniere_url;C&&await is(C);const M=await ys(k,"bannieres");if(M.error){j("error",M.error);return}p("banniere_url",M.url),j("success","Bannire uploade avec succs")}catch{j("error","Erreur lors de l'upload")}finally{d(!1)}},j=(k,E)=>{y({type:k,text:E}),setTimeout(()=>y(null),5e3)},_=async()=>{if(!n&&!l.nom.trim()){j("error","Le nom de l'tablissement est obligatoire");return}h(!0);try{const{data:{user:k}}=await F.auth.getUser();if(!k){j("error","Vous devez tre connect");return}if(x){let E=l.slug;if(l.status==="published"&&!x.slug){const{data:P}=await F.from("restaurant_profiles").select("slug").eq("user_id",k.id).maybeSingle(),M=(P==null?void 0:P.slug)||fa(l.nom),$=fa(l.menu_name||l.nom);E=`${M}/${$}`}const S={nom:l.nom,menu_name:l.menu_name,description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{error:C}=await F.from("menus").update(S).eq("id",x.id);if(C)throw C;j("success","Menu mis  jour avec succs"),setTimeout(()=>{t(`/categories/${x.id}`)},1500)}else{let E=l.slug;if(l.status==="published"){const M=l.slug,$=fa(l.menu_name||"menu");E=`${M}/${$}`}else l.status==="draft"&&(E="");const S={user_id:k.id,nom:l.nom,menu_name:l.menu_name||"Menu principal",description:l.description,slug:E,banniere_url:l.banniere_url,language:l.language,status:l.status,couleur_primaire:l.couleur_primaire,couleur_secondaire:l.couleur_secondaire,couleur_texte:l.couleur_texte,couleur_fond:l.couleur_fond,afficher_powered_by:l.afficher_powered_by,lien_cloudmenu:l.lien_cloudmenu,currency_symbol:l.currency_symbol},{data:C,error:P}=await F.from("menus").insert([S]).select().single();if(P)throw P;w(C),j("success","Menu cr avec succs"),setTimeout(()=>{t("/mes-menus")},1500)}}catch(k){console.error("Erreur lors de la sauvegarde:",k),j("error","Erreur lors de la sauvegarde")}finally{h(!1)}},N=[{name:"Orange",primary:"#f97316",secondary:"#1f2937"},{name:"Bleu",primary:"#3b82f6",secondary:"#1e293b"},{name:"Vert",primary:"#10b981",secondary:"#064e3b"},{name:"Rouge",primary:"#ef4444",secondary:"#7f1d1d"},{name:"Violet",primary:"#8b5cf6",secondary:"#581c87"},{name:"Rose",primary:"#ec4899",secondary:"#831843"}];return u&&!x||i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ni,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[m&&o.jsxs("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${m.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[m.type==="success"?o.jsx(ze,{className:"w-5 h-5"}):o.jsx(Oe,{className:"w-5 h-5"}),o.jsx("span",{children:m.text})]}),o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsxs("button",{onClick:()=>t(r?"/mes-menus":`/categories/${e}`),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Al,{size:20}),o.jsx("span",{children:r?"Retour  mes menus":"Retour aux articles"})]}),o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:r?"Crer un nouveau menu":"Modifier le menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:r?"Configurez l'identit visuelle de votre nouveau menu":"Personnalisez votre menu et voyez le rsultat en temps rel"})]}),o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(C3,{size:20}),o.jsx("span",{children:"Informations gnrales"})]}),o.jsxs("div",{className:"space-y-6",children:[(!n||!r)&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom de l'tablissement"}),o.jsx("input",{type:"text",value:l.nom,onChange:k=>p("nom",k.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",disabled:!r}),!r&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Le nom de l'tablissement est partag entre tous vos menus"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Nom du menu"}),o.jsx("input",{type:"text",value:l.menu_name,onChange:k=>p("menu_name",k.target.value),placeholder:"ex: Carte des boissons, Menu du jour, Carte des plats...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:n&&r?"Donnez un nom  ce menu pour le distinguer de vos autres menus":"Ce nom permettra aux clients de distinguer vos diffrents menus (boissons, plats, desserts...)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:l.description,onChange:k=>p("description",k.target.value),placeholder:"Dcrivez votre tablissement en quelques mots...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Symbole de devise"}),o.jsx("input",{type:"text",value:l.currency_symbol,onChange:k=>p("currency_symbol",k.target.value),placeholder:"",maxLength:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Symbole qui s'affichera  ct des prix (ex: , $, , CHF, DH)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Bannire"}),o.jsxs("div",{className:"space-y-3",children:[l.banniere_url&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:l.banniere_url,alt:"Bannire",className:"w-full h-16 sm:h-20 object-cover rounded border border-gray-200"}),o.jsx("button",{onClick:()=>p("banniere_url",""),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",children:o.jsx(Oe,{size:10,className:"sm:w-3 sm:h-3"})})]}),o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:k=>{var S;const E=(S=k.target.files)==null?void 0:S[0];E&&g(E)},className:"hidden"}),o.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-3 sm:p-4 text-center hover:border-orange-400 transition-colors",children:[o.jsx(ws,{className:"mx-auto h-6 w-6 sm:h-8 sm:w-8 text-gray-400"}),o.jsx("p",{className:"mt-1 text-xs sm:text-sm text-gray-600",children:"Cliquer pour uploader"}),o.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"PNG, JPG jusqu' 5MB"})]})]})]})]})]})]}),!r&&x&&o.jsx(dM,{menuId:x.id,defaultLanguage:x.default_language||"fr",menuName:x.nom}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Qg,{size:20}),o.jsx("span",{children:"Design"})]}),o.jsx("div",{className:"space-y-4 sm:space-y-6",children:o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Palette de couleurs"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mb-4",children:N.map((k,E)=>o.jsxs("button",{onClick:()=>{p("couleur_primaire",k.primary),p("couleur_secondaire",k.secondary)},className:"flex items-center space-x-1 sm:space-x-2 p-2 sm:p-3 border border-gray-200 rounded-lg hover:border-orange-300 transition-colors",children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.primary}}),o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:k.secondary}})]}),o.jsx("span",{className:"text-xs sm:text-sm font-medium",children:k.name})]},E))}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur primaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_primaire,onChange:k=>p("couleur_primaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_primaire,onChange:k=>p("couleur_primaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Couleur secondaire"}),o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("input",{type:"color",value:l.couleur_secondaire,onChange:k=>p("couleur_secondaire",k.target.value),className:"w-10 h-8 sm:w-12 sm:h-10 border border-gray-300 rounded cursor-pointer flex-shrink-0"}),o.jsx("input",{type:"text",value:l.couleur_secondaire,onChange:k=>p("couleur_secondaire",k.target.value),className:"flex-1 px-2 sm:px-3 py-2 border border-gray-300 rounded-md text-xs sm:text-sm"})]})]})]})]})})]}),o.jsxs("button",{onClick:_,disabled:f,className:"w-full bg-orange-600 text-white py-2 sm:py-3 px-4 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2 font-medium text-sm sm:text-base",children:[f?o.jsx(ve,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}):o.jsx(Tl,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),o.jsx("span",{children:f?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},$i={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},pt:{name:"Portugus",flag:""},ar:{name:"",flag:""},zh:{name:"",flag:""},ja:{name:"",flag:""},ru:{name:"",flag:""},nl:{name:"Nederlands",flag:""}};function fM(){var Zl,ec,We;const{user:e}=dr(),{menuId:t}=ki(),r=Xr(),[n,a]=v.useState(null),[i,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(null),[x,w]=v.useState(null),[b,p]=v.useState(null),[g,j]=v.useState(""),[_,N]=v.useState([]),[k,E]=v.useState({}),[S,C]=v.useState({}),[P,M]=v.useState(""),[$,I]=v.useState({}),[W,Q]=v.useState(""),[Y,B]=v.useState(""),[O,L]=v.useState({nom:"",description:""}),[U,q]=v.useState({});v.useEffect(()=>{e&&t&&ce()},[e,t]),v.useEffect(()=>{n&&(pe(),fe())},[n]),v.useEffect(()=>{n&&g&&g!==n.default_language&&De()},[g,n]);const ce=async()=>{if(!t){ie("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:T,error:ae}=await F.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(ae){console.error("Erreur lors du chargement du menu:",ae),ie("error","Erreur lors du chargement du menu");return}if(!T){ie("error","Menu non trouv"),r("/mes-menus");return}a(T)}catch(T){console.error("Erreur lors du chargement du menu:",T),ie("error","Erreur lors du chargement du menu")}finally{d(!1)}},fe=async()=>{d(!0);try{const{data:T,error:ae}=await F.from("categories").select("*").eq("menu_id",n.id).order("ordre",{ascending:!0});if(ae)throw ae;if(s(T||[]),T&&T.length>0){const{data:Z,error:H}=await F.from("menu_items").select("*").in("category_id",T.map(oe=>oe.id)).order("ordre",{ascending:!0});if(H)throw H;const J={};T.forEach(oe=>{J[oe.id]=(Z==null?void 0:Z.filter(we=>we.category_id===oe.id))||[]}),c(J)}}catch(T){console.error("Erreur lors du chargement:",T),ie("error","Erreur lors du chargement des donnes")}finally{d(!1)}},pe=async()=>{if(n)try{const{data:T,error:ae}=await F.from("menu_languages").select("*").eq("menu_id",n.id).order("created_at",{ascending:!0});if(ae)throw ae;N(T||[]),!g&&n.default_language&&j(n.default_language)}catch(T){console.error("Error loading languages:",T)}},De=async()=>{if(!n||!g||g===n.default_language){E({}),C({}),M((n==null?void 0:n.menu_name)||"");return}try{const T=_.find(oe=>oe.language_code===g);T!=null&&T.menu_title?M(T.menu_title):M(n.menu_name||"Menu");const ae=i.map(oe=>oe.id),{data:Z}=await F.from("category_translations").select("*").in("category_id",ae).eq("language_code",g),H={};Z==null||Z.forEach(oe=>{H[oe.category_id]=oe}),E(H);const J=[];if(Object.values(l).forEach(oe=>{oe.forEach(we=>J.push(we.id))}),J.length>0){const{data:oe}=await F.from("menu_item_translations").select("*").in("menu_item_id",J).eq("language_code",g),we={};oe==null||oe.forEach(Qt=>{we[Qt.menu_item_id]=Qt}),C(we)}}catch(T){console.error("Error loading translations:",T)}},ie=(T,ae)=>{p({type:T,text:ae}),setTimeout(()=>p(null),5e3)},zt=async()=>{if(W.trim())try{const T={menu_id:n.id,nom:W,description:Y||"",ordre:i.length},{data:ae,error:Z}=await F.from("categories").insert([T]).select().single();if(Z)throw Z;s([...i,ae]),c({...l,[ae.id]:[]}),Q(""),B(""),ie("success","Catgorie ajoute avec succs")}catch(T){console.error("Erreur lors de l'ajout de la catgorie:",T),ie("error","Erreur lors de l'ajout de la catgorie")}},A=async T=>{if(O.nom.trim())try{if(g!==n.default_language){const Z=k[T];if(Z){const{error:H}=await F.from("category_translations").update({nom:O.nom,description:O.description||""}).eq("id",Z.id);if(H)throw H}else{const{error:H}=await F.from("category_translations").insert({category_id:T,language_code:g,nom:O.nom,description:O.description||""});if(H)throw H}E({...k,[T]:{id:(Z==null?void 0:Z.id)||crypto.randomUUID(),category_id:T,language_code:g,nom:O.nom,description:O.description||""}}),ie("success","Traduction de catgorie modifie avec succs")}else{const{error:Z}=await F.from("categories").update({nom:O.nom,description:O.description||""}).eq("id",T);if(Z)throw Z;s(i.map(H=>H.id===T?{...H,nom:O.nom,description:O.description||""}:H)),ie("success","Catgorie modifie avec succs")}y(null),L({nom:"",description:""})}catch(ae){console.error("Erreur lors de la modification de la catgorie:",ae),ie("error","Erreur lors de la modification de la catgorie")}},G=async T=>{if(confirm("tes-vous sr de vouloir supprimer cette catgorie et tous ses lments ?"))try{const ae=l[T]||[];for(const J of ae)if(J.image_url)try{await is(J.image_url)}catch(oe){console.warn(`Failed to delete image for item ${J.nom}:`,oe)}const{error:Z}=await F.from("categories").delete().eq("id",T);if(Z)throw Z;s(i.filter(J=>J.id!==T));const H={...l};delete H[T],c(H),ie("success","Catgorie supprime avec succs")}catch(ae){console.error("Erreur lors de la suppression:",ae),ie("error","Erreur lors de la suppression")}},X=async(T,ae,Z)=>{if(!T)return;if(T.size>5*1024*1024){ie("error","Le fichier est trop volumineux (max 5MB)");return}if(!T.type.startsWith("image/")){ie("error","Veuillez slectionner une image valide");return}const H=ae||`new-item-${Z}`;h(H);try{const J=await ys(T,"menu-items");if(J.error){ie("error",J.error);return}const{data:oe,error:we}=await F.from("menu_items").update({image_url:J.url}).eq("id",ae).select().single();if(we)throw we;c({...l,[Z]:l[Z].map(Qt=>Qt.id===ae?oe:Qt)}),ie("success","Image mise  jour avec succs")}catch(J){console.error("Erreur lors de l'upload:",J),ie("error","Erreur lors de l'upload")}finally{h(null)}},R=async(T,ae,Z)=>{try{Z&&await is(Z);const{data:H,error:J}=await F.from("menu_items").update({image_url:""}).eq("id",T).select().single();if(J)throw J;c({...l,[ae]:l[ae].map(oe=>oe.id===T?H:oe)}),ie("success","Image supprime avec succs")}catch(H){console.error("Erreur lors de la suppression:",H),ie("error","Erreur lors de la suppression")}},xe=async(T,ae)=>{if(T){if(T.size>5*1024*1024){ie("error","Le fichier est trop volumineux (max 5MB)");return}if(!T.type.startsWith("image/")){ie("error","Veuillez slectionner une image valide");return}h(`new-item-${ae}`);try{const Z=await ys(T,"menu-items");if(Z.error){ie("error",Z.error);return}q({...U,[ae]:{...U[ae],image_url:Z.url}}),ie("success","Image uploade avec succs")}catch(Z){console.error("Erreur lors de l'upload:",Z),ie("error","Erreur lors de l'upload")}finally{h(null)}}},ue=T=>U[T]||{nom:"",description:"",prix:0,image_url:"",allergenes:[],vegetarien:!1,vegan:!1,sans_gluten:!1,epice:!1,disponible:!0},be=(T,ae)=>{q({...U,[T]:{...ue(T),...ae}})},qe=async T=>{var Z,H;const ae=ue(T);if(!((Z=ae.nom)!=null&&Z.trim())||!ae.prix){ie("error","Le nom et le prix sont obligatoires");return}try{const J={...ae,category_id:T,ordre:((H=l[T])==null?void 0:H.length)||0},{data:oe,error:we}=await F.from("menu_items").insert([J]).select().single();if(we)throw we;c({...l,[T]:[...l[T]||[],oe]});const Qt={...U};delete Qt[T],q(Qt),ie("success","Plat ajout avec succs")}catch(J){console.error("Erreur lors de l'ajout du plat:",J),ie("error","Erreur lors de l'ajout du plat")}},kt=async(T,ae)=>{if(confirm("tes-vous sr de vouloir supprimer ce plat ?"))try{const Z=l[ae].find(J=>J.id===T);Z!=null&&Z.image_url&&await is(Z.image_url);const{error:H}=await F.from("menu_items").delete().eq("id",T);if(H)throw H;c({...l,[ae]:l[ae].filter(J=>J.id!==T)}),ie("success","Plat supprim avec succs")}catch(Z){console.error("Erreur lors de la suppression:",Z),ie("error","Erreur lors de la suppression")}},vn=async(T,ae)=>{try{const{data:Z,error:H}=await F.from("menu_items").update({disponible:!T.disponible}).eq("id",T.id).select().single();if(H)throw H;c({...l,[ae]:l[ae].map(J=>J.id===T.id?Z:J)})}catch(Z){console.error("Erreur lors de la mise  jour:",Z),ie("error","Erreur lors de la mise  jour")}},Jn=T=>{w(T.id);const Z=g!==n.default_language?S[T.id]:null;I({nom:(Z==null?void 0:Z.nom)||T.nom,description:(Z==null?void 0:Z.description)||T.description,prix:T.prix,allergenes:T.allergenes,vegetarien:T.vegetarien,vegan:T.vegan,sans_gluten:T.sans_gluten,epice:T.epice})},Ut=()=>{w(null),I({})},Xl=async(T,ae)=>{var Z;if(!((Z=$.nom)!=null&&Z.trim())){ie("error","Le nom du plat est obligatoire");return}try{if(g!==n.default_language){const J=S[T];if(J){const{error:oe}=await F.from("menu_item_translations").update({nom:$.nom,description:$.description||""}).eq("id",J.id);if(oe)throw oe}else{const{error:oe}=await F.from("menu_item_translations").insert({menu_item_id:T,language_code:g,nom:$.nom,description:$.description||""});if(oe)throw oe}C({...S,[T]:{id:(J==null?void 0:J.id)||crypto.randomUUID(),menu_item_id:T,language_code:g,nom:$.nom,description:$.description||""}}),ie("success","Traduction modifie avec succs")}else{const{data:J,error:oe}=await F.from("menu_items").update($).eq("id",T).select().single();if(oe)throw oe;c({...l,[ae]:l[ae].map(we=>we.id===T?J:we)}),ie("success","Plat modifi avec succs")}w(null),I({})}catch(H){console.error("Erreur lors de la modification:",H),ie("error","Erreur lors de la modification")}},Xs=async(T,ae,Z)=>{if(ae!==Z)try{const{data:H,error:J}=await F.from("menu_items").update({category_id:Z}).eq("id",T).select().single();if(J)throw J;const oe=l[ae].filter(Qt=>Qt.id!==T),we=[...l[Z]||[],H];c({...l,[ae]:oe,[Z]:we}),ie("success","Plat dplac avec succs")}catch(H){console.error("Erreur lors du dplacement:",H),ie("error","Erreur lors du dplacement")}};return u?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ni,{size:"lg"})}):n?o.jsxs("div",{className:"space-y-4 sm:space-y-6 max-w-7xl",children:[b&&o.jsx("div",{className:`p-3 sm:p-4 rounded-lg flex items-start sm:items-center space-x-2 text-sm sm:text-base ${b.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:b.text})}),o.jsxs("div",{children:[o.jsxs("button",{onClick:()=>r("/mes-menus"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 mb-4",children:[o.jsx(Al,{size:20}),o.jsx("span",{children:"Retour  mes menus"})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:P||n.menu_name||"Menu"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Organisez vos catgories et plats"})]}),o.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[o.jsx(at,{to:`/import-ai/${t}`,className:"bg-purple-600 text-white p-2.5 rounded-lg hover:bg-purple-700 transition-colors",title:"Import IA",children:o.jsx(Gm,{size:20})}),o.jsx(at,{to:`/mon-menu/${t}`,className:"bg-gray-600 text-white p-2.5 rounded-lg hover:bg-gray-700 transition-colors",title:"Paramtres",children:o.jsx(ll,{size:20})}),o.jsx("a",{href:`/m/${n.slug}`,target:"_blank",rel:"noopener noreferrer",className:"bg-orange-600 text-white p-2.5 rounded-lg hover:bg-orange-700 transition-colors",title:"Prvisualiser",children:o.jsx(un,{size:20})})]})]}),_.length>0&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("button",{onClick:()=>j(n.default_language||"fr"),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g===n.default_language?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((Zl=$i[n.default_language||"fr"])==null?void 0:Zl.name)||"Franais",children:[o.jsx("span",{className:"text-base sm:text-lg",children:((ec=$i[n.default_language||"fr"])==null?void 0:ec.flag)||""}),o.jsx("span",{className:"hidden sm:inline",children:((We=$i[n.default_language||"fr"])==null?void 0:We.name)||"Franais"})]}),_.map(T=>{var ae,Z,H;return o.jsxs("button",{onClick:()=>j(T.language_code),className:`flex items-center space-x-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${g===T.language_code?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,title:((ae=$i[T.language_code])==null?void 0:ae.name)||T.language_code,children:[o.jsx("span",{className:"text-base sm:text-lg",children:((Z=$i[T.language_code])==null?void 0:Z.flag)||""}),o.jsx("span",{className:"hidden sm:inline",children:((H=$i[T.language_code])==null?void 0:H.name)||T.language_code})]},T.id)})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 sm:p-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-3 sm:mb-4",children:"Ajouter une catgorie"}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("input",{type:"text",value:W,onChange:T=>Q(T.target.value),placeholder:"Nom de la catgorie (ex: Entres, Plats, Desserts...)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base",onKeyDown:T=>T.key==="Enter"&&!T.shiftKey&&zt()}),o.jsx("textarea",{value:Y,onChange:T=>B(T.target.value),placeholder:"Description de la catgorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base resize-none",rows:2}),o.jsxs("button",{onClick:zt,className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center justify-center space-x-2 text-sm sm:text-base self-end",children:[o.jsx(ol,{size:18}),o.jsx("span",{children:"Ajouter"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(I3,{className:"mx-auto h-10 w-10 sm:h-12 sm:w-12 text-gray-400"}),o.jsx("h3",{className:"mt-3 sm:mt-4 text-base sm:text-lg font-medium text-gray-900",children:"Aucune catgorie"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600 px-4",children:"Commencez par ajouter une catgorie pour organiser votre menu."})]}):o.jsx("div",{className:"space-y-4 sm:space-y-6",children:i.map(T=>{var ae,Z;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:m===T.id?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"text",value:O.nom,onChange:H=>L({...O,nom:H.target.value}),placeholder:"Nom de la catgorie",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500"}),o.jsx("textarea",{value:O.description,onChange:H=>L({...O,description:H.target.value}),placeholder:"Description de la catgorie (optionnelle)",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 resize-none",rows:2}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>A(T.id),className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2",children:[o.jsx(Tl,{size:16}),o.jsx("span",{children:"Enregistrer"})]}),o.jsxs("button",{onClick:()=>{y(null),L({nom:"",description:""})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 flex items-center space-x-2",children:[o.jsx(Oe,{size:16}),o.jsx("span",{children:"Annuler"})]})]})]}):o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[o.jsx(S3,{className:"text-gray-400 hidden sm:block mt-1",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:g!==n.default_language&&k[T.id]?k[T.id].nom:T.nom}),o.jsxs("span",{className:"bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs sm:text-sm",children:[((ae=l[T.id])==null?void 0:ae.length)||0," plats"]})]}),T.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g!==n.default_language&&k[T.id]?k[T.id].description:T.description})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>{y(T.id);const J=g!==n.default_language?k[T.id]:null;L({nom:(J==null?void 0:J.nom)||T.nom,description:(J==null?void 0:J.description)||T.description||""})},className:"text-orange-600 hover:text-orange-700 p-2 rounded-lg hover:bg-orange-50",children:o.jsx(Hm,{size:18})}),o.jsx("button",{onClick:()=>G(T.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",children:o.jsx(pi,{size:18})})]})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:o.jsxs("div",{className:"space-y-4",children:[(Z=l[T.id])==null?void 0:Z.map(H=>o.jsxs("div",{className:`flex items-start sm:items-center flex-col sm:flex-row gap-3 sm:gap-4 p-3 sm:p-4 border rounded-lg transition-colors ${x===H.id?"border-orange-300 bg-orange-50":"border-gray-200 hover:border-orange-200"}`,children:[o.jsx("div",{className:"w-20 h-20 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden relative group flex-shrink-0 self-center sm:self-start",children:H.image_url?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:H.image_url,alt:H.nom,className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center space-x-1",children:[o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:J=>{var we;const oe=(we=J.target.files)==null?void 0:we[0];oe&&X(oe,H.id,T.id)},className:"hidden"}),f===H.id?o.jsx(ve,{className:"w-4 h-4 text-white animate-spin"}):o.jsx(xx,{className:"w-4 h-4 text-white hover:scale-110"})]}),o.jsx("button",{onClick:()=>R(H.id,T.id,H.image_url),className:"text-white hover:text-red-300",children:o.jsx(Oe,{className:"w-4 h-4"})})]})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:J=>{var we;const oe=(we=J.target.files)==null?void 0:we[0];oe&&X(oe,H.id,T.id)},className:"hidden"}),f===H.id?o.jsx(ve,{className:"text-gray-400 animate-spin",size:24}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(xx,{className:"text-gray-400",size:20}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})}),o.jsx("div",{className:"flex-1",children:x===H.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nom"}),o.jsx("input",{type:"text",value:$.nom||"",onChange:J=>I({...$,nom:J.target.value}),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Prix (",n.currency_symbol||"",")"]}),o.jsx("input",{type:"number",value:$.prix||"",onChange:J=>I({...$,prix:parseFloat(J.target.value)||0}),step:"0.01",min:"0",className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:$.description||"",onChange:J=>I({...$,description:J.target.value}),rows:2,className:"w-full px-2 py-1 border border-gray-300 rounded text-sm focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:$.vegetarien||!1,onChange:J=>I({...$,vegetarien:J.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vgtarien"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:$.vegan||!1,onChange:J=>I({...$,vegan:J.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Vegan"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:$.sans_gluten||!1,onChange:J=>I({...$,sans_gluten:J.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"Sans gluten"})]}),o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:$.epice||!1,onChange:J=>I({...$,epice:J.target.checked}),className:"rounded text-orange-600 focus:ring-orange-500"}),o.jsx("span",{className:"text-xs",children:"pic"})]})]})]}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-gray-900 text-sm sm:text-base",children:g!==n.default_language&&S[H.id]?S[H.id].nom:H.nom}),H.vegetarien&&o.jsx(na,{className:"text-green-600",size:16}),H.vegan&&o.jsx(na,{className:"text-green-700",size:16}),H.epice&&o.jsx(Xc,{className:"text-red-600",size:16})]}),(g!==n.default_language&&S[H.id]?S[H.id].description:H.description)&&o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-1",children:g!==n.default_language&&S[H.id]?S[H.id].description:H.description}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[o.jsxs("span",{className:"font-semibold text-orange-600 text-sm sm:text-base",children:[H.prix.toFixed(2)," ",n.currency_symbol||""]}),H.allergenes.length>0&&o.jsxs("span",{className:"text-xs text-gray-500 break-words",children:["Allergnes: ",H.allergenes.join(", ")]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-2 self-end sm:self-start",children:[i.length>1&&x!==H.id&&o.jsx("select",{value:T.id,onChange:J=>Xs(H.id,T.id,J.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:ring-orange-500 focus:border-orange-500",title:"Dplacer vers une autre catgorie",children:i.map(J=>o.jsx("option",{value:J.id,children:g!==n.default_language&&k[J.id]?k[J.id].nom:J.nom},J.id))}),x===H.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Xl(H.id,T.id),className:"text-green-600 hover:text-green-700 p-2 rounded-lg hover:bg-green-50",title:"Sauvegarder",children:o.jsx(ze,{size:18})}),o.jsx("button",{onClick:Ut,className:"text-gray-600 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-50",title:"Annuler",children:o.jsx(Oe,{size:18})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Jn(H),className:"text-blue-600 hover:text-blue-700 p-2 rounded-lg hover:bg-blue-50",title:"Modifier",children:o.jsx(Hm,{size:18})}),o.jsx("button",{onClick:()=>vn(H,T.id),className:`p-2 rounded-lg ${H.disponible?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:H.disponible?"Disponible":"Non disponible",children:H.disponible?o.jsx(un,{size:18}):o.jsx(ai,{size:18})}),o.jsx("button",{onClick:()=>kt(H.id,T.id),className:"text-red-600 hover:text-red-700 p-2 rounded-lg hover:bg-red-50",title:"Supprimer",children:o.jsx(pi,{size:18})})]})]})]},H.id)),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:(()=>{const H=ue(T.id);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Image"}),o.jsx("div",{className:"w-full h-16 sm:h-20 bg-gray-50 rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed border-gray-300",children:H.image_url?o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("img",{src:H.image_url,alt:"Aperu",className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>be(T.id,{image_url:""}),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:o.jsx(Oe,{size:12})})]}):o.jsxs("label",{className:"cursor-pointer w-full h-full flex items-center justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:J=>{var we;const oe=(we=J.target.files)==null?void 0:we[0];oe&&xe(oe,T.id)},className:"hidden"}),f===`new-item-${T.id}`?o.jsx(ve,{className:"text-gray-400 animate-spin",size:20}):o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(ws,{className:"text-gray-400",size:16}),o.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Photo"})]})]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Nom"}),o.jsx("input",{type:"text",value:H.nom||"",onChange:J=>be(T.id,{nom:J.target.value}),placeholder:"Nom du plat",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("input",{type:"text",value:H.description||"",onChange:J=>be(T.id,{description:J.target.value}),placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Prix (",n.currency_symbol||"",")"]}),o.jsx("input",{type:"number",value:H.prix||"",onChange:J=>be(T.id,{prix:parseFloat(J.target.value)||0}),placeholder:"Prix",step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm h-10 sm:h-10"})]}),o.jsxs("button",{onClick:()=>qe(T.id),className:"bg-orange-600 text-white px-3 sm:px-4 py-2 rounded-md hover:bg-orange-700 flex items-center justify-center space-x-1 text-sm h-10 sm:mt-6",children:[o.jsx(ol,{size:16}),o.jsx("span",{className:"hidden sm:inline",children:"Ajouter"})]})]})]})})()})})]})})]},T.id)})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menu non trouv"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Ce menu n'existe pas ou vous n'avez pas accs  celui-ci."}),o.jsx("button",{onClick:()=>r("/mes-menus"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Retour  mes menus"})]})}const Px={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},ar:{name:"",flag:""}};function hM(){const{user:e}=dr(),[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,s]=v.useState(null);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{a(!0);try{const{data:h,error:m}=await F.from("menus").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(m)throw m;r(h||[])}catch(h){console.error("Erreur lors du chargement des menus:",h),c("error","Erreur lors du chargement des menus")}finally{a(!1)}},c=(h,m)=>{s({type:h,text:m}),setTimeout(()=>s(null),5e3)},u=async h=>{if(confirm("tes-vous sr de vouloir supprimer ce menu ? Toutes les catgories et plats associs seront galement supprims."))try{const{error:m}=await F.from("menus").delete().eq("id",h);if(m)throw m;r(t.filter(y=>y.id!==h)),c("success","Menu supprim avec succs")}catch(m){console.error("Erreur lors de la suppression:",m),c("error","Erreur lors de la suppression du menu")}},d=async h=>{try{const{id:m,created_at:y,updated_at:x,slug:w,...b}=h,p={...b,menu_name:`${h.menu_name||h.nom} (Copie)`,slug:"",status:"draft"},{data:g,error:j}=await F.from("menus").insert([p]).select().single();if(j)throw j;r([g,...t]),c("success","Menu dupliqu avec succs (brouillon)")}catch(m){console.error("Erreur lors de la duplication:",m),c("error","Erreur lors de la duplication du menu")}},f=async(h,m)=>{try{let y;if(m==="actif")y={actif:!h.actif};else{const w=h.status==="draft";if(y={status:w?"published":"draft"},w&&!h.slug){const{data:b}=await F.from("restaurant_profiles").select("slug").eq("user_id",h.user_id).maybeSingle(),p=(b==null?void 0:b.slug)||fa(h.nom),g=fa(h.menu_name||h.nom);y.slug=`${p}/${g}`}}const{error:x}=await F.from("menus").update(y).eq("id",h.id);if(x)throw x;r(t.map(w=>w.id===h.id?{...w,...y}:w)),c("success","Statut mis  jour avec succs")}catch(y){console.error("Erreur lors de la mise  jour:",y),c("error","Erreur lors de la mise  jour du statut")}};return n?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ni,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 sm:p-4 lg:p-6",children:[i&&o.jsx("div",{className:`mb-4 sm:mb-6 p-3 sm:p-4 rounded-lg flex items-center space-x-2 text-sm sm:text-base ${i.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:o.jsx("span",{children:i.text})}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Mes Menus"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Grez tous vos menus de restaurant"})]}),o.jsxs(at,{to:"/mon-menu/nouveau",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm sm:text-base w-fit",children:[o.jsx(ol,{size:18}),o.jsx("span",{children:"Crer un nouveau menu"})]})]}),t.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx(_3,{className:"mx-auto h-12 w-12 text-gray-400"}),o.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun menu"}),o.jsx("p",{className:"mt-2 text-sm text-gray-600 px-4",children:"Commencez par crer votre premier menu pour votre restaurant."}),o.jsxs(at,{to:"/mon-menu/nouveau",className:"mt-6 inline-flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:[o.jsx(ol,{size:18}),o.jsx("span",{children:"Crer mon premier menu"})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"block lg:hidden space-y-4",children:t.map(h=>{var m,y;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[h.banniere_url?o.jsx("div",{className:"h-32 bg-gray-200",children:o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-full h-full object-cover"})}):o.jsx("div",{className:"h-32 bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-4xl font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.menu_name||h.nom}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(m=Px[h.language||"fr"])==null?void 0:m.flag}),o.jsx("span",{className:"text-xs text-gray-500",children:(y=Px[h.language||"fr"])==null?void 0:y.name})]})]}),o.jsxs("div",{className:"flex flex-col gap-1.5",children:[o.jsx("button",{onClick:()=>f(h,"status"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publi":"Brouillon"}),o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-2.5 py-1 rounded-md text-xs font-medium transition-colors ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(at,{to:`/categories/${h.id}`,className:"w-full flex items-center justify-center gap-2 text-sm bg-orange-600 text-white hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium shadow-sm transition-colors",children:[o.jsx(Wm,{size:18}),o.jsx("span",{children:"Grer les articles"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsx(at,{to:`/mon-menu/${h.id}`,className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Paramtres",children:o.jsx(ll,{size:20})}),o.jsx("button",{onClick:()=>d(h),className:"flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-100 p-2.5 rounded-lg border border-gray-200 transition-colors",title:"Dupliquer",children:o.jsx(qm,{size:20})}),o.jsx("button",{onClick:()=>u(h.id),className:"flex items-center justify-center text-red-600 hover:text-red-700 hover:bg-red-50 p-2.5 rounded-lg border border-red-200 transition-colors",title:"Supprimer",children:o.jsx(pi,{size:20})})]})]})]})]},h.id)})}),o.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom du menu"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visibilit"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(h=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[h.banniere_url?o.jsx("img",{src:h.banniere_url,alt:h.menu_name||h.nom,className:"w-12 h-12 rounded object-cover"}):o.jsx("div",{className:"w-12 h-12 rounded bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-lg font-bold",children:(h.menu_name||h.nom).charAt(0).toUpperCase()})}),o.jsx("div",{children:o.jsx("div",{className:"font-medium text-gray-900",children:h.menu_name||h.nom})})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"status"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.status==="published"?"bg-green-100 text-green-800 hover:bg-green-200":"bg-yellow-100 text-yellow-800 hover:bg-yellow-200"}`,children:h.status==="published"?"Publi":"Brouillon"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("button",{onClick:()=>f(h,"actif"),className:`px-3 py-1 rounded-full text-xs font-medium ${h.actif?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:h.actif?"Actif":"Inactif"})}),o.jsx("td",{className:"px-6 py-4 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(at,{to:`/categories/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Grer les articles",children:o.jsx(Wm,{size:18})}),o.jsx(at,{to:`/mon-menu/${h.id}`,className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Paramtres du menu",children:o.jsx(ll,{size:18})}),o.jsx("button",{onClick:()=>d(h),className:"p-2 text-gray-600 hover:bg-gray-50 rounded",title:"Dupliquer",children:o.jsx(qm,{size:18})}),o.jsx("button",{onClick:()=>u(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Supprimer",children:o.jsx(pi,{size:18})})]})})]},h.id))})]})})]})]})})}const mM=()=>{const{user:e}=dr(),{menuId:t}=ki(),r=Xr(),[n,a]=v.useState(null),[i,s]=v.useState(!0),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,y]=v.useState(""),[x,w]=v.useState(!0);v.useEffect(()=>{e&&t&&b()},[e,t]);const b=async()=>{if(!t){p("error","ID de menu manquant"),r("/mes-menus");return}try{const{data:_,error:N}=await F.from("menus").select("*").eq("id",t).eq("user_id",e.id).maybeSingle();if(N){console.error("Erreur lors du chargement du menu:",N),p("error","Erreur lors du chargement du menu");return}if(!_){p("error","Menu non trouv"),r("/mes-menus");return}a(_)}catch(_){console.error("Erreur lors du chargement du menu:",_),p("error","Erreur lors du chargement du menu")}finally{s(!1)}},p=(_,N)=>{h({type:_,text:N}),setTimeout(()=>h(null),5e3)},g=async _=>{if(_){if(_.size>10*1024*1024){p("error","Le fichier est trop volumineux (max 10MB)");return}if(!_.type.startsWith("image/")){p("error","Veuillez slectionner une image valide");return}c(!0);try{p("success","Upload de l'image en cours...");const N=await ys(_,"menu-items");if(N.error){p("error",N.error);return}y("Analyse de l'image avec l'IA..."),p("success","Analyse de l'image avec l'IA...");const k=await fetch("https://dpbohbsxstthvhzgqxje.supabase.co/functions/v1/parse-menu-image",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYm9oYnN4c3R0aHZoemdxeGplIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2OTcxNDcsImV4cCI6MjA3NDI3MzE0N30.y7clJBfcmV-Oq3cIoxzyYI4ncjjnFa275751XPI5UQ0"},body:JSON.stringify({imageUrl:N.url,menuId:n.id,importImages:x})});if(y("Traitement de la rponse..."),!k.ok){const S=await k.json();p("error",S.error||"Erreur lors de l'analyse");return}const E=await k.json();if(!E.success){p("error",E.error||"Erreur lors de l'analyse");return}y("Insertion des donnes en base..."),p("success","Insertion des donnes et images en base..."),await j(E.data);try{await is(N.url)}catch(S){console.warn("Failed to cleanup analysis image:",S)}p("success","Menu import avec succs !  Vous pouvez maintenant retourner  la gestion du menu."),setTimeout(()=>{r("/categories")},2e3)}catch(N){console.error("Erreur lors du traitement:",N),p("error","Erreur lors du traitement de l'image")}finally{c(!1),y(""),d(null)}}},j=async _=>{try{const{data:N}=await F.from("categories").select("ordre").eq("menu_id",n.id).order("ordre",{ascending:!1}).limit(1),k=N&&N.length>0?N[0].ordre+1:0;for(const E of _.categories){const{data:S,error:C}=await F.from("categories").insert([{menu_id:n.id,nom:E.name,description:E.description||"",ordre:k+_.categories.indexOf(E)}]).select().single();if(C)throw C;for(const P of E.items){const{error:M}=await F.from("menu_items").insert([{category_id:S.id,nom:P.name,description:P.description||"",prix:P.price||0,image_url:P.image_url||"",allergenes:P.allergenes||[],vegetarien:P.vegetarian||!1,vegan:P.vegan||!1,sans_gluten:P.gluten_free||!1,epice:P.spicy||!1,ordre:E.items.indexOf(P)}]);if(M)throw M}}}catch(N){throw console.error("Erreur lors de l'insertion:",N),N}};return i?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ni,{size:"lg"})}):n?o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(at,{to:"/categories",className:"text-gray-600 hover:text-gray-800 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Al,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Import automatique avec l'IA"}),o.jsx("p",{className:"text-gray-600",children:"Uploadez une photo de votre menu pour un import automatique"})]})]})}),f&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(ze,{className:"w-5 h-5 mt-0.5"}):o.jsx(Oe,{className:"w-5 h-5 mt-0.5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl shadow-sm border border-purple-200 p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Gm,{className:"w-8 h-8 text-purple-600"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Importez votre menu automatiquement"}),o.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Notre IA analyse votre menu et extrait automatiquement tous les plats, prix et informations. Prenez simplement une photo claire de votre menu et laissez la magie oprer !"})]}),o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-6",children:o.jsxs("label",{className:"cursor-pointer block",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:_=>{var k;const N=(k=_.target.files)==null?void 0:k[0];N&&d(N)},className:"hidden",disabled:l}),o.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-colors ${u?"border-purple-400 bg-purple-50":"border-purple-300 hover:border-purple-400 bg-white hover:bg-purple-50"}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(j3,{className:"w-6 h-6 text-purple-600"})}),u?o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:u.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[(u.size/1024/1024).toFixed(1)," MB"]})]}):o.jsxs("div",{children:[o.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Cliquez pour slectionner une image de votre menu"}),o.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG jusqu' 10MB - Plus la photo est claire, meilleur sera le rsultat"})]})]})})]})}),o.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-3 bg-white rounded-lg p-4",children:[o.jsx("input",{type:"checkbox",id:"importImages",checked:x,onChange:_=>w(_.target.checked),disabled:l,className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500 cursor-pointer disabled:cursor-not-allowed"}),o.jsx("label",{htmlFor:"importImages",className:"text-gray-700 font-medium cursor-pointer select-none",children:"Importer automatiquement des images pour chaque plat"})]}),o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:()=>u&&g(u),disabled:!u||l,className:"bg-purple-600 text-white px-8 py-4 rounded-xl hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-3 mx-auto text-lg font-medium min-w-[200px]",children:l?o.jsxs(o.Fragment,{children:[o.jsx(ve,{className:"animate-spin",size:24}),o.jsx("span",{children:"Analyse en cours..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Gm,{size:24}),o.jsx("span",{children:"Analyser le menu"})]})})})]}),l&&o.jsx("div",{className:"mt-8 max-w-2xl mx-auto",children:o.jsxs("div",{className:"bg-purple-100 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 text-purple-700 mb-4",children:[o.jsx(ve,{className:"animate-spin",size:20}),o.jsx("span",{className:"font-medium",children:m||"L'IA analyse votre menu..."})]}),o.jsx("div",{className:"bg-purple-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full animate-pulse",style:{width:"75%"}})}),o.jsxs("p",{className:"text-sm text-purple-600 mt-3 text-center",children:["Cela peut prendre quelques minutes selon la complexit de votre menu et le nombre de plats",x&&o.jsxs(o.Fragment,{children:[o.jsx("br",{}),o.jsx("strong",{children:"Recherche automatique d'images pour chaque plat incluse !"})]})]})]})}),o.jsxs("div",{className:"mt-8 max-w-2xl mx-auto",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Conseils pour un meilleur rsultat"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-green-600 font-bold",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Photo bien claire et nette"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-blue-600 font-bold",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Menu entier visible"})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""})}),o.jsx("p",{className:"text-sm text-gray-600",children:"Texte lisible sans reflets"})]})]})]})]})]}):o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer les informations de base de votre menu."}),o.jsx(at,{to:"/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller  la configuration"})]})})};var Ma={},pM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},d2={},fr={};let r0;const gM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];fr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};fr.getSymbolTotalCodewords=function(t){return gM[t]};fr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};fr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');r0=t};fr.isKanjiModeEnabled=function(){return typeof r0<"u"};fr.toSJIS=function(t){return r0(t)};var Rd={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,a){if(e.isValid(n))return n;try{return t(n)}catch{return a}}})(Rd);function f2(){this.buffer=[],this.length=0}f2.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var vM=f2;function $l(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}$l.prototype.set=function(e,t,r,n){const a=e*this.size+t;this.data[a]=r,n&&(this.reservedBit[a]=!0)};$l.prototype.get=function(e,t){return this.data[e*this.size+t]};$l.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};$l.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var yM=$l,h2={};(function(e){const t=fr.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const a=Math.floor(n/7)+2,i=t(n),s=i===145?26:Math.ceil((i-13)/(2*a-2))*2,l=[i-7];for(let c=1;c<a-1;c++)l[c]=l[c-1]-s;return l.push(6),l.reverse()},e.getPositions=function(n){const a=[],i=e.getRowColCoords(n),s=i.length;for(let l=0;l<s;l++)for(let c=0;c<s;c++)l===0&&c===0||l===0&&c===s-1||l===s-1&&c===0||a.push([i[l],i[c]]);return a}})(h2);var m2={};const xM=fr.getSymbolSize,Ox=7;m2.getPositions=function(t){const r=xM(t);return[[0,0],[r-Ox,0],[0,r-Ox]]};var p2={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const i=a.size;let s=0,l=0,c=0,u=null,d=null;for(let f=0;f<i;f++){l=c=0,u=d=null;for(let h=0;h<i;h++){let m=a.get(f,h);m===u?l++:(l>=5&&(s+=t.N1+(l-5)),u=m,l=1),m=a.get(h,f),m===d?c++:(c>=5&&(s+=t.N1+(c-5)),d=m,c=1)}l>=5&&(s+=t.N1+(l-5)),c>=5&&(s+=t.N1+(c-5))}return s},e.getPenaltyN2=function(a){const i=a.size;let s=0;for(let l=0;l<i-1;l++)for(let c=0;c<i-1;c++){const u=a.get(l,c)+a.get(l,c+1)+a.get(l+1,c)+a.get(l+1,c+1);(u===4||u===0)&&s++}return s*t.N2},e.getPenaltyN3=function(a){const i=a.size;let s=0,l=0,c=0;for(let u=0;u<i;u++){l=c=0;for(let d=0;d<i;d++)l=l<<1&2047|a.get(u,d),d>=10&&(l===1488||l===93)&&s++,c=c<<1&2047|a.get(d,u),d>=10&&(c===1488||c===93)&&s++}return s*t.N3},e.getPenaltyN4=function(a){let i=0;const s=a.data.length;for(let c=0;c<s;c++)i+=a.data[c];return Math.abs(Math.ceil(i*100/s/5)-10)*t.N4};function r(n,a,i){switch(n){case e.Patterns.PATTERN000:return(a+i)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(a+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return a*i%2+a*i%3===0;case e.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case e.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(a,i){const s=i.size;for(let l=0;l<s;l++)for(let c=0;c<s;c++)i.isReserved(c,l)||i.xor(c,l,r(a,c,l))},e.getBestMask=function(a,i){const s=Object.keys(e.Patterns).length;let l=0,c=1/0;for(let u=0;u<s;u++){i(u),e.applyMask(u,a);const d=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(u,a),d<c&&(c=d,l=u)}return l}})(p2);var zd={};const ha=Rd,_c=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],kc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];zd.getBlocksCount=function(t,r){switch(r){case ha.L:return _c[(t-1)*4+0];case ha.M:return _c[(t-1)*4+1];case ha.Q:return _c[(t-1)*4+2];case ha.H:return _c[(t-1)*4+3];default:return}};zd.getTotalCodewordsCount=function(t,r){switch(r){case ha.L:return kc[(t-1)*4+0];case ha.M:return kc[(t-1)*4+1];case ha.Q:return kc[(t-1)*4+2];case ha.H:return kc[(t-1)*4+3];default:return}};var g2={},Ud={};const zo=new Uint8Array(512),Au=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)zo[r]=t,Au[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)zo[r]=zo[r-255]})();Ud.log=function(t){if(t<1)throw new Error("log("+t+")");return Au[t]};Ud.exp=function(t){return zo[t]};Ud.mul=function(t,r){return t===0||r===0?0:zo[Au[t]+Au[r]]};(function(e){const t=Ud;e.mul=function(n,a){const i=new Uint8Array(n.length+a.length-1);for(let s=0;s<n.length;s++)for(let l=0;l<a.length;l++)i[s+l]^=t.mul(n[s],a[l]);return i},e.mod=function(n,a){let i=new Uint8Array(n);for(;i.length-a.length>=0;){const s=i[0];for(let c=0;c<a.length;c++)i[c]^=t.mul(a[c],s);let l=0;for(;l<i.length&&i[l]===0;)l++;i=i.slice(l)}return i},e.generateECPolynomial=function(n){let a=new Uint8Array([1]);for(let i=0;i<n;i++)a=e.mul(a,new Uint8Array([1,t.exp(i)]));return a}})(g2);const v2=g2;function n0(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}n0.prototype.initialize=function(t){this.degree=t,this.genPoly=v2.generateECPolynomial(this.degree)};n0.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const n=v2.mod(r,this.genPoly),a=this.degree-n.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(n,a),i}return n};var bM=n0,y2={},Ia={},a0={};a0.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var gn={};const x2="[0-9]+",wM="[A-Z $%*+\\-./:]+";let dl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";dl=dl.replace(/u/g,"\\u");const jM="(?:(?![A-Z0-9 $%*+\\-./:]|"+dl+`)(?:.|[\r
]))+`;gn.KANJI=new RegExp(dl,"g");gn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");gn.BYTE=new RegExp(jM,"g");gn.NUMERIC=new RegExp(x2,"g");gn.ALPHANUMERIC=new RegExp(wM,"g");const _M=new RegExp("^"+dl+"$"),kM=new RegExp("^"+x2+"$"),NM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gn.testKanji=function(t){return _M.test(t)};gn.testNumeric=function(t){return kM.test(t)};gn.testAlphanumeric=function(t){return NM.test(t)};(function(e){const t=a0,r=gn;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return r.testNumeric(i)?e.NUMERIC:r.testAlphanumeric(i)?e.ALPHANUMERIC:r.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function n(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(i,s){if(e.isValid(i))return i;try{return n(i)}catch{return s}}})(Ia);(function(e){const t=fr,r=zd,n=Rd,a=Ia,i=a0,s=7973,l=t.getBCHDigit(s);function c(h,m,y){for(let x=1;x<=40;x++)if(m<=e.getCapacity(x,y,h))return x}function u(h,m){return a.getCharCountIndicator(h,m)+4}function d(h,m){let y=0;return h.forEach(function(x){const w=u(x.mode,m);y+=w+x.getBitsLength()}),y}function f(h,m){for(let y=1;y<=40;y++)if(d(h,y)<=e.getCapacity(y,m,a.MIXED))return y}e.from=function(m,y){return i.isValid(m)?parseInt(m,10):y},e.getCapacity=function(m,y,x){if(!i.isValid(m))throw new Error("Invalid QR Code version");typeof x>"u"&&(x=a.BYTE);const w=t.getSymbolTotalCodewords(m),b=r.getTotalCodewordsCount(m,y),p=(w-b)*8;if(x===a.MIXED)return p;const g=p-u(x,m);switch(x){case a.NUMERIC:return Math.floor(g/10*3);case a.ALPHANUMERIC:return Math.floor(g/11*2);case a.KANJI:return Math.floor(g/13);case a.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(m,y){let x;const w=n.from(y,n.M);if(Array.isArray(m)){if(m.length>1)return f(m,w);if(m.length===0)return 1;x=m[0]}else x=m;return c(x.mode,x.getLength(),w)},e.getEncodedBits=function(m){if(!i.isValid(m)||m<7)throw new Error("Invalid QR Code version");let y=m<<12;for(;t.getBCHDigit(y)-l>=0;)y^=s<<t.getBCHDigit(y)-l;return m<<12|y}})(y2);var b2={};const Xm=fr,w2=1335,SM=21522,Ax=Xm.getBCHDigit(w2);b2.getEncodedBits=function(t,r){const n=t.bit<<3|r;let a=n<<10;for(;Xm.getBCHDigit(a)-Ax>=0;)a^=w2<<Xm.getBCHDigit(a)-Ax;return(n<<10|a)^SM};var j2={};const EM=Ia;function js(e){this.mode=EM.NUMERIC,this.data=e.toString()}js.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};js.prototype.getLength=function(){return this.data.length};js.prototype.getBitsLength=function(){return js.getBitsLength(this.data.length)};js.prototype.write=function(t){let r,n,a;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),a=parseInt(n,10),t.put(a,10);const i=this.data.length-r;i>0&&(n=this.data.substr(r),a=parseInt(n,10),t.put(a,i*3+1))};var CM=js;const PM=Ia,uh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _s(e){this.mode=PM.ALPHANUMERIC,this.data=e}_s.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};_s.prototype.getLength=function(){return this.data.length};_s.prototype.getBitsLength=function(){return _s.getBitsLength(this.data.length)};_s.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=uh.indexOf(this.data[r])*45;n+=uh.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(uh.indexOf(this.data[r]),6)};var OM=_s;const AM=Ia;function ks(e){this.mode=AM.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}ks.getBitsLength=function(t){return t*8};ks.prototype.getLength=function(){return this.data.length};ks.prototype.getBitsLength=function(){return ks.getBitsLength(this.data.length)};ks.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var TM=ks;const MM=Ia,IM=fr;function Ns(e){this.mode=MM.KANJI,this.data=e}Ns.getBitsLength=function(t){return t*13};Ns.prototype.getLength=function(){return this.data.length};Ns.prototype.getBitsLength=function(){return Ns.getBitsLength(this.data.length)};Ns.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=IM.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var DM=Ns,_2={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,n,a){var i={},s={};s[n]=0;var l=t.PriorityQueue.make();l.push(n,0);for(var c,u,d,f,h,m,y,x,w;!l.empty();){c=l.pop(),u=c.value,f=c.cost,h=r[u]||{};for(d in h)h.hasOwnProperty(d)&&(m=h[d],y=f+m,x=s[d],w=typeof s[d]>"u",(w||x>y)&&(s[d]=y,l.push(d,y),i[d]=u))}if(typeof a<"u"&&typeof s[a]>"u"){var b=["Could not find a path from ",n," to ",a,"."].join("");throw new Error(b)}return i},extract_shortest_path_from_predecessor_list:function(r,n){for(var a=[],i=n;i;)a.push(i),r[i],i=r[i];return a.reverse(),a},find_path:function(r,n,a){var i=t.single_source_shortest_paths(r,n,a);return t.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(r){var n=t.PriorityQueue,a={},i;r=r||{};for(i in n)n.hasOwnProperty(i)&&(a[i]=n[i]);return a.queue=[],a.sorter=r.sorter||n.default_sorter,a},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var a={value:r,cost:n};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(_2);var $M=_2.exports;(function(e){const t=Ia,r=CM,n=OM,a=TM,i=DM,s=gn,l=fr,c=$M;function u(b){return unescape(encodeURIComponent(b)).length}function d(b,p,g){const j=[];let _;for(;(_=b.exec(g))!==null;)j.push({data:_[0],index:_.index,mode:p,length:_[0].length});return j}function f(b){const p=d(s.NUMERIC,t.NUMERIC,b),g=d(s.ALPHANUMERIC,t.ALPHANUMERIC,b);let j,_;return l.isKanjiModeEnabled()?(j=d(s.BYTE,t.BYTE,b),_=d(s.KANJI,t.KANJI,b)):(j=d(s.BYTE_KANJI,t.BYTE,b),_=[]),p.concat(g,j,_).sort(function(k,E){return k.index-E.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function h(b,p){switch(p){case t.NUMERIC:return r.getBitsLength(b);case t.ALPHANUMERIC:return n.getBitsLength(b);case t.KANJI:return i.getBitsLength(b);case t.BYTE:return a.getBitsLength(b)}}function m(b){return b.reduce(function(p,g){const j=p.length-1>=0?p[p.length-1]:null;return j&&j.mode===g.mode?(p[p.length-1].data+=g.data,p):(p.push(g),p)},[])}function y(b){const p=[];for(let g=0;g<b.length;g++){const j=b[g];switch(j.mode){case t.NUMERIC:p.push([j,{data:j.data,mode:t.ALPHANUMERIC,length:j.length},{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.ALPHANUMERIC:p.push([j,{data:j.data,mode:t.BYTE,length:j.length}]);break;case t.KANJI:p.push([j,{data:j.data,mode:t.BYTE,length:u(j.data)}]);break;case t.BYTE:p.push([{data:j.data,mode:t.BYTE,length:u(j.data)}])}}return p}function x(b,p){const g={},j={start:{}};let _=["start"];for(let N=0;N<b.length;N++){const k=b[N],E=[];for(let S=0;S<k.length;S++){const C=k[S],P=""+N+S;E.push(P),g[P]={node:C,lastCount:0},j[P]={};for(let M=0;M<_.length;M++){const $=_[M];g[$]&&g[$].node.mode===C.mode?(j[$][P]=h(g[$].lastCount+C.length,C.mode)-h(g[$].lastCount,C.mode),g[$].lastCount+=C.length):(g[$]&&(g[$].lastCount=C.length),j[$][P]=h(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,p))}}_=E}for(let N=0;N<_.length;N++)j[_[N]].end=0;return{map:j,table:g}}function w(b,p){let g;const j=t.getBestModeForData(b);if(g=t.from(p,j),g!==t.BYTE&&g.bit<j.bit)throw new Error('"'+b+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(j));switch(g===t.KANJI&&!l.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new r(b);case t.ALPHANUMERIC:return new n(b);case t.KANJI:return new i(b);case t.BYTE:return new a(b)}}e.fromArray=function(p){return p.reduce(function(g,j){return typeof j=="string"?g.push(w(j,null)):j.data&&g.push(w(j.data,j.mode)),g},[])},e.fromString=function(p,g){const j=f(p,l.isKanjiModeEnabled()),_=y(j),N=x(_,g),k=c.find_path(N.map,"start","end"),E=[];for(let S=1;S<k.length-1;S++)E.push(N.table[k[S]].node);return e.fromArray(m(E))},e.rawSplit=function(p){return e.fromArray(f(p,l.isKanjiModeEnabled()))}})(j2);const Bd=fr,dh=Rd,LM=vM,RM=yM,zM=h2,UM=m2,Zm=p2,ep=zd,BM=bM,Tu=y2,FM=b2,qM=Ia,fh=j2;function WM(e,t){const r=e.size,n=UM.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],s=n[a][1];for(let l=-1;l<=7;l++)if(!(i+l<=-1||r<=i+l))for(let c=-1;c<=7;c++)s+c<=-1||r<=s+c||(l>=0&&l<=6&&(c===0||c===6)||c>=0&&c<=6&&(l===0||l===6)||l>=2&&l<=4&&c>=2&&c<=4?e.set(i+l,s+c,!0,!0):e.set(i+l,s+c,!1,!0))}}function VM(e){const t=e.size;for(let r=8;r<t-8;r++){const n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function HM(e,t){const r=zM.getPositions(t);for(let n=0;n<r.length;n++){const a=r[n][0],i=r[n][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?e.set(a+s,i+l,!0,!0):e.set(a+s,i+l,!1,!0)}}function KM(e,t){const r=e.size,n=Tu.getEncodedBits(t);let a,i,s;for(let l=0;l<18;l++)a=Math.floor(l/3),i=l%3+r-8-3,s=(n>>l&1)===1,e.set(a,i,s,!0),e.set(i,a,s,!0)}function hh(e,t,r){const n=e.size,a=FM.getEncodedBits(t,r);let i,s;for(i=0;i<15;i++)s=(a>>i&1)===1,i<6?e.set(i,8,s,!0):i<8?e.set(i+1,8,s,!0):e.set(n-15+i,8,s,!0),i<8?e.set(8,n-i-1,s,!0):i<9?e.set(8,15-i-1+1,s,!0):e.set(8,15-i-1,s,!0);e.set(n-8,8,1,!0)}function GM(e,t){const r=e.size;let n=-1,a=r-1,i=7,s=0;for(let l=r-1;l>0;l-=2)for(l===6&&l--;;){for(let c=0;c<2;c++)if(!e.isReserved(a,l-c)){let u=!1;s<t.length&&(u=(t[s]>>>i&1)===1),e.set(a,l-c,u),i--,i===-1&&(s++,i=7)}if(a+=n,a<0||r<=a){a-=n,n=-n;break}}}function YM(e,t,r){const n=new LM;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),qM.getCharCountIndicator(c.mode,e)),c.write(n)});const a=Bd.getSymbolTotalCodewords(e),i=ep.getTotalCodewordsCount(e,t),s=(a-i)*8;for(n.getLengthInBits()+4<=s&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const l=(s-n.getLengthInBits())/8;for(let c=0;c<l;c++)n.put(c%2?17:236,8);return QM(n,e,t)}function QM(e,t,r){const n=Bd.getSymbolTotalCodewords(t),a=ep.getTotalCodewordsCount(t,r),i=n-a,s=ep.getBlocksCount(t,r),l=n%s,c=s-l,u=Math.floor(n/s),d=Math.floor(i/s),f=d+1,h=u-d,m=new BM(h);let y=0;const x=new Array(s),w=new Array(s);let b=0;const p=new Uint8Array(e.buffer);for(let k=0;k<s;k++){const E=k<c?d:f;x[k]=p.slice(y,y+E),w[k]=m.encode(x[k]),y+=E,b=Math.max(b,E)}const g=new Uint8Array(n);let j=0,_,N;for(_=0;_<b;_++)for(N=0;N<s;N++)_<x[N].length&&(g[j++]=x[N][_]);for(_=0;_<h;_++)for(N=0;N<s;N++)g[j++]=w[N][_];return g}function JM(e,t,r,n){let a;if(Array.isArray(e))a=fh.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=fh.rawSplit(e);u=Tu.getBestVersionForData(d,r)}a=fh.fromString(e,u||40)}else throw new Error("Invalid data");const i=Tu.getBestVersionForData(a,r);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const s=YM(t,r,a),l=Bd.getSymbolSize(t),c=new RM(l);return WM(c,t),VM(c),HM(c,t),hh(c,r,0),t>=7&&KM(c,t),GM(c,s),isNaN(n)&&(n=Zm.getBestMask(c,hh.bind(null,c,r))),Zm.applyMask(n,c),hh(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:a}}d2.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=dh.M,a,i;return typeof r<"u"&&(n=dh.from(r.errorCorrectionLevel,dh.M),a=Tu.from(r.version),i=Zm.from(r.maskPattern),r.toSJISFunc&&Bd.setToSJISFunction(r.toSJISFunc)),JM(t,a,n,i)};var k2={},i0={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const a=parseInt(n.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const a=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,s=n.scale||4;return{width:i,scale:i?4:s,margin:a,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,a){return a.width&&a.width>=n+a.margin*2?a.width/(n+a.margin*2):a.scale},e.getImageWidth=function(n,a){const i=e.getScale(n,a);return Math.floor((n+a.margin*2)*i)},e.qrToImageData=function(n,a,i){const s=a.modules.size,l=a.modules.data,c=e.getScale(s,i),u=Math.floor((s+i.margin*2)*c),d=i.margin*c,f=[i.color.light,i.color.dark];for(let h=0;h<u;h++)for(let m=0;m<u;m++){let y=(h*u+m)*4,x=i.color.light;if(h>=d&&m>=d&&h<u-d&&m<u-d){const w=Math.floor((h-d)/c),b=Math.floor((m-d)/c);x=f[l[w*s+b]?1:0]}n[y++]=x.r,n[y++]=x.g,n[y++]=x.b,n[y]=x.a}}})(i0);(function(e){const t=i0;function r(a,i,s){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,s,l){let c=l,u=s;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),s||(u=n()),c=t.getOptions(c);const d=t.getImageWidth(i.modules.size,c),f=u.getContext("2d"),h=f.createImageData(d,d);return t.qrToImageData(h.data,i,c),r(f,u,d),f.putImageData(h,0,0),u},e.renderToDataURL=function(i,s,l){let c=l;typeof c>"u"&&(!s||!s.getContext)&&(c=s,s=void 0),c||(c={});const u=e.render(i,s,c),d=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(d,f.quality)}})(k2);var N2={};const XM=i0;function Tx(e,t){const r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function mh(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function ZM(e,t,r){let n="",a=0,i=!1,s=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);!c&&!i&&(i=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=i?mh("M",c+r,.5+u+r):mh("m",a,0),a=0,i=!1),c+1<t&&e[l+1]||(n+=mh("h",s),s=0)):a++}return n}N2.render=function(t,r,n){const a=XM.getOptions(r),i=t.modules.size,s=t.modules.data,l=i+a.margin*2,c=a.color.light.a?"<path "+Tx(a.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",u="<path "+Tx(a.color.dark,"stroke")+' d="'+ZM(s,i,a.margin)+'"/>',d='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+d+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof n=="function"&&n(null,h),h};const e5=pM,tp=d2,S2=k2,t5=N2;function s0(e,t,r,n,a){const i=[].slice.call(arguments,1),s=i.length,l=typeof i[s-1]=="function";if(!l&&!e5())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(a=r,r=t,t=n=void 0):s===3&&(t.getContext&&typeof a>"u"?(a=n,n=void 0):(a=n,n=r,r=t,t=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(r=t,t=n=void 0):s===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,u){try{const d=tp.create(r,n);c(e(d,t,n))}catch(d){u(d)}})}try{const c=tp.create(r,n);a(null,e(c,t,n))}catch(c){a(c)}}Ma.create=tp.create;Ma.toCanvas=s0.bind(null,S2.render);Ma.toDataURL=s0.bind(null,S2.renderToDataURL);Ma.toString=s0.bind(null,function(e,t,r){return t5.render(e,r)});const r5=()=>{const{user:e}=dr(),t=Xr(),[r,n]=v.useState(null),[a,i]=v.useState(!0),[s,l]=v.useState(""),[c,u]=v.useState("#000000"),[d,f]=v.useState("#ffffff"),[h,m]=v.useState(!1),[y,x]=v.useState(!1),[w,b]=v.useState(""),[p,g]=v.useState(!1);v.useRef(null);const j=v.useRef(null),_=[{name:"Noir classique",color:"#000000",bg:"#ffffff"},{name:"Bleu marine",color:"#1e3a8a",bg:"#ffffff"},{name:"Vert fonc",color:"#064e3b",bg:"#ffffff"},{name:"Rouge bordeaux",color:"#7f1d1d",bg:"#ffffff"},{name:"Violet",color:"#581c87",bg:"#ffffff"},{name:"Orange",color:"#ea580c",bg:"#ffffff"}];v.useEffect(()=>{e&&N()},[e]),v.useEffect(()=>{r&&k()},[r,c,d,w]);const N=async()=>{if(e){i(!0);try{const{data:I,error:W}=await F.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(W&&W.code!=="PGRST116")throw console.error("Erreur lors du chargement du profil restaurant:",W),W;n(I)}catch(I){console.error("Erreur lors du chargement:",I)}finally{i(!1)}}},k=async()=>{if(r){x(!0);try{const I=`${window.location.origin}/m/${r.slug}?ref=qr`,W=document.createElement("canvas");if(await Ma.toCanvas(W,I,{width:400,margin:2,color:{dark:c,light:d},errorCorrectionLevel:"H"}),w){const Y=W.getContext("2d");if(Y){const B=new Image;B.crossOrigin="anonymous",await new Promise((O,L)=>{B.onload=()=>{const U=W.width*.2,q=(W.width-U)/2,ce=(W.height-U)/2;Y.fillStyle="white",Y.fillRect(q-5,ce-5,U+10,U+10),Y.drawImage(B,q,ce,U,U),O(null)},B.onerror=L,B.src=w})}}const Q=W.toDataURL("image/png");l(Q)}catch(I){console.error("Erreur lors de la gnration du QR code:",I)}finally{x(!1)}}},E=()=>{if(!s||!r)return;const I=document.createElement("a");I.download=`qr-code-${r.slug}.png`,I.href=s,I.click()},S=async()=>{if(r)try{await navigator.clipboard.writeText(`${$}?ref=qr`),m(!0),setTimeout(()=>m(!1),2e3)}catch(I){console.error("Erreur lors de la copie:",I)}},C=I=>{u(I.color),f(I.bg)},P=async I=>{var Q;const W=(Q=I.target.files)==null?void 0:Q[0];if(W){if(!W.type.startsWith("image/")){alert("Veuillez slectionner un fichier image valide");return}if(W.size>2*1024*1024){alert("Le fichier doit faire moins de 2MB");return}g(!0);try{const Y=W.name.split(".").pop(),B=`qr-logos/${e==null?void 0:e.id}-${Date.now()}.${Y}`,{data:O,error:L}=await F.storage.from("cloudmenu").upload(B,W,{cacheControl:"3600",upsert:!1});if(L)throw L;const{data:U}=F.storage.from("cloudmenu").getPublicUrl(B);b(U.publicUrl)}catch(Y){console.error("Erreur lors du tlchargement du logo:",Y),alert("Erreur lors du tlchargement du logo")}finally{g(!1)}}},M=()=>{b(""),j.current&&(j.current.value="")};if(a)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})});if(!r)return o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(os,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Profil restaurant non configur"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer l'identit visuelle de votre restaurant pour gnrer un QR code."}),o.jsx("button",{onClick:()=>t("/identite-visuelle"),className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Configurer mon restaurant"})]})});const $=r?`${window.location.origin}/m/${r.slug}`:"";return o.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"QR Code du restaurant"}),o.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Tlchargez votre QR code personnalis pour afficher dans votre tablissement. Il permet d'accder  tous vos menus."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(O3,{className:"w-5 h-5"}),o.jsx("span",{children:"URL de votre restaurant"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg border",children:[o.jsx("input",{type:"text",value:`${$}?ref=gmb`,readOnly:!0,className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-700"}),o.jsx("button",{onClick:S,className:`px-3 py-1.5 text-sm font-medium rounded transition-all duration-200 flex items-center space-x-1 ${h?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,children:h?o.jsxs(o.Fragment,{children:[o.jsx(ze,{className:"w-4 h-4"}),o.jsx("span",{children:"Copi !"})]}):o.jsxs(o.Fragment,{children:[o.jsx(qm,{className:"w-4 h-4"}),o.jsx("span",{children:"Copier"})]})})]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Lien pour Google My Business"})," - Utilisez cette URL avec le paramtre ?ref=gmb pour suivre les visites depuis GMB."]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(Qg,{className:"w-5 h-5"}),o.jsx("span",{children:"Personnalisation"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Couleurs prdfinies"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:_.map((I,W)=>o.jsxs("button",{onClick:()=>C(I),className:`p-3 border-2 rounded-lg transition-all duration-200 flex items-center space-x-2 text-left ${c===I.color?"border-orange-400 bg-orange-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:I.color}}),o.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:I.bg}})]}),o.jsx("span",{className:"text-xs font-medium text-gray-700",children:I.name})]},W))})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du QR code"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:c,onChange:I=>u(I.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'arrire-plan"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"color",value:d,onChange:I=>f(I.target.value),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer"}),o.jsx("input",{type:"text",value:d,onChange:I=>f(I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Logo au centre du QR code"}),w?o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsx("img",{src:w,alt:"Logo preview",className:"w-12 h-12 object-contain rounded"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Logo ajout"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Le logo apparatra au centre du QR code"})]}),o.jsx("button",{onClick:M,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Retirer le logo",children:o.jsx(Oe,{className:"w-4 h-4"})})]})}):o.jsxs("div",{children:[o.jsx("input",{ref:j,type:"file",accept:"image/*",onChange:P,className:"hidden",id:"logo-upload"}),o.jsx("label",{htmlFor:"logo-upload",className:`flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${p?"border-gray-300 bg-gray-50":"border-gray-300 hover:border-orange-400 hover:bg-orange-50"}`,children:p?o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-5 h-5 animate-spin"}),o.jsx("span",{className:"text-sm",children:"Tlchargement..."})]}):o.jsxs("div",{className:"flex flex-col items-center space-y-2 text-gray-600",children:[o.jsx(ws,{className:"w-8 h-8"}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-sm font-medium",children:"Ajouter un logo"}),o.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG jusqu' 2MB"})]})]})})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(os,{className:"w-5 h-5"}),o.jsx("span",{children:"Aperu du QR Code"})]}),o.jsx("div",{className:"text-center",children:y?o.jsx("div",{className:"flex items-center justify-center h-80",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Gnration..."})]})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"inline-block p-4 bg-gray-50 rounded-lg",children:s&&o.jsx("img",{src:s,alt:"QR Code du menu",className:"w-80 h-80 max-w-full"})}),o.jsx("div",{className:"flex justify-center",children:o.jsxs("button",{onClick:E,disabled:!s,className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2 font-medium",children:[o.jsx(w3,{className:"w-5 h-5"}),o.jsx("span",{children:"Tlcharger le QR Code"})]})})]})})]}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Comment utiliser votre QR Code"}),o.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),o.jsx("span",{children:"Tlchargez le QR code en cliquant sur le bouton ci-dessus"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),o.jsx("span",{children:"Imprimez-le et placez-le sur vos tables, comptoir ou vitrine"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),o.jsx("span",{children:"Vos clients scannent le QR code avec leur tlphone"})]}),o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx("span",{className:"text-blue-600 font-bold",children:"4."}),o.jsx("span",{children:"Ils accdent directement  votre menu en ligne !"})]})]})]})]})]})]})},uo={};function n5(e,t){const[r,n]=v.useState(()=>uo[e]||{}),[a,i]=v.useState(!uo[e]),s=v.useRef(e);return v.useEffect(()=>{let l=!0;return(async()=>{if(uo[e]){l&&(n(uo[e]),i(!1),s.current=e);return}l&&s.current!==e&&i(!0);try{const{data:u,error:d}=await F.from("interface_translations").select("translation_key, translated_text").eq("language_code",e).in("translation_key",t);if(d){console.error("Error fetching interface translations:",d),l&&i(!1);return}const f={};u==null||u.forEach(h=>{f[h.translation_key]=h.translated_text}),uo[e]=f,l&&(n(f),s.current=e,i(!1))}catch(u){console.error("Error:",u),l&&i(!1)}})(),()=>{l=!1}},[e,t.join(",")]),{translations:r,loading:a}}function Wr(e,t,r=""){return e[t]||r}function a5({googleBusinessUrl:e,selectedLanguage:t,translations:r}){if(!e)return null;const n=l=>l.includes("g.page")?l.endsWith("/")?`${l}review`:`${l}/review`:l.includes("maps")?l.includes("?")?`${l}&reviews=true`:`${l}?reviews=true`:l.endsWith("/")?`${l}review`:`${l}/review`,a=Wr(r,"leave_review","Laissez-nous un avis"),i=Wr(r,"write_review_google","crire un avis sur Google"),s=n(e);return o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border-2 border-blue-200 p-5",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex",children:[...Array(5)].map((l,c)=>o.jsx(Km,{size:20,className:"text-yellow-400 fill-yellow-400"},c))}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Google"})]})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a}),o.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[o.jsx(Km,{size:18}),o.jsx("span",{children:i}),o.jsx(Gg,{size:16})]})]})}function i5({restaurant:e,selectedLanguage:t,translations:r}){const n=m=>`https://wa.me/${m.replace(/\D/g,"")}`,a=m=>{if(!m)return null;let y=m;if(!m.startsWith("http://")&&!m.startsWith("https://")&&(y="https://"+m),y.includes("/embed"))return y;try{if(y.includes("goo.gl")||y.includes("maps.app.goo.gl"))return null;const x=y.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*),(\d+)z/);if(x){const p=x[1],g=x[2],j=x[3];return`https://maps.google.com/maps?q=${p},${g}&z=${j}&output=embed`}const w=y.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(w)return`https://maps.google.com/maps?q=${w[1]},${w[2]}&output=embed`;const b=y.match(/place\/([^/@?]+)/);if(b){const p=decodeURIComponent(b[1].replace(/\+/g," "));return x?`https://maps.google.com/maps?q=${p}&ll=${x[1]},${x[2]}&z=${x[3]}&output=embed`:`https://maps.google.com/maps?q=${encodeURIComponent(p)}&output=embed`}return null}catch(x){return console.error("Error parsing map URL:",x),null}},i=Wr(r,"contact","Contact"),s=Wr(r,"follow_us","Suivez-nous"),l=Wr(r,"powered_by","Propuls par"),c=Wr(r,"our_location","Notre emplacement"),u=Wr(r,"all_rights_reserved","Tous droits rservs."),d=e.location?a(e.location):null,f=e.telephone||e.whatsapp||e.address||e.hours,h=e.instagram||e.facebook||e.tiktok;return o.jsxs("footer",{className:"bg-gray-900 text-white mt-12",children:[o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-12",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[f&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:i}),o.jsxs("div",{className:"space-y-3",children:[e.telephone&&o.jsxs("a",{href:`tel:${e.telephone}`,className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Sr,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.telephone})]}),e.whatsapp&&o.jsxs("a",{href:n(e.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-start space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(mi,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.whatsapp})]}),e.address&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(bs,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.address})]}),e.hours&&o.jsxs("div",{className:"flex items-start space-x-3 text-gray-300",children:[o.jsx(xs,{size:18,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-sm",children:e.hours})]})]})]}),h&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:s}),o.jsxs("div",{className:"space-y-3",children:[e.instagram&&o.jsxs("a",{href:e.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Sa,{size:18}),o.jsx("span",{className:"text-sm",children:"Instagram"})]}),e.facebook&&o.jsxs("a",{href:e.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(Na,{size:18}),o.jsx("span",{className:"text-sm",children:"Facebook"})]}),e.tiktok&&o.jsxs("a",{href:e.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-gray-300 hover:text-orange-500 transition-colors",children:[o.jsx(V_,{size:18}),o.jsx("span",{className:"text-sm",children:"TikTok"})]})]})]}),e.location&&o.jsxs("div",{className:`${!h&&f?"md:col-span-2 lg:col-span-1":""}`,children:[o.jsx("h3",{className:"text-lg font-bold text-orange-500 mb-4",children:c}),d?o.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden",children:o.jsx("iframe",{src:d,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"w-full h-full"})}):o.jsxs("a",{href:e.location,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full aspect-video bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all font-medium",children:[o.jsx(bs,{size:24}),o.jsx("span",{children:"Voir sur Google Maps"})]})]})]})}),o.jsx("div",{className:"border-t border-gray-800",children:o.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0",children:[o.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," ",e.restaurant_name,". ",u]}),e.show_footer_branding&&o.jsxs("a",{href:"https://cloudmenu.fr",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-400 hover:text-orange-500 transition-colors",children:[l," ",o.jsx("span",{className:"font-semibold text-orange-500",children:"CloudMenu"})]})]})})})]})}function s5(e){return{primary:e.primary_color||"#ea580c",accent:e.accent_color||"#f97316",text:e.text_color||"#1f2937",background:e.background_color||"#ffffff",hero:e.hero_background_color||"#f3f4f6"}}function o5(e,t="custom-restaurant-colors"){const r=document.getElementById(t);r&&r.remove();const n=document.createElement("style");n.id=t,n.textContent=`
    /* Custom color classes */
    .restaurant-primary-bg { background-color: ${e.primary} !important; }
    .restaurant-primary-text { color: ${e.primary} !important; }
    .restaurant-primary-border { border-color: ${e.primary} !important; }

    .restaurant-accent-bg { background-color: ${e.accent} !important; }
    .restaurant-accent-text { color: ${e.accent} !important; }

    .restaurant-text { color: ${e.text} !important; }
    .restaurant-bg { background-color: ${e.background} !important; }
    .restaurant-hero-bg { background-color: ${e.hero} !important; }

    .restaurant-btn {
      background-color: ${e.primary} !important;
      color: white !important;
    }
    .restaurant-btn:hover {
      background-color: ${e.accent} !important;
    }

    .restaurant-link {
      color: ${e.primary} !important;
    }
    .restaurant-link:hover {
      color: ${e.accent} !important;
    }

    /* Override default orange colors for landing page */
    body {
      background-color: ${e.background} !important;
      color: ${e.text} !important;
    }

    .bg-orange-600, .hover\\:bg-orange-700:hover,
    button.bg-orange-600, a.bg-orange-600 {
      background-color: ${e.primary} !important;
    }

    button.bg-orange-600:hover, a.bg-orange-600:hover {
      background-color: ${e.accent} !important;
    }

    .bg-orange-500 {
      background-color: ${e.accent} !important;
    }

    .text-orange-600, .text-orange-700, .text-orange-500 {
      color: ${e.primary} !important;
    }

    .bg-orange-50 {
      background-color: ${e.primary}15 !important;
    }

    .bg-orange-100 {
      background-color: ${e.primary}25 !important;
    }

    .border-orange-500, .hover\\:border-orange-500:hover {
      border-color: ${e.primary} !important;
    }

    .text-orange-500 {
      color: ${e.accent} !important;
    }
  `,document.head.appendChild(n)}const rn={fr:{name:"Franais",flag:""},en:{name:"English",flag:""},es:{name:"Espaol",flag:""},de:{name:"Deutsch",flag:""},it:{name:"Italiano",flag:""},ar:{name:"",flag:""},ja:{name:"",flag:""},zh:{name:"",flag:""},pt:{name:"Portugus",flag:""},ru:{name:"",flag:""},hi:{name:"",flag:""},ko:{name:"",flag:""}},l5=()=>{const e=navigator.language.split("-")[0];return Object.keys(rn).includes(e)?e:"fr"};function c5(){var De,ie,zt;const{slug:e}=ki(),[t,r]=v.useState(null),[n,a]=v.useState([]),[i,s]=v.useState("fr"),[l,c]=v.useState(!1),[u,d]=v.useState(!0),[f,h]=v.useState(""),[m,y]=v.useState(!1),[x,w]=v.useState(!1),[b,p]=v.useState(!1),[g,j]=v.useState([]),[_,N]=v.useState({}),[k,E]=v.useState(!1),[S,C]=v.useState(null),[P,M]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),{translations:$,loading:I}=n5(i,["our_menus","no_menus_available","reserve","book_table","contact_us_directly","leave_review","write_review_google","contact","follow_us","powered_by","our_location","all_rights_reserved"]);v.useEffect(()=>{const A=()=>{y(window.innerWidth<768)};return A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),v.useEffect(()=>{e&&(Q(),W())},[e]);const W=async()=>{try{const A=window.location.href,G=await Ma.toDataURL(A,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});h(G)}catch(A){console.error("Error generating QR code:",A)}},Q=async()=>{d(!0);try{const{data:A,error:G}=await F.from("restaurant_profiles").select("*").eq("slug",e).maybeSingle();if(G||!A){console.error("Erreur lors du chargement du restaurant:",G),d(!1);return}r(A),console.log("Restaurant data loaded:",{name:A.restaurant_name,hero_background_color:A.hero_background_color});const{data:X,error:R}=await F.from("menus").select("*").eq("user_id",A.user_id).eq("actif",!0).eq("status","published").order("created_at",{ascending:!0});if(R)console.error("Erreur lors du chargement des menus:",R),a([]);else if(a(X||[]),X&&X.length>0){const xe=X.map(be=>be.id),{data:ue}=await F.from("menu_languages").select("language_code, menu_id, menu_title").in("menu_id",xe);if(ue){const be=Array.from(new Set(ue.map(Ut=>Ut.language_code))),qe=X.map(Ut=>Ut.default_language||"fr"),kt=Array.from(new Set([...qe,...be]));j(kt);const vn=l5();kt.includes(vn)?s(vn):kt.length>0&&s(kt[0]);const Jn={};ue.forEach(Ut=>{Jn[Ut.menu_id]||(Jn[Ut.menu_id]={}),Jn[Ut.menu_id][Ut.language_code]=Ut.menu_title||""}),N(Jn)}}}catch(A){console.error("Erreur:",A)}finally{d(!1)}};v.useEffect(()=>{if(t){const A=s5(t);o5(A)}},[t]),v.useEffect(()=>{const A=G=>{const X=G.target;l&&!X.closest(".language-selector-container")&&c(!1),x&&!X.closest(".hamburger-menu-container")&&w(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[l,x]);const B=n.reduce((A,G)=>{const X=A.find(R=>R.menu_name===G.menu_name);return X?X.languages.push(G):A.push({menu_name:G.menu_name||G.nom,description:G.description,languages:[G]}),A},[]);Array.from(new Set(n.map(A=>A.language||"fr")));const O=A=>A.languages[0],L=A=>`https://wa.me/${A.replace(/\D/g,"")}`,U=(A,G)=>{C({type:A,text:G}),setTimeout(()=>C(null),5e3)},q=()=>{const A=new Date;return A.setDate(A.getDate()+1),A.toISOString().split("T")[0]},ce=async A=>{if(A.preventDefault(),!P.customer_name.trim()||!P.customer_phone.trim()||!P.reservation_date||!P.reservation_time){U("error","Veuillez remplir tous les champs obligatoires");return}E(!0);try{const G=n.length>0?n[0]:null;if(!G){U("error","Aucun menu disponible pour la rservation");return}const{error:X}=await F.from("reservations").insert([{menu_id:G.id,customer_name:P.customer_name,customer_email:null,customer_phone:P.customer_phone,party_size:P.party_size,reservation_date:P.reservation_date,reservation_time:P.reservation_time,special_requests:P.special_requests||null,status:"pending"}]);if(X)throw X;U("success","Votre rservation a t envoye avec succs ! Le restaurant vous contactera pour confirmer."),M({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{p(!1),C(null)},3e3)}catch(G){console.error("Erreur lors de la rservation:",G),U("error","Erreur lors de l'envoi de la rservation. Veuillez ressayer.")}finally{E(!1)}},fe=(A,G,X)=>{var xe;const R=n.find(ue=>ue.id===A);return R&&R.default_language===G?X:((xe=_[A])==null?void 0:xe[G])||X},pe=(A,G)=>{var R;const X=n.find(xe=>xe.id===A);return X&&X.default_language===G?!0:!!((R=_[A])!=null&&R[G])};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx(Ni,{size:"lg"})}):t?m?o.jsxs("div",{className:"min-h-screen pb-20",style:{backgroundColor:t.background_color||"#f9fafb"},dir:i==="ar"?"rtl":"ltr",children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 border-b border-gray-200 shadow-sm",style:{backgroundColor:t.background_color||"#ffffff"},children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 md:px-4 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",children:[o.jsx(rr,{size:18}),o.jsx("span",{className:"text-sm md:text-sm font-medium",children:Wr($,"reserve","Rserver")})]}),o.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[g.length>1&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Yg,{size:18}),o.jsx("span",{className:"text-xl",children:((De=rn[i])==null?void 0:De.flag)||""}),o.jsx("span",{className:"text-sm font-medium",children:((ie=rn[i])==null?void 0:ie.name)||i}),o.jsx(sl,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(A=>{var G,X;return o.jsx("button",{onClick:()=>{s(A),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${i===A?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(G=rn[A])==null?void 0:G.flag}),o.jsx("span",{className:"text-sm",children:(X=rn[A])==null?void 0:X.name})]}),i===A&&o.jsx(ze,{size:16})]})},A)})})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[t.telephone&&o.jsx("a",{href:`tel:${t.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${t.telephone}`,children:o.jsx(Sr,{size:20})}),t.whatsapp&&o.jsx("a",{href:L(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${t.whatsapp}`,children:o.jsx(mi,{size:20})}),t.instagram&&o.jsx("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(Sa,{size:20})}),t.facebook&&o.jsx("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(Na,{size:20})}),t.tiktok&&o.jsx("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[g.length>1&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((zt=rn[i])==null?void 0:zt.flag)||""}),o.jsx(sl,{size:16})]}),l&&o.jsx("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:g.map(A=>{var G,X;return o.jsx("button",{onClick:()=>{s(A),c(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${A===i?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(G=rn[A])==null?void 0:G.flag}),o.jsx("span",{className:"text-sm",children:(X=rn[A])==null?void 0:X.name})]}),i===A&&o.jsx(ze,{size:16})]})},A)})})]}),(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"hamburger-menu-container",children:o.jsx("button",{onClick:A=>{A.stopPropagation(),w(!x)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Pu,{size:24,className:"text-black"})})})]}),x&&(t.telephone||t.whatsapp||t.instagram||t.facebook||t.tiktok)&&o.jsxs("div",{className:"hamburger-menu-container absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[t.telephone&&o.jsxs("a",{href:`tel:${t.telephone}`,className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Sr,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Tlphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.telephone})]})]}),t.whatsapp&&o.jsxs("a",{href:L(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(mi,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:t.whatsapp})]})]}),t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Sa,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Na,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Suivez-nous"})]})]})]})]})]})}),o.jsxs("div",{className:"pt-16",children:[o.jsx("div",{className:"h-48 flex items-center justify-center overflow-hidden",style:{backgroundColor:t.hero_background_color||"#f3f4f6"},"data-hero-color":t.hero_background_color,children:t.logo_url?o.jsx("div",{className:"flex items-center justify-center h-full px-4",children:o.jsx("img",{src:t.logo_url,alt:t.restaurant_name,className:"max-h-32 max-w-full object-contain"})}):t.banner_url?o.jsx("img",{src:t.banner_url,alt:t.restaurant_name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"text-center px-4",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.restaurant_name})})}),o.jsx("div",{className:"px-4 py-6",children:(t.description||t.address||t.hours)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-5 mb-6",children:[t.description&&o.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.description}),o.jsxs("div",{className:"space-y-2",children:[t.address&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(bs,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.address})]}),t.hours&&o.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[o.jsx(xs,{size:16,className:"flex-shrink-0 mt-0.5"}),o.jsx("span",{children:t.hours})]})]})]})}),o.jsxs("div",{className:"px-4 py-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:Wr($,"our_menus","Nos Menus")}),B.length===0?o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[o.jsx(Pu,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600",children:Wr($,"no_menus_available","Aucun menu disponible pour le moment.")})]}):o.jsx("div",{className:"space-y-3",children:B.map(A=>{var be,qe;const G=O(A),X=G.slug.split("/").pop(),R=fe(G.id,i,A.menu_name),xe=pe(G.id,i),ue=G.default_language||"fr";return o.jsx(at,{to:`/m/${e}/${X}?lang=${i}`,className:"block bg-white rounded-lg shadow-sm border-2 border-gray-200 hover:border-orange-500 transition-all p-5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R}),!xe&&o.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200",children:[((be=rn[ue])==null?void 0:be.flag)||""," ",((qe=rn[ue])==null?void 0:qe.name)||ue.toUpperCase()]})]}),A.description&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:A.description})]}),o.jsx(Kg,{className:"flex-shrink-0 ml-3 text-gray-400",size:20})]})},A.menu_name)})})]}),t.google_business_url&&o.jsx("div",{className:"px-4 mb-6",children:o.jsx(a5,{googleBusinessUrl:t.google_business_url,selectedLanguage:i,translations:$})})]}),o.jsx(i5,{restaurant:t,selectedLanguage:i,translations:$}),b&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:Wr($,"book_table","Rserver une table")}),o.jsx("button",{onClick:()=>{p(!1),C(null)},className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Oe,{size:20})})]})}),S&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${S.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[S.type==="success"?o.jsx(ze,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Oe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:S.text})]}),o.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:P.customer_name,onChange:A=>M(G=>({...G,customer_name:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone *"}),o.jsx("input",{type:"tel",value:P.customer_phone,onChange:A=>M(G=>({...G,customer_phone:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:P.reservation_date,onChange:A=>M(G=>({...G,reservation_date:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:q(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:P.reservation_time,onChange:A=>M(G=>({...G,reservation_time:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:P.party_size,onChange:A=>M(G=>({...G,party_size:parseInt(A.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(A=>o.jsxs("option",{value:A,children:[A," personne",A>1?"s":""]},A))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spciales (optionnel)"}),o.jsx("textarea",{value:P.special_requests,onChange:A=>M(G=>({...G,special_requests:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, prfrences de table, occasion spciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>{p(!1),C(null)},className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center space-x-2",children:k?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(rr,{className:"w-5 h-5"}),o.jsx("span",{children:"Rserver"})]})})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(H_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:t.restaurant_name}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:f&&o.jsx("img",{src:f,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Dcouvrez notre menu interactif"})]})]}),t.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:t.description})}),(t.address||t.telephone||t.hours)&&o.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-600",children:[t.address&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(bs,{size:16}),o.jsx("span",{children:t.address})]}),t.telephone&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(Sr,{size:16}),o.jsx("span",{children:t.telephone})]}),t.hours&&o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(xs,{size:16}),o.jsx("span",{children:t.hours})]})]})]})})}):o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:"Ce restaurant n'existe pas ou a t dsactiv."})]})})}const mr={fr:{name:"Franais",flag:"",rtl:!1},en:{name:"English",flag:"",rtl:!1},es:{name:"Espaol",flag:"",rtl:!1},de:{name:"Deutsch",flag:"",rtl:!1},it:{name:"Italiano",flag:"",rtl:!1},pt:{name:"Portugus",flag:"",rtl:!1},ar:{name:"",flag:"",rtl:!0},zh:{name:"",flag:"",rtl:!1},ja:{name:"",flag:"",rtl:!1},ru:{name:"",flag:"",rtl:!1},nl:{name:"Nederlands",flag:"",rtl:!1}},u5=()=>{var T,ae,Z,H,J,oe,we,Qt;const e=Xr(),{slug:t,menuSlug:r}=ki(),[n,a]=v.useState(null),[i,s]=v.useState([]),[l,c]=v.useState({}),[u,d]=v.useState(!0),[f,h]=v.useState(null),[m,y]=v.useState(""),[x,w]=v.useState(!1),[b,p]=v.useState([]),[g,j]=v.useState(null),[_,N]=v.useState(""),[k,E]=v.useState(!1),[S,C]=v.useState(!1),[P,M]=v.useState(!1),[$,I]=v.useState(!1),[W,Q]=v.useState(""),[Y,B]=v.useState([]),[O,L]=v.useState({}),[U,q]=v.useState({}),[ce,fe]=v.useState(""),[pe,De]=v.useState(!1),[ie,zt]=v.useState(!1),[A,G]=v.useState(null),[X,R]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),xe=v.useRef({}),ue=v.useRef(null),be=v.useRef({});v.useEffect(()=>{const z=()=>{E(window.innerWidth<768)};return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]),v.useEffect(()=>{t&&r&&(kt(),qe())},[t,r]),v.useEffect(()=>{n&&W&&Jn(W)},[W,n,i,l]);const qe=async()=>{try{const z=window.location.href,ee=await Ma.toDataURL(z,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});N(ee)}catch(z){console.error("Error generating QR code:",z)}};v.useEffect(()=>{if(n&&!x){const ee=new URLSearchParams(window.location.search).get("ref");let V="direct_link";ee==="qr"?V="qr_scan":ee==="gmb"&&(V="gmb"),h3(n.id,V),w(!0)}},[n,x]),v.useEffect(()=>{i.length>0&&!m&&y(i[0].id)},[i]),v.useEffect(()=>{if(m&&be.current[m]&&ue.current){const z=be.current[m],ee=ue.current;z.getBoundingClientRect(),ee.getBoundingClientRect();const V=z.offsetLeft,Ze=z.offsetWidth,Ve=ee.scrollLeft,Ye=ee.offsetWidth;V<Ve?ee.scrollTo({left:V-20,behavior:"smooth"}):V+Ze>Ve+Ye&&ee.scrollTo({left:V+Ze-Ye+20,behavior:"smooth"})}},[m]);const kt=async()=>{if(!t||!r){h("Paramtres manquants"),d(!1);return}try{const{data:z,error:ee}=await F.from("restaurant_profiles").select("*").eq("slug",t).maybeSingle();if(ee||!z){h("Restaurant non trouv"),d(!1);return}j(z);const{data:V,error:Ze}=await F.from("menus").select("*").eq("user_id",z.user_id).eq("actif",!0).eq("status","published");if(Ze){h("Erreur lors du chargement des menus"),d(!1);return}p(V||[]);const Ve=V==null?void 0:V.find(Ye=>Ye.slug.split("/").pop()===r);if(!Ve){h("Menu non trouv"),d(!1);return}a(Ve),await vn(Ve.id,Ve)}catch{h("Erreur lors du chargement du menu")}finally{d(!1)}},vn=async(z,ee)=>{try{const{data:V,error:Ze}=await F.from("categories").select("*").eq("menu_id",z).eq("actif",!0).order("ordre",{ascending:!0});if(Ze)throw Ze;if(s(V||[]),V&&V.length>0){const{data:Ye,error:ke}=await F.from("menu_items").select("*").in("category_id",V.map($r=>$r.id)).eq("disponible",!0).order("ordre",{ascending:!0});if(ke)throw ke;const At={};V.forEach($r=>{At[$r.id]=(Ye==null?void 0:Ye.filter(Zs=>Zs.category_id===$r.id))||[]}),c(At)}const{data:Ve}=await F.from("menu_languages").select("*").eq("menu_id",z);if(B(Ve||[]),!W){const ke=new URLSearchParams(window.location.search).get("lang");if(ke){const At=Ve==null?void 0:Ve.some(Zs=>Zs.language_code===ke),$r=ke===ee.default_language;if(At||$r){Q(ke);return}}Q(ee.default_language||"fr")}}catch(V){console.error("Erreur lors du chargement du contenu:",V)}},Jn=async z=>{if(!n||!z||z===(n.default_language||"fr")){L({}),q({}),fe((n==null?void 0:n.menu_name)||"");return}try{const ee=Y.find(ke=>ke.language_code===z);ee!=null&&ee.menu_title?fe(ee.menu_title):fe(n.menu_name||"");const V=i.map(ke=>ke.id),{data:Ze}=await F.from("category_translations").select("*").in("category_id",V).eq("language_code",z),Ve={};Ze==null||Ze.forEach(ke=>{Ve[ke.category_id]=ke}),L(Ve);const Ye=[];if(Object.values(l).forEach(ke=>{ke.forEach(At=>Ye.push(At.id))}),Ye.length>0){const{data:ke}=await F.from("menu_item_translations").select("*").in("menu_item_id",Ye).eq("language_code",z),At={};ke==null||ke.forEach($r=>{At[$r.menu_item_id]=$r}),q(At)}}catch(ee){console.error("Error loading translations:",ee)}},Ut=z=>{y(z);const ee=xe.current[z];if(ee){const Ze=ee.offsetTop-140;window.scrollTo({top:Ze,behavior:"smooth"})}};v.useEffect(()=>{const z=()=>{const ee=window.scrollY+250;let V="",Ze=1/0;for(const Ve of i){const Ye=xe.current[Ve.id];if(Ye){const ke=Ye.offsetTop,At=ke+Ye.offsetHeight,$r=Math.max(ke,ee-150),Zs=Math.min(At,ee+200),yC=Math.max(0,Zs-$r),xC=At-ke;if(yC/Math.min(xC,350)>.4){V=Ve.id;break}const kf=ke-ee;kf>0&&kf<Ze&&(Ze=kf,V=Ve.id)}}if(!V){Ze=1/0;for(const Ve of i){const Ye=xe.current[Ve.id];if(Ye){const ke=Ye.offsetTop,At=Math.abs(ke-ee);At<Ze&&(Ze=At,V=Ve.id)}}}V&&V!==m&&y(V)};return window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)},[i,m]),v.useEffect(()=>{const z=ee=>{const V=ee.target;S&&!V.closest(".hamburger-menu-container")&&C(!1),$&&!V.closest(".language-selector-container")&&I(!1),P&&!V.closest(".menu-selector-container")&&M(!1)};return document.addEventListener("mousedown",z),()=>document.removeEventListener("mousedown",z)},[S,$,P]);const Xl=z=>{const ee=z.replace(/\D/g,"");return`https://wa.me/${ee.startsWith("33")?ee:`33${ee.substring(1)}`}`},Xs=(z,ee)=>{G({type:z,text:ee}),setTimeout(()=>G(null),5e3)},Zl=async z=>{if(z.preventDefault(),!X.customer_name.trim()||!X.customer_phone.trim()||!X.reservation_date||!X.reservation_time){Xs("error","Veuillez remplir tous les champs obligatoires");return}zt(!0);try{const{error:ee}=await F.from("reservations").insert([{menu_id:n.id,customer_name:X.customer_name,customer_email:null,customer_phone:X.customer_phone,party_size:X.party_size,reservation_date:X.reservation_date,reservation_time:X.reservation_time,special_requests:X.special_requests||null,status:"pending"}]);if(ee)throw ee;Xs("success","Votre rservation a t envoye avec succs ! Le restaurant vous contactera pour confirmer."),R({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""}),setTimeout(()=>{De(!1)},3e3)}catch(ee){console.error("Erreur lors de la rservation:",ee),Xs("error","Erreur lors de l'envoi de la rservation. Veuillez ressayer.")}finally{zt(!1)}},ec=()=>{const z=new Date;return z.setDate(z.getDate()+1),z.toISOString().split("T")[0]},We=()=>{var z;return((z=mr[W])==null?void 0:z.rtl)||!1};return u?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement du menu..."})]})}):f||!n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ln,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Menu non trouv"}),o.jsx("p",{className:"text-gray-600",children:f||"Ce menu n'existe pas ou n'est pas disponible."})]})}):k?o.jsxs("div",{className:"min-h-screen",dir:We()?"rtl":"ltr",style:{backgroundColor:n.couleur_fond,color:n.couleur_texte},children:[o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"h-16 flex items-center justify-between px-4",children:[o.jsx("h1",{className:"text-xl font-bold truncate cursor-pointer hover:opacity-80 transition-opacity",style:{color:"#000000"},onClick:()=>e(`/m/${t}`),children:n.nom}),o.jsxs("div",{className:`hidden lg:flex items-center ${We()?"space-x-reverse":""} space-x-2`,children:[Y.length>0&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>{I(!$)},className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx(Yg,{size:18}),o.jsx("span",{className:"text-xl",children:((T=mr[W])==null?void 0:T.flag)||""}),o.jsx("span",{className:"text-sm font-medium",children:((ae=mr[W])==null?void 0:ae.name)||W}),o.jsx(sl,{size:16})]}),$&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{Q(n.default_language||"fr"),I(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${W===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(Z=mr[n.default_language||"fr"])==null?void 0:Z.flag}),o.jsx("span",{className:"text-sm",children:(H=mr[n.default_language||"fr"])==null?void 0:H.name})]}),W===n.default_language&&o.jsx(ze,{size:16})]})}),Y.map(z=>{var ee,V;return o.jsx("button",{onClick:()=>{Q(z.language_code),I(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${W===z.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((ee=mr[z.language_code])==null?void 0:ee.flag)||""}),o.jsx("span",{className:"text-sm",children:((V=mr[z.language_code])==null?void 0:V.name)||z.language_code})]}),W===z.language_code&&o.jsx(ze,{size:16})]})},z.id)})]})]}),o.jsx("div",{className:"w-px h-6 bg-gray-300"}),o.jsxs("div",{className:`flex items-center ${We()?"space-x-reverse":""} space-x-2`,children:[(g==null?void 0:g.telephone)&&o.jsx("a",{href:`tel:${g==null?void 0:g.telephone}`,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:`Appeler ${g==null?void 0:g.telephone}`,children:o.jsx(Sr,{size:20})}),(g==null?void 0:g.whatsapp)&&o.jsx("a",{href:Xl(g==null?void 0:g.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:`WhatsApp ${g==null?void 0:g.whatsapp}`,children:o.jsx(mi,{size:20})}),(g==null?void 0:g.instagram)&&o.jsx("a",{href:g==null?void 0:g.instagram,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-pink-600 hover:bg-pink-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Instagram",children:o.jsx(Sa,{size:20})}),(g==null?void 0:g.facebook)&&o.jsx("a",{href:g==null?void 0:g.facebook,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Suivez-nous sur Facebook",children:o.jsx(Na,{size:20})}),(g==null?void 0:g.tiktok)&&o.jsx("a",{href:g==null?void 0:g.tiktok,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",title:"Suivez-nous sur TikTok",children:o.jsx("div",{className:"w-5 h-5 bg-black rounded flex items-center justify-center",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})})})]})]}),o.jsxs("div",{className:`lg:hidden flex items-center ${We()?"space-x-reverse":""} space-x-2`,children:[o.jsxs("button",{onClick:()=>De(!0),className:"flex items-center gap-2 px-3 py-2 bg-orange-600 text-white rounded-lg shadow-sm hover:bg-orange-700 transition-all",style:{backgroundColor:n.couleur_primaire},children:[o.jsx(rr,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Rserver"})]}),Y.length>0&&o.jsxs("div",{className:"relative language-selector-container",children:[o.jsxs("button",{onClick:()=>{I(!$)},className:"flex items-center gap-1.5 px-2.5 py-1.5 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[o.jsx("span",{className:"text-xl",children:((J=mr[W])==null?void 0:J.flag)||""}),o.jsx(sl,{size:16})]}),$&&o.jsxs("div",{className:"absolute top-full right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50",children:[o.jsx("button",{onClick:()=>{Q(n.default_language||"fr"),I(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${W===n.default_language?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:(oe=mr[n.default_language||"fr"])==null?void 0:oe.flag}),o.jsx("span",{className:"text-sm",children:(we=mr[n.default_language||"fr"])==null?void 0:we.name})]}),W===n.default_language&&o.jsx(ze,{size:16})]})}),Y.map(z=>{var ee,V;return o.jsx("button",{onClick:()=>{Q(z.language_code),I(!1)},className:`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors ${W===z.language_code?"bg-orange-50 text-orange-700":"text-gray-700"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl",children:((ee=mr[z.language_code])==null?void 0:ee.flag)||""}),o.jsx("span",{className:"text-sm",children:((V=mr[z.language_code])==null?void 0:V.name)||z.language_code})]}),W===z.language_code&&o.jsx(ze,{size:16})]})},z.id)})]})]}),((g==null?void 0:g.telephone)||(g==null?void 0:g.whatsapp)||(g==null?void 0:g.instagram)||(g==null?void 0:g.facebook)||(g==null?void 0:g.tiktok))&&o.jsx("div",{className:"hamburger-menu-container",children:o.jsx("button",{onClick:z=>{z.stopPropagation(),C(!S)},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:o.jsx(Pu,{size:24,className:"text-black"})})})]}),S&&((g==null?void 0:g.telephone)||(g==null?void 0:g.whatsapp)||(g==null?void 0:g.instagram)||(g==null?void 0:g.facebook)||(g==null?void 0:g.tiktok))&&o.jsxs("div",{className:"hamburger-menu-container absolute top-full left-0 right-0 w-full bg-white shadow-xl border-b border-gray-200 z-50 md:left-auto md:right-0 md:w-80 md:border-l",children:[o.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:o.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Nous contacter"})}),o.jsxs("div",{className:"py-1",children:[(g==null?void 0:g.telephone)&&o.jsxs("a",{href:`tel:${g==null?void 0:g.telephone}`,className:`flex items-center ${We()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Sr,{size:18,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Tlphone"}),o.jsx("div",{className:"text-sm text-gray-600",children:g==null?void 0:g.telephone})]})]}),(g==null?void 0:g.whatsapp)&&o.jsxs("a",{href:Xl(g==null?void 0:g.whatsapp),target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${We()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(mi,{size:18,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"WhatsApp"}),o.jsx("div",{className:"text-sm text-gray-600",children:g==null?void 0:g.whatsapp})]})]}),(g==null?void 0:g.instagram)&&o.jsxs("a",{href:g==null?void 0:g.instagram,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${We()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-pink-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Sa,{size:18,className:"text-pink-600"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Instagram"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",g==null?void 0:g.instagram.split("/").pop()]})]})]}),(g==null?void 0:g.facebook)&&o.jsxs("a",{href:g==null?void 0:g.facebook,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${We()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Na,{size:18,className:"text-blue-700"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"Facebook"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Voir la page"})]})]}),(g==null?void 0:g.tiktok)&&o.jsxs("a",{href:g==null?void 0:g.tiktok,target:"_blank",rel:"noopener noreferrer",className:`flex items-center ${We()?"space-x-reverse":""} space-x-4 px-4 py-4 text-gray-700 hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 border-b border-gray-50`,children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:"TikTok"}),o.jsxs("div",{className:"text-sm text-gray-600",children:["@",(Qt=g==null?void 0:g.tiktok.split("/").pop())==null?void 0:Qt.replace("@","")]})]})]}),!(g!=null&&g.telephone)&&!(g!=null&&g.whatsapp)&&!(g!=null&&g.instagram)&&!(g!=null&&g.facebook)&&!(g!=null&&g.tiktok)&&o.jsx("div",{className:"px-4 py-8 text-gray-500 text-center",children:"Aucune information de contact configure"})]})]})]})}),n.banniere_url&&o.jsx("div",{className:"h-64 md:h-56 lg:hidden relative mt-16 overflow-hidden",style:{backgroundColor:n.couleur_primaire},children:o.jsx("img",{src:n.banniere_url,alt:"Bannire du restaurant",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"px-4 lg:pt-20",children:[i.length>0&&o.jsx("div",{className:"sticky top-16 bg-white z-20 -mx-4 px-4 py-3 mb-8 border-b border-gray-200 shadow-sm lg:hidden",children:o.jsx("div",{ref:ue,className:`flex ${We()?"space-x-reverse":""} space-x-8 overflow-x-auto scrollbar-hide items-center`,style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:i.map(z=>o.jsx("button",{ref:ee=>be.current[z.id]=ee,onClick:()=>Ut(z.id),className:`whitespace-nowrap font-semibold text-base py-2 border-b-3 transition-all duration-300 ${m===z.id?"border-current":"border-transparent text-gray-600"}`,style:{color:m===z.id?n.couleur_primaire:void 0,borderColor:m===z.id?n.couleur_primaire:void 0},children:W!==(n.default_language||"fr")&&O[z.id]?O[z.id].nom:z.nom},z.id))})}),o.jsx("div",{className:"hidden lg:block mb-8",children:o.jsx("div",{className:"text-center",children:o.jsxs("button",{onClick:()=>De(!0),className:`bg-orange-600 text-white px-8 py-4 rounded-xl shadow-lg hover:bg-orange-700 transition-colors flex items-center ${We()?"space-x-reverse":""} space-x-3 font-medium text-lg mx-auto`,style:{backgroundColor:n.couleur_primaire},children:[o.jsx(rr,{size:24}),o.jsx("span",{children:"Rserver une table"})]})})}),o.jsxs("div",{className:"lg:grid lg:grid-cols-[280px_1fr] lg:gap-8 lg:items-start",children:[i.length>0&&o.jsx("div",{className:"hidden lg:block lg:sticky lg:top-20 lg:self-start",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[o.jsx("div",{className:"px-6 py-4 text-white text-center font-bold text-lg",style:{backgroundColor:n.couleur_primaire},children:"Notre Menu"}),o.jsx("nav",{className:"py-2",children:i.map(z=>{const ee=l[z.id]||[];return ee.length===0?null:o.jsxs("button",{onClick:()=>Ut(z.id),className:`w-full text-left px-6 py-4 transition-all duration-200 border-l-4 ${m===z.id?"bg-gray-50 border-current font-semibold":"border-transparent hover:bg-gray-50 hover:border-gray-200"}`,style:{color:m===z.id?n.couleur_primaire:n.couleur_texte,borderColor:m===z.id?n.couleur_primaire:void 0},children:[o.jsx("div",{className:"font-medium text-base",children:z.nom}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[ee.length," plat",ee.length>1?"s":""]})]},z.id)})})]})}),o.jsx("div",{className:"lg:min-h-screen",children:i.length===0?o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-8 mb-8 mx-4 lg:mx-0",children:o.jsxs("div",{className:"text-center py-16 border-2 border-dashed rounded-xl",style:{borderColor:n.couleur_primaire+"40"},children:[o.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:n.couleur_secondaire},children:"Menu en cours de cration"}),o.jsxs("p",{className:"text-gray-600 text-lg",children:["Le propritaire de ce restaurant configure actuellement son menu.",o.jsx("br",{}),"Revenez bientt pour dcouvrir nos dlicieux plats !"]})]})}):o.jsx("div",{className:"space-y-8 lg:space-y-12 mb-8",children:i.map(z=>{const ee=l[z.id]||[];return ee.length===0?null:o.jsxs("div",{ref:V=>xe.current[z.id]=V,className:"bg-white shadow-lg lg:shadow-xl lg:rounded-2xl lg:overflow-hidden mx-4 lg:mx-0",children:[o.jsxs("div",{className:"px-6 py-6 lg:px-8 lg:py-8 border-b border-gray-100 lg:text-center",style:{backgroundColor:n.couleur_primaire+"10"},children:[o.jsx("h2",{className:"text-2xl lg:text-3xl font-bold",style:{color:n.couleur_secondaire},children:W!==(n.default_language||"fr")&&O[z.id]?O[z.id].nom:z.nom}),z.description&&o.jsx("p",{className:"text-base lg:text-lg text-gray-600 mt-2",children:z.description}),o.jsx("div",{className:"hidden lg:block w-16 h-1 bg-current mx-auto mt-4 rounded-full",style:{backgroundColor:n.couleur_primaire}})]}),o.jsxs("div",{className:"lg:p-8 lg:grid lg:grid-cols-1 xl:grid-cols-2 2xl:grid-cols-3 lg:gap-6",children:[o.jsx("div",{className:"lg:hidden",children:ee.map(V=>o.jsx("div",{className:"px-4 py-6 border-b border-gray-100 last:border-b-0",children:o.jsxs("div",{className:`flex items-start ${We()?"space-x-reverse":""} space-x-4`,children:[V.image_url&&o.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden flex-shrink-0 bg-gray-100",children:o.jsx("img",{src:V.image_url,alt:V.nom,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:`flex-1 ${We()?"pl-2":"pr-2"}`,children:[o.jsx("h3",{className:"font-bold text-lg leading-tight",style:{color:n.couleur_secondaire},children:W!==(n.default_language||"fr")&&U[V.id]?U[V.id].nom:V.nom}),o.jsxs("div",{className:`flex items-center ${We()?"space-x-reverse":""} space-x-1 mt-1`,children:[V.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-700 p-1 rounded-full",title:"Vgtarien",children:o.jsx(na,{className:"w-3 h-3"})}),V.vegan&&o.jsx("span",{className:"bg-green-200 text-green-800 p-1 rounded-full",title:"Vegan",children:o.jsx(na,{className:"w-3 h-3"})}),V.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-xs font-medium",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-red-100 text-red-700 p-1 rounded-full",title:"pic",children:o.jsx(Xc,{className:"w-3 h-3"})})]})]}),o.jsxs("span",{className:`text-xl font-bold flex-shrink-0 ${We()?"mr-2":"ml-2"}`,style:{color:n.couleur_primaire},children:[V.prix.toFixed(2)," ",n.currency_symbol||""]})]}),(W!==(n.default_language||"fr")&&U[V.id]?U[V.id].description:V.description)&&o.jsx("p",{className:"text-sm text-gray-600 mb-3 leading-relaxed",children:W!==(n.default_language||"fr")&&U[V.id]?U[V.id].description:V.description}),V.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded",children:["Allergnes: ",V.allergenes.join(", ")]})]})]})},V.id))}),ee.map(V=>o.jsx("div",{className:"hidden lg:block",children:o.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group h-full flex flex-col",children:[V.image_url&&o.jsxs("div",{className:"aspect-video bg-gray-100 overflow-hidden relative",children:[o.jsx("img",{src:V.image_url,alt:V.nom,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),o.jsxs("div",{className:`absolute top-3 ${We()?"right-3":"left-3"} flex ${We()?"space-x-reverse":""} space-x-1`,children:[V.vegetarien&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-600 p-1.5 rounded-full shadow-sm",title:"Vgtarien",children:o.jsx(na,{className:"w-4 h-4"})}),V.vegan&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-green-700 p-1.5 rounded-full shadow-sm",title:"Vegan",children:o.jsx(na,{className:"w-4 h-4"})}),V.sans_gluten&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-blue-600 px-2 py-1 rounded-full text-xs font-bold shadow-sm",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-white/90 backdrop-blur-sm text-red-600 p-1.5 rounded-full shadow-sm",title:"pic",children:o.jsx(Xc,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[!V.image_url&&(V.vegetarien||V.vegan||V.sans_gluten||V.epice)&&o.jsxs("div",{className:`flex ${We()?"space-x-reverse":""} space-x-1 mb-3`,children:[V.vegetarien&&o.jsx("span",{className:"bg-green-100 text-green-600 p-1.5 rounded-full",title:"Vgtarien",children:o.jsx(na,{className:"w-4 h-4"})}),V.vegan&&o.jsx("span",{className:"bg-green-200 text-green-700 p-1.5 rounded-full",title:"Vegan",children:o.jsx(na,{className:"w-4 h-4"})}),V.sans_gluten&&o.jsx("span",{className:"bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs font-bold",children:"SG"}),V.epice&&o.jsx("span",{className:"bg-red-100 text-red-600 p-1.5 rounded-full",title:"pic",children:o.jsx(Xc,{className:"w-4 h-4"})})]}),o.jsx("h3",{className:"text-xl font-bold mb-2 group-hover:text-current transition-colors",style:{color:n.couleur_secondaire},children:W!==(n.default_language||"fr")&&U[V.id]?U[V.id].nom:V.nom}),(W!==(n.default_language||"fr")&&U[V.id]?U[V.id].description:V.description)&&o.jsx("p",{className:"text-gray-600 text-sm mb-4 flex-1 line-clamp-3",children:W!==(n.default_language||"fr")&&U[V.id]?U[V.id].description:V.description}),V.allergenes.length>0&&o.jsxs("p",{className:"text-xs text-gray-500 mb-4 bg-gray-50 px-3 py-1 rounded-lg",children:["Allergnes: ",V.allergenes.join(", ")]}),o.jsx("div",{className:"flex items-center pt-4 border-t border-gray-100",children:o.jsxs("span",{className:"text-2xl font-bold",style:{color:n.couleur_primaire},children:[V.prix.toFixed(2)," "]})})]})]})},V.id))]})]},z.id)})})})]}),(n.afficher_powered_by||n.lien_cloudmenu)&&o.jsxs("footer",{className:"text-center py-8 border-t border-gray-200 bg-gray-50 mx-4 lg:mx-0 lg:rounded-t-2xl",children:[n.afficher_powered_by&&o.jsx("p",{className:"text-base text-gray-500 mb-3",children:"Propuls par CloudMenu"}),n.lien_cloudmenu&&o.jsx("a",{href:"https://cloudmenu.com",target:"_blank",rel:"noopener noreferrer",className:"text-base hover:underline",style:{color:n.couleur_primaire},children:"Crer mon menu gratuitement avec CloudMenu"})]})]}),pe&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Rserver une table"}),o.jsx("button",{onClick:()=>De(!1),className:"text-gray-500 hover:text-gray-700 p-2 rounded-lg hover:bg-gray-100",children:o.jsx(Oe,{size:20})})]})}),A&&o.jsxs("div",{className:`mx-6 mt-4 p-4 rounded-lg flex items-start space-x-2 ${A.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[A.type==="success"?o.jsx(ze,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Oe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:A.text})]}),o.jsxs("form",{onSubmit:Zl,className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:X.customer_name,onChange:z=>R(ee=>({...ee,customer_name:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone *"}),o.jsx("input",{type:"tel",value:X.customer_phone,onChange:z=>R(ee=>({...ee,customer_phone:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:X.reservation_date,onChange:z=>R(ee=>({...ee,reservation_date:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},min:ec(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:X.reservation_time,onChange:z=>R(ee=>({...ee,reservation_time:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white text-base [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-date-and-time-value]:text-left",style:{colorScheme:"light"},required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:X.party_size,onChange:z=>R(ee=>({...ee,party_size:parseInt(z.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(z=>o.jsxs("option",{value:z,children:[z," personne",z>1?"s":""]},z))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spciales (optionnel)"}),o.jsx("textarea",{value:X.special_requests,onChange:z=>R(ee=>({...ee,special_requests:z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 bg-white resize-none",rows:3,placeholder:"Allergies, prfrences de table, occasion spciale..."})]}),o.jsxs("div",{className:"flex space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:()=>De(!1),className:"flex-1 px-4 py-3 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Annuler"}),o.jsx("button",{type:"submit",disabled:ie,className:`flex-1 px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium flex items-center justify-center ${We()?"space-x-reverse":""} space-x-2`,style:{backgroundColor:n.couleur_primaire},children:ie?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(rr,{className:"w-5 h-5"}),o.jsx("span",{children:"Rserver"})]})})]})]})]})})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50 flex items-center justify-center p-8",children:o.jsx("div",{className:"max-w-2xl w-full",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-12 text-center",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full mb-6",children:o.jsx(H_,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:(g==null?void 0:g.restaurant_name)||n.nom}),o.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:ce||n.menu_name||n.nom}),o.jsx("p",{className:"text-xl text-gray-600 mb-2",children:"Menu Digital Interactif"}),o.jsx("p",{className:"text-gray-500",children:"Scannez le QR code avec votre smartphone"})]}),o.jsx("div",{className:"bg-white p-8 rounded-xl border-2 border-gray-200 inline-block mb-8",children:_&&o.jsx("img",{src:_,alt:"QR Code",className:"w-64 h-64"})}),o.jsxs("div",{className:"space-y-3 text-left max-w-md mx-auto",children:[o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"1"}),o.jsx("p",{children:"Ouvrez l'appareil photo de votre smartphone"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"2"}),o.jsx("p",{children:"Pointez vers le QR code ci-dessus"})]}),o.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-semibold",children:"3"}),o.jsx("p",{children:"Dcouvrez notre menu interactif"})]})]}),n.description&&o.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200",children:o.jsx("p",{className:"text-gray-600",children:n.description})})]})})})},d5=()=>{const{slug:e}=ki(),[t,r]=v.useState(null),[n,a]=v.useState(!0),[i,s]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""});v.useEffect(()=>{m()},[e]);const m=async()=>{if(!e){s("Slug manquant"),a(!1);return}try{const{data:b,error:p}=await F.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(p){s("Erreur lors du chargement du menu");return}if(!b){s("Restaurant non trouv");return}r(b)}catch{s("Erreur lors du chargement du menu")}finally{a(!1)}},y=(b,p)=>{d({type:b,text:p}),setTimeout(()=>d(null),5e3)},x=async b=>{if(b.preventDefault(),!f.customer_name.trim()||!f.customer_phone.trim()||!f.reservation_date||!f.reservation_time){y("error","Veuillez remplir tous les champs obligatoires");return}c(!0);try{const{error:p}=await F.from("reservations").insert([{menu_id:t.id,customer_name:f.customer_name,customer_email:f.customer_email||null,customer_phone:f.customer_phone,party_size:f.party_size,reservation_date:f.reservation_date,reservation_time:f.reservation_time,special_requests:f.special_requests||null,status:"pending"}]);if(p)throw p;y("success","Votre rservation a t envoye avec succs ! Le restaurant vous contactera pour confirmer."),h({customer_name:"",customer_email:"",customer_phone:"",party_size:2,reservation_date:"",reservation_time:"",special_requests:""})}catch(p){console.error("Erreur lors de la rservation:",p),y("error","Erreur lors de l'envoi de la rservation. Veuillez ressayer.")}finally{c(!1)}},w=()=>{const b=new Date;return b.setDate(b.getDate()+1),b.toISOString().split("T")[0]};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):i||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ln,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:i||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[o.jsxs(at,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Al,{size:20}),o.jsx("span",{children:"Retour  l'accueil"})]}),o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Rserver une table"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),u&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-start space-x-2 ${u.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[u.type==="success"?o.jsx(ze,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}):o.jsx(Oe,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"text-sm",children:u.text})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet *"}),o.jsx("input",{type:"text",value:f.customer_name,onChange:b=>h(p=>({...p,customer_name:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"Votre nom",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tlphone *"}),o.jsx("input",{type:"tel",value:f.customer_phone,onChange:b=>h(p=>({...p,customer_phone:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"06 12 34 56 78",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (optionnel)"}),o.jsx("input",{type:"email",value:f.customer_email,onChange:b=>h(p=>({...p,customer_email:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",placeholder:"votre@email.com"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),o.jsx("input",{type:"date",value:f.reservation_date,onChange:b=>h(p=>({...p,reservation_date:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",min:w(),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure *"}),o.jsx("input",{type:"time",value:f.reservation_time,onChange:b=>h(p=>({...p,reservation_time:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de personnes *"}),o.jsx("select",{value:f.party_size,onChange:b=>h(p=>({...p,party_size:parseInt(b.target.value)})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",required:!0,children:[1,2,3,4,5,6,7,8,9,10].map(b=>o.jsxs("option",{value:b,children:[b," personne",b>1?"s":""]},b))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Demandes spciales (optionnel)"}),o.jsx("textarea",{value:f.special_requests,onChange:b=>h(p=>({...p,special_requests:b.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",rows:4,placeholder:"Allergies, prfrences de table, occasion spciale..."})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full py-4 px-6 rounded-lg text-white font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center space-x-2",style:{backgroundColor:t.couleur_primaire},children:l?o.jsx(ve,{className:"w-5 h-5 animate-spin"}):o.jsxs(o.Fragment,{children:[o.jsx(rr,{className:"w-5 h-5"}),o.jsx("span",{children:"Envoyer la rservation"})]})})]}),o.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Information :"})," Votre rservation sera transmise au restaurant qui vous contactera pour la confirmer. En cas d'urgence, vous pouvez les appeler directement."]})})]})]})})},f5=()=>{var u;const{slug:e}=ki(),[t,r]=v.useState(null),[n,a]=v.useState(!0),[i,s]=v.useState(null);v.useEffect(()=>{l()},[e]);const l=async()=>{if(!e){s("Slug manquant"),a(!1);return}try{const{data:d,error:f}=await F.from("menus").select("*").eq("slug",e).eq("actif",!0).maybeSingle();if(f){s("Erreur lors du chargement du menu");return}if(!d){s("Restaurant non trouv");return}r(d)}catch{s("Erreur lors du chargement du menu")}finally{a(!1)}},c=d=>{const f=d.replace(/\D/g,"");return`https://wa.me/${f.startsWith("33")?f:`33${f.substring(1)}`}`};return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[o.jsx(ve,{className:"w-6 h-6 animate-spin"}),o.jsx("span",{children:"Chargement..."})]})}):i||!t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ln,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant non trouv"}),o.jsx("p",{className:"text-gray-600",children:i||"Ce restaurant n'existe pas ou n'est pas disponible."})]})}):o.jsx("div",{className:"min-h-screen py-12",style:{backgroundColor:t.couleur_fond,color:t.couleur_texte},children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs(at,{to:`/m/${t.slug}`,className:"inline-flex items-center space-x-2 text-gray-600 hover:text-gray-800 mb-8",children:[o.jsx(Al,{size:20}),o.jsx("span",{children:"Retour  l'accueil"})]}),o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx("span",{className:"text-2xl",children:""})}),o.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:t.couleur_secondaire},children:"Contact"}),o.jsx("h2",{className:"text-xl text-gray-600",children:t.nom}),t.description&&o.jsx("p",{className:"text-gray-600 mt-2",children:t.description})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.telephone&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(Sr,{size:24,className:"text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Tlphone"}),o.jsx("p",{className:"text-gray-600",children:"Appelez-nous directement"})]})]}),o.jsx("a",{href:`tel:${t.telephone}`,className:"block w-full text-center bg-blue-600 text-white py-4 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:t.telephone})]}),t.whatsapp&&o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(mi,{size:24,className:"text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"WhatsApp"}),o.jsx("p",{className:"text-gray-600",children:"Messagerie instantane"})]})]}),o.jsxs("a",{href:c(t.whatsapp),target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-green-600 text-white py-4 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center space-x-2",children:[o.jsx("span",{children:t.whatsapp}),o.jsx(Gg,{size:16})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(Sr,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Rservation"}),o.jsx("p",{className:"text-gray-600",children:"Rservez en ligne"})]})]}),o.jsx(at,{to:`/m/${t.slug}/reservation`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Rserver une table"})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center",style:{backgroundColor:t.couleur_primaire+"20"},children:o.jsx(Sr,{size:24,style:{color:t.couleur_primaire}})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Notre Menu"}),o.jsx("p",{className:"text-gray-600",children:"Dcouvrez nos plats"})]})]}),o.jsx(at,{to:`/m/${t.slug}/menu`,className:"block w-full text-center text-white py-4 px-6 rounded-lg transition-colors font-medium",style:{backgroundColor:t.couleur_primaire},children:"Voir le menu"})]})]}),(t.instagram||t.facebook||t.tiktok)&&o.jsx("div",{className:"mt-12",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("h3",{className:"text-2xl font-bold text-center mb-8",style:{color:t.couleur_secondaire},children:"Suivez-nous sur les rseaux sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[t.instagram&&o.jsxs("a",{href:t.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-105",children:[o.jsx(Sa,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Instagram"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",t.instagram.split("/").pop()]})]}),t.facebook&&o.jsxs("a",{href:t.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:[o.jsx(Na,{size:32,className:"mb-4"}),o.jsx("span",{className:"font-medium",children:"Facebook"}),o.jsx("span",{className:"text-sm opacity-90",children:"Voir la page"})]}),t.tiktok&&o.jsxs("a",{href:t.tiktok,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center p-6 bg-black text-white rounded-xl hover:bg-gray-800 transition-all duration-300 hover:scale-105",children:[o.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center mb-4",children:o.jsx("span",{className:"text-black font-bold",children:"T"})}),o.jsx("span",{className:"font-medium",children:"TikTok"}),o.jsxs("span",{className:"text-sm opacity-90",children:["@",(u=t.tiktok.split("/").pop())==null?void 0:u.replace("@","")]})]})]})]})}),o.jsx("div",{className:"mt-12 p-6 bg-blue-50 border border-blue-200 rounded-2xl",children:o.jsxs("p",{className:"text-blue-700 text-center",children:[" ",o.jsx("strong",{children:"Besoin d'aide ?"})," N'hsitez pas  nous contacter pour toute question ou demande spciale. Nous sommes l pour vous aider !"]})})]})})};function h5(){const{user:e}=dr();Xr();const[t,r]=v.useState(!0),[n,a]=v.useState(!1),[i,s]=v.useState(null),[l,c]=v.useState(null),[u,d]=v.useState(!1),[f,h]=v.useState({restaurant_name:"",slug:"",description:"",banner_url:"",logo_url:"",hero_background_color:"#f3f4f6",primary_color:"#ea580c",accent_color:"#f97316",text_color:"#1f2937",background_color:"#ffffff",telephone:"",whatsapp:"",instagram:"",facebook:"",tiktok:"",address:"",hours:"",google_business_url:"",location:"",show_footer_branding:!0});v.useEffect(()=>{e&&m()},[e]);const m=async()=>{if(e){r(!0);try{const{data:p,error:g}=await F.from("restaurant_profiles").select("*").eq("user_id",e.id).maybeSingle();if(g&&g.code!=="PGRST116")throw g;p&&(c(p),h({restaurant_name:p.restaurant_name,slug:p.slug,description:p.description||"",banner_url:p.banner_url||"",logo_url:p.logo_url||"",hero_background_color:p.hero_background_color||"#f3f4f6",primary_color:p.primary_color||"#ea580c",accent_color:p.accent_color||"#f97316",text_color:p.text_color||"#1f2937",background_color:p.background_color||"#ffffff",telephone:p.telephone||"",whatsapp:p.whatsapp||"",instagram:p.instagram||"",facebook:p.facebook||"",tiktok:p.tiktok||"",address:p.address||"",hours:p.hours||"",google_business_url:p.google_business_url||"",location:p.location||"",show_footer_branding:p.show_footer_branding!==void 0?p.show_footer_branding:!0}))}catch(p){console.error("Erreur lors du chargement du profil:",p),y("error","Erreur lors du chargement du profil")}finally{r(!1)}}},y=(p,g)=>{s({type:p,text:g}),setTimeout(()=>s(null),5e3)},x=(p,g)=>{if(h(p==="show_footer_branding"?j=>({...j,[p]:g==="true"}):j=>({...j,[p]:g})),p==="restaurant_name"&&!l){const j=fa(g);h(_=>({..._,slug:j}))}},w=async(p,g)=>{if(e){d(!0);try{const j=f[g],N=await ys(p,g==="banner_url"?"bannieres":"logos");if(N.error){y("error",N.error);return}j&&await is(j),h(k=>({...k,[g]:N.url})),y("success","Image tlcharge avec succs")}catch(j){console.error("Erreur lors du tlchargement:",j),y("error","Erreur lors du tlchargement de l'image")}finally{d(!1)}}},b=async()=>{if(e){if(!f.restaurant_name.trim()){y("error","Le nom du restaurant est requis");return}if(!f.slug.trim()){y("error","Le slug est requis");return}a(!0);try{if(l){const p={restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,primary_color:f.primary_color,accent_color:f.accent_color,text_color:f.text_color,background_color:f.background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{error:g}=await F.from("restaurant_profiles").update(p).eq("id",l.id);if(g)throw g;y("success","Profil mis  jour avec succs")}else{const p={user_id:e.id,restaurant_name:f.restaurant_name,slug:f.slug,description:f.description,banner_url:f.banner_url,logo_url:f.logo_url,hero_background_color:f.hero_background_color,primary_color:f.primary_color,accent_color:f.accent_color,text_color:f.text_color,background_color:f.background_color,telephone:f.telephone,whatsapp:f.whatsapp,instagram:f.instagram,facebook:f.facebook,tiktok:f.tiktok,address:f.address,hours:f.hours,google_business_url:f.google_business_url,location:f.location,show_footer_branding:f.show_footer_branding},{data:g,error:j}=await F.from("restaurant_profiles").insert([p]).select().single();if(j)throw j;c(g),y("success","Profil cr avec succs")}await m()}catch(p){console.error("Erreur lors de la sauvegarde:",p),y("error","Erreur lors de la sauvegarde du profil")}finally{a(!1)}}};return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ni,{size:"lg"})}):o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[i&&o.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${i.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[i.type==="success"?o.jsx(ze,{size:20}):o.jsx(Oe,{size:20}),o.jsx("span",{children:i.text})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Identit Visuelle"}),o.jsx("p",{className:"text-gray-600",children:"Configurez l'identit visuelle et les informations de votre restaurant"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(x3,{size:20}),o.jsx("span",{children:"Informations gnrales"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du restaurant"}),o.jsx("input",{type:"text",value:f.restaurant_name,onChange:p=>x("restaurant_name",p.target.value),placeholder:"ex: Chez Antoine",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL de votre restaurant"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-gray-500",children:"cloudmenu.fr/m/"}),o.jsx("input",{type:"text",value:f.slug,onChange:p=>x("slug",p.target.value),placeholder:"mon-restaurant",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500",disabled:!!l})]}),l&&o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"L'URL ne peut pas tre modifie aprs la cration"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:f.description,onChange:p=>x("description",p.target.value),placeholder:"Dcrivez votre restaurant en quelques mots...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(bs,{size:16,className:"inline mr-1"}),"Adresse"]}),o.jsx("input",{type:"text",value:f.address,onChange:p=>x("address",p.target.value),placeholder:"123 Rue de la Paix, 75001 Paris",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(xs,{size:16,className:"inline mr-1"}),"Horaires"]}),o.jsx("input",{type:"text",value:f.hours,onChange:p=>x("hours",p.target.value),placeholder:"Lun-Ven: 12h-14h, 19h-22h",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(bs,{size:16,className:"inline mr-1"}),"Localisation (Google Maps)"]}),o.jsx("input",{type:"url",value:f.location,onChange:p=>x("location",p.target.value),placeholder:"https://www.google.com/maps/place/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsxs("div",{className:"mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("p",{className:"text-xs text-gray-700 font-medium mb-1",children:" Comment obtenir le bon lien :"}),o.jsxs("ol",{className:"text-xs text-gray-600 space-y-1 ml-4 list-decimal",children:[o.jsx("li",{children:"Ouvrez Google Maps et trouvez votre restaurant"}),o.jsx("li",{children:'Cliquez sur "Partager" puis "Intgrer une carte"'}),o.jsxs("li",{children:["Copiez le lien dans ",o.jsx("code",{className:"bg-white px-1 rounded",children:'src="..."'})]}),o.jsx("li",{children:"Ou utilisez directement l'URL de la page (ex: google.com/maps/place/...)"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bannire"}),f.banner_url?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:f.banner_url,alt:"Bannire",className:"w-full h-48 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(p=>({...p,banner_url:""})),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:o.jsx(Oe,{size:16})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ws,{className:"w-12 h-12 text-gray-400 mb-2"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Cliquez pour tlcharger une bannire"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p=>{var g;return((g=p.target.files)==null?void 0:g[0])&&w(p.target.files[0],"banner_url")},disabled:u})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo"}),f.logo_url?o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:f.logo_url,alt:"Logo",className:"w-32 h-32 object-cover rounded-lg"}),o.jsx("button",{onClick:()=>h(p=>({...p,logo_url:""})),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded hover:bg-red-700",children:o.jsx(Oe,{size:14})})]}):o.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[o.jsx(ws,{className:"w-8 h-8 text-gray-400 mb-1"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Logo"}),o.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p=>{var g;return((g=p.target.files)==null?void 0:g[0])&&w(p.target.files[0],"logo_url")},disabled:u})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Palette de Couleurs"}),o.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Personnalisez les couleurs de votre page de menu"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Thmes prdfinis"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{name:"Orange Classic",primary:"#ea580c",accent:"#f97316",text:"#1f2937",bg:"#ffffff",hero:"#fff7ed"},{name:"Rouge Passion",primary:"#dc2626",accent:"#ef4444",text:"#1f2937",bg:"#ffffff",hero:"#fef2f2"},{name:"Vert Nature",primary:"#16a34a",accent:"#22c55e",text:"#1f2937",bg:"#ffffff",hero:"#f0fdf4"},{name:"Bleu Ocan",primary:"#2563eb",accent:"#3b82f6",text:"#1f2937",bg:"#ffffff",hero:"#eff6ff"},{name:"Violet Royal",primary:"#7c3aed",accent:"#8b5cf6",text:"#1f2937",bg:"#ffffff",hero:"#f5f3ff"},{name:"Rose lgant",primary:"#db2777",accent:"#ec4899",text:"#1f2937",bg:"#ffffff",hero:"#fdf2f8"},{name:"Sombre Chic",primary:"#f59e0b",accent:"#fbbf24",text:"#f9fafb",bg:"#111827",hero:"#1f2937"},{name:"Minimaliste",primary:"#374151",accent:"#6b7280",text:"#111827",bg:"#ffffff",hero:"#f9fafb"}].map(p=>o.jsxs("button",{type:"button",onClick:()=>{h(g=>({...g,primary_color:p.primary,accent_color:p.accent,text_color:p.text,background_color:p.bg,hero_background_color:p.hero}))},className:"p-3 border-2 border-gray-200 rounded-lg hover:border-orange-500 transition-colors text-left",children:[o.jsxs("div",{className:"flex gap-1.5 mb-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:p.primary}}),o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:p.accent}}),o.jsx("div",{className:"w-6 h-6 rounded border border-gray-200",style:{backgroundColor:p.bg}})]}),o.jsx("p",{className:"text-xs font-medium text-gray-700",children:p.name})]},p.name))})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur Principale"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.primary_color,onChange:p=>x("primary_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.primary_color,onChange:p=>x("primary_color",p.target.value),placeholder:"#ea580c",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilise pour les boutons et liens principaux"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur d'Accentuation"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.accent_color,onChange:p=>x("accent_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.accent_color,onChange:p=>x("accent_color",p.target.value),placeholder:"#f97316",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Utilise pour les hovers et lments secondaires"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur du Texte"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.text_color,onChange:p=>x("text_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.text_color,onChange:p=>x("text_color",p.target.value),placeholder:"#1f2937",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur principale du texte"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur de Fond"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.background_color,onChange:p=>x("background_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.background_color,onChange:p=>x("background_color",p.target.value),placeholder:"#ffffff",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur de fond de la page"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Couleur de Fond du Hero"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"color",value:f.hero_background_color,onChange:p=>x("hero_background_color",p.target.value),className:"w-16 h-16 border-2 border-gray-300 rounded-lg cursor-pointer"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{type:"text",value:f.hero_background_color,onChange:p=>x("hero_background_color",p.target.value),placeholder:"#f3f4f6",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 font-mono"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Couleur de fond de la section hero en haut"})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact & Rseaux Sociaux"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Sr,{size:16,className:"inline mr-1"}),"Tlphone"]}),o.jsx("input",{type:"tel",value:f.telephone,onChange:p=>x("telephone",p.target.value),placeholder:"+33 1 23 45 67 89",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp"}),o.jsx("input",{type:"tel",value:f.whatsapp,onChange:p=>x("whatsapp",p.target.value),placeholder:"+33 6 12 34 56 78",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Sa,{size:16,className:"inline mr-1"}),"Instagram"]}),o.jsx("input",{type:"url",value:f.instagram,onChange:p=>x("instagram",p.target.value),placeholder:"https://instagram.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Na,{size:16,className:"inline mr-1"}),"Facebook"]}),o.jsx("input",{type:"url",value:f.facebook,onChange:p=>x("facebook",p.target.value),placeholder:"https://facebook.com/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(V_,{size:16,className:"inline mr-1"}),"TikTok"]}),o.jsx("input",{type:"url",value:f.tiktok,onChange:p=>x("tiktok",p.target.value),placeholder:"https://tiktok.com/@...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Km,{size:16,className:"inline mr-1"}),"Google My Business"]}),o.jsx("input",{type:"url",value:f.google_business_url,onChange:p=>x("google_business_url",p.target.value),placeholder:"https://g.page/...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Les clients pourront voir vos avis Google et laisser un avis depuis votre page"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Paramtres du Footer"}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Afficher le branding CloudMenu"}),o.jsx("p",{className:"text-xs text-gray-500",children:'Afficher "Propuls par CloudMenu" dans le footer'})]}),o.jsx("button",{type:"button",onClick:()=>x("show_footer_branding",(!f.show_footer_branding).toString()),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f.show_footer_branding?"bg-orange-600":"bg-gray-200"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${f.show_footer_branding?"translate-x-6":"translate-x-1"}`})})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:b,disabled:n||u,className:"flex items-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx(ve,{className:"animate-spin",size:20}),o.jsx("span",{children:"Enregistrement..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Tl,{size:20}),o.jsx("span",{children:"Enregistrer"})]})})})]})]})})}function E2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=E2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Se(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=E2(e))&&(n&&(n+=" "),n+=t);return n}var Fd={},C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(C2);var o0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(o0);var l0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(l0);var qd={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];l?u==="\\"&&i+1<a?(i++,s+=r[i]):u===l?l="":s+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(s),s=""):s+=u:u==="["?(c=!0,s&&(n.push(s),s="")):u==="."?s&&(n.push(s),s=""):s+=u,i++}return s&&n.push(s),n}e.toPath=t})(qd);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C2,r=o0,n=l0,a=qd;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Fd);var m5=Fd.get;const Wd=Ca(m5);var _r=e=>e===0?0:e>0?1:-1,Or=e=>typeof e=="number"&&e!=+e,Xa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,le=e=>(typeof e=="number"||e instanceof Number)&&!Or(e),fn=e=>le(e)||typeof e=="string",p5=0,fl=e=>{var t=++p5;return"".concat(e||"").concat(t)},Ea=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&typeof t!="string")return n;var i;if(Xa(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Or(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},P2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function jn(e,t,r){return le(e)&&le(t)?e+r*(t-e):t}function O2(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wd(n,t))===r)}var dt=e=>e===null||typeof e>"u",Ll=e=>dt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),g5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function c0(e){if(typeof e!="string")return!1;var t=g5;return t.includes(e)}var v5=["viewBox","children"],Mx=["points","pathLength"],ph={svg:v5,polygon:Mx,polyline:Mx},u0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{c0(a)&&(n[a]=i=>r[a](r,i))}),n},y5=(e,t,r)=>n=>(e(t,r,n),null),A2=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];c0(a)&&typeof i=="function"&&(n||(n={}),n[a]=y5(i,t,r))}),n},x5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function T2(e){if(typeof e!="string")return!1;var t=x5;return t.includes(e)}function Si(e){var t=Object.entries(e).filter(r=>{var[n]=r;return T2(n)});return Object.fromEntries(t)}var M2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,b5=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(ph==null?void 0:ph[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||T2(t)),c=!!r&&c0(t);return s||l||c},ft=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;b5((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},w5=["children","width","height","viewBox","className","style","title","desc"];function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}function j5(e,t){if(e==null)return{};var r,n,a=_5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d0=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:l,title:c,desc:u}=e,d=j5(e,w5),f=i||{width:n,height:a,x:0,y:0},h=Se("recharts-surface",s);return v.createElement("svg",rp({},ft(d,!0,"svg"),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),r)}),k5=["children","className"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function N5(e,t){if(e==null)return{};var r,n,a=S5(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fs=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=N5(e,k5),i=Se("recharts-layer",n);return v.createElement("g",np({className:i},ft(a,!0),{ref:t}),r)}),I2=v.createContext(null),E5=()=>v.useContext(I2);function Ce(e){return function(){return e}}const D2=Math.cos,Mu=Math.sin,Zr=Math.sqrt,Iu=Math.PI,Vd=2*Iu,ap=Math.PI,ip=2*ap,Va=1e-6,C5=ip-Va;function $2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function P5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $2;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class O5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$2:P5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Va)if(!(Math.abs(f*c-u*d)>Va)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,y=a-l,x=c*c+u*u,w=m*m+y*y,b=Math.sqrt(x),p=Math.sqrt(h),g=i*Math.tan((ap-Math.acos((x+h-w)/(2*b*p)))/2),j=g/p,_=g/b;Math.abs(j-1)>Va&&this._append`L${t+j*d},${r+j*f}`,this._append`A${i},${i},0,0,${+(f*m>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Va||Math.abs(this._y1-d)>Va)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ip+ip),h>C5?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Va&&this._append`A${n},${n},0,${+(h>=ap)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function f0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new O5(t)}function h0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function L2(e){this._context=e}L2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hd(e){return new L2(e)}function R2(e){return e[0]}function z2(e){return e[1]}function U2(e,t){var r=Ce(!0),n=null,a=Hd,i=null,s=f0(l);e=typeof e=="function"?e:e===void 0?R2:Ce(e),t=typeof t=="function"?t:t===void 0?z2:Ce(t);function l(c){var u,d=(c=h0(c)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ce(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ce(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ce(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Nc(e,t,r){var n=null,a=Ce(!0),i=null,s=Hd,l=null,c=f0(u);e=typeof e=="function"?e:e===void 0?R2:Ce(+e),t=typeof t=="function"?t:Ce(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?z2:Ce(+r);function u(f){var h,m,y,x=(f=h0(f)).length,w,b=!1,p,g=new Array(x),j=new Array(x);for(i==null&&(l=s(p=c())),h=0;h<=x;++h){if(!(h<x&&a(w=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=m;--y)l.point(g[y],j[y]);l.lineEnd(),l.areaEnd()}b&&(g[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):g[h],r?+r(w,h,f):j[h]))}if(p)return l=null,p+""||null}function d(){return U2().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ce(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ce(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ce(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ce(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ce(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class B2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function A5(e){return new B2(e,!0)}function T5(e){return new B2(e,!1)}const m0={draw(e,t){const r=Zr(t/Iu);e.moveTo(r,0),e.arc(0,0,r,0,Vd)}},M5={draw(e,t){const r=Zr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},F2=Zr(1/3),I5=F2*2,D5={draw(e,t){const r=Zr(t/I5),n=r*F2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},$5={draw(e,t){const r=Zr(t),n=-r/2;e.rect(n,n,r,r)}},L5=.8908130915292852,q2=Mu(Iu/10)/Mu(7*Iu/10),R5=Mu(Vd/10)*q2,z5=-D2(Vd/10)*q2,U5={draw(e,t){const r=Zr(t*L5),n=R5*r,a=z5*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Vd*i/5,l=D2(s),c=Mu(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},gh=Zr(3),B5={draw(e,t){const r=-Zr(t/(gh*3));e.moveTo(0,r*2),e.lineTo(-gh*r,-r),e.lineTo(gh*r,-r),e.closePath()}},pr=-.5,gr=Zr(3)/2,sp=1/Zr(12),F5=(sp/2+1)*3,q5={draw(e,t){const r=Zr(t/F5),n=r/2,a=r*sp,i=n,s=r*sp+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(pr*n-gr*a,gr*n+pr*a),e.lineTo(pr*i-gr*s,gr*i+pr*s),e.lineTo(pr*l-gr*c,gr*l+pr*c),e.lineTo(pr*n+gr*a,pr*a-gr*n),e.lineTo(pr*i+gr*s,pr*s-gr*i),e.lineTo(pr*l+gr*c,pr*c-gr*l),e.closePath()}};function W5(e,t){let r=null,n=f0(a);e=typeof e=="function"?e:Ce(e||m0),t=typeof t=="function"?t:Ce(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ce(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ce(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Du(){}function $u(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function W2(e){this._context=e}W2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$u(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V5(e){return new W2(e)}function V2(e){this._context=e}V2.prototype={areaStart:Du,areaEnd:Du,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H5(e){return new V2(e)}function H2(e){this._context=e}H2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$u(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K5(e){return new H2(e)}function K2(e){this._context=e}K2.prototype={areaStart:Du,areaEnd:Du,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G5(e){return new K2(e)}function Ix(e){return e<0?-1:1}function Dx(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(Ix(i)+Ix(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function $x(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function vh(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Lu(e){this._context=e}Lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vh(this,this._t0,$x(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vh(this,$x(this,r=Dx(this,e,t)),r);break;default:vh(this,this._t0,r=Dx(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function G2(e){this._context=new Y2(e)}(G2.prototype=Object.create(Lu.prototype)).point=function(e,t){Lu.prototype.point.call(this,t,e)};function Y2(e){this._context=e}Y2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Y5(e){return new Lu(e)}function Q5(e){return new G2(e)}function Q2(e){this._context=e}Q2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Lx(e),a=Lx(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Lx(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function J5(e){return new Q2(e)}function Kd(e,t){this._context=e,this._t=t}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function X5(e){return new Kd(e,.5)}function Z5(e){return new Kd(e,0)}function e6(e){return new Kd(e,1)}function Ss(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function op(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function t6(e,t){return e[t]}function r6(e){const t=[];return t.key=e,t}function n6(){var e=Ce([]),t=op,r=Ss,n=t6;function a(i){var s=Array.from(e.apply(this,arguments),r6),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=h0(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ce(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ce(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?op:typeof i=="function"?i:Ce(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ss,a):r},a}function a6(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Ss(e,t)}}function i6(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ss(e,t)}}function s6(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<l;++y){var x=e[t[y]],w=x[n][1]||0,b=x[n-1][1]||0;m+=w-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ss(e,t)}}var o6=["type","size","sizeType"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function Rx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rx(Object(r),!0).forEach(function(n){l6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rx(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l6(e,t,r){return(t=c6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c6(e){var t=u6(e,"string");return typeof t=="symbol"?t:t+""}function u6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d6(e,t){if(e==null)return{};var r,n,a=f6(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J2={symbolCircle:m0,symbolCross:M5,symbolDiamond:D5,symbolSquare:$5,symbolStar:U5,symbolTriangle:B5,symbolWye:q5},h6=Math.PI/180,m6=e=>{var t="symbol".concat(Ll(e));return J2[t]||m0},p6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*h6;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},g6=(e,t)=>{J2["symbol".concat(Ll(e))]=t},X2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=d6(e,o6),i=zx(zx({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var h=m6(s),m=W5().type(h).size(p6(r,n,s));return m()},{className:c,cx:u,cy:d}=i,f=ft(i,!0);return u===+u&&d===+d&&r===+r?v.createElement("path",lp({},f,{className:Se("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};X2.registerSymbol=g6;function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function Ux(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ux(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ux(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p0(e,t,r){return(t=y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=x6(e,"string");return typeof t=="symbol"?t:t+""}function x6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vr=32;class g0 extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=vr/2,i=vr/6,s=vr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:vr,y2:a,className:"recharts-legend-icon"});if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(vr,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vr/8,"h").concat(vr,"v").concat(vr*3/4,"h").concat(-vr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=v6({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(X2,{fill:l,cx:a,cy:a,size:vr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,l={x:0,y:0,width:vr,height:vr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,m=Se({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var y=d.inactive?i:d.color,x=h?h(d.value,d,f):d.value;return v.createElement("li",cp({className:m,style:c,key:"legend-item-".concat(f)},A2(this.props,d,f)),v.createElement(d0,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(x," legend icon")},this.renderIcon(d,s)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}p0(g0,"displayName","Legend");p0(g0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Z2={},ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],l=n(s);a.has(l)||a.set(l,s)}return Array.from(a.values())}e.uniqBy=t})(ek);var v0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(v0);var tk={},Gd={},rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gd);var nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gd,r=nk;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(tk);var ak={},ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fd;function r(n){return function(a){return t.get(a,n)}}e.property=r})(ik);var sk={},yh={},xh={},y0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(y0);var x0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(x0);var b0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(b0);var Bx;function b6(){return Bx||(Bx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0(),r=y0,n=x0,a=b0;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function y(x,w,b,p,g,j){const _=m(x,w,b,p,g,j);return _!==void 0?!!_:s(x,w,y,j)},new Map)}function s(f,h,m,y){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,y);case"function":return Object.keys(h).length>0?s(f,{...h},m,y):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function l(f,h,m,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,y);if(h instanceof Map)return c(f,h,m,y);if(h instanceof Set)return d(f,h,m,y);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(y&&y.has(h))return y.get(h)===f;y&&y.set(h,f);try{for(let w=0;w<x.length;w++){const b=x[w];if(!n.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!m(f[b],h[b],b,f,h,y))return!1}return!0}finally{y&&y.delete(h)}}function c(f,h,m,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const b=f.get(x);if(m(b,w,x,f,h,y)===!1)return!1}return!0}function u(f,h,m,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const b=h[w];let p=!1;for(let g=0;g<f.length;g++){if(x.has(g))continue;const j=f[g];let _=!1;if(m(j,b,w,f,h,y)&&(_=!0),_){x.add(g),p=!0;break}}if(!p)return!1}return!0}function d(f,h,m,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,y):!1}e.isMatchWith=i,e.isSetMatch=d}(xh)),xh}var Fx;function w0(){return Fx||(Fx=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b6();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(yh)),yh}var ok={},j0={},lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(lk);var _0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(_0);var k0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",x="[object DataView]",w="[object Uint8Array]",b="[object Uint8ClampedArray]",p="[object Uint16Array]",g="[object Uint32Array]",j="[object BigUint64Array]",_="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",E="[object BigInt64Array]",S="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=a,e.dataViewTag=x,e.dateTag=l,e.errorTag=y,e.float32ArrayTag=S,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=_,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=p,e.uint32ArrayTag=g,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=b})(k0);var ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ck);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk,r=_0,n=k0,a=x0,i=ck;function s(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,y=void 0){const x=y==null?void 0:y(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=l(d[b],b,h,m,y);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[b,p]of d)w.set(b,l(p,b,h,m,y));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const b of d)w.add(l(b,void 0,h,m,y));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let b=0;b<d.length;b++)w[b]=l(d[b],b,h,m,y);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,y),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,y),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,y),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,y),w}return d}function c(d,f,h=d,m,y){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const b=x[w],p=Object.getOwnPropertyDescriptor(d,b);(p==null||p.writable)&&(d[b]=l(f[b],b,h,m,y))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})(j0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ok);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0(),r=ok;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(sk);var uk={},dk={},fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j0,r=k0;function n(a,i){return t.cloneDeepWith(a,(s,l,c,u)=>{const d=i==null?void 0:i(s,l,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(dk);var hk={},N0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(N0);var mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_0;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o0,r=N0,n=mk,a=qd;function i(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=a.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(hk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w0(),r=l0,n=dk,a=Fd,i=hk;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v0,r=ik,n=sk,a=uk;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ek,r=v0,n=tk,a=ak;function i(s,l=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(l)):[]}e.uniqBy=i})(Z2);var w6=Z2.uniqBy;const qx=Ca(w6);function pk(e,t,r){return t===!0?qx(e,r):typeof t=="function"?qx(e,t):e}var gk={exports:{}},vk={},yk={exports:{}},xk={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Es=v;function j6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _6=typeof Object.is=="function"?Object.is:j6,k6=Es.useState,N6=Es.useEffect,S6=Es.useLayoutEffect,E6=Es.useDebugValue;function C6(e,t){var r=t(),n=k6({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return S6(function(){a.value=r,a.getSnapshot=t,bh(a)&&i({inst:a})},[e,r,t]),N6(function(){return bh(a)&&i({inst:a}),e(function(){bh(a)&&i({inst:a})})},[e]),E6(r),r}function bh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_6(e,r)}catch{return!0}}function P6(e,t){return t()}var O6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P6:C6;xk.useSyncExternalStore=Es.useSyncExternalStore!==void 0?Es.useSyncExternalStore:O6;yk.exports=xk;var A6=yk.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=v,T6=A6;function M6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I6=typeof Object.is=="function"?Object.is:M6,D6=T6.useSyncExternalStore,$6=Yd.useRef,L6=Yd.useEffect,R6=Yd.useMemo,z6=Yd.useDebugValue;vk.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=$6(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=R6(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var y=s.value;if(a(y,m))return f=y}return f=m}if(y=f,I6(d,m))return y;var x=n(m);return a!==void 0&&a(y,x)?(d=m,y):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=D6(e,i[0],i[1]);return L6(function(){s.hasValue=!0,s.value=l},[l]),z6(l),l};gk.exports=vk;var U6=gk.exports,S0=v.createContext(null),B6=e=>e,jt=()=>{var e=v.useContext(S0);return e?e.store.dispatch:B6},tu=()=>{},F6=()=>tu,q6=(e,t)=>e===t;function se(e){var t=v.useContext(S0);return U6.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:F6,t?t.store.getState:tu,t?t.store.getState:tu,t?e:tu,q6)}function W6(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function V6(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function H6(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Wx=e=>Array.isArray(e)?e:[e];function K6(e){const t=Array.isArray(e[0])?e[0]:e;return H6(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function G6(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Y6=class{constructor(e){this.value=e}deref(){return this.value}},Q6=typeof WeakRef<"u"?WeakRef:Y6,J6=0,Vx=1;function Sc(){return{s:J6,v:void 0,o:null,p:null}}function bk(e,t={}){let r=Sc();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(y);w===void 0?(l=Sc(),x.set(y,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(y);w===void 0?(l=Sc(),x.set(y,l)):l=w}}const u=l;let d;if(l.s===Vx)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new Q6(d):d}return u.s=Vx,u.v=d,d}return s.clearCache=()=>{r=Sc(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function X6(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,l,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),W6(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=bk,argsMemoizeOptions:y=[],devModeChecks:x={}}=d,w=Wx(h),b=Wx(y),p=K6(a),g=f(function(){return i++,u.apply(null,arguments)},...w),j=m(function(){s++;const N=G6(p,arguments);return l=g.apply(null,N),l},...b);return Object.assign(j,{resultFunc:u,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var D=X6(bk),Z6=Object.assign((e,t=D)=>{V6(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>Z6}),wk={},jk={},_k={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),l=t(a);if(s===l&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-s:s-l}return 0};e.compareValues=r})(_k);var kk={},E0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(E0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(kk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k,r=kk,n=qd;function a(i,s,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,y)=>{let x=m;for(let w=0;w<y.length&&x!=null;++w)x=x[y[w]];return x},d=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(y=>d(y,m))})).slice().sort((m,y)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],y.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=a})(jk);var Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?s(d,c+1):a.push(d)}};return s(r,0),a}e.flatten=t})(Nk);var C0={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N0,r=Gd,n=y0,a=b0;function i(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?a.eq(c[l],s):!1}e.isIterateeCall=i})(C0);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,r=Nk,n=C0;function a(i,...s){const l=s.length;return l>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(wk);var eI=wk.sortBy;const Qd=Ca(eI);var Sk=e=>e.legend.settings,tI=e=>e.legend.size,rI=e=>e.legend.payload,nI=D([rI,Sk],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Qd(n,r):n});function aI(){return se(nI)}var Ec=1;function Ek(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Ec||Math.abs(s.left-t.left)>Ec||Math.abs(s.top-t.top)>Ec||Math.abs(s.width-t.width)>Ec)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function gt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iI=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hx=iI,wh=()=>Math.random().toString(36).substring(7).split("").join("."),sI={INIT:`@@redux/INIT${wh()}`,REPLACE:`@@redux/REPLACE${wh()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wh()}`},Ru=sI;function P0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Ck(e,t,r){if(typeof e!="function")throw new Error(gt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(gt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(gt(1));return r(Ck)(e,t)}let n=e,a=t,i=new Map,s=i,l=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((w,b)=>{s.set(b,w)}))}function d(){if(c)throw new Error(gt(3));return a}function f(w){if(typeof w!="function")throw new Error(gt(4));if(c)throw new Error(gt(5));let b=!0;u();const p=l++;return s.set(p,w),function(){if(b){if(c)throw new Error(gt(6));b=!1,u(),s.delete(p),i=null}}}function h(w){if(!P0(w))throw new Error(gt(7));if(typeof w.type>"u")throw new Error(gt(8));if(typeof w.type!="string")throw new Error(gt(17));if(c)throw new Error(gt(9));try{c=!0,a=n(a,w)}finally{c=!1}return(i=s).forEach(p=>{p()}),w}function m(w){if(typeof w!="function")throw new Error(gt(10));n=w,h({type:Ru.REPLACE})}function y(){const w=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(gt(11));function p(){const j=b;j.next&&j.next(d())}return p(),{unsubscribe:w(p)}},[Hx](){return this}}}return h({type:Ru.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Hx]:y}}function oI(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ru.INIT})>"u")throw new Error(gt(12));if(typeof r(void 0,{type:Ru.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(gt(13))})}function Pk(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{oI(r)}catch(i){a=i}return function(s={},l){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=s[f],y=h(m,l);if(typeof y>"u")throw l&&l.type,new Error(gt(14));u[f]=y,c=c||y!==m}return c=c||n.length!==Object.keys(s).length,c?u:s}}function zu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function lI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(gt(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(s));return i=zu(...l)(a.dispatch),{...a,dispatch:i}}}function Ok(e){return P0(e)&&"type"in e&&typeof e.type=="string"}var Ak=Symbol.for("immer-nothing"),Kx=Symbol.for("immer-draftable"),lr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cs=Object.getPrototypeOf;function gi(e){return!!e&&!!e[lr]}function zn(e){var t;return e?Tk(e)||Array.isArray(e)||!!e[Kx]||!!((t=e.constructor)!=null&&t[Kx])||Rl(e)||Xd(e):!1}var cI=Object.prototype.constructor.toString();function Tk(e){if(!e||typeof e!="object")return!1;const t=Cs(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===cI}function Uu(e,t){Jd(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Jd(e){const t=e[lr];return t?t.type_:Array.isArray(e)?1:Rl(e)?2:Xd(e)?3:0}function up(e,t){return Jd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Mk(e,t,r){const n=Jd(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function uI(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Rl(e){return e instanceof Map}function Xd(e){return e instanceof Set}function Ha(e){return e.copy_||e.base_}function dp(e,t){if(Rl(e))return new Map(e);if(Xd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Tk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[lr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(Cs(e),n)}else{const n=Cs(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function O0(e,t=!1){return Zd(e)||gi(e)||!zn(e)||(Jd(e)>1&&Object.defineProperties(e,{set:{value:Cc},add:{value:Cc},clear:{value:Cc},delete:{value:Cc}}),Object.freeze(e),t&&Object.values(e).forEach(r=>O0(r,!0))),e}function Cc(){Vr(2)}function Zd(e){return Object.isFrozen(e)}var dI={};function vi(e){const t=dI[e];return t||Vr(0,e),t}var hl;function Ik(){return hl}function fI(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Gx(e,t){t&&(vi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fp(e){hp(e),e.drafts_.forEach(hI),e.drafts_=null}function hp(e){e===hl&&(hl=e.parent_)}function Yx(e){return hl=fI(hl,e)}function hI(e){const t=e[lr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[lr].modified_&&(fp(t),Vr(4)),zn(e)&&(e=Bu(t,e),t.parent_||Fu(t,e)),t.patches_&&vi("Patches").generateReplacementPatches_(r[lr].base_,e,t.patches_,t.inversePatches_)):e=Bu(t,r,[]),fp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ak?e:void 0}function Bu(e,t,r){if(Zd(t))return t;const n=t[lr];if(!n)return Uu(t,(a,i)=>Jx(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Fu(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),Uu(i,(l,c)=>Jx(e,n,a,l,c,r,s)),Fu(e,a,!1),r&&e.patches_&&vi("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Jx(e,t,r,n,a,i,s){if(gi(a)){const l=i&&t&&t.type_!==3&&!up(t.assigned_,n)?i.concat(n):void 0,c=Bu(e,a,l);if(Mk(r,n,c),gi(c))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(zn(a)&&!Zd(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bu(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Rl(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Fu(e,a)}}function Fu(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&O0(t,r)}function mI(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ik(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=A0;r&&(a=[n],i=ml);const{revoke:s,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=s,l}var A0={get(e,t){if(t===lr)return e;const r=Ha(e);if(!up(r,t))return pI(e,r,t);const n=r[t];return e.finalized_||!zn(n)?n:n===jh(e.base_,t)?(_h(e),e.copy_[t]=pp(n,e)):n},has(e,t){return t in Ha(e)},ownKeys(e){return Reflect.ownKeys(Ha(e))},set(e,t,r){const n=Dk(Ha(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=jh(Ha(e),t),i=a==null?void 0:a[lr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(uI(r,a)&&(r!==void 0||up(e.base_,t)))return!0;_h(e),mp(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_h(e),mp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ha(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Cs(e.base_)},setPrototypeOf(){Vr(12)}},ml={};Uu(A0,(e,t)=>{ml[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ml.deleteProperty=function(e,t){return ml.set.call(this,e,t,void 0)};ml.set=function(e,t,r){return A0.set.call(this,e[0],t,r,e[0])};function jh(e,t){const r=e[lr];return(r?Ha(r):e)[t]}function pI(e,t,r){var a;const n=Dk(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Dk(e,t){if(!(t in e))return;let r=Cs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cs(r)}}function mp(e){e.modified_||(e.modified_=!0,e.parent_&&mp(e.parent_))}function _h(e){e.copy_||(e.copy_=dp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gI=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(zn(t)){const i=Yx(this),s=pp(t,void 0);let l=!0;try{a=r(s),l=!1}finally{l?fp(i):hp(i)}return Gx(i,n),Qx(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Ak&&(a=void 0),this.autoFreeze_&&O0(a,!0),n){const i=[],s=[];vi("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,a;return[this.produce(t,r,(s,l)=>{n=s,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zn(e)||Vr(8),gi(e)&&(e=An(e));const t=Yx(this),r=pp(e,void 0);return r[lr].isManual_=!0,hp(t),r}finishDraft(e,t){const r=e&&e[lr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return Gx(n,t),Qx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=vi("Patches").applyPatches_;return gi(e)?n(e,t):this.produce(e,a=>n(a,t))}};function pp(e,t){const r=Rl(e)?vi("MapSet").proxyMap_(e,t):Xd(e)?vi("MapSet").proxySet_(e,t):mI(e,t);return(t?t.scope_:Ik()).drafts_.push(r),r}function An(e){return gi(e)||Vr(10,e),$k(e)}function $k(e){if(!zn(e)||Zd(e))return e;const t=e[lr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=dp(e,t.scope_.immer_.useStrictShallowCopy_)}else r=dp(e,!0);return Uu(r,(n,a)=>{Mk(r,n,$k(a))}),t&&(t.finalized_=!1),r}var vI=new gI,Lk=vI.produce;function Rk(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var yI=Rk(),xI=Rk,bI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zu:zu.apply(null,arguments)};function Ar(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(sr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Ok(n)&&n.type===e,r}var zk=class ko extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ko.prototype)}static get[Symbol.species](){return ko}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ko(...t[0].concat(this)):new ko(...t.concat(this))}};function Xx(e){return zn(e)?Lk(e,()=>{}):e}function Pc(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function wI(e){return typeof e=="boolean"}var jI=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new zk;return r&&(wI(r)?s.push(yI):s.push(xI(r.extraArgument))),s},_I="RTK_autoBatch",Zx=e=>t=>{setTimeout(t,e)},kI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Zx(10):e.type==="callback"?e.queueNotification:Zx(e.timeout),u=()=>{s=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[_I]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},NI=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new zk(e);return n&&a.push(kI(typeof n=="object"?n:void 0)),a};function SI(e){const t=jI(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(P0(r))c=Pk(r);else throw new Error(sr(1));let u;typeof n=="function"?u=n(t):u=t();let d=zu;a&&(d=bI({trace:!1,...typeof a=="object"&&a}));const f=lI(...u),h=NI(f);let m=typeof l=="function"?l(h):h();const y=d(...m);return Ck(c,s,y)}function Uk(e){const t={},r=[];let n;const a={addCase(i,s){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(sr(28));if(l in t)throw new Error(sr(29));return t[l]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function EI(e){return typeof e=="function"}function CI(e,t){let[r,n,a]=Uk(t),i;if(EI(e))i=()=>Xx(e());else{const l=Xx(e);i=()=>l}function s(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(gi(d)){const m=f(d,c);return m===void 0?d:m}else{if(zn(d))return Lk(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return s.getInitialState=i,s}var PI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OI=(e=21)=>{let t="",r=e;for(;r--;)t+=PI[Math.random()*64|0];return t},AI=Symbol.for("rtk-slice-createasyncthunk");function TI(e,t){return`${e}/${t}`}function MI({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[AI];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(sr(11));typeof process<"u";const l=(typeof a.reducers=="function"?a.reducers(DI()):a.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,_){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(sr(12));if(N in u.sliceCaseReducersByType)throw new Error(sr(13));return u.sliceCaseReducersByType[N]=_,d},addMatcher(j,_){return u.sliceMatchers.push({matcher:j,reducer:_}),d},exposeAction(j,_){return u.actionCreators[j]=_,d},exposeCaseReducer(j,_){return u.sliceCaseReducersByName[j]=_,d}};c.forEach(j=>{const _=l[j],N={reducerName:j,type:TI(i,j),createNotation:typeof a.reducers=="function"};LI(_)?zI(N,_,d,t):$I(N,_,d)});function f(){const[j={},_=[],N=void 0]=typeof a.extraReducers=="function"?Uk(a.extraReducers):[a.extraReducers],k={...j,...u.sliceCaseReducersByType};return CI(a.initialState,E=>{for(let S in k)E.addCase(S,k[S]);for(let S of u.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of _)E.addMatcher(S.matcher,S.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,y=new WeakMap;let x;function w(j,_){return x||(x=f()),x(j,_)}function b(){return x||(x=f()),x.getInitialState()}function p(j,_=!1){function N(E){let S=E[j];return typeof S>"u"&&_&&(S=Pc(y,N,b)),S}function k(E=h){const S=Pc(m,_,()=>new WeakMap);return Pc(S,E,()=>{const C={};for(const[P,M]of Object.entries(a.selectors??{}))C[P]=II(M,E,()=>Pc(y,E,b),_);return C})}return{reducerPath:j,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const g={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...p(s),injectInto(j,{reducerPath:_,...N}={}){const k=_??s;return j.inject({reducerPath:k,reducer:w},N),{...g,...p(k,!0)}}};return g}}function II(e,t,r,n){function a(i,...s){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return a.unwrapped=e,a}var hr=MI();function DI(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $I({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!RI(n))throw new Error(sr(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Ar(e,s):Ar(e))}function LI(e){return e._reducerDefinitionType==="asyncThunk"}function RI(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zI({type:e,reducerName:t},r,n,a){if(!a)throw new Error(sr(18));const{payloadCreator:i,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Oc,pending:l||Oc,rejected:c||Oc,settled:u||Oc})}function Oc(){}var UI="task",Bk="listener",Fk="completed",T0="cancelled",BI=`task-${T0}`,FI=`task-${Fk}`,gp=`${Bk}-${T0}`,qI=`${Bk}-${Fk}`,ef=class{constructor(e){Nf(this,"name","TaskAbortError");Nf(this,"message");this.code=e,this.message=`${UI} ${T0} (reason: ${e})`}},M0=(e,t)=>{if(typeof e!="function")throw new TypeError(sr(32))},qu=()=>{},qk=(e,t=qu)=>(e.catch(t),e),Wk=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ii=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},si=e=>{if(e.aborted){const{reason:t}=e;throw new ef(t)}};function Vk(e,t){let r=qu;return new Promise((n,a)=>{const i=()=>a(new ef(e.reason));if(e.aborted){i();return}r=Wk(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=qu})}var WI=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ef?"cancelled":"rejected",error:r}}finally{t==null||t()}},Wu=e=>t=>qk(Vk(e,t).then(r=>(si(e),r))),Hk=e=>{const t=Wu(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ls}=Object,eb={},tf="listenerMiddleware",VI=(e,t)=>{const r=n=>Wk(e,()=>ii(n,e.reason));return(n,a)=>{M0(n);const i=new AbortController;r(i);const s=WI(async()=>{si(e),si(i.signal);const l=await n({pause:Wu(i.signal),delay:Hk(i.signal),signal:i.signal});return si(i.signal),l},()=>ii(i,FI));return a!=null&&a.autoJoin&&t.push(s.catch(qu)),{result:Wu(e)(s),cancel(){ii(i,BI)}}}},HI=(e,t)=>{const r=async(n,a)=>{si(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await Vk(t,Promise.race(l));return si(t),c}finally{i()}};return(n,a)=>qk(r(n,a))},Kk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Ar(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(sr(21));return M0(i),{predicate:a,type:t,effect:i}},Gk=ls(e=>{const{type:t,predicate:r,effect:n}=Kk(e);return{id:OI(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(sr(22))}}},{withTypes:()=>Gk}),tb=(e,t)=>{const{type:r,effect:n,predicate:a}=Kk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},vp=e=>{e.pending.forEach(t=>{ii(t,gp)})},KI=e=>()=>{e.forEach(vp),e.clear()},rb=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Yk=ls(Ar(`${tf}/add`),{withTypes:()=>Yk}),GI=Ar(`${tf}/removeAll`),Qk=ls(Ar(`${tf}/remove`),{withTypes:()=>Qk}),YI=(...e)=>{console.error(`${tf}/error`,...e)},zl=(e={})=>{const t=new Map,{extra:r,onError:n=YI}=e;M0(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&vp(d)}),i=d=>{const f=tb(t,d)??Gk(d);return a(f)};ls(i,{withTypes:()=>i});const s=d=>{const f=tb(t,d);return f&&(f.unsubscribe(),d.cancelActive&&vp(f)),!!f};ls(s,{withTypes:()=>s});const l=async(d,f,h,m)=>{const y=new AbortController,x=HI(i,y.signal),w=[];try{d.pending.add(y),await Promise.resolve(d.effect(f,ls({},h,{getOriginalState:m,condition:(b,p)=>x(b,p).then(Boolean),take:x,delay:Hk(y.signal),pause:Wu(y.signal),extra:r,signal:y.signal,fork:VI(y.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,p,g)=>{b!==y&&(ii(b,gp),g.delete(b))})},cancel:()=>{ii(y,gp),d.pending.delete(y)},throwIfCancelled:()=>{si(y.signal)}})))}catch(b){b instanceof ef||rb(n,b,{raisedBy:"effect"})}finally{await Promise.all(w),ii(y,qI),d.pending.delete(y)}},c=KI(t);return{middleware:d=>f=>h=>{if(!Ok(h))return f(h);if(Yk.match(h))return i(h.payload);if(GI.match(h)){c();return}if(Qk.match(h))return s(h.payload);let m=d.getState();const y=()=>{if(m===eb)throw new Error(sr(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),b=Array.from(t.values());for(const p of b){let g=!1;try{g=p.predicate(h,w,m)}catch(j){g=!1,rb(n,j,{raisedBy:"predicate"})}g&&l(p,h,d,y)}}}finally{m=eb}return x},startListening:i,stopListening:s,clearListeners:c}};function sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var QI={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Jk=hr({name:"chartLayout",initialState:QI,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:JI,setLayout:XI,setChartSize:ZI,setScale:eD}=Jk.actions,tD=Jk.reducer;function nb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nb(Object(r),!0).forEach(function(n){rD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rD(e,t,r){return(t=nD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nD(e){var t=aD(e,"string");return typeof t=="symbol"?t:t+""}function aD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu=Math.PI/180,iD=e=>e*180/Math.PI,xt=(e,t,r,n)=>({x:e+Math.cos(-Vu*n)*r,y:t+Math.sin(-Vu*n)*r}),sD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},oD=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},lD=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=oD({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var l=(r-a)/s,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:s,angle:iD(c),angleInRadian:c}},cD=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},uD=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},dD=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=lD({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(a<s||a>l||a===0)return null;var{startAngle:c,endAngle:u}=cD(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?ab(ab({},t),{},{radius:a,angle:uD(d,t)}):null};function Xk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ib(Object(r),!0).forEach(function(n){fD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ib(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fD(e,t,r){return(t=hD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hD(e){var t=mD(e,"string");return typeof t=="symbol"?t:t+""}function mD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $t(e,t,r){return dt(e)||dt(t)?r:fn(t)?Wd(e,t,r):typeof t=="function"?t(e):r}var pD=(e,t,r,n,a)=>{var i,s=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(_r(d-u)!==_r(f-d)){var m=[];if(_r(f-d)===_r(a[1]-a[0])){h=f;var y=d+a[1]-a[0];m[0]=Math.min(y,(y+u)/2),m[1]=Math.max(y,(y+u)/2)}else{h=u;var x=f+a[1]-a[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:s}=r[c]);break}}else{var b=Math.min(u,f),p=Math.max(u,f);if(e>(b+d)/2&&e<=(p+d)/2){({index:s}=r[c]);break}}}else if(t){for(var g=0;g<l;g++)if(g===0&&e<=(t[g].coordinate+t[g+1].coordinate)/2||g>0&&g<l-1&&e>(t[g].coordinate+t[g-1].coordinate)/2&&e<=(t[g].coordinate+t[g+1].coordinate)/2||g===l-1&&e>(t[g].coordinate+t[g-1].coordinate)/2){({index:s}=t[g]);break}}return s},gD=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&i!=="center"&&le(e[i]))return wr(wr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&s!=="middle"&&le(e[s]))return wr(wr({},e),{},{[s]:e[s]+(a||0)})}return e},Da=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Zk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,s=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||s.push(t),i||s.push(r),s},eN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var y=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=a==="category"&&s.bandwidth?s.bandwidth()/y:0;if(x=m==="angleAxis"&&i&&i.length>=2?_r(i[0]-i[1])*2*x:x,f||h){var w=(f||h||[]).map((b,p)=>{var g=n?n.indexOf(b):b;return{coordinate:s(g)+x,value:b,offset:x,index:p}});return w.filter(b=>!Or(b.coordinate))}return c&&u?u.map((b,p)=>({coordinate:s(b)+x,value:b,index:p,offset:x})):s.ticks&&!r&&d!=null?s.ticks(d).map((b,p)=>({coordinate:s(b)+x,value:b,offset:x,index:p})):s.domain().map((b,p)=>({coordinate:s(b)+x,value:n?n[b]:b,index:p,offset:x}))},sb=1e-4,vD=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sb,i=Math.max(n[0],n[1])+sb,s=e(t[0]),l=e(t[r-1]);(s<a||s>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},yD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var l=Or(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+l,i=e[s][r][1])}},xD=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Or(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},bD={sign:yD,expand:a6,none:Ss,silhouette:i6,wiggle:s6,positive:xD},wD=(e,t,r)=>{var n=bD[r],a=n6().keys(t).value((i,s)=>+$t(i,s,0)).order(op).offset(n);return a(e)};function ob(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dt(a[t.dataKey])){var l=O2(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=$t(a,dt(s)?t.dataKey:s);return dt(c)?null:t.scale(c)}var jD=e=>{var t=e.flat(2).filter(le);return[Math.min(...t),Math.max(...t)]},_D=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],kD=(e,t,r)=>{if(e!=null)return _D(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,l=s.reduce((c,u)=>{var d=Xk(u,t,r),f=jD(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},lb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Qd(t,d=>d.coordinate),i=1/0,s=1,l=a.length;s<l;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function ub(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return wr(wr({},t),{},{dataKey:r,payload:n,value:a,name:i})}function tN(e,t){if(e)return String(e);if(typeof t=="string")return t}function ND(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?dD({x:e,y:t},n):null}var SD=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return wr(wr(wr({},n),xt(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var l=a.coordinate,{angle:c}=n;return wr(wr(wr({},n),xt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},ED=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Vn=e=>e.layout.width,Hn=e=>e.layout.height,CD=e=>e.layout.scale,rN=e=>e.layout.margin,rf=D(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),nf=D(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),PD="data-recharts-item-index",OD="data-recharts-item-data-key",Ul=60;function db(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?db(Object(r),!0).forEach(function(n){AD(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):db(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AD(e,t,r){return(t=TD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TD(e){var t=MD(e,"string");return typeof t=="symbol"?t:t+""}function MD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ID=e=>e.brush.height;function DD(e){var t=nf(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ul;return r+a}return r},0)}function $D(e){var t=nf(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Ul;return r+a}return r},0)}function LD(e){var t=rf(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function RD(e){var t=rf(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var _t=D([Vn,Hn,rN,ID,DD,$D,LD,RD,Sk,tI],(e,t,r,n,a,i,s,l,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+l},h=Ac(Ac({},f),d),m=h.bottom;h.bottom+=n,h=gD(h,c,u);var y=e-h.left-h.right,x=t-h.top-h.bottom;return Ac(Ac({brushBottom:m},h),{},{width:Math.max(y,0),height:Math.max(x,0)})}),zD=D(_t,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nN=D(Vn,Hn,(e,t)=>({x:0,y:0,width:e,height:t})),UD=v.createContext(null),Mr=()=>v.useContext(UD)!=null,af=e=>e.brush,sf=D([af,_t,rN],(e,t,r)=>({height:e.height,x:le(e.x)?e.x:t.left,y:le(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:le(e.width)?e.width:t.width})),I0=()=>{var e,t=Mr(),r=se(zD),n=se(sf),a=(e=se(af))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},BD={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aN=()=>{var e;return(e=se(_t))!==null&&e!==void 0?e:BD},D0=()=>se(Vn),$0=()=>se(Hn),FD=()=>se(e=>e.layout.margin),Ie=e=>e.layout.layoutType,L0=()=>se(Ie),qD={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},iN=hr({name:"legend",initialState:qD,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=An(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:fb,setLegendSettings:WD,addLegendPayload:VD,removeLegendPayload:HD}=iN.actions,KD=iN.reducer,GD=["contextPayload"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function hb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hb(Object(r),!0).forEach(function(n){R0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0(e,t,r){return(t=YD(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YD(e){var t=QD(e,"string");return typeof t=="symbol"?t:t+""}function QD(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JD(e,t){if(e==null)return{};var r,n,a=XD(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XD(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZD(e){return e.value}function e$(e){var{contextPayload:t}=e,r=JD(e,GD),n=pk(t,e.payloadUniqBy,ZD),a=Ps(Ps({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(g0,a)}function t$(e,t,r,n,a,i){var{layout:s,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((a||0)-i.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ps(Ps({},u),d)}function r$(e){var t=jt();return v.useEffect(()=>{t(WD(e))},[t,e]),null}function n$(e){var t=jt();return v.useEffect(()=>(t(fb(e)),()=>{t(fb({width:0,height:0}))}),[t,e]),null}function a$(e){var t=aI(),r=E5(),n=FD(),{width:a,height:i,wrapperStyle:s,portal:l}=e,[c,u]=Ek([t]),d=D0(),f=$0();if(d==null||f==null)return null;var h=d-(n.left||0)-(n.right||0),m=of.getWidthOrHeight(e.layout,i,a,h),y=l?s:Ps(Ps({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},t$(s,e,n,d,f,c)),s),x=l??r;if(x==null)return null;var w=v.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},v.createElement(r$,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(n$,{width:c.width,height:c.height}),v.createElement(e$,xp({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return Bg.createPortal(w,x)}class of extends v.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&le(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return v.createElement(a$,this.props)}}R0(of,"displayName","Legend");R0(of,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function bp(){return bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bp.apply(null,arguments)}function mb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mb(Object(r),!0).forEach(function(n){i$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i$(e,t,r){return(t=s$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s$(e){var t=o$(e,"string");return typeof t=="symbol"?t:t+""}function o$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l$(e){return Array.isArray(e)&&fn(e[0])&&fn(e[1])?e.join(" ~ "):e}var c$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var _={padding:0,margin:0},N=(l?Qd(i,l):i).map((k,E)=>{if(k.type==="none")return null;var S=k.formatter||s||l$,{value:C,name:P}=k,M=C,$=P;if(S){var I=S(C,P,k,E,i);if(Array.isArray(I))[M,$]=I;else if(I!=null)M=I;else return null}var W=kh({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:W},fn($)?v.createElement("span",{className:"recharts-tooltip-item-name"},$):null,fn($)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},M),v.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:_},N)}return null},y=kh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=kh({margin:0},a),w=!dt(d),b=w?d:"",p=Se("recharts-default-tooltip",c),g=Se("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(b=f(d,i));var j=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",bp({className:p,style:y},j),v.createElement("p",{className:g,style:x},v.isValidElement(b)?b:"".concat(b)),m())},fo="recharts-tooltip-wrapper",u$={visibility:"hidden"};function d$(e){var{coordinate:t,translateX:r,translateY:n}=e;return Se(fo,{["".concat(fo,"-right")]:le(r)&&t&&le(t.x)&&r>=t.x,["".concat(fo,"-left")]:le(r)&&t&&le(t.x)&&r<t.x,["".concat(fo,"-bottom")]:le(n)&&t&&le(t.y)&&n>=t.y,["".concat(fo,"-top")]:le(n)&&t&&le(t.y)&&n<t.y})}function pb(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&le(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var h=c[n];if(h==null)return 0;if(s[n]){var m=d,y=h;return m<y?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function f$(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function h$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:l,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=pb({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=pb({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=f$({translateX:d,translateY:f,useTranslate3d:l})):u=u$,{cssProperties:u,cssClasses:d$({translateX:d,translateY:f,coordinate:r})}}function gb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(r),!0).forEach(function(n){wp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wp(e,t,r){return(t=m$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class g$ extends v.PureComponent{constructor(){super(...arguments),wp(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),wp(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:x,innerRef:w,hasPortalFromProps:b}=this.props,{cssClasses:p,cssProperties:g}=h$({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=b?{}:Tc(Tc({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),_=Tc(Tc({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},y);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:_,ref:w},i)}}var v$=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qs={devToolsEnabled:!1,isSsr:v$()},sN=()=>se(e=>e.rootProps.accessibilityLayer);function Jr(e){return Number.isFinite(e)}function Hu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jp(){return jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jp.apply(null,arguments)}function vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vb(Object(r),!0).forEach(function(n){y$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y$(e,t,r){return(t=x$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x$(e){var t=b$(e,"string");return typeof t=="symbol"?t:t+""}function b$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xb={curveBasisClosed:H5,curveBasisOpen:K5,curveBasis:V5,curveBumpX:A5,curveBumpY:T5,curveLinearClosed:G5,curveLinear:Hd,curveMonotoneX:Y5,curveMonotoneY:Q5,curveNatural:J5,curveStep:X5,curveStepAfter:e6,curveStepBefore:Z5},Mc=e=>Jr(e.x)&&Jr(e.y),ho=e=>e.x,mo=e=>e.y,w$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ll(e));return(r==="curveMonotone"||r==="curveBump")&&t?xb["".concat(r).concat(t==="vertical"?"Y":"X")]:xb[r]||Hd},j$=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=w$(t,a),l=i?r.filter(Mc):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>Mc(f)):n,d=l.map((f,h)=>yb(yb({},f),{},{base:u[h]}));return a==="vertical"?c=Nc().y(mo).x1(ho).x0(f=>f.base.x):c=Nc().x(ho).y1(mo).y0(f=>f.base.y),c.defined(Mc).curve(s),c(d)}return a==="vertical"&&le(n)?c=Nc().y(mo).x1(ho).x0(n):le(n)?c=Nc().x(ho).y1(mo).y0(n):c=U2().x(ho).y(mo),c.defined(Mc).curve(s),c(l)},oN=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?j$(e):n;return v.createElement("path",jp({},Si(e),u0(e),{className:Se("recharts-curve",t),d:i===null?void 0:i,ref:a}))},_$=["x","y","top","left","width","height","className"];function _p(){return _p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_p.apply(null,arguments)}function bb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bb(Object(r),!0).forEach(function(n){N$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N$(e,t,r){return(t=S$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C$(e,t){if(e==null)return{};var r,n,a=P$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O$=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),A$=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:l}=e,c=C$(e,_$),u=k$({x:t,y:r,top:n,left:a,width:i,height:s},c);return!le(t)||!le(r)||!le(i)||!le(s)||!le(n)||!le(a)?null:v.createElement("path",_p({},ft(u,!0),{className:Se("recharts-cross",l),d:O$(t,r,i,s,n,a)}))};function T$(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wb(Object(r),!0).forEach(function(n){I$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$(e,t,r){return(t=D$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$(e){var t=$$(e,"string");return typeof t=="symbol"?t:t+""}function $$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ir(e,t){var r=M$({},e),n=t,a=Object.keys(t),i=a.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return i}function L$(){}function jb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _b(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jb(Object(r),!0).forEach(function(n){R$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R$(e,t,r){return(t=z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z$(e){var t=U$(e,"string");return typeof t=="symbol"?t:t+""}function U$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B$=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),F$=(e,t,r)=>e.map(n=>"".concat(B$(n)," ").concat(t,"ms ").concat(r)).join(","),q$=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),pl=(e,t)=>Object.keys(t).reduce((r,n)=>_b(_b({},r),{},{[n]:e(n,t[n])}),{});function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(r),!0).forEach(function(n){W$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W$(e,t,r){return(t=V$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V$(e){var t=H$(e,"string");return typeof t=="symbol"?t:t+""}function H$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ku=(e,t,r)=>e+(t-e)*r,kp=e=>{var{from:t,to:r}=e;return t!==r},lN=(e,t,r)=>{var n=pl((a,i)=>{if(kp(i)){var[s,l]=e(i.from,i.to,i.velocity);return yt(yt({},i),{},{from:s,velocity:l})}return i},t);return r<1?pl((a,i)=>kp(i)?yt(yt({},i),{},{velocity:Ku(i.velocity,n[a].velocity,r),from:Ku(i.from,n[a].from,r)}):i,t):lN(e,n,r-1)};function K$(e,t,r,n,a,i){var s,l=n.reduce((h,m)=>yt(yt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>pl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(kp).length,d=null,f=h=>{s||(s=h);var m=h-s,y=m/r.dt;l=lN(r,l,y),a(yt(yt(yt({},e),t),c())),s=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function G$(e,t,r,n,a,i,s){var l=null,c=a.reduce((f,h)=>yt(yt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=pl((x,w)=>Ku(...w,r(h)),c);if(i(yt(yt(yt({},e),t),m)),h<1)l=s.setTimeout(d);else{var y=pl((x,w)=>Ku(...w,r(1)),c);i(yt(yt(yt({},e),t),y))}};return()=>(l=s.setTimeout(d),()=>{l()})}const Y$=(e,t,r,n,a,i)=>{var s=q$(e,t);return r.isStepper===!0?K$(e,t,r,s,a,i):G$(e,t,r,n,s,a,i)};var Gu=1e-4,cN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],uN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Nb=(e,t)=>r=>{var n=cN(e,t);return uN(n,r)},Q$=(e,t)=>r=>{var n=cN(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return uN(a,r)},Sb=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(y=>parseFloat(y)))}}else s.length===4&&([t,n,r,a]=s);var u=Nb(t,r),d=Nb(n,a),f=Q$(t,r),h=y=>y>1?1:y<0?0:y,m=y=>{for(var x=y>1?1:y,w=x,b=0;b<8;++b){var p=u(w)-x,g=f(w);if(Math.abs(p-x)<Gu||g<Gu)return d(w);w=h(w-p/g)}return d(w)};return m.isStepper=!1,m},J$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,l,c)=>{var u=-(s-l)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+s;return Math.abs(h-l)<Gu&&Math.abs(f)<Gu?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},X$=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sb(e);case"spring":return J$();default:if(e.split("(")[0]==="cubic-bezier")return Sb(e)}return typeof e=="function"?e:null};function Z$(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class eL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function tL(){return Z$(new eL)}var rL=v.createContext(tL);function nL(e,t){var r=v.useContext(rL);return v.useMemo(()=>t??r(e),[e,t,r])}var aL={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Eb={t:0},Nh={t:1};function dN(e){var t=Ir(e,aL),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=nL(t.animationId,t.animationManager),[f,h]=v.useState(r?Eb:Nh),m=v.useRef(null);return v.useEffect(()=>{r||h(Nh)},[r]),v.useEffect(()=>{if(!r||!n)return L$;var y=Y$(Eb,Nh,X$(i),a,h,d.getTimeoutController()),x=()=>{m.current=y()};return d.start([c,s,x,a,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,a,i,s,c,l,d]),u(f.t)}function fN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(fl(t)),n=v.useRef(e);return n.current!==e&&(r.current=fl(t),n.current=e),r.current}function Cb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(r),!0).forEach(function(n){iL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iL(e,t,r){return(t=sL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=oL(e,"string");return typeof t=="symbol"?t:t+""}function oL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}var Ob=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);u="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},lL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cL=e=>{var t=Ir(e,lL),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&a(I)}catch{}},[]);var{x:i,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:x}=t,w=v.useRef(l),b=v.useRef(c),p=v.useRef(i),g=v.useRef(s),j=v.useMemo(()=>({x:i,y:s,width:l,height:c,radius:u}),[i,s,l,c,u]),_=fN(j,"rectangle-");if(i!==+i||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var N=Se("recharts-rectangle",d);if(!x)return v.createElement("path",Yu({},ft(t,!0),{className:N,d:Ob(i,s,l,c,u)}));var k=w.current,E=b.current,S=p.current,C=g.current,P="0px ".concat(n===-1?1:n,"px"),M="".concat(n,"px 0px"),$=F$(["strokeDasharray"],h,typeof f=="string"?f:void 0);return v.createElement(dN,{animationId:_,key:_,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},I=>{var W=jn(k,l,I),Q=jn(E,c,I),Y=jn(S,i,I),B=jn(C,s,I);r.current&&(w.current=W,b.current=Q,p.current=Y,g.current=B);var O;return y?I>0?O={transition:$,strokeDasharray:M}:O={strokeDasharray:P}:O={strokeDasharray:M},v.createElement("path",Yu({},ft(t,!0),{className:N,d:Ob(Y,B,W,Q,u),ref:r,style:Pb(Pb({},O),t.style)}))})};function hN(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=xt(t,r,n,a),l=xt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(null,arguments)}var uL=(e,t)=>{var r=_r(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ic=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Vu,f=c?a:a+i*d,h=xt(t,r,u,f),m=xt(t,r,n,f),y=c?a-i*d:a,x=xt(t,r,u*Math.cos(d*Vu),y);return{center:h,circleTangency:m,lineTangency:x,theta:d}},mN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,l=uL(i,s),c=i+l,u=xt(t,r,a,i),d=xt(t,r,a,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=xt(t,r,n,i),m=xt(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},dL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=_r(u-c),{circleTangency:f,lineTangency:h,theta:m}=Ic({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:y,lineTangency:x,theta:w}=Ic({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),b=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(b<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):mN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var p="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:g,lineTangency:j,theta:_}=Ic({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:k,theta:E}=Ic({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),S=l?Math.abs(c-u):Math.abs(c-u)-_-E;if(S<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(S>180),",").concat(+(d>0),",").concat(g.x,",").concat(g.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else p+="L".concat(t,",").concat(r,"Z");return p},fL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},hL=e=>{var t=Ir(e,fL),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Se("recharts-sector",f),m=i-a,y=Ea(s,m,0,!0),x;return y>0&&Math.abs(u-d)<360?x=dL({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=mN({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),v.createElement("path",Np({},ft(t,!0),{className:h,d:x}))};function mL(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=xt(l,c,u,f),m=xt(l,c,d,f);n=h.x,a=h.y,i=m.x,s=m.y}else return hN(t);return[{x:n,y:a},{x:i,y:s}]}var pN={},gN={},vN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E0;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(vN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(gN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C0,r=gN;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=a,a+=s;return c}e.range=n})(pN);var pL=pN.range;const yN=Ca(pL);function ja(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function z0(e){let t,r,n;e.length!==2?(t=ja,r=(l,c)=>ja(e(l),c),n=(l,c)=>e(l)-c):(t=e===ja||e===gL?e:vL,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function vL(){return 0}function xN(e){return e===null?NaN:+e}function*yL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const xL=z0(ja),Bl=xL.right;z0(xN).center;class Ab extends Map{constructor(t,r=jL){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Tb(this,t))}has(t){return super.has(Tb(this,t))}set(t,r){return super.set(bL(this,t),r)}delete(t){return super.delete(wL(this,t))}}function Tb({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function jL(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _L(e=ja){if(e===ja)return bN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function bN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const kL=Math.sqrt(50),NL=Math.sqrt(10),SL=Math.sqrt(2);function Qu(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=kL?10:i>=NL?5:i>=SL?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Qu(e,t,r*2):[l,c,u]}function Sp(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Qu(t,e,r):Qu(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function Ep(e,t,r){return t=+t,e=+e,r=+r,Qu(e,t,r)[2]}function Cp(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ep(t,e,r):Ep(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Mb(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Ib(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function wN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?bN:_L(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));wN(e,t,m,y,a)}const i=e[t];let s=r,l=n;for(po(e,r,t),a(e[n],i)>0&&po(e,r,n);s<l;){for(po(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?po(e,r,l):(++l,po(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function po(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function EL(e,t,r){if(e=Float64Array.from(yL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Ib(e);if(t>=1)return Mb(e);var n,a=(n-1)*t,i=Math.floor(a),s=Mb(wN(e,i).subarray(0,i+1)),l=Ib(e.subarray(i+1));return s+(l-s)*(a-i)}}function CL(e,t,r=xN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function PL(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Dr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Kn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pp=Symbol("implicit");function U0(){var e=new Ab,t=[],r=[],n=Pp;function a(i){let s=e.get(i);if(s===void 0){if(n!==Pp)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Ab;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return U0(t,r).unknown(n)},Dr.apply(a,arguments),a}function B0(){var e=U0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,y=m?a:n,x=m?n:a;i=(x-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(x-y-i*(h-c))*d,s=i*(1-c),l&&(y=Math.round(y),s=Math.round(s));var w=PL(h).map(function(b){return y+i*b});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return B0(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Dr.apply(f(),arguments)}function jN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jN(t())},e}function OL(){return jN(B0.apply(null,arguments).paddingInner(1))}function F0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function _N(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fl(){}var gl=.7,Ju=1/gl,cs="\\s*([+-]?\\d+)\\s*",vl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",AL=/^#([0-9a-f]{3,8})$/,TL=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),ML=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),IL=new RegExp(`^rgba\\(${cs},${cs},${cs},${vl}\\)$`),DL=new RegExp(`^rgba\\(${dn},${dn},${dn},${vl}\\)$`),$L=new RegExp(`^hsl\\(${vl},${dn},${dn}\\)$`),LL=new RegExp(`^hsla\\(${vl},${dn},${dn},${vl}\\)$`),Db={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F0(Fl,yl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$b,formatHex:$b,formatHex8:RL,formatHsl:zL,formatRgb:Lb,toString:Lb});function $b(){return this.rgb().formatHex()}function RL(){return this.rgb().formatHex8()}function zL(){return kN(this).formatHsl()}function Lb(){return this.rgb().formatRgb()}function yl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=AL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Rb(t):r===3?new Vt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Dc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Dc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TL.exec(e))?new Vt(t[1],t[2],t[3],1):(t=ML.exec(e))?new Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=IL.exec(e))?Dc(t[1],t[2],t[3],t[4]):(t=DL.exec(e))?Dc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$L.exec(e))?Bb(t[1],t[2]/100,t[3]/100,1):(t=LL.exec(e))?Bb(t[1],t[2]/100,t[3]/100,t[4]):Db.hasOwnProperty(e)?Rb(Db[e]):e==="transparent"?new Vt(NaN,NaN,NaN,0):null}function Rb(e){return new Vt(e>>16&255,e>>8&255,e&255,1)}function Dc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vt(e,t,r,n)}function UL(e){return e instanceof Fl||(e=yl(e)),e?(e=e.rgb(),new Vt(e.r,e.g,e.b,e.opacity)):new Vt}function Op(e,t,r,n){return arguments.length===1?UL(e):new Vt(e,t,r,n??1)}function Vt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}F0(Vt,Op,_N(Fl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gl:Math.pow(gl,e),new Vt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vt(oi(this.r),oi(this.g),oi(this.b),Xu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zb,formatHex:zb,formatHex8:BL,formatRgb:Ub,toString:Ub}));function zb(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function BL(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ub(){const e=Xu(this.opacity);return`${e===1?"rgb(":"rgba("}${oi(this.r)}, ${oi(this.g)}, ${oi(this.b)}${e===1?")":`, ${e})`}`}function Xu(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function oi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Za(e){return e=oi(e),(e<16?"0":"")+e.toString(16)}function Bb(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,r,n)}function kN(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof Fl||(e=yl(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Hr(s,l,c,e.opacity)}function FL(e,t,r,n){return arguments.length===1?kN(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}F0(Hr,FL,_N(Fl,{brighter(e){return e=e==null?Ju:Math.pow(Ju,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gl:Math.pow(gl,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vt(Sh(e>=240?e-240:e+120,a,n),Sh(e,a,n),Sh(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Hr(Fb(this.h),$c(this.s),$c(this.l),Xu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xu(this.opacity);return`${e===1?"hsl(":"hsla("}${Fb(this.h)}, ${$c(this.s)*100}%, ${$c(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Fb(e){return e=(e||0)%360,e<0?e+360:e}function $c(e){return Math.max(0,Math.min(1,e||0))}function Sh(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const q0=e=>()=>e;function qL(e,t){return function(r){return e+r*t}}function WL(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function VL(e){return(e=+e)==1?NN:function(t,r){return r-t?WL(t,r,e):q0(isNaN(t)?r:t)}}function NN(e,t){var r=t-e;return r?qL(e,r):q0(isNaN(e)?t:e)}const qb=function e(t){var r=VL(t);function n(a,i){var s=r((a=Op(a)).r,(i=Op(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=NN(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function HL(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function KL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GL(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Ws(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function YL(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zu(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function QL(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ws(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Ap=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eh=new RegExp(Ap.source,"g");function JL(e){return function(){return e}}function XL(e){return function(t){return e(t)+""}}function ZL(e,t){var r=Ap.lastIndex=Eh.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ap.exec(e))&&(a=Eh.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Zu(n,a)})),r=Eh.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?XL(c[0].x):JL(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Ws(e,t){var r=typeof t,n;return t==null||r==="boolean"?q0(t):(r==="number"?Zu:r==="string"?(n=yl(t))?(t=n,qb):ZL:t instanceof yl?qb:t instanceof Date?YL:KL(t)?HL:Array.isArray(t)?GL:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?QL:Zu)(e,t)}function W0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eR(e,t){t===void 0&&(t=e,e=Ws);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function tR(e){return function(){return e}}function ed(e){return+e}var Wb=[0,1];function It(e){return e}function Tp(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tR(isNaN(t)?NaN:.5)}function rR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nR(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=Tp(a,n),i=r(s,i)):(n=Tp(n,a),i=r(i,s)),function(l){return i(n(l))}}function aR(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=Tp(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Bl(e,l,1,n)-1;return i[c](a[c](l))}}function ql(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function lf(){var e=Wb,t=Wb,r=Ws,n,a,i,s=It,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==It&&(s=rR(e[0],e[h-1])),l=h>2?aR:nR,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Zu)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ed),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=W0,d()},f.clamp=function(h){return arguments.length?(s=h?!0:It,d()):s!==It},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function V0(){return lf()(It,It)}function iR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function td(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Os(e){return e=td(Math.abs(e)),e?e[1]:NaN}function sR(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function oR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xl(e){if(!(t=lR.exec(e)))throw new Error("invalid format: "+e);var t;return new H0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xl.prototype=H0.prototype;function H0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}H0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cR(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var SN;function uR(e,t){var r=td(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(SN=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+td(e,Math.max(0,t+i-1))[0]}function Vb(e,t){var r=td(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Hb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vb(e*100,t),r:Vb,s:uR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kb(e){return e}var Gb=Array.prototype.map,Yb=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dR(e){var t=e.grouping===void 0||e.thousands===void 0?Kb:sR(Gb.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Kb:oR(Gb.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=xl(f);var h=f.fill,m=f.align,y=f.sign,x=f.symbol,w=f.zero,b=f.width,p=f.comma,g=f.precision,j=f.trim,_=f.type;_==="n"?(p=!0,_="g"):Hb[_]||(g===void 0&&(g=12),j=!0,_="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",k=x==="$"?n:/[%p]/.test(_)?s:"",E=Hb[_],S=/[defgprs%]/.test(_);g=g===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function C(P){var M=N,$=k,I,W,Q;if(_==="c")$=E(P)+$,P="";else{P=+P;var Y=P<0||1/P<0;if(P=isNaN(P)?c:E(Math.abs(P),g),j&&(P=cR(P)),Y&&+P==0&&y!=="+"&&(Y=!1),M=(Y?y==="("?y:l:y==="-"||y==="("?"":y)+M,$=(_==="s"?Yb[8+SN/3]:"")+$+(Y&&y==="("?")":""),S){for(I=-1,W=P.length;++I<W;)if(Q=P.charCodeAt(I),48>Q||Q>57){$=(Q===46?a+P.slice(I+1):P.slice(I))+$,P=P.slice(0,I);break}}}p&&!w&&(P=t(P,1/0));var B=M.length+P.length+$.length,O=B<b?new Array(b-B+1).join(h):"";switch(p&&w&&(P=t(O+P,O.length?b-$.length:1/0),O=""),m){case"<":P=M+P+$+O;break;case"=":P=M+O+P+$;break;case"^":P=O.slice(0,B=O.length>>1)+M+P+$+O.slice(B);break;default:P=O+M+P+$;break}return i(P)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=xl(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Os(h)/3)))*3,x=Math.pow(10,-y),w=Yb[8+y/3];return function(b){return m(x*b)+w}}return{format:u,formatPrefix:d}}var Lc,K0,EN;fR({thousands:",",grouping:[3],currency:["$",""]});function fR(e){return Lc=dR(e),K0=Lc.format,EN=Lc.formatPrefix,Lc}function hR(e){return Math.max(0,-Os(Math.abs(e)))}function mR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function pR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function CN(e,t,r,n){var a=Cp(e,t,r),i;switch(n=xl(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mR(a,s))&&(n.precision=i),EN(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=pR(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hR(a))&&(n.precision=i-(n.type==="%")*2);break}}return K0(n)}function $a(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sp(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return CN(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Ep(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function PN(){var e=V0();return e.copy=function(){return ql(e,PN())},Dr.apply(e,arguments),$a(e)}function ON(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ed),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return ON(e).unknown(t)},e=arguments.length?Array.from(e,ed):[0,1],$a(r)}function AN(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Qb(e){return Math.log(e)}function Jb(e){return Math.exp(e)}function gR(e){return-Math.log(-e)}function vR(e){return-Math.exp(-e)}function yR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xR(e){return e===10?yR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xb(e){return(t,r)=>-e(-t,r)}function G0(e){const t=e(Qb,Jb),r=t.domain;let n=10,a,i;function s(){return a=bR(n),i=xR(n),r()[0]<0?(a=Xb(a),i=Xb(i),e(gR,vR)):e(Qb,Jb),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),y,x;const w=l==null?10:+l;let b=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(x=h<0?y/i(-h):y*i(h),!(x<u)){if(x>d)break;b.push(x)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(x=h>0?y/i(-h):y*i(h),!(x<u)){if(x>d)break;b.push(x)}b.length*2<w&&(b=Sp(u,d,w))}else b=Sp(h,m,Math.min(m-h,w)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=xl(c)).precision==null&&(c.trim=!0),c=K0(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(AN(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function TN(){const e=G0(lf()).domain([1,10]);return e.copy=()=>ql(e,TN()).base(e.base()),Dr.apply(e,arguments),e}function Zb(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ew(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Y0(e){var t=1,r=e(Zb(t),ew(t));return r.constant=function(n){return arguments.length?e(Zb(t=+n),ew(t)):t},$a(r)}function MN(){var e=Y0(lf());return e.copy=function(){return ql(e,MN()).constant(e.constant())},Dr.apply(e,arguments)}function tw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jR(e){return e<0?-e*e:e*e}function Q0(e){var t=e(It,It),r=1;function n(){return r===1?e(It,It):r===.5?e(wR,jR):e(tw(r),tw(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$a(t)}function J0(){var e=Q0(lf());return e.copy=function(){return ql(e,J0()).exponent(e.exponent())},Dr.apply(e,arguments),e}function _R(){return J0.apply(null,arguments).exponent(.5)}function rw(e){return Math.sign(e)*e*e}function kR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function IN(){var e=V0(),t=[0,1],r=!1,n;function a(i){var s=kR(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(rw(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ed)).map(rw)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return IN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Dr.apply(a,arguments),$a(a)}function DN(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=CL(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Bl(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ja),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return DN().domain(e).range(t).unknown(n)},Dr.apply(i,arguments)}function $N(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Bl(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $N().domain([e,t]).range(a).unknown(i)},Dr.apply($a(s),arguments)}function LN(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Bl(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return LN().domain(e).range(t).unknown(r)},Dr.apply(a,arguments)}const Ch=new Date,Ph=new Date;function st(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>st(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(Ch.setTime(+i),Ph.setTime(+s),e(Ch),e(Ph),Math.floor(r(Ch,Ph))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const rd=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rd);rd.range;const En=1e3,kr=En*60,Cn=kr*60,Un=Cn*24,X0=Un*7,nw=Un*30,Oh=Un*365,ei=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCSeconds());ei.range;const Z0=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*En)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes());Z0.range;const ev=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes());ev.range;const tv=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*En-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getHours());tv.range;const rv=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCHours());rv.range;const Wl=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Un,e=>e.getDate()-1);Wl.range;const cf=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>e.getUTCDate()-1);cf.range;const RN=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Un,e=>Math.floor(e/Un));RN.range;function Ei(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kr)/X0)}const uf=Ei(0),nd=Ei(1),NR=Ei(2),SR=Ei(3),As=Ei(4),ER=Ei(5),CR=Ei(6);uf.range;nd.range;NR.range;SR.range;As.range;ER.range;CR.range;function Ci(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/X0)}const df=Ci(0),ad=Ci(1),PR=Ci(2),OR=Ci(3),Ts=Ci(4),AR=Ci(5),TR=Ci(6);df.range;ad.range;PR.range;OR.range;Ts.range;AR.range;TR.range;const nv=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nv.range;const av=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());av.range;const Bn=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bn.range;const Fn=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fn.range;function zN(e,t,r,n,a,i){const s=[[ei,1,En],[ei,5,5*En],[ei,15,15*En],[ei,30,30*En],[i,1,kr],[i,5,5*kr],[i,15,15*kr],[i,30,30*kr],[a,1,Cn],[a,3,3*Cn],[a,6,6*Cn],[a,12,12*Cn],[n,1,Un],[n,2,2*Un],[r,1,X0],[t,1,nw],[t,3,3*nw],[e,1,Oh]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=z0(([,,w])=>w).right(s,h);if(m===s.length)return e.every(Cp(u/Oh,d/Oh,f));if(m===0)return rd.every(Math.max(Cp(u,d,f),1));const[y,x]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return y.every(x)}return[l,c]}const[MR,IR]=zN(Fn,av,df,RN,rv,ev),[DR,$R]=zN(Bn,nv,uf,Wl,tv,Z0);function Ah(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Th(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function go(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LR(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=vo(a),d=yo(a),f=vo(i),h=yo(i),m=vo(s),y=yo(s),x=vo(l),w=yo(l),b=vo(c),p=yo(c),g={a:Y,A:B,b:O,B:L,c:null,d:cw,e:cw,f:s8,g:g8,G:y8,H:n8,I:a8,j:i8,L:UN,m:o8,M:l8,p:U,q,Q:fw,s:hw,S:c8,u:u8,U:d8,V:f8,w:h8,W:m8,x:null,X:null,y:p8,Y:v8,Z:x8,"%":dw},j={a:ce,A:fe,b:pe,B:De,c:null,d:uw,e:uw,f:_8,g:M8,G:D8,H:b8,I:w8,j:j8,L:FN,m:k8,M:N8,p:ie,q:zt,Q:fw,s:hw,S:S8,u:E8,U:C8,V:P8,w:O8,W:A8,x:null,X:null,y:T8,Y:I8,Z:$8,"%":dw},_={a:C,A:P,b:M,B:$,c:I,d:ow,e:ow,f:ZR,g:sw,G:iw,H:lw,I:lw,j:YR,L:XR,m:GR,M:QR,p:S,q:KR,Q:t8,s:r8,S:JR,u:FR,U:qR,V:WR,w:BR,W:VR,x:W,X:Q,y:sw,Y:iw,Z:HR,"%":e8};g.x=N(r,g),g.X=N(n,g),g.c=N(t,g),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N(A,G){return function(X){var R=[],xe=-1,ue=0,be=A.length,qe,kt,vn;for(X instanceof Date||(X=new Date(+X));++xe<be;)A.charCodeAt(xe)===37&&(R.push(A.slice(ue,xe)),(kt=aw[qe=A.charAt(++xe)])!=null?qe=A.charAt(++xe):kt=qe==="e"?" ":"0",(vn=G[qe])&&(qe=vn(X,kt)),R.push(qe),ue=xe+1);return R.push(A.slice(ue,xe)),R.join("")}}function k(A,G){return function(X){var R=go(1900,void 0,1),xe=E(R,A,X+="",0),ue,be;if(xe!=X.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(G&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ue=Th(go(R.y,0,1)),be=ue.getUTCDay(),ue=be>4||be===0?ad.ceil(ue):ad(ue),ue=cf.offset(ue,(R.V-1)*7),R.y=ue.getUTCFullYear(),R.m=ue.getUTCMonth(),R.d=ue.getUTCDate()+(R.w+6)%7):(ue=Ah(go(R.y,0,1)),be=ue.getDay(),ue=be>4||be===0?nd.ceil(ue):nd(ue),ue=Wl.offset(ue,(R.V-1)*7),R.y=ue.getFullYear(),R.m=ue.getMonth(),R.d=ue.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),be="Z"in R?Th(go(R.y,0,1)).getUTCDay():Ah(go(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(be+5)%7:R.w+R.U*7-(be+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,Th(R)):Ah(R)}}function E(A,G,X,R){for(var xe=0,ue=G.length,be=X.length,qe,kt;xe<ue;){if(R>=be)return-1;if(qe=G.charCodeAt(xe++),qe===37){if(qe=G.charAt(xe++),kt=_[qe in aw?G.charAt(xe++):qe],!kt||(R=kt(A,X,R))<0)return-1}else if(qe!=X.charCodeAt(R++))return-1}return R}function S(A,G,X){var R=u.exec(G.slice(X));return R?(A.p=d.get(R[0].toLowerCase()),X+R[0].length):-1}function C(A,G,X){var R=m.exec(G.slice(X));return R?(A.w=y.get(R[0].toLowerCase()),X+R[0].length):-1}function P(A,G,X){var R=f.exec(G.slice(X));return R?(A.w=h.get(R[0].toLowerCase()),X+R[0].length):-1}function M(A,G,X){var R=b.exec(G.slice(X));return R?(A.m=p.get(R[0].toLowerCase()),X+R[0].length):-1}function $(A,G,X){var R=x.exec(G.slice(X));return R?(A.m=w.get(R[0].toLowerCase()),X+R[0].length):-1}function I(A,G,X){return E(A,t,G,X)}function W(A,G,X){return E(A,r,G,X)}function Q(A,G,X){return E(A,n,G,X)}function Y(A){return s[A.getDay()]}function B(A){return i[A.getDay()]}function O(A){return c[A.getMonth()]}function L(A){return l[A.getMonth()]}function U(A){return a[+(A.getHours()>=12)]}function q(A){return 1+~~(A.getMonth()/3)}function ce(A){return s[A.getUTCDay()]}function fe(A){return i[A.getUTCDay()]}function pe(A){return c[A.getUTCMonth()]}function De(A){return l[A.getUTCMonth()]}function ie(A){return a[+(A.getUTCHours()>=12)]}function zt(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var G=N(A+="",g);return G.toString=function(){return A},G},parse:function(A){var G=k(A+="",!1);return G.toString=function(){return A},G},utcFormat:function(A){var G=N(A+="",j);return G.toString=function(){return A},G},utcParse:function(A){var G=k(A+="",!0);return G.toString=function(){return A},G}}}var aw={"-":"",_:" ",0:"0"},ht=/^\s*\d+/,RR=/^%/,zR=/[\\^$*+?|[\]().{}]/g;function ye(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function UR(e){return e.replace(zR,"\\$&")}function vo(e){return new RegExp("^(?:"+e.map(UR).join("|")+")","i")}function yo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BR(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function FR(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function VR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iw(e,t,r){var n=ht.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sw(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function HR(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KR(e,t,r){var n=ht.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function ow(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YR(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lw(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JR(e,t,r){var n=ht.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XR(e,t,r){var n=ht.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ZR(e,t,r){var n=ht.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function e8(e,t,r){var n=RR.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function t8(e,t,r){var n=ht.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function r8(e,t,r){var n=ht.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cw(e,t){return ye(e.getDate(),t,2)}function n8(e,t){return ye(e.getHours(),t,2)}function a8(e,t){return ye(e.getHours()%12||12,t,2)}function i8(e,t){return ye(1+Wl.count(Bn(e),e),t,3)}function UN(e,t){return ye(e.getMilliseconds(),t,3)}function s8(e,t){return UN(e,t)+"000"}function o8(e,t){return ye(e.getMonth()+1,t,2)}function l8(e,t){return ye(e.getMinutes(),t,2)}function c8(e,t){return ye(e.getSeconds(),t,2)}function u8(e){var t=e.getDay();return t===0?7:t}function d8(e,t){return ye(uf.count(Bn(e)-1,e),t,2)}function BN(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function f8(e,t){return e=BN(e),ye(As.count(Bn(e),e)+(Bn(e).getDay()===4),t,2)}function h8(e){return e.getDay()}function m8(e,t){return ye(nd.count(Bn(e)-1,e),t,2)}function p8(e,t){return ye(e.getFullYear()%100,t,2)}function g8(e,t){return e=BN(e),ye(e.getFullYear()%100,t,2)}function v8(e,t){return ye(e.getFullYear()%1e4,t,4)}function y8(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),ye(e.getFullYear()%1e4,t,4)}function x8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ye(t/60|0,"0",2)+ye(t%60,"0",2)}function uw(e,t){return ye(e.getUTCDate(),t,2)}function b8(e,t){return ye(e.getUTCHours(),t,2)}function w8(e,t){return ye(e.getUTCHours()%12||12,t,2)}function j8(e,t){return ye(1+cf.count(Fn(e),e),t,3)}function FN(e,t){return ye(e.getUTCMilliseconds(),t,3)}function _8(e,t){return FN(e,t)+"000"}function k8(e,t){return ye(e.getUTCMonth()+1,t,2)}function N8(e,t){return ye(e.getUTCMinutes(),t,2)}function S8(e,t){return ye(e.getUTCSeconds(),t,2)}function E8(e){var t=e.getUTCDay();return t===0?7:t}function C8(e,t){return ye(df.count(Fn(e)-1,e),t,2)}function qN(e){var t=e.getUTCDay();return t>=4||t===0?Ts(e):Ts.ceil(e)}function P8(e,t){return e=qN(e),ye(Ts.count(Fn(e),e)+(Fn(e).getUTCDay()===4),t,2)}function O8(e){return e.getUTCDay()}function A8(e,t){return ye(ad.count(Fn(e)-1,e),t,2)}function T8(e,t){return ye(e.getUTCFullYear()%100,t,2)}function M8(e,t){return e=qN(e),ye(e.getUTCFullYear()%100,t,2)}function I8(e,t){return ye(e.getUTCFullYear()%1e4,t,4)}function D8(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ts(e):Ts.ceil(e),ye(e.getUTCFullYear()%1e4,t,4)}function $8(){return"+0000"}function dw(){return"%"}function fw(e){return+e}function hw(e){return Math.floor(+e/1e3)}var Li,WN,VN;L8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function L8(e){return Li=LR(e),WN=Li.format,Li.parse,VN=Li.utcFormat,Li.utcParse,Li}function R8(e){return new Date(e)}function z8(e){return e instanceof Date?+e:+new Date(+e)}function iv(e,t,r,n,a,i,s,l,c,u){var d=V0(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),x=u("%I:%M"),w=u("%I %p"),b=u("%a %d"),p=u("%b %d"),g=u("%B"),j=u("%Y");function _(N){return(c(N)<N?m:l(N)<N?y:s(N)<N?x:i(N)<N?w:n(N)<N?a(N)<N?b:p:r(N)<N?g:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,z8)):h().map(R8)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?_:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(AN(k,N)):d},d.copy=function(){return ql(d,iv(e,t,r,n,a,i,s,l,c,u))},d}function U8(){return Dr.apply(iv(DR,$R,Bn,nv,uf,Wl,tv,Z0,ei,WN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function B8(){return Dr.apply(iv(MR,IR,Fn,av,df,cf,rv,ev,ei,VN).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ff(){var e=0,t=1,r,n,a,i,s=It,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,s=f(m,y),u):[s(0),s(1)]}}return u.range=d(Ws),u.rangeRound=d(W0),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function La(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function HN(){var e=$a(ff()(It));return e.copy=function(){return La(e,HN())},Kn.apply(e,arguments)}function KN(){var e=G0(ff()).domain([1,10]);return e.copy=function(){return La(e,KN()).base(e.base())},Kn.apply(e,arguments)}function GN(){var e=Y0(ff());return e.copy=function(){return La(e,GN()).constant(e.constant())},Kn.apply(e,arguments)}function sv(){var e=Q0(ff());return e.copy=function(){return La(e,sv()).exponent(e.exponent())},Kn.apply(e,arguments)}function F8(){return sv.apply(null,arguments).exponent(.5)}function YN(){var e=[],t=It;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bl(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ja),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>EL(e,i/n))},r.copy=function(){return YN(t).domain(e)},Kn.apply(r,arguments)}function hf(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=It,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function y(x){return function(w){var b,p,g;return arguments.length?([b,p,g]=w,u=eR(x,[b,p,g]),m):[u(0),u(.5),u(1)]}}return m.range=y(Ws),m.rangeRound=y(W0),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),s=x(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function QN(){var e=$a(hf()(It));return e.copy=function(){return La(e,QN())},Kn.apply(e,arguments)}function JN(){var e=G0(hf()).domain([.1,1,10]);return e.copy=function(){return La(e,JN()).base(e.base())},Kn.apply(e,arguments)}function XN(){var e=Y0(hf());return e.copy=function(){return La(e,XN()).constant(e.constant())},Kn.apply(e,arguments)}function ov(){var e=Q0(hf());return e.copy=function(){return La(e,ov()).exponent(e.exponent())},Kn.apply(e,arguments)}function q8(){return ov.apply(null,arguments).exponent(.5)}const No=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:B0,scaleDiverging:QN,scaleDivergingLog:JN,scaleDivergingPow:ov,scaleDivergingSqrt:q8,scaleDivergingSymlog:XN,scaleIdentity:ON,scaleImplicit:Pp,scaleLinear:PN,scaleLog:TN,scaleOrdinal:U0,scalePoint:OL,scalePow:J0,scaleQuantile:DN,scaleQuantize:$N,scaleRadial:IN,scaleSequential:HN,scaleSequentialLog:KN,scaleSequentialPow:sv,scaleSequentialQuantile:YN,scaleSequentialSqrt:F8,scaleSequentialSymlog:GN,scaleSqrt:_R,scaleSymlog:MN,scaleThreshold:LN,scaleTime:U8,scaleUtc:B8,tickFormat:CN},Symbol.toStringTag,{value:"Module"}));var Ra=e=>e.chartData,W8=D([Ra],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),lv=(e,t,r,n)=>n?W8(e):Ra(e);function Ms(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Jr(t)&&Jr(r))return!0}return!1}function mw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function V8(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Jr(r))a=r;else if(typeof r=="function")return;if(Jr(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(Ms(s))return s}}function H8(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ms(n))return mw(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,l;if(a==="auto")t!=null&&(s=Math.min(...t));else if(le(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&lb.test(a)){var c=lb.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(le(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&cb.test(i)){var d=cb.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[s,l];if(Ms(h))return t==null?h:mw(h,t,r)}}}var Vs=1e9,K8={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},uv,Le=!0,Tr="[DecimalError] ",li=Tr+"Invalid argument: ",cv=Tr+"Exponent out of range: ",Hs=Math.floor,Ka=Math.pow,G8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,lt=1e7,Te=7,ZN=9007199254740991,id=Hs(ZN/Te),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Te;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Tn(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return Ne(Tn(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return Je(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nr))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(nr)?new n(0):(Le=!1,t=Tn(bl(r,i),bl(e,i),i),Le=!0,Ne(t,a))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rS(t,e):eS(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?(Le=!1,t=Tn(r,e,0,1).times(e),Le=!0,r.minus(t)):Ne(new n(r),a)};re.naturalExponential=re.exp=function(){return tS(this)};re.naturalLogarithm=re.ln=function(){return bl(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eS(t,e):rS(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(li+e);if(t=Je(a)+1,n=a.d.length-1,r=n*Te+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(e=Je(l),Le=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=on(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Hs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Tn(l,i,s+2)).times(.5),on(i.d).slice(0,s)===(t=on(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Ne(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return Le=!0,Ne(n,r)};re.times=re.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%lt|0,t=l/lt|0;i[a]=(i[a]+t)%lt|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Le?Ne(e,f.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(hn(e,0,Vs),t===void 0?t=n.rounding:hn(t,0,8),Ne(r,e+Je(r)+1,t))};re.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=yi(n,!0):(hn(e,0,Vs),t===void 0?t=a.rounding:hn(t,0,8),n=Ne(new a(n),e+1,t),r=yi(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?yi(a):(hn(e,0,Vs),t===void 0?t=i.rounding:hn(t,0,8),n=Ne(new i(a),e+Je(a)+1,t),r=yi(n.abs(),!1,e+Je(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return Ne(new t(e),Je(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(nr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(nr))return l;if(n=c.precision,e.eq(nr))return Ne(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=ZN){for(a=new c(nr),t=Math.ceil(n/Te+4),Le=!1;r%2&&(a=a.times(l),gw(a.d,t)),r=Hs(r/2),r!==0;)l=l.times(l),gw(l.d,t);return Le=!0,e.s<0?new c(nr).div(a):Ne(a,n)}}else if(i<0)throw Error(Tr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Le=!1,a=e.times(bl(l,n+u)),Le=!0,a=tS(a),a.s=i,a};re.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Je(a),n=yi(a,r<=i.toExpNeg||r>=i.toExpPos)):(hn(e,1,Vs),t===void 0?t=i.rounding:hn(t,0,8),a=Ne(new i(a),e,t),r=Je(a),n=yi(a,e<=r||r<=i.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(hn(e,1,Vs),t===void 0?t=n.rounding:hn(t,0,8)),Ne(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Je(e),r=e.constructor;return yi(e,t<=r.toExpNeg||t>=r.toExpPos)};function eS(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Le?Ne(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Te),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/lt|0,c[i]%=lt;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Le?Ne(t,f):t}function hn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(li+e)}function on(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Te-n.length,r&&(i+=aa(r)),i+=n;s=e[t],n=s+"",r=Te-n.length,r&&(i+=aa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Tn=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%lt|0,s=i/lt|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*lt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,m,y,x,w,b,p,g,j,_,N,k,E,S=n.constructor,C=n.s==a.s?1:-1,P=n.d,M=a.d;if(!n.s)return new S(n);if(!a.s)throw Error(Tr+"Division by zero");for(c=n.e-a.e,k=M.length,_=P.length,m=new S(C),y=m.d=[],u=0;M[u]==(P[u]||0);)++u;if(M[u]>(P[u]||0)&&--c,i==null?p=i=S.precision:s?p=i+(Je(n)-Je(a))+1:p=i,p<0)return new S(0);if(p=p/Te+2|0,u=0,k==1)for(d=0,M=M[0],p++;(u<_||d)&&p--;u++)g=d*lt+(P[u]||0),y[u]=g/M|0,d=g%M|0;else{for(d=lt/(M[0]+1)|0,d>1&&(M=e(M,d),P=e(P,d),k=M.length,_=P.length),j=k,x=P.slice(0,k),w=x.length;w<k;)x[w++]=0;E=M.slice(),E.unshift(0),N=M[0],M[1]>=lt/2&&++N;do d=0,l=t(M,x,k,w),l<0?(b=x[0],k!=w&&(b=b*lt+(x[1]||0)),d=b/N|0,d>1?(d>=lt&&(d=lt-1),f=e(M,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,k<h?E:M,h))):(d==0&&(l=d=1),f=M.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(M,x,k,w),l<1&&(d++,r(x,k<w?E:M,w))),w=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[w++]=P[j]||0:(x=[P[j]],w=1);while((j++<_||x[0]!==void 0)&&p--)}return y[0]||y.shift(),m.e=c,Ne(m,s?i+Je(m)+1:i)}}();function tS(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Je(e)>16)throw Error(cv+Je(e));if(!e.s)return new d(nr);for(t==null?(Le=!1,l=f):l=t,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ka(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(nr),d.precision=l;;){if(a=Ne(a.times(e),l),r=r.times(++c),s=i.plus(Tn(a,r,l)),on(s.d).slice(0,l)===on(i.d).slice(0,l)){for(;u--;)i=Ne(i.times(i),l);return d.precision=f,t==null?(Le=!0,Ne(i,f)):i}i=s}}function Je(e){for(var t=e.e*Te,r=e.d[0];r>=10;r/=10)t++;return t}function Mh(e,t,r){if(t>e.LN10.sd())throw Le=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return Ne(new e(e.LN10),t)}function aa(e){for(var t="";e--;)t+="0";return t}function bl(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,m=e,y=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Tr+(m.s?"NaN":"-Infinity"));if(m.eq(nr))return new x(0);if(t==null?(Le=!1,u=w):u=t,m.eq(10))return t==null&&(Le=!0),Mh(x,u);if(u+=h,x.precision=u,r=on(y),n=r.charAt(0),i=Je(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=on(m.d),n=r.charAt(0),f++;i=Je(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Mh(x,u+2,w).times(i+""),m=bl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?(Le=!0,Ne(m,w)):m;for(l=s=m=Tn(m.minus(nr),m.plus(nr),u),d=Ne(m.times(m),u),a=3;;){if(s=Ne(s.times(d),u),c=l.plus(Tn(s,new x(a),u)),on(c.d).slice(0,u)===on(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Mh(x,u+2,w).times(i+""))),l=Tn(l,new x(f),u),x.precision=w,t==null?(Le=!0,Ne(l,w)):l;l=c,a+=2}}function pw(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Hs(r/Te),e.d=[],n=(r+1)%Te,r<0&&(n+=Te),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Te;n<a;)e.d.push(+t.slice(n,n+=Te));t=t.slice(n),n=Te-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Le&&(e.e>id||e.e<-id))throw Error(cv+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ne(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Te,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Te),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Te,a=n-Te+s}if(r!==void 0&&(i=Ka(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ka(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Je(e),f.length=1,t=t-i-1,f[0]=Ka(10,(Te-t%Te)%Te),e.e=Hs(-t/Te)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ka(10,Te-n),f[d]=a>0?(u/Ka(10,s-a)%Ka(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==lt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=lt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Le&&(e.e>id||e.e<-id))throw Error(cv+Je(e));return e}function rS(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Le?Ne(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Te),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=lt-1;--c[i],c[a]+=lt}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Le?Ne(t,m):t):new h(0)}function yi(e,t,r){var n,a=Je(e),i=on(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+aa(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+aa(-a-1)+i,r&&(n=r-s)>0&&(i+=aa(n))):a>=s?(i+=aa(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+aa(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=aa(n))),e.s<0?"-"+i:i}function gw(e,t){if(e.length>t)return e.length=t,!0}function nS(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(li+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return pw(s,i.toString())}else if(typeof i!="string")throw Error(li+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,G8.test(i))pw(s,i);else throw Error(li+i)}if(a.prototype=re,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=nS,a.config=a.set=Y8,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Y8(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,a=["precision",1,Vs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Hs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(li+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(li+r+": "+n);return this}var uv=nS(K8);nr=new uv(1);const je=uv;var Q8=e=>e,aS={"@@functional/placeholder":!0},iS=e=>e===aS,vw=e=>function t(){return arguments.length===0||arguments.length===1&&iS(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},sS=(e,t)=>e===1?t:vw(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==aS).length;return i>=e?t(...n):sS(e-i,vw(function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=n.map(d=>iS(d)?l.shift():d);return t(...u,...l)}))}),mf=e=>sS(e.length,e),Mp=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},J8=mf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),X8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Q8;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((l,c)=>c(l),i(...arguments))}},Ip=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),oS=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,l)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[l])})||(t=a,r=e(...a)),r}};function lS(e){var t;return e===0?t=1:t=Math.floor(new je(e).abs().log(10).toNumber())+1,t}function cS(e,t,r){for(var n=new je(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}mf((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});mf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});mf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var uS=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},dS=(e,t,r)=>{if(e.lte(0))return new je(0);var n=lS(e.toNumber()),a=new je(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new je(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?new je(c.toNumber()):new je(Math.ceil(c.toNumber()))},Z8=(e,t,r)=>{var n=new je(1),a=new je(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new je(10).pow(lS(e)-1),a=new je(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new je(Math.floor(e)))}else e===0?a=new je(Math.floor((t-1)/2)):r||(a=new je(Math.floor(e)));var s=Math.floor((t-1)/2),l=X8(J8(c=>a.add(new je(c-s).mul(n)).toNumber()),Mp);return l(0,t)},fS=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new je(0),tickMin:new je(0),tickMax:new je(0)};var s=dS(new je(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new je(0):(l=new je(t).add(r).div(2),l=l.sub(new je(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new je(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?fS(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new je(c).mul(s)),tickMax:l.add(new je(u).mul(s))})};function ez(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,l]=uS([t,r]);if(s===-1/0||l===1/0){var c=l===1/0?[s,...Mp(0,n-1).map(()=>1/0)]:[...Mp(0,n-1).map(()=>-1/0),l];return t>r?Ip(c):c}if(s===l)return Z8(s,n,a);var{step:u,tickMin:d,tickMax:f}=fS(s,l,i,a,0),h=cS(d,f.add(new je(.1).mul(u)),u);return t>r?Ip(h):h}function tz(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=uS([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var l=Math.max(t,2),c=dS(new je(s).sub(i).div(l-1),a,0),u=[...cS(new je(i),new je(s),c),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?Ip(u):u}var rz=oS(ez),nz=oS(tz),az=e=>e.rootProps.barCategoryGap,pf=e=>e.rootProps.stackOffset,dv=e=>e.options.chartName,fv=e=>e.rootProps.syncId,hS=e=>e.rootProps.syncMethod,hv=e=>e.options.eventEmitter,_n={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},er={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},gf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:_n.type,unit:void 0},sz={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},oz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lz={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:"category",unit:void 0},mv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oz:iz,pv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?lz:sz,vf=e=>e.polarOptions,gv=D([Vn,Hn,_t],sD),mS=D([vf,gv],(e,t)=>{if(e!=null)return Ea(e.innerRadius,t,0)}),pS=D([vf,gv],(e,t)=>{if(e!=null)return Ea(e.outerRadius,t,t*.8)}),cz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},gS=D([vf],cz);D([mv,gS],gf);var vS=D([gv,mS,pS],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});D([pv,vS],gf);var yS=D([Ie,vf,mS,pS,Vn,Hn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ea(s,a,a/2),cy:Ea(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Xe=(e,t)=>t,yf=(e,t,r)=>r;function xS(e){return e==null?void 0:e.id}var ot=e=>{var t=Ie(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ks=e=>e.tooltip.settings.axisId,mt=e=>{var t=ot(e),r=Ks(e);return Vl(e,t,r)},bS=D([mt],e=>e==null?void 0:e.dataKey);function wS(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=xS(l);u.forEach((f,h)=>{var m=i==null||a?h:String($t(f,i,null)),y=$t(f,l.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[d]:y}),s.set(m,x)})}}),Array.from(s.values())}function vv(e){return e.stackId!=null&&e.dataKey!=null}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){uz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uz(e,t,r){return(t=dz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dz(e){var t=fz(e,"string");return typeof t=="symbol"?t:t+""}function fz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dp=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>e.cartesianAxis.xAxis[t],Gn=(e,t)=>{var r=jS(e,t);return r??Jt},Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Dp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ul},_S=(e,t)=>e.cartesianAxis.yAxis[t],Yn=(e,t)=>{var r=_S(e,t);return r??Xt},hz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??hz},Yt=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Yn(e,r);case"zAxis":return yv(e,r);case"angleAxis":return mv(e,r);case"radiusAxis":return pv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mz=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Yn(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vl=(e,t,r)=>{switch(t){case"xAxis":return Gn(e,r);case"yAxis":return Yn(e,r);case"angleAxis":return mv(e,r);case"radiusAxis":return pv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},kS=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function NS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var SS=e=>e.graphicalItems.cartesianItems,pz=D([Xe,yf],NS),ES=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hl=D([SS,Yt,pz],ES),CS=D([Hl],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(vv)),PS=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OS=D([Hl],PS),AS=e=>e.map(t=>t.data).filter(Boolean).flat(1),gz=D([Hl],AS),TS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},xv=D([gz,lv],TS),MS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$t(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$t(a,n)}))):e.map(n=>({value:n})),xf=D([xv,Yt,Hl],MS);function IS(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Pi(e){return e.filter(t=>fn(t)||t instanceof Date).map(Number).filter(t=>Or(t)===!1)}function vz(e,t,r){return!r||typeof t!="number"||Or(t)?[]:r.length?Pi(r.flatMap(n=>{var a=$t(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Jr(i)||!Jr(s)))return[t-i,t+s]})):[]}var yz=D([CS,lv,mt],wS),DS=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,l]=i,c=l.map(xS);return[s,{stackedData:wD(e,c,r),graphicalItems:l}]}))},xz=D([yz,CS,pf],DS),$S=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=kD(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},bz=D([xz,Ra,Xe],$S),LS=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var l,c,u=(l=n[s.id])===null||l===void 0?void 0:l.filter(f=>IS(a,f)),d=$t(i,(c=t.dataKey)!==null&&c!==void 0?c:s.dataKey);return{value:d,errorDomain:vz(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:$t(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),bf=e=>e.errorBars,RS=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>IS(r,n));D([OS,bf,Xe],RS);var wz=D([xv,Yt,OS,bf,Xe],LS);function jz(e){var{value:t}=e;if(fn(t)||t instanceof Date)return t}var xw=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Pi(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},_z=(e,t,r)=>{var n=e.map(jz).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&P2(n))?yN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},bv=e=>{var t;if(e==null||!("domain"in e))return Dp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Pi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Dp},od=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),l=Math.max(...i);return[s,l]}},zS=e=>e.referenceElements.dots,Gs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),kz=D([zS,Xe,yf],Gs),US=e=>e.referenceElements.areas,Nz=D([US,Xe,yf],Gs),BS=e=>e.referenceElements.lines,Sz=D([BS,Xe,yf],Gs),FS=(e,t)=>{var r=Pi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ez=D(kz,Xe,FS),qS=(e,t)=>{var r=Pi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Cz=D([Nz,Xe],qS),WS=(e,t)=>{var r=Pi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Pz=D(Sz,Xe,WS),Oz=D(Ez,Pz,Cz,(e,t,r)=>od(e,r,t)),Az=D([Yt],bv),VS=(e,t,r,n,a,i,s)=>{var l=V8(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=c?od(r,a,xw(n)):od(a,xw(n));return H8(t,u,e.allowDataOverflow)},Tz=D([Yt,Az,bz,wz,Oz,Ie,Xe],VS),Mz=[0,1],HS=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=Da(t,i);return u&&l==null?yN(0,r.length):c==="category"?_z(n,e,u):a==="expand"?Mz:s}},wv=D([Yt,Ie,xv,xf,pf,Xe,Tz],HS),KS=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(Ll(i));return l in No?l:"point"}}},Kl=D([Yt,Ie,kS,dv,Xe],KS);function Iz(e){if(e!=null){if(e in No)return No[e]();var t="scale".concat(Ll(e));if(t in No)return No[t]()}}function jv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Iz(t);if(a!=null){var i=a.domain(r).range(n);return vD(i),i}}}var GS=(e,t,r)=>{var n=bv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ms(e))return rz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ms(e))return nz(e,t.tickCount,t.allowDecimals)}},_v=D([wv,Vl,Kl],GS),YS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ms(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(s,l)]}return t},Dz=D([Yt,wv,_v,Xe],YS),$z=D(xf,Yt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Pi(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),QS=D($z,Ie,az,_t,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Jr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Ea(r,e*i),l=e*i/2;return l-s-(l-s)/i*s}return 0}),Lz=(e,t)=>{var r=Gn(e,t);return r==null||typeof r.padding!="string"?0:QS(e,"xAxis",t,r.padding)},Rz=(e,t)=>{var r=Yn(e,t);return r==null||typeof r.padding!="string"?0:QS(e,"yAxis",t,r.padding)},zz=D(Gn,Lz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Uz=D(Yn,Rz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Bz=D([_t,zz,sf,af,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Fz=D([_t,Ie,Uz,sf,af,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Gl=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Bz(e,r,n);case"yAxis":return Fz(e,r,n);case"zAxis":return(a=yv(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return gS(e);case"radiusAxis":return vS(e,r);default:return}},JS=D([Yt,Gl],gf),Ys=D([Yt,Kl,Dz,JS],jv);D([Hl,bf,Xe],RS);function XS(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var wf=(e,t)=>t,jf=(e,t,r)=>r,qz=D(rf,wf,jf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XS)),Wz=D(nf,wf,jf,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(XS)),ZS=(e,t)=>({width:e.width,height:t.height}),Vz=(e,t)=>{var r=typeof t.width=="number"?t.width:Ul;return{width:r,height:e.height}},Hz=D(_t,Gn,ZS),Kz=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Gz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Yz=D(Hn,_t,qz,wf,jf,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=ZS(t,l);s==null&&(s=Kz(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),Qz=D(Vn,_t,Wz,wf,jf,(e,t,r,n,a)=>{var i={},s;return r.forEach(l=>{var c=Vz(t,l);s==null&&(s=Gz(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),Jz=(e,t)=>{var r=Gn(e,t);if(r!=null)return Yz(e,r.orientation,r.mirror)},Xz=D([_t,Gn,Jz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Zz=(e,t)=>{var r=Yn(e,t);if(r!=null)return Qz(e,r.orientation,r.mirror)},e7=D([_t,Yn,Zz,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),t7=D(_t,Yn,(e,t)=>{var r=typeof t.width=="number"?t.width:Ul;return{width:r,height:e.height}}),eE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,l=Da(e,n),c=t.map(u=>u.value);if(s&&l&&i==="category"&&a&&P2(c))return c}},kv=D([Ie,xf,Yt,Xe],eE),tE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Da(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Nv=D([Ie,xf,Vl,Xe],tE),bw=D([Ie,mz,Kl,Ys,kv,Nv,Gl,_v,Xe],(e,t,r,n,a,i,s,l,c)=>{if(t==null)return null;var u=Da(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}),r7=(e,t,r,n,a,i,s,l,c)=>{if(!(t==null||n==null)){var u=Da(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=d==="category"&&n.bandwidth?n.bandwidth()/m:0;y=c==="angleAxis"&&i!=null&&i.length>=2?_r(i[0]-i[1])*2*y:y;var x=f||a;if(x){var w=x.map((b,p)=>{var g=s?s.indexOf(b):b;return{index:p,coordinate:n(g)+y,value:b,offset:y}});return w.filter(b=>!Or(b.coordinate))}return u&&l?l.map((b,p)=>({coordinate:n(b)+y,value:b,index:p,offset:y})):n.ticks?n.ticks(h).map(b=>({coordinate:n(b)+y,value:b,offset:y})):n.domain().map((b,p)=>({coordinate:n(b)+y,value:s?s[b]:b,index:p,offset:y}))}},rE=D([Ie,Vl,Kl,Ys,_v,Gl,kv,Nv,Xe],r7),n7=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Da(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?_r(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},nE=D([Ie,Vl,Ys,Gl,kv,Nv,Xe],n7),aE=D(Yt,Ys,(e,t)=>{if(!(e==null||t==null))return sd(sd({},e),{},{scale:t})}),a7=D([Yt,Kl,wv,JS],jv);D((e,t,r)=>yv(e,r),a7,(e,t)=>{if(!(e==null||t==null))return sd(sd({},e),{},{scale:t})});var i7=D([Ie,rf,nf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),iE=e=>e.options.defaultTooltipEventType,sE=e=>e.options.validateTooltipEventTypes;function oE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Sv(e,t){var r=iE(e),n=sE(e);return oE(t,r,n)}function s7(e){return se(t=>Sv(t,e))}var lE=(e,t)=>{var r,n=Number(t);if(!(Or(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},o7=e=>e.tooltip.settings,ca={active:!1,index:null,dataKey:void 0,coordinate:void 0},l7={itemInteraction:{click:ca,hover:ca},axisInteraction:{click:ca,hover:ca},keyboardInteraction:ca,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},cE=hr({name:"tooltip",initialState:l7,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=An(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:c7,removeTooltipEntrySettings:u7,setTooltipSettingsState:d7,setActiveMouseOverItemIndex:f7,mouseLeaveItem:JW,mouseLeaveChart:uE,setActiveClickItemIndex:XW,setMouseOverAxisIndex:dE,setMouseClickAxisIndex:h7,setSyncInteraction:$p,setKeyboardInteraction:Lp}=cE.actions,m7=cE.reducer;function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){p7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p7(e,t,r){return(t=g7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y7(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function x7(e){return e.index!=null}var fE=(e,t,r,n)=>{if(t==null)return ca;var a=y7(e,t,r);if(a==null)return ca;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(x7(a)){if(i)return Rc(Rc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Rc(Rc({},ca),{},{coordinate:a.coordinate})},Ev=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Jr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},hE=(e,t,r,n,a,i,s,l)=>{if(!(i==null||l==null)){var c=s[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},mE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Yl=e=>e.options.tooltipPayloadSearcher,Qs=e=>e.tooltip;function jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jw(Object(r),!0).forEach(function(n){b7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b7(e,t,r){return(t=w7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _7(e,t){return e??t}var pE=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:x,settings:w}=m,b=_7(x,l),p=Array.isArray(b)?Xk(b,u,d):b,g=(y=w==null?void 0:w.dataKey)!==null&&y!==void 0?y:n,j=w==null?void 0:w.nameKey,_;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&s==="axis"?_=O2(p,n,a):_=i(p,t,c,j),Array.isArray(_))_.forEach(k=>{var E=_w(_w({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(ub({tooltipEntrySettings:E,dataKey:k.dataKey,payload:k.payload,value:$t(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(ub({tooltipEntrySettings:w,dataKey:g,payload:_,value:$t(_,g),name:(N=$t(_,j))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Cv=D([mt,Ie,kS,dv,ot],KS),k7=D([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),N7=D([ot,Ks],NS),Ql=D([k7,mt,N7],ES),S7=D([Ql],e=>e.filter(vv)),E7=D([Ql],AS),Js=D([E7,Ra],TS),C7=D([S7,Ra,mt],wS),Pv=D([Js,mt,Ql],MS),P7=D([mt],bv),O7=D([Ql],e=>e.filter(vv)),A7=D([C7,O7,pf],DS),T7=D([A7,Ra,ot],$S),M7=D([Ql],PS),I7=D([Js,mt,M7,bf,ot],LS),D7=D([zS,ot,Ks],Gs),$7=D([D7,ot],FS),L7=D([US,ot,Ks],Gs),R7=D([L7,ot],qS),z7=D([BS,ot,Ks],Gs),U7=D([z7,ot],WS),B7=D([$7,U7,R7],od),F7=D([mt,P7,T7,I7,B7,Ie,ot],VS),gE=D([mt,Ie,Js,Pv,pf,ot,F7],HS),q7=D([gE,mt,Cv],GS),W7=D([mt,gE,q7,ot],YS),vE=e=>{var t=ot(e),r=Ks(e),n=!1;return Gl(e,t,r,n)},yE=D([mt,vE],gf),xE=D([mt,Cv,W7,yE],jv),V7=D([Ie,Pv,mt,ot],eE),H7=D([Ie,Pv,mt,ot],tE),K7=(e,t,r,n,a,i,s,l)=>{if(t){var{type:c}=t,u=Da(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?_r(a[0]-a[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Qn=D([Ie,mt,Cv,xE,vE,V7,H7,ot],K7),Ov=D([iE,sE,o7],(e,t,r)=>oE(r.shared,e,t)),bE=e=>e.tooltip.settings.trigger,Av=e=>e.tooltip.settings.defaultIndex,_f=D([Qs,Ov,bE,Av],fE),wl=D([_f,Js],Ev),wE=D([Qn,wl],lE),G7=D([_f],e=>{if(e)return e.dataKey}),jE=D([Qs,Ov,bE,Av],mE),Y7=D([Vn,Hn,Ie,_t,Qn,Av,jE,Yl],hE),Q7=D([_f,Y7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),J7=D([_f],e=>e.active),X7=D([jE,wl,Ra,bS,wE,Yl,Ov],pE),Z7=D([X7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function kw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(r),!0).forEach(function(n){eU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eU(e,t,r){return(t=tU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nU=()=>se(mt),aU=()=>{var e=nU(),t=se(Qn),r=se(xE);return yp(Nw(Nw({},e),{},{scale:r}),t)},iU=()=>se(dv),Tv=(e,t)=>t,_E=(e,t,r)=>r,Mv=(e,t,r,n)=>n,sU=D(Qn,e=>Qd(e,t=>t.coordinate)),Iv=D([Qs,Tv,_E,Mv],fE),kE=D([Iv,Js],Ev),oU=(e,t,r)=>{if(t!=null){var n=Qs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},NE=D([Qs,Tv,_E,Mv],mE),ld=D([Vn,Hn,Ie,_t,Qn,Mv,NE,Yl],hE),lU=D([Iv,ld],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),SE=D(Qn,kE,lE),cU=D([NE,kE,Ra,bS,SE,Yl,Tv],pE),uU=D([Iv],e=>({isActive:e.active,activeIndex:e.index})),dU=(e,t,r,n,a,i,s,l)=>{if(!(!e||!t||!n||!a||!i)){var c=ND(e.chartX,e.chartY,t,r,l);if(c){var u=ED(c,t),d=pD(u,s,i,n,a),f=SD(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pU(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,y;if(u==="ScatterChart")m=d,y=A$;else if(u==="BarChart")m=T$(s,d,a,i),y=cL;else if(s==="radial"){var{cx:x,cy:w,radius:b,startAngle:p,endAngle:g}=hN(d);m={cx:x,cy:w,startAngle:p,endAngle:g,innerRadius:b,outerRadius:b},y=hL}else m={points:mL(s,d,a)},y=oN;var j=typeof l=="object"&&"className"in l?l.className:void 0,_=zc(zc(zc(zc({stroke:"#ccc",pointerEvents:"none"},a),m),ft(l,!1)),{},{payload:f,payloadIndex:h,className:Se("recharts-tooltip-cursor",j)});return v.isValidElement(l)?v.cloneElement(l,_):v.createElement(y,_)}function gU(e){var t=aU(),r=aN(),n=L0(),a=iU();return v.createElement(pU,Rp({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var EE=v.createContext(null),vU=()=>v.useContext(EE),CE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,y){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],b=arguments.length,p,g;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),b){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,y),!0}for(g=1,p=new Array(b-1);g<b;g++)p[g-1]=arguments[g];w.fn.apply(w.context,p)}else{var j=w.length,_;for(g=0;g<j;g++)switch(w[g].once&&this.removeListener(u,w[g].fn,void 0,!0),b){case 1:w[g].fn.call(w[g].context);break;case 2:w[g].fn.call(w[g].context,d);break;case 3:w[g].fn.call(w[g].context,d,f);break;case 4:w[g].fn.call(w[g].context,d,f,h);break;default:if(!p)for(_=1,p=new Array(b-1);_<b;_++)p[_-1]=arguments[_];w[g].fn.apply(w[g].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&s(this,m);else{for(var x=0,w=[],b=y.length;x<b;x++)(y[x].fn!==d||h&&!y[x].once||f&&y[x].context!==f)&&w.push(y[x]);w.length?this._events[m]=w.length===1?w[0]:w:s(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(CE);var yU=CE.exports;const xU=Ca(yU);var jl=new xU,zp="recharts.syncEvent.tooltip",Ew="recharts.syncEvent.brush";function bU(e,t){if(t){var r=Number.parseInt(t,10);if(!Or(r))return e==null?void 0:e[r]}}var wU={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PE=hr({name:"options",initialState:wU,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),jU=PE.reducer,{createEventEmitter:_U}=PE.actions;function kU(e){return e.tooltip.syncInteraction}var NU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},OE=hr({name:"chartData",initialState:NU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Cw,setDataStartEndIndexes:SU,setComputedData:ZW}=OE.actions,EU=OE.reducer,CU=["x","y"];function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(n){PU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PU(e,t,r){return(t=OU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TU(e,t){if(e==null)return{};var r,n,a=MU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AE=()=>{};function IU(){var e=se(fv),t=se(hv),r=jt(),n=se(hS),a=se(Qn),i=L0(),s=I0(),l=se(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return AE;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate){var m=d.payload.coordinate,{x:y,y:x}=m,w=TU(m,CU),b=Ba(Ba(Ba({},w),typeof y=="number"&&{x:Math.max(s.x,Math.min(y,s.x+s.width))}),typeof x=="number"&&{y:Math.max(s.y,Math.min(x,s.y+s.height))}),p=Ba(Ba({},d),{},{payload:Ba(Ba({},d.payload),{},{coordinate:b})});r(p)}else r(d);return}if(a!=null){var g;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},_=n(a,j);g=a[_]}else n==="value"&&(g=a.find($=>String($.value)===d.payload.label));var{coordinate:N}=d.payload;if(g==null||d.payload.active===!1||N==null||s==null){r($p({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:E}=N,S=Math.min(k,s.x+s.width),C=Math.min(E,s.y+s.height),P={x:i==="horizontal"?g.coordinate:S,y:i==="horizontal"?C:g.coordinate},M=$p({active:d.payload.active,coordinate:P,dataKey:d.payload.dataKey,index:String(g.index),label:d.payload.label});r(M)}}};return jl.on(zp,c),()=>{jl.off(zp,c)}},[l,r,t,e,n,a,i,s])}function DU(){var e=se(fv),t=se(hv),r=jt();v.useEffect(()=>{if(e==null)return AE;var n=(a,i,s)=>{t!==s&&e===a&&r(SU(i))};return jl.on(Ew,n),()=>{jl.off(Ew,n)}},[r,t,e])}function $U(){var e=jt();v.useEffect(()=>{e(_U())},[e]),IU(),DU()}function LU(e,t,r,n,a,i){var s=se(h=>oU(h,e,t)),l=se(hv),c=se(fv),u=se(hS),d=se(kU),f=d==null?void 0:d.active;v.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=$p({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});jl.emit(zp,c,h,l)}},[f,r,s,a,n,l,c,u,i])}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){RU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=UU(e,"string");return typeof t=="symbol"?t:t+""}function UU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BU(e){return e.dataKey}function FU(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(c$,t)}var Tw=[],qU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function WU(e){var t=Ir(e,qU),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:y,cursor:x,shared:w,trigger:b,defaultIndex:p,portal:g,axisId:j}=t,_=jt(),N=typeof p=="number"?String(p):p;v.useEffect(()=>{_(d7({shared:w,trigger:b,axisId:j,active:r,defaultIndex:N}))},[_,w,b,j,r,N]);var k=I0(),E=sN(),S=s7(w),{activeIndex:C,isActive:P}=se(pe=>uU(pe,S,b,N)),M=se(pe=>cU(pe,S,b,N)),$=se(pe=>SE(pe,S,b,N)),I=se(pe=>lU(pe,S,b,N)),W=M,Q=vU(),Y=r??P,[B,O]=Ek([W,Y]),L=S==="axis"?$:void 0;LU(S,b,I,L,C,Y);var U=g??Q;if(U==null)return null;var q=W??Tw;Y||(q=Tw),l&&q.length&&(q=pk(W.filter(pe=>pe.value!=null&&(pe.hide!==!0||t.includeHidden)),d,BU));var ce=q.length>0,fe=v.createElement(g$,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:Y,coordinate:I,hasPayload:ce,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:y,lastBoundingBox:B,innerRef:O,hasPortalFromProps:!!g},FU(s,Aw(Aw({},t),{},{payload:q,label:L,active:Y,coordinate:I,accessibilityLayer:E})));return v.createElement(v.Fragment,null,Bg.createPortal(fe,U),Y&&v.createElement(gU,{cursor:x,tooltipEventType:S,coordinate:I,payload:W,index:C}))}var TE={},ME={},IE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{y(),s=void 0,l=null},w=()=>{d()},b=function(...p){if(a!=null&&a.aborted)return;s=this,l=p;const g=h==null;m(),c&&g&&d()};return b.schedule=m,b.cancel=x,b.flush=w,a==null||a.addEventListener("abort",x,{once:!0}),b}e.debounce=t})(IE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IE;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},y=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n,a=0,i={}){const{leading:s=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:l})}e.throttle=r})(TE);var VU=TE.throttle;const HU=Ca(VU);var Uo=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QU=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:y={}}=e,x=v.useRef(null),w=v.useRef();w.current=m,v.useImperativeHandle(t,()=>x.current);var[b,p]=v.useState({containerWidth:n.width,containerHeight:n.height}),g=v.useCallback((_,N)=>{p(k=>{var E=Math.round(_),S=Math.round(N);return k.containerWidth===E&&k.containerHeight===S?k:{containerWidth:E,containerHeight:S}})},[]);v.useEffect(()=>{var _=S=>{var C,{width:P,height:M}=S[0].contentRect;g(P,M),(C=w.current)===null||C===void 0||C.call(w,P,M)};d>0&&(_=HU(_,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(_),{width:k,height:E}=x.current.getBoundingClientRect();return g(k,E),N.observe(x.current),()=>{N.disconnect()}},[g,d]);var j=v.useMemo(()=>{var{containerWidth:_,containerHeight:N}=b;if(_<0||N<0)return null;Uo(Xa(a)||Xa(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Uo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=Xa(a)?_:a,E=Xa(i)?N:i;return r&&r>0&&(k?E=k/r:E&&(k=E*r),c&&E>c&&(E=c)),Uo(k>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,a,i,s,l,r),v.Children.map(u,S=>v.cloneElement(S,{width:k,height:E,style:Ih({width:k,height:E},S.props.style)}))},[r,u,i,c,l,s,b,a]);return v.createElement("div",{id:f?"".concat(f):void 0,className:Se("recharts-responsive-container",h),style:Ih(Ih({},y),{},{width:a,height:i,minWidth:s,minHeight:l,maxHeight:c}),ref:x},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))});function JU(e,t,r){return(t=XU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=ZU(e,"string");return typeof t=="symbol"?t:t+""}function ZU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eB{constructor(t){JU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(n){rB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rB(e,t,r){return(t=nB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nB(e){var t=aB(e,"string");return typeof t=="symbol"?t:t+""}function aB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iB={cacheSize:2e3,enableCache:!0},DE=tB({},iB),Dw=new eB(DE.cacheSize),sB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$w="recharts_measurement_span";function oB(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(l)}var Lw=(e,t)=>{try{var r=document.getElementById($w);r||(r=document.createElement("span"),r.setAttribute("id",$w),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,sB,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Bo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qs.isSsr)return{width:0,height:0};if(!DE.enableCache)return Lw(t,r);var n=oB(t,r),a=Dw.get(n);if(a)return a;var i=Lw(t,r);return Dw.set(n,i),i},Rw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zw=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lB=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cB=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$E={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uB=Object.keys($E),Xi="NaN";function dB(e,t){return e*$E[t]}class Bt{static parse(t){var r,[,n,a]=(r=cB.exec(t))!==null&&r!==void 0?r:[];return new Bt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Or(t)&&(this.unit=""),r!==""&&!lB.test(r)&&(this.num=NaN,this.unit=""),uB.includes(r)&&(this.num=dB(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bt(NaN,""):new Bt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Or(this.num)}}function LE(e){if(e.includes(Xi))return Xi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Rw.exec(t))!==null&&r!==void 0?r:[],s=Bt.parse(n??""),l=Bt.parse(i??""),c=a==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Xi;t=t.replace(Rw,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=zw.exec(t))!==null&&u!==void 0?u:[],m=Bt.parse(d??""),y=Bt.parse(h??""),x=f==="+"?m.add(y):m.subtract(y);if(x.isNaN())return Xi;t=t.replace(zw,x.toString())}return t}var Uw=/\(([^()]*)\)/;function fB(e){for(var t=e,r;(r=Uw.exec(t))!=null;){var[,n]=r;t=t.replace(Uw,LE(n))}return t}function hB(e){var t=e.replace(/\s+/g,"");return t=fB(t),t=LE(t),t}function mB(e){try{return hB(e)}catch{return Xi}}function Dh(e){var t=mB(e.slice(5,-1));return t===Xi?"":t}var pB=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gB=["dx","dy","angle","className","breakAll"];function Up(){return Up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(null,arguments)}function Bw(e,t){if(e==null)return{};var r,n,a=vB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RE=/[ \f\n\r\t\v\u2028\u2029]+/,zE=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];dt(t)||(r?a=t.toString().split(""):a=t.toString().split(RE));var i=a.map(l=>({word:l,width:Bo(l,n).width})),s=r?0:Bo("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},yB=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:l,breakAll:c}=e,u=le(i),d=s,f=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((M,$)=>{var{word:I,width:W}=$,Q=M[M.length-1];if(Q&&(n==null||a||Q.width+W+r<Number(n)))Q.words.push(I),Q.width+=W+r;else{var Y={words:[I],width:W};M.push(Y)}return M},[])},h=f(t),m=C=>C.reduce((P,M)=>P.width>M.width?P:M);if(!u||a)return h;var y=h.length>i||m(h).width>Number(n);if(!y)return h;for(var x="",w=C=>{var P=d.slice(0,C),M=zE({breakAll:c,style:l,children:P+x}).wordsWithComputedWidth,$=f(M),I=$.length>i||m($).width>Number(n);return[I,$]},b=0,p=d.length-1,g=0,j;b<=p&&g<=d.length-1;){var _=Math.floor((b+p)/2),N=_-1,[k,E]=w(N),[S]=w(_);if(!k&&!S&&(b=_+1),k&&S&&(p=_-1),!k&&S){j=E;break}g++}return j||h},Fw=e=>{var t=dt(e)?[]:e.toString().split(RE);return[{words:t}]},xB=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!qs.isSsr){var l,c,u=zE({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return Fw(n);return yB({breakAll:i,children:n,maxLines:s,style:a},l,c,t,r)}return Fw(n)},qw="#808080",Dv=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=qw}=e,d=Bw(e,pB),f=v.useMemo(()=>xB({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:h,dy:m,angle:y,className:x,breakAll:w}=d,b=Bw(d,gB);if(!fn(r)||!fn(n)||f.length===0)return null;var p=r+(le(h)?h:0),g=n+(le(m)?m:0),j;switch(c){case"start":j=Dh("calc(".concat(i,")"));break;case"middle":j=Dh("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:j=Dh("calc(".concat(f.length-1," * -").concat(a,")"));break}var _=[];if(s){var N=f[0].width,{width:k}=d;_.push("scale(".concat(le(k)?k/N:1,")"))}return y&&_.push("rotate(".concat(y,", ").concat(p,", ").concat(g,")")),_.length&&(b.transform=_.join(" ")),v.createElement("text",Up({},ft(b,!0),{ref:t,x:p,y:g,className:Se("recharts-text",x),textAnchor:l,fill:u.includes("url")?qw:u}),f.map((E,S)=>{var C=E.words.join(w?"":" ");return v.createElement("tspan",{x:p,dy:S===0?j:a,key:"".concat(C,"-").concat(S)},C)}))});Dv.displayName="Text";var bB=["labelRef"];function wB(e,t){if(e==null)return{};var r,n,a=jB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){_B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _B(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=NB(e,"string");return typeof t=="symbol"?t:t+""}function NB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kn.apply(null,arguments)}var UE=v.createContext(null),SB=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=v.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return v.createElement(UE.Provider,{value:s},i)},BE=()=>{var e=v.useContext(UE),t=I0();return e||t},EB=v.createContext(null),CB=()=>{var e=v.useContext(EB),t=se(yS);return e||t},PB=e=>{var{value:t,formatter:r}=e,n=dt(e.children)?t:e.children;return typeof r=="function"?r(n):n},$v=e=>e!=null&&typeof e=="function",OB=(e,t)=>{var r=_r(t-e),n=Math.min(Math.abs(t-e),360);return r*n},AB=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,y=(u+d)/2,x=OB(f,h),w=x>=0?1:-1,b,p;switch(t){case"insideStart":b=f+w*i,p=m;break;case"insideEnd":b=h-w*i,p=!m;break;case"end":b=h+w*i,p=m;break;default:throw new Error("Unsupported position ".concat(t))}p=x<=0?p:!p;var g=xt(l,c,y,b),j=xt(l,c,y,b+(p?1:-1)*359),_="M".concat(g.x,",").concat(g.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(p?0:1,`,
    `).concat(j.x,",").concat(j.y),N=dt(e.id)?fl("recharts-radial-line-"):e.id;return v.createElement("text",kn({},n,{dominantBaseline:"central",className:Se("recharts-radial-bar-label",s)}),v.createElement("defs",null,v.createElement("path",{id:N,d:_})),v.createElement("textPath",{xlinkHref:"#".concat(N)},r))},TB=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=xt(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y}=xt(n,a,h,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},FE=e=>"cx"in e&&le(e.cx),MB=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!FE(r)&&(i=r);var{x:s,y:l,width:c,height:u}=t,d=u>=0?1:-1,f=d*n,h=d>0?"end":"start",m=d>0?"start":"end",y=c>=0?1:-1,x=y*n,w=y>0?"end":"start",b=y>0?"start":"end";if(a==="top"){var p={x:s+c/2,y:l-d*n,textAnchor:"middle",verticalAnchor:h};return Ke(Ke({},p),i?{height:Math.max(l-i.y,0),width:c}:{})}if(a==="bottom"){var g={x:s+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Ke(Ke({},g),i?{height:Math.max(i.y+i.height-(l+u),0),width:c}:{})}if(a==="left"){var j={x:s-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Ke(Ke({},j),i?{width:Math.max(j.x-i.x,0),height:u}:{})}if(a==="right"){var _={x:s+c+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return Ke(Ke({},_),i?{width:Math.max(i.x+i.width-_.x,0),height:u}:{})}var N=i?{width:c,height:u}:{};return a==="insideLeft"?Ke({x:s+x,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideRight"?Ke({x:s+c-x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},N):a==="insideTop"?Ke({x:s+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},N):a==="insideBottom"?Ke({x:s+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},N):a==="insideTopLeft"?Ke({x:s+x,y:l+f,textAnchor:b,verticalAnchor:m},N):a==="insideTopRight"?Ke({x:s+c-x,y:l+f,textAnchor:w,verticalAnchor:m},N):a==="insideBottomLeft"?Ke({x:s+x,y:l+u-f,textAnchor:b,verticalAnchor:h},N):a==="insideBottomRight"?Ke({x:s+c-x,y:l+u-f,textAnchor:w,verticalAnchor:h},N):a&&typeof a=="object"&&(le(a.x)||Xa(a.x))&&(le(a.y)||Xa(a.y))?Ke({x:s+Ea(a.x,c),y:l+Ea(a.y,u),textAnchor:"end",verticalAnchor:"end"},N):Ke({x:s+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},N)},IB={offset:5};function ia(e){var t=Ir(e,IB),{viewBox:r,position:n,value:a,children:i,content:s,className:l="",textBreakAll:c,labelRef:u}=t,d=CB(),f=BE(),h=n==="center"?f:d??f,m=r||h;if(!m||dt(a)&&dt(i)&&!v.isValidElement(s)&&typeof s!="function")return null;var y=Ke(Ke({},t),{},{viewBox:m});if(v.isValidElement(s)){var x=wB(y,bB);return v.cloneElement(s,x)}var w;if(typeof s=="function"){if(w=v.createElement(s,y),v.isValidElement(w))return w}else w=PB(t);var b=FE(m),p=ft(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return AB(t,n,w,p,m);var g=b?TB(m,t.offset,t.position):MB(t,m);return v.createElement(Dv,kn({ref:u,className:Se("recharts-label",l)},p,g,{breakAll:c}),w)}ia.displayName="Label";var DB=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(ia,kn({key:"label-implicit"},n)):fn(e)?v.createElement(ia,kn({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===ia?v.cloneElement(e,Ke({key:"label-implicit"},n)):v.createElement(ia,kn({key:"label-implicit",content:e},n)):$v(e)?v.createElement(ia,kn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(ia,kn({},e,{key:"label-implicit"},n)):null};function $B(e){var{label:t}=e,r=BE();return DB(t,r)||null}var qE={},WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(WE);var VE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(VE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WE,r=VE,n=Gd;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(qE);var LB=qE.last;const RB=Ca(LB);var zB=["valueAccessor"],UB=["dataKey","clockWise","id","textBreakAll"];function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cd.apply(null,arguments)}function Vw(e,t){if(e==null)return{};var r,n,a=BB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FB=e=>Array.isArray(e.value)?RB(e.value):e.value,HE=v.createContext(void 0),qB=HE.Provider,KE=v.createContext(void 0);KE.Provider;function WB(){return v.useContext(HE)}function VB(){return v.useContext(KE)}function ru(e){var{valueAccessor:t=FB}=e,r=Vw(e,zB),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,l=Vw(r,UB),c=WB(),u=VB(),d=c||u;return!d||!d.length?null:v.createElement(Fs,{className:"recharts-label-list"},d.map((f,h)=>{var m,y=dt(n)?t(f,h):$t(f&&f.payload,n),x=dt(i)?{}:{id:"".concat(i,"-").concat(h)};return v.createElement(ia,cd({},ft(f,!0),l,x,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}ru.displayName="LabelList";function HB(e){var{label:t}=e;return t?t===!0?v.createElement(ru,{key:"labelList-implicit"}):v.isValidElement(t)||$v(t)?v.createElement(ru,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(ru,cd({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Bp(){return Bp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bp.apply(null,arguments)}var GE=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Se("recharts-dot",a);return t===+t&&r===+r&&n===+n?v.createElement("circle",Bp({},Si(e),u0(e),{className:i,cx:t,cy:r,r:n})):null},KB={radiusAxis:{},angleAxis:{}},GB=hr({name:"polarAxis",initialState:KB,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),YB=GB.reducer;function QB(e){var{fn:t,args:r}=e,n=jt(),a=Mr();return v.useEffect(()=>{if(!a){var i=t(r);return n(c7(i)),()=>{n(u7(i))}}},[t,r,n,a]),null}var JB=()=>{};function XB(e){var{legendPayload:t}=e,r=jt(),n=Mr();return v.useEffect(()=>n?JB:(r(VD(t)),()=>{r(HD(t))}),[r,n,t]),null}var $h,ZB=()=>{var[e]=v.useState(()=>fl("uid-"));return e},eF=($h=zC.useId)!==null&&$h!==void 0?$h:ZB;function tF(e,t){var r=eF();return t||(e?"".concat(e,"-").concat(r):r)}var rF=v.createContext(void 0),nF=e=>{var{id:t,type:r,children:n}=e,a=tF("recharts-".concat(r),t);return v.createElement(rF.Provider,{value:a},n(a))},aF={cartesianItems:[],polarItems:[]},YE=hr({name:"graphicalItems",initialState:aF,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=An(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=An(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=An(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:iF,replaceCartesianGraphicalItem:sF,removeCartesianGraphicalItem:oF,addPolarGraphicalItem:eV,removePolarGraphicalItem:tV}=YE.actions,lF=YE.reducer;function cF(e){var t=jt(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(iF(e)):r.current!==e&&t(sF({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(oF(r.current)),r.current=null)},[t]),null}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){uF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=fF(e,"string");return typeof t=="symbol"?t:t+""}function fF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hF={xAxis:{},yAxis:{},zAxis:{}},QE=hr({name:"cartesianAxis",initialState:hF,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=Kw(Kw({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:mF,removeXAxis:pF,addYAxis:gF,removeYAxis:vF,addZAxis:rV,removeZAxis:nV,updateYAxisWidth:yF}=QE.actions,xF=QE.reducer,bF=D([_t],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wF=D([bF,Vn,Hn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Lv=()=>se(wF),jF=()=>se(Z7);function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){_F(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _F(e,t,r){return(t=kF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=NF(e,"string");return typeof t=="symbol"?t:t+""}function NF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SF=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=Yw(Yw({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ft(a,!1)),u0(a)),l;return v.isValidElement(a)?l=v.cloneElement(a,s):typeof a=="function"?l=a(s):l=v.createElement(GE,s),v.createElement(Fs,{className:"recharts-active-dot"},l)};function EF(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=se(wl),s=jF();if(t==null||s==null)return null;var l=t.find(c=>s.includes(c.payload));return dt(l)?null:SF({point:l,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var CF={},PF=hr({name:"errorBars",initialState:CF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),OF=PF.reducer,AF=["children"];function TF(e,t){if(e==null)return{};var r,n,a=MF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DF=v.createContext(IF);function $F(e){var{children:t}=e,r=TF(e,AF);return v.createElement(DF.Provider,{value:r},t)}function JE(e,t){var r,n,a=se(u=>Gn(u,e)),i=se(u=>Yn(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jt.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Xt.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function LF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Lv(),{needClipX:i,needClipY:s,needClip:l}=JE(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:i?c:c-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}var RF=e=>{var{chartData:t}=e,r=jt(),n=Mr();return v.useEffect(()=>n?()=>{}:(r(Cw(t)),()=>{r(Cw(void 0))}),[t,r,n]),null},Qw={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zF=hr({name:"brush",initialState:Qw,reducers:{setBrushSettings(e,t){return t.payload==null?Qw:t.payload}}}),UF=zF.reducer;function BF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=qF(e,"string");return typeof t=="symbol"?t:t+""}function qF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rv{static create(t){return new Rv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}BF(Rv,"EPS",1e-4);function WF(e){return(e%180+180)%180}var VF=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=WF(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},HF={dots:[],areas:[],lines:[]},KF=hr({name:"referenceElements",initialState:HF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=An(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=An(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=An(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),GF=KF.reducer,YF=v.createContext(void 0),QF=e=>{var{children:t}=e,[r]=v.useState("".concat(fl("recharts"),"-clip")),n=Lv();if(n==null)return null;var{x:a,y:i,width:s,height:l}=n;return v.createElement(YF.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:i,height:l,width:s}))),t)};function Is(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function XE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function JF(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return VF(n,r)}function XF(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:l}=e;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function ud(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ZF(e,t){return XE(e,t+1)}function e9(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:XE(n,u)};var x=c,w,b=()=>(w===void 0&&(w=r(y,x)),w),p=y.coordinate,g=c===0||ud(e,p,b,d,l);g||(c=0,d=s,u+=1),g&&(d=p+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a9(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],y,x=()=>(y===void 0&&(y=r(m,h)),y);if(h===s-1){var w=e*(m.coordinate+e*x()/2-c);i[h]=m=Et(Et({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[h]=m=Et(Et({},m),{},{tickCoord:m.coordinate});var b=ud(e,m.tickCoord,x,l,c);b&&(c=m.tickCoord-e*(x()/2+a),i[h]=Et(Et({},m),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function i9(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=Et(Et({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ud(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),s[l-1]=Et(Et({},d),{},{isShow:!0}))}for(var y=i?l-1:l,x=function(p){var g=s[p],j,_=()=>(j===void 0&&(j=r(g,p)),j);if(p===0){var N=e*(g.coordinate-e*_()/2-c);s[p]=g=Et(Et({},g),{},{tickCoord:N<0?g.coordinate-N*e:g.coordinate})}else s[p]=g=Et(Et({},g),{},{tickCoord:g.coordinate});var k=ud(e,g.tickCoord,_,c,u);k&&(c=g.tickCoord+e*(_()/2+a),s[p]=Et(Et({},g),{},{isShow:!0}))},w=0;w<y;w++)x(w);return s}function zv(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(le(c)||qs.isSsr){var h;return(h=ZF(a,le(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],y=l==="top"||l==="bottom"?"width":"height",x=d&&y==="width"?Bo(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(g,j)=>{var _=typeof u=="function"?u(g.value,j):g.value;return y==="width"?JF(Bo(_,{fontSize:t,letterSpacing:r}),x,f):Bo(_,{fontSize:t,letterSpacing:r})[y]},b=a.length>=2?_r(a[1].coordinate-a[0].coordinate):1,p=XF(i,b,y);return c==="equidistantPreserveStart"?e9(b,p,w,a,s):(c==="preserveStart"||c==="preserveStartEnd"?m=i9(b,p,w,a,s,c==="preserveStartEnd"):m=a9(b,p,w,a,s),m.filter(g=>g.isShow))}var s9=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+l+(r?n:0);return Math.round(u)}return 0},o9=["axisLine","width","height","className","hide","ticks"],l9=["viewBox"],c9=["viewBox"];function Fp(e,t){if(e==null)return{};var r,n,a=u9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(null,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){d9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d9(e,t,r){return(t=f9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function m9(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=nt(nt(nt({},c),ft(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=nt(nt({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=nt(nt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return v.createElement("line",xi({},u,{className:Se("recharts-cartesian-axis-line",Wd(l,"className"))}))}function p9(e,t,r,n,a,i,s,l,c){var u,d,f,h,m,y,x=l?-1:1,w=e.tickSize||s,b=le(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-x*w,y=f-x*c,m=b;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-x*w,m=u-x*c,y=b;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+x*w,m=u+x*c,y=b;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+x*w,y=f+x*c,m=b;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y}}}function g9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function v9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function y9(e){var{option:t,tickProps:r,value:n}=e,a,i=Se(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,nt(nt({},r),{},{className:i}));else if(typeof t=="function")a=t(nt(nt({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Se(s,t==null?void 0:t.className)),a=v.createElement(Dv,xi({},r,{className:s}),n)}return a}function x9(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:h,width:m,height:y,tickSize:x,tickMargin:w,fontSize:b,letterSpacing:p,getTicksConfig:g,events:j}=e,_=zv(nt(nt({},g),{},{ticks:t}),b,p),N=g9(u,d),k=v9(u,d),E=Si(g),S=ft(r,!1),C=nt(nt({},E),{},{fill:"none"},ft(n,!1)),P=_.map((M,$)=>{var{line:I,tick:W}=p9(M,f,h,m,y,u,x,d,w),Q=nt(nt(nt(nt({textAnchor:N,verticalAnchor:k},E),{},{stroke:"none",fill:a},S),W),{},{index:$,payload:M,visibleTicksCount:_.length,tickFormatter:i,padding:l},c);return v.createElement(Fs,xi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},A2(j,M,$)),n&&v.createElement("line",xi({},C,I,{className:Se("recharts-cartesian-axis-tick-line",Wd(n,"className"))})),r&&v.createElement(y9,{option:r,tickProps:Q,value:"".concat(typeof i=="function"?i(M.value,$):M.value).concat(s||"")}))});return P.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var b9=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:l}=e,c=Fp(e,o9),[u,d]=v.useState(""),[f,h]=v.useState(""),m=v.useRef([]);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return s9({ticks:m.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=v.useCallback(x=>{if(x){var w=x.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(w);var b=w[0];if(b){var p=window.getComputedStyle(b),g=p.fontSize,j=p.letterSpacing;(g!==u||j!==f)&&(d(g),h(j))}}},[u,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:v.createElement(Fs,{className:Se("recharts-cartesian-axis",i),ref:y},v.createElement(m9,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Si(e)}),v.createElement(x9,{ticks:l,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:c}),v.createElement(SB,{x:e.x,y:e.y,width:e.width,height:e.height},v.createElement($B,{label:e.label}),e.children))}),w9=v.memo(b9,(e,t)=>{var{viewBox:r}=e,n=Fp(e,l9),{viewBox:a}=t,i=Fp(t,c9);return Is(r,a)&&Is(n,i)}),Bv=v.forwardRef((e,t)=>{var r=Ir(e,Uv);return v.createElement(w9,xi({},r,{ref:t}))});Bv.displayName="CartesianAxis";var j9=["x1","y1","x2","y2","key"],_9=["offset"],k9=["xAxisId","yAxisId"],N9=["xAxisId","yAxisId"];function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){S9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9(e,t,r){return(t=E9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E9(e){var t=C9(e,"string");return typeof t=="symbol"?t:t+""}function C9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function dd(e,t){if(e==null)return{};var r,n,a=P9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function P9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:l}=e;return v.createElement("rect",{x:n,y:a,ry:l,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZE(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:l}=t,c=dd(t,j9),u=Si(c),d=dd(u,_9);r=v.createElement("line",ti({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function A9(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=dd(e,k9),s=a.map((l,c)=>{var u=Pt(Pt({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ZE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function T9(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=dd(e,N9),s=a.map((l,c)=>{var u=Pt(Pt({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ZE(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function M9(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?a+s-f:u[h+1]-f;if(y<=0)return null;var x=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:y,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function I9(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],y=m?a+s-f:u[h+1]-f;if(y<=0)return null;var x=h%r.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var D9=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Zk(zv(Pt(Pt(Pt({},Uv),r),{},{ticks:eN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},$9=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Zk(zv(Pt(Pt(Pt({},Uv),r),{},{ticks:eN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},L9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function eC(e){var t=D0(),r=$0(),n=aN(),a=Pt(Pt({},Ir(e,L9)),{},{x:le(e.x)?e.x:n.left,y:le(e.y)?e.y:n.top,width:le(e.width)?e.width:n.width,height:le(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,y=Mr(),x=se(S=>bw(S,"xAxis",i,y)),w=se(S=>bw(S,"yAxis",s,y));if(!le(u)||u<=0||!le(d)||d<=0||!le(l)||l!==+l||!le(c)||c!==+c)return null;var b=a.verticalCoordinatesGenerator||D9,p=a.horizontalCoordinatesGenerator||$9,{horizontalPoints:g,verticalPoints:j}=a;if((!g||!g.length)&&typeof p=="function"){var _=h&&h.length,N=p({yAxis:w?Pt(Pt({},w),{},{ticks:_?h:w.ticks}):void 0,width:t,height:r,offset:n},_?!0:f);Uo(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(g=N)}if((!j||!j.length)&&typeof b=="function"){var k=m&&m.length,E=b({xAxis:x?Pt(Pt({},x),{},{ticks:k?m:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Uo(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(O9,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(M9,ti({},a,{horizontalPoints:g})),v.createElement(I9,ti({},a,{verticalPoints:j})),v.createElement(A9,ti({},a,{offset:n,horizontalPoints:g,xAxis:x,yAxis:w})),v.createElement(T9,ti({},a,{offset:n,verticalPoints:j,xAxis:x,yAxis:w})))}eC.displayName="CartesianGrid";var tC=(e,t,r,n)=>aE(e,"xAxis",t,n),rC=(e,t,r,n)=>nE(e,"xAxis",t,n),nC=(e,t,r,n)=>aE(e,"yAxis",r,n),aC=(e,t,r,n)=>nE(e,"yAxis",r,n),R9=D([Ie,tC,nC,rC,aC],(e,t,r,n,a)=>Da(e,"xAxis")?yp(t,n,!1):yp(r,a,!1)),z9=(e,t,r,n,a)=>a;function U9(e){return e.type==="line"}var B9=D([SS,z9],(e,t)=>e.filter(U9).find(r=>r.id===t)),F9=D([Ie,tC,nC,rC,aC,B9,R9,lv],(e,t,r,n,a,i,s,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=l;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return uq({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}}),q9=["id"],W9=["type","layout","connectNulls","needClip"],V9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=K9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fv(e,t){if(e==null)return{};var r,n,a=Y9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Y9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}var Q9=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tN(r,t),payload:e}]};function J9(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:l,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:tN(s,t),hide:l,type:e.tooltipType,color:e.stroke,unit:c}}}var iC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function X9(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Z9=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return iC(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,l=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){l=[...r.slice(0,c),i-u];break}var d=l.length%2===0?[0,s]:[s];return[...X9(r,a),...l,...d].map(f=>"".concat(f,"px")).join(", ")};function eq(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Se("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(GE,bi({},t,{className:n}))}return r}function tq(e,t){return e==null?!1:t?!0:e.length===1}function rq(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!tq(r,a))return null;var l=Fv(n,q9),c=M2(a),u=Si(l),d=ft(a,!0),f=r.map((m,y)=>{var x=tr(tr(tr({key:"dot-".concat(y),r:3},u),d),{},{index:y,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return eq(a,x)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return v.createElement(Fs,bi({className:"recharts-line-dots",key:"dots"},h),f)}function nq(e){var{showLabels:t,children:r,points:n}=e,a=v.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return tr(tr({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(qB,{value:t?a:null},r)}function t1(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:l,connectNulls:c,needClip:u}=i,d=Fv(i,W9),f=tr(tr({},ft(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:l,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,(n==null?void 0:n.length)>1&&v.createElement(oN,bi({},f,{pathRef:r})),v.createElement(rq,{points:n,clipPathId:t,props:i}))}function aq(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function iq(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:y,onAnimationEnd:x,onAnimationStart:w}=r,b=a.current,p=fN(r,"recharts-line-"),[g,j]=v.useState(!1),_=!g,N=v.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),k=v.useCallback(()=>{typeof w=="function"&&w(),j(!0)},[w]),E=aq(n.current),S=i.current;return v.createElement(nq,{points:s,showLabels:_},r.children,v.createElement(dN,{animationId:p,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:k,key:p},C=>{var P=jn(S,E+S,C),M=Math.min(P,E),$;if(c)if(l){var I="".concat(l).split(/[,\s]+/gim).map(Y=>parseFloat(Y));$=Z9(M,E,I)}else $=iC(E,M);else $=l==null?void 0:String(l);if(b){var W=b.length/s.length,Q=C===1?s:s.map((Y,B)=>{var O=Math.floor(B*W);if(b[O]){var L=b[O];return tr(tr({},Y),{},{x:jn(L.x,Y.x,C),y:jn(L.y,Y.y,C)})}return h?tr(tr({},Y),{},{x:jn(m*2,Y.x,C),y:jn(y/2,Y.y,C)}):tr(tr({},Y),{},{x:Y.x,y:Y.y})});return a.current=Q,v.createElement(t1,{props:r,points:Q,clipPathId:t,pathRef:n,strokeDasharray:$})}return C>0&&E>0&&(a.current=s,i.current=M),v.createElement(t1,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:$})}),v.createElement(HB,{label:r.label}))}function sq(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),a=v.useRef(0),i=v.useRef(null);return v.createElement(iq,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var oq=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:$t(e.payload,t)});class lq extends v.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:l,top:c,left:u,width:d,height:f,id:h,needClip:m}=this.props;if(r)return null;var y=Se("recharts-line",i),x=h,{r:w=3,strokeWidth:b=2}=(t=ft(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},p=M2(n),g=w*2+b;return v.createElement(v.Fragment,null,v.createElement(Fs,{className:y},m&&v.createElement("defs",null,v.createElement(LF,{clipPathId:x,xAxisId:s,yAxisId:l}),!p&&v.createElement("clipPath",{id:"clipPath-dots-".concat(x)},v.createElement("rect",{x:u-g/2,y:c-g/2,width:d+g,height:f+g}))),v.createElement($F,{xAxisId:s,yAxisId:l,data:a,dataPointFormatter:oq,errorBarOffset:0},v.createElement(sq,{props:this.props,clipPathId:x}))),v.createElement(EF,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var sC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function cq(e){var t=Ir(e,sC),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:y,id:x}=t,w=Fv(t,V9),{needClip:b}=JE(m,y),p=Lv(),g=L0(),j=Mr(),_=se(C=>F9(C,m,y,j,x));if(g!=="horizontal"&&g!=="vertical"||_==null||p==null)return null;var{height:N,width:k,x:E,y:S}=p;return v.createElement(lq,bi({},w,{id:x,connectNulls:l,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:y,points:_,layout:g,height:N,width:k,left:E,top:S,needClip:b}))}function uq(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:l,displayedData:c}=e;return c.map((u,d)=>{var f=$t(u,s);if(t==="horizontal"){var h=ob({axis:r,ticks:a,bandSize:l,entry:u,index:d}),m=dt(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:u}}var y=dt(f)?null:r.scale(f),x=ob({axis:n,ticks:i,bandSize:l,entry:u,index:d});return y==null||x==null?null:{x:y,y:x,value:f,payload:u}}).filter(Boolean)}function dq(e){var t=Ir(e,sC),r=Mr();return v.createElement(nF,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(XB,{legendPayload:Q9(t)}),v.createElement(QB,{fn:J9,args:t}),v.createElement(cF,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(cq,bi({},t,{id:n}))))}var So=v.memo(dq);So.displayName="Line";var fq=["dangerouslySetInnerHTML","ticks"],hq=["id"],mq=["domain"],pq=["domain"];function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(null,arguments)}function fd(e,t){if(e==null)return{};var r,n,a=gq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vq(e){var t=jt();return v.useEffect(()=>(t(mF(e)),()=>{t(pF(e))}),[e,t]),null}var yq=e=>{var{xAxisId:t,className:r}=e,n=se(nN),a=Mr(),i="xAxis",s=se(m=>Ys(m,i,t,a)),l=se(m=>rE(m,i,t,a)),c=se(m=>Hz(m,t)),u=se(m=>Xz(m,t)),d=se(m=>jS(m,t));if(c==null||u==null||d==null)return null;var f=fd(e,fq),h=fd(d,hq);return v.createElement(Bv,qp({},f,h,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Se("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},xq={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,height:Jt.height,hide:!1,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tickCount:Jt.tickCount,type:Jt.type,xAxisId:0},bq=e=>{var t,r,n,a,i,s=Ir(e,xq);return v.createElement(v.Fragment,null,v.createElement(vq,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),v.createElement(yq,s))},wq=(e,t)=>{var{domain:r}=e,n=fd(e,mq),{domain:a}=t,i=fd(t,pq);return Is(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Is({domain:r},{domain:a}):!1},oC=v.memo(bq,wq);oC.displayName="XAxis";var jq=["dangerouslySetInnerHTML","ticks"],_q=["id"],kq=["domain"],Nq=["domain"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wp.apply(null,arguments)}function hd(e,t){if(e==null)return{};var r,n,a=Sq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Eq(e){var t=jt();return v.useEffect(()=>(t(gF(e)),()=>{t(vF(e))}),[e,t]),null}var Cq=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=v.useRef(null),s=v.useRef(null),l=se(nN),c=Mr(),u=jt(),d="yAxis",f=se(p=>Ys(p,d,t,c)),h=se(p=>t7(p,t)),m=se(p=>e7(p,t)),y=se(p=>rE(p,d,t,c)),x=se(p=>_S(p,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!h||$v(a)||v.isValidElement(a)||x==null)){var p=i.current;if(p){var g=p.getCalculatedWidth();Math.round(h.width)!==Math.round(g)&&u(yF({id:t,width:g}))}}},[y,h,u,a,t,n,x]),h==null||m==null||x==null)return null;var w=hd(e,jq),b=hd(x,_q);return v.createElement(Bv,Wp({},w,b,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Se("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:y}))},Pq={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,hide:!1,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tickCount:Xt.tickCount,type:Xt.type,width:Xt.width,yAxisId:0},Oq=e=>{var t,r,n,a,i,s=Ir(e,Pq);return v.createElement(v.Fragment,null,v.createElement(Eq,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),v.createElement(Cq,s))},Aq=(e,t)=>{var{domain:r}=e,n=hd(e,kq),{domain:a}=t,i=hd(t,Nq);return Is(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Is({domain:r},{domain:a}):!1},lC=v.memo(Oq,Aq);lC.displayName="YAxis";var Tq={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=v;function Mq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Iq=typeof Object.is=="function"?Object.is:Mq,Dq=Jl.useSyncExternalStore,$q=Jl.useRef,Lq=Jl.useEffect,Rq=Jl.useMemo,zq=Jl.useDebugValue;Tq.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=$q(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Rq(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&s.hasValue){var y=s.value;if(a(y,m))return f=y}return f=m}if(y=f,Iq(d,m))return y;var x=n(m);return a!==void 0&&a(y,x)?(d=m,y):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var l=Dq(e,i[0],i[1]);return Lq(function(){s.hasValue=!0,s.value=l},[l]),zq(l),l};function Uq(e){e()}function Bq(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Uq(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var r1={notify(){},get:()=>[]};function Fq(e,t){let r,n=r1,a=0,i=!1;function s(x){d();const w=n.subscribe(x);let b=!1;return()=>{b||(b=!0,w(),f())}}function l(){n.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=Bq())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=r1)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const y={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var qq=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wq=qq(),Vq=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hq=Vq(),Kq=()=>Wq||Hq?v.useLayoutEffect:v.useEffect,Gq=Kq(),Lh=Symbol.for("react-redux-context"),Rh=typeof globalThis<"u"?globalThis:{};function Yq(){if(!v.createContext)return{};const e=Rh[Lh]??(Rh[Lh]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Qq=Yq();function Jq(e){const{children:t,context:r,serverState:n,store:a}=e,i=v.useMemo(()=>{const c=Fq(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=v.useMemo(()=>a.getState(),[a]);Gq(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const l=r||Qq;return v.createElement(l.Provider,{value:i},t)}var Xq=Jq,Zq=(e,t)=>t,qv=D([Zq,Ie,yS,ot,yE,Qn,sU,_t],dU),Wv=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},cC=Ar("mouseClick"),uC=zl();uC.startListening({actionCreator:cC,effect:(e,t)=>{var r=e.payload,n=qv(t.getState(),Wv(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(h7({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Vp=Ar("mouseMove"),dC=zl();dC.startListening({actionCreator:Vp,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Sv(n,n.tooltip.settings.shared),i=qv(n,Wv(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(dE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(uE()))}});var n1={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},fC=hr({name:"rootProps",initialState:n1,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:n1.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),eW=fC.reducer,{updateOptions:tW}=fC.actions,rW=hr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),nW=rW.reducer,hC=Ar("keyDown"),mC=Ar("focus"),Vv=zl();Vv.startListening({actionCreator:hC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Ev(a,Js(r))),l=Qn(r);if(i==="Enter"){var c=ld(r,"axis","hover",String(a.index));t.dispatch(Lp({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=i7(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*d;if(!(l==null||h>=l.length||h<0)){var m=ld(r,"axis","hover",String(h));t.dispatch(Lp({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Vv.startListening({actionCreator:mC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=ld(r,"axis","hover",String(i));t.dispatch(Lp({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var yr=Ar("externalEvent"),pC=zl();pC.startListening({actionCreator:yr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Q7(r),activeDataKey:G7(r),activeIndex:wl(r),activeLabel:wE(r),activeTooltipIndex:wl(r),isTooltipActive:J7(r)};e.payload.handler(n,e.payload.reactEvent)}}});var aW=D([Qs],e=>e.tooltipItemPayloads),iW=D([aW,Yl,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),gC=Ar("touchMove"),vC=zl();vC.startListening({actionCreator:gC,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Sv(n,n.tooltip.settings.shared);if(a==="axis"){var i=qv(n,Wv({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(dE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(PD),d=(s=c.getAttribute(OD))!==null&&s!==void 0?s:void 0,f=iW(t.getState(),u,d);t.dispatch(f7({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var sW=Pk({brush:UF,cartesianAxis:xF,chartData:EU,errorBars:OF,graphicalItems:lF,layout:tD,legend:KD,options:jU,polarAxis:YB,polarOptions:nW,referenceElements:GF,rootProps:eW,tooltip:m7}),oW=function(t){return SI({reducer:sW,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([uC.middleware,dC.middleware,Vv.middleware,pC.middleware,vC.middleware]),devTools:qs.devToolsEnabled})};function lW(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Mr(),i=v.useRef(null);if(a)return r;i.current==null&&(i.current=oW(t));var s=S0;return v.createElement(Xq,{context:s,store:i.current},r)}function cW(e){var{layout:t,width:r,height:n,margin:a}=e,i=jt(),s=Mr();return v.useEffect(()=>{s||(i(XI(t)),i(ZI({width:r,height:n})),i(JI(a)))},[i,s,t,r,n,a]),null}function uW(e){var t=jt();return v.useEffect(()=>{t(tW(e))},[t,e]),null}var dW=["children"];function fW(e,t){if(e==null)return{};var r,n,a=hW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(null,arguments)}var mW={width:"100%",height:"100%"},pW=v.forwardRef((e,t)=>{var r=D0(),n=$0(),a=sN();if(!Hu(r)||!Hu(n))return null;var{children:i,otherAttributes:s,title:l,desc:c}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0,v.createElement(d0,md({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:mW,ref:t}),i)}),gW=e=>{var{children:t}=e,r=se(sf);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return v.createElement(d0,{width:n,height:a,x:s,y:i},t)},a1=v.forwardRef((e,t)=>{var{children:r}=e,n=fW(e,dW),a=Mr();return a?v.createElement(gW,null,r):v.createElement(pW,md({ref:t},n),r)});function vW(){var e=jt(),[t,r]=v.useState(null),n=se(CD);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Jr(i)&&i!==n&&e(eD(i))}},[t,e,n]),r}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:x,style:w,width:b}=e,p=jt(),[g,j]=v.useState(null),[_,N]=v.useState(null);$U();var k=vW(),E=v.useCallback(q=>{k(q),typeof t=="function"&&t(q),j(q),N(q)},[k,t,j,N]),S=v.useCallback(q=>{p(cC(q)),p(yr({handler:i,reactEvent:q}))},[p,i]),C=v.useCallback(q=>{p(Vp(q)),p(yr({handler:u,reactEvent:q}))},[p,u]),P=v.useCallback(q=>{p(uE()),p(yr({handler:d,reactEvent:q}))},[p,d]),M=v.useCallback(q=>{p(Vp(q)),p(yr({handler:f,reactEvent:q}))},[p,f]),$=v.useCallback(()=>{p(mC())},[p]),I=v.useCallback(q=>{p(hC(q.key))},[p]),W=v.useCallback(q=>{p(yr({handler:s,reactEvent:q}))},[p,s]),Q=v.useCallback(q=>{p(yr({handler:l,reactEvent:q}))},[p,l]),Y=v.useCallback(q=>{p(yr({handler:c,reactEvent:q}))},[p,c]),B=v.useCallback(q=>{p(yr({handler:h,reactEvent:q}))},[p,h]),O=v.useCallback(q=>{p(yr({handler:x,reactEvent:q}))},[p,x]),L=v.useCallback(q=>{p(gC(q)),p(yr({handler:y,reactEvent:q}))},[p,y]),U=v.useCallback(q=>{p(yr({handler:m,reactEvent:q}))},[p,m]);return v.createElement(EE.Provider,{value:g},v.createElement(I2.Provider,{value:_},v.createElement("div",{className:Se("recharts-wrapper",n),style:yW({position:"relative",cursor:"default",width:b,height:a},w),onClick:S,onContextMenu:W,onDoubleClick:Q,onFocus:$,onKeyDown:I,onMouseDown:Y,onMouseEnter:C,onMouseLeave:P,onMouseMove:M,onMouseUp:B,onTouchEnd:U,onTouchMove:L,onTouchStart:O,ref:E},r)))}),_W=["children","className","width","height","style","compact","title","desc"];function kW(e,t){if(e==null)return{};var r,n,a=NW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SW=v.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:l,title:c,desc:u}=e,d=kW(e,_W),f=Si(d);return l?v.createElement(a1,{otherAttributes:f,title:c,desc:u},r):v.createElement(jW,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(a1,{otherAttributes:f,title:c,desc:u,ref:t},v.createElement(QF,null,r)))}),EW=["width","height"];function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(null,arguments)}function CW(e,t){if(e==null)return{};var r,n,a=PW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OW={top:5,right:5,bottom:5,left:5},AW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:OW,reverseStackOrder:!1,syncMethod:"index"},TW=v.forwardRef(function(t,r){var n,a=Ir(t.categoricalChartProps,AW),{width:i,height:s}=a,l=CW(a,EW);if(!Hu(i)||!Hu(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(lW,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},v.createElement(RF,{chartData:h.data}),v.createElement(cW,{width:i,height:s,layout:a.layout,margin:a.margin}),v.createElement(uW,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(SW,Hp({},l,{width:i,height:s,ref:r})))}),MW=["axis"],IW=v.forwardRef((e,t)=>v.createElement(TW,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:MW,tooltipPayloadSearcher:bU,categoricalChartProps:e,ref:t}));const DW=({data:e,loading:t,timeRange:r,onTimeRangeChange:n})=>{const a=[{value:"7",label:"7 derniers jours"},{value:"14",label:"14 derniers jours"},{value:"30",label:"30 derniers jours"}],i=l=>new Date(l).toLocaleDateString("fr-FR",{month:"short",day:"numeric"}),s=(l,c)=>[l,{qr_scan:"Scans QR",gmb:"Visites GMB",direct_link:"Liens directs",share:"Partages",total:"Total"}[c]||c];return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"volution des visites"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comparaison par type d'accs"})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[o.jsx(rr,{className:"w-4 h-4 text-gray-500"}),o.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-orange-500 focus:border-orange-500",children:a.map(l=>o.jsx("option",{value:l.value,children:l.label},l.value))})]})]}),o.jsx("div",{className:"h-80",children:t?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx("div",{className:"text-gray-500",children:"Chargement des donnes..."})}):e.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-gray-400 mb-2",children:""}),o.jsx("div",{className:"text-gray-500",children:"Aucune donne disponible"})]})}):o.jsx(QU,{width:"100%",height:"100%",children:o.jsxs(IW,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[o.jsx(eC,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(oC,{dataKey:"date",tickFormatter:i,stroke:"#666",fontSize:12}),o.jsx(lC,{stroke:"#666",fontSize:12}),o.jsx(WU,{formatter:s,labelFormatter:l=>`Date: ${i(l)}`,contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),o.jsx(of,{}),o.jsx(So,{type:"monotone",dataKey:"qr_scan",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:4},activeDot:{r:6},name:"Scans QR"}),o.jsx(So,{type:"monotone",dataKey:"gmb",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",strokeWidth:2,r:4},activeDot:{r:6},name:"Visites GMB"}),o.jsx(So,{type:"monotone",dataKey:"direct_link",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",strokeWidth:2,r:4},activeDot:{r:6},name:"Liens directs"}),o.jsx(So,{type:"monotone",dataKey:"share",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:4},activeDot:{r:6},name:"Partages"})]})})}),!t&&e.length>0&&o.jsxs("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-blue-600",children:e.reduce((l,c)=>l+c.qr_scan,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total scans QR"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-purple-600",children:e.reduce((l,c)=>l+c.gmb,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Total GMB"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-orange-600",children:e.reduce((l,c)=>l+c.direct_link,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Liens directs"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-lg font-semibold text-green-600",children:e.reduce((l,c)=>l+c.share,0)}),o.jsx("div",{className:"text-xs text-gray-500",children:"Partages"})]})]})]})},$W=()=>{const{user:e}=dr(),[t,r]=v.useState("7"),[n,a]=v.useState([]),[i,s]=v.useState(!0),[l,c]=v.useState([{icon:os,label:"Scans QR Code",value:"0",change:"Chargement...",color:"text-blue-600"},{icon:yx,label:"Visites GMB",value:"0",change:"Chargement...",color:"text-purple-600"},{icon:un,label:"Vues directes",value:"0",change:"Chargement...",color:"text-orange-600"},{icon:bx,label:"Vues totales",value:"0",change:"Chargement...",color:"text-purple-600"}]),[u,d]=v.useState(!0),[f,h]=v.useState(0),[m,y]=v.useState(""),[x,w]=v.useState(""),[b,p]=v.useState(""),g=v.useRef(null);v.useEffect(()=>{if(e){const k=Date.now();k-f>5e3&&(h(k),_(),j(),N())}},[e,t,f]),v.useEffect(()=>{const k=()=>{if(!document.hidden&&e){const E=Date.now();E-f>3e4&&(h(E),_(),j())}};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[e,f]);const j=async()=>{if(e&&!document.hidden){s(!0);try{const{data:k,error:E}=await F.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){a([]);return}const S=k.map(Q=>Q.id),C=new Date,P=new Date;P.setDate(P.getDate()-parseInt(t));const{data:M,error:$}=await F.from("menu_analytics").select("visit_type, visited_at").in("menu_id",S).gte("visited_at",P.toISOString()).lte("visited_at",C.toISOString()).order("visited_at",{ascending:!0});if($){a([]);return}const I={};for(let Q=new Date(P);Q<=C;Q.setDate(Q.getDate()+1)){const Y=Q.toISOString().split("T")[0];I[Y]={qr_scan:0,gmb:0,direct_link:0,share:0,total:0}}M==null||M.forEach(Q=>{const Y=Q.visited_at.split("T")[0];I[Y]&&(I[Y][Q.visit_type]++,I[Y].total++)});const W=Object.entries(I).map(([Q,Y])=>({date:Q,qr_scan:Y.qr_scan,gmb:Y.gmb,direct_link:Y.direct_link,share:Y.share,total:Y.total})).sort((Q,Y)=>new Date(Q.date).getTime()-new Date(Y.date).getTime());a(W)}catch(k){console.error("Error loading trend data:",k),a([])}finally{s(!1)}}},_=async()=>{if(!(e!=null&&e.id)){d(!1);return}if(!document.hidden)try{const{data:k,error:E}=await F.from("menus").select("id").eq("user_id",e.id);if(E||!k||k.length===0){c(zt=>zt.map(A=>({...A,value:"0",change:"Aucune donne"}))),d(!1);return}const S=k.map(zt=>zt.id),C=new Date,P=new Date(C.getFullYear(),C.getMonth(),C.getDate()),M=new Date(P);M.setDate(M.getDate()-7);const $=[F.from("menu_analytics").select("id").in("menu_id",S),F.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan"),F.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb"),F.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","qr_scan").gte("visited_at",P.toISOString()),F.from("menu_analytics").select("id").in("menu_id",S).eq("visit_type","gmb").gte("visited_at",P.toISOString()),F.from("menu_analytics").select("id").in("menu_id",S).gte("visited_at",M.toISOString())],I=await Promise.allSettled($),W=I[0].status==="fulfilled"?I[0].value.data:[],Q=I[1].status==="fulfilled"?I[1].value.data:[],Y=I[2].status==="fulfilled"?I[2].value.data:[],B=I[3].status==="fulfilled"?I[3].value.data:[],O=I[4].status==="fulfilled"?I[4].value.data:[],L=I[5].status==="fulfilled"?I[5].value.data:[],U=(W==null?void 0:W.length)||0,q=(Q==null?void 0:Q.length)||0,ce=(Y==null?void 0:Y.length)||0,fe=(B==null?void 0:B.length)||0,pe=(O==null?void 0:O.length)||0,De=(L==null?void 0:L.length)||0,ie=U-q-ce;c([{icon:os,label:"Scans QR Code",value:q.toString(),change:fe>0?`+${fe} aujourd'hui`:"Aucun scan aujourd'hui",color:"text-blue-600"},{icon:yx,label:"Visites GMB",value:ce.toString(),change:pe>0?`+${pe} aujourd'hui`:"Aucune visite GMB aujourd'hui",color:"text-purple-600"},{icon:un,label:"Vues directes",value:ie.toString(),change:ie>0?`${ie} liens directs`:"Aucune vue directe",color:"text-orange-600"},{icon:bx,label:"Total des vues",value:U.toString(),change:`${q} QR + ${ce} GMB + ${ie} directes`,color:"text-purple-600"}])}catch(k){console.error("Error loading stats:",k),c(E=>E.map(S=>({...S,value:"0",change:"Erreur de chargement"})))}finally{d(!1)}},N=async()=>{if(e)try{const{data:k}=await F.from("restaurant_profiles").select("restaurant_name, slug").eq("user_id",e.id).maybeSingle();if(!(k!=null&&k.slug))return;const E=k.restaurant_name||"Mon Restaurant",S=k.slug;w(E),p(S);const C=`${window.location.origin}/m/${S}?ref=qr`;if(g.current){await Ma.toCanvas(g.current,C,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}});const P=g.current.toDataURL();y(P)}}catch(k){console.error("Error loading QR code:",k)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Bienvenue sur CloudMenu ! "}),o.jsx("p",{className:"text-gray-600",children:"Grez facilement votre menu en ligne et offrez une exprience moderne  vos clients."})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map((k,E)=>o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:k.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:k.value}),o.jsx("p",{className:`text-xs ${k.color} mt-1`,children:k.change})]}),o.jsx("div",{className:"p-3 rounded-full bg-gray-100",children:o.jsx(k.icon,{size:24,className:k.color})})]})},E))})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 flex flex-col items-center justify-center",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[o.jsx("canvas",{ref:g,style:{display:"none"}}),m?o.jsx("img",{src:m,alt:"QR Code",className:"w-48 h-48"}):o.jsx("div",{className:"w-48 h-48 flex items-center justify-center bg-gray-100 rounded",children:o.jsx(os,{size:48,className:"text-gray-400"})})]})})})]}),o.jsx(DW,{data:n,loading:i,timeRange:t,onTimeRangeChange:r})]})},LW=()=>{const{user:e}=dr(),[t,r]=v.useState(null),[n,a]=v.useState([]),[i,s]=v.useState(!0),[l,c]=v.useState(""),[u,d]=v.useState("all"),[f,h]=v.useState(null),[m,y]=v.useState("month"),[x,w]=v.useState(new Date);v.useEffect(()=>{e&&b()},[e]),v.useEffect(()=>{t&&p()},[t]);const b=async()=>{try{const{data:O,error:L}=await F.from("menus").select("id, nom, slug").eq("user_id",e.id).maybeSingle();if(L){console.error("Erreur lors du chargement du menu:",L);return}r(O)}catch(O){console.error("Erreur lors du chargement du menu:",O)}},p=async()=>{if(t){s(!0);try{const{data:O,error:L}=await F.from("reservations").select("*").eq("menu_id",t.id).order("reservation_date",{ascending:!0}).order("reservation_time",{ascending:!0});if(L){console.error("Erreur lors du chargement des rservations:",L);return}a(O||[])}catch(O){console.error("Erreur lors du chargement des rservations:",O)}finally{s(!1)}}},g=(O,L)=>{h({type:O,text:L}),setTimeout(()=>h(null),5e3)},j=async(O,L)=>{try{const{error:U}=await F.from("reservations").update({status:L,updated_at:new Date().toISOString()}).eq("id",O);if(U)throw U;a(ce=>ce.map(fe=>fe.id===O?{...fe,status:L}:fe)),g("success",`Rservation ${{confirmed:"confirme",cancelled:"annule",completed:"termine",pending:"en attente"}[L]} avec succs`)}catch(U){console.error("Erreur lors de la mise  jour:",U),g("error","Erreur lors de la mise  jour")}},_=n.filter(O=>{const L=O.customer_name.toLowerCase().includes(l.toLowerCase())||O.customer_email.toLowerCase().includes(l.toLowerCase())||O.customer_phone.includes(l),U=u==="all"||O.status===u;return L&&U}),N=O=>{switch(O){case"pending":return"bg-orange-500";case"confirmed":return"bg-green-500";case"cancelled":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},k=O=>{switch(O){case"pending":return"text-orange-600 bg-orange-50 border-orange-200";case"confirmed":return"text-green-600 bg-green-50 border-green-200";case"cancelled":return"text-red-600 bg-red-50 border-red-200";case"completed":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},E=O=>{switch(O){case"pending":return"En attente";case"confirmed":return"Confirme";case"cancelled":return"Annule";case"completed":return"Termine";default:return O}},S=O=>new Date(O).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=O=>O.slice(0,5),P=O=>{const L=O.toISOString().split("T")[0];return _.filter(U=>U.reservation_date===L)},M=O=>{const L=O.getFullYear(),U=O.getMonth(),q=new Date(L,U,1),ce=new Date(q);ce.setDate(ce.getDate()-q.getDay());const fe=[],pe=new Date(ce);for(let De=0;De<42;De++)fe.push(new Date(pe)),pe.setDate(pe.getDate()+1);return fe},$=O=>{const L=new Date(O);L.setDate(O.getDate()-O.getDay());const U=[];for(let q=0;q<7;q++){const ce=new Date(L);ce.setDate(L.getDate()+q),U.push(ce)}return U},I=O=>{const L=new Date(x);switch(m){case"day":L.setDate(L.getDate()+(O==="next"?1:-1));break;case"week":L.setDate(L.getDate()+(O==="next"?7:-7));break;case"month":L.setMonth(L.getMonth()+(O==="next"?1:-1));break}w(L)},W=()=>{let O="";switch(m){case"day":O=x.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});break;case"week":const L=new Date(x);L.setDate(x.getDate()-x.getDay());const U=new Date(L);U.setDate(L.getDate()+6),O=`${L.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})} - ${U.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}`;break;case"month":O=x.toLocaleDateString("fr-FR",{month:"long",year:"numeric"});break}return o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>I("prev"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(W_,{size:20})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:O}),o.jsx("button",{onClick:()=>I("next"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Kg,{size:20})})]})},Q=()=>{const O=P(x),L=Array.from({length:14},(U,q)=>`${(q+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[W(),o.jsx("div",{className:"space-y-2",children:L.map(U=>{const q=O.filter(ce=>ce.reservation_time.startsWith(U.split(":")[0]));return o.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-2",children:[o.jsx("div",{className:"w-16 text-sm text-gray-600 font-medium",children:U}),o.jsx("div",{className:"flex-1 ml-4",children:q.length>0?o.jsx("div",{className:"space-y-1",children:q.map(ce=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N(ce.status)}`}),o.jsx("span",{className:"text-sm font-medium",children:ce.customer_name}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",ce.party_size," pers.)"]}),o.jsx("span",{className:"text-xs text-gray-500",children:C(ce.reservation_time)})]},ce.id))}):o.jsx("div",{className:"text-xs text-gray-400",children:"Libre"})})]},U)})})]})},Y=()=>{const O=$(x),L=Array.from({length:14},(U,q)=>`${(q+8).toString().padStart(2,"0")}:00`);return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[W(),o.jsxs("div",{className:"grid grid-cols-8 gap-1 text-sm",children:[o.jsx("div",{className:"font-medium text-gray-600 p-2"}),O.map(U=>o.jsxs("div",{className:"font-medium text-gray-600 p-2 text-center",children:[o.jsx("div",{children:U.toLocaleDateString("fr-FR",{weekday:"short"})}),o.jsx("div",{className:"text-lg",children:U.getDate()})]},U.toISOString())),L.map(U=>o.jsxs(g1.Fragment,{children:[o.jsx("div",{className:"p-2 text-gray-600 font-medium border-r border-gray-100",children:U}),O.map(q=>{const ce=P(q).filter(fe=>fe.reservation_time.startsWith(U.split(":")[0]));return o.jsx("div",{className:"p-1 border-r border-gray-100 min-h-[40px]",children:ce.map(fe=>o.jsxs("div",{className:`text-xs p-1 rounded mb-1 text-white ${N(fe.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:fe.customer_name}),o.jsxs("div",{children:[fe.party_size,"p ",C(fe.reservation_time)]})]},fe.id))},`${q.toISOString()}-${U}`)})]},U))]})]})},B=()=>{const O=M(x),L=x.getMonth();return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[W(),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(U=>o.jsx("div",{className:"p-2 text-center font-medium text-gray-600 text-sm",children:U},U))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:O.map(U=>{const q=U.getMonth()===L,ce=P(U),fe=U.toDateString()===new Date().toDateString();return o.jsxs("div",{className:`min-h-[80px] p-2 border border-gray-100 ${q?"bg-white":"bg-gray-50"} ${fe?"ring-2 ring-orange-500":""}`,children:[o.jsx("div",{className:`text-sm font-medium mb-1 ${q?"text-gray-900":"text-gray-400"}`,children:U.getDate()}),o.jsxs("div",{className:"space-y-1",children:[ce.slice(0,3).map(pe=>o.jsxs("div",{className:`text-xs p-1 rounded text-white ${N(pe.status)}`,children:[o.jsx("div",{className:"font-medium truncate",children:pe.customer_name}),o.jsx("div",{children:C(pe.reservation_time)})]},pe.id)),ce.length>3&&o.jsxs("div",{className:"text-xs text-gray-500",children:["+",ce.length-3," autres"]})]})]},U.toISOString())})})]})};return i&&!t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement..."})}):t?o.jsxs("div",{className:"space-y-6",children:[f&&o.jsxs("div",{className:`p-4 rounded-lg flex items-center space-x-2 ${f.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}`,children:[f.type==="success"?o.jsx(ze,{className:"w-5 h-5"}):o.jsx(Oe,{className:"w-5 h-5"}),o.jsx("span",{children:f.text})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Gestion des rservations"}),o.jsx("p",{className:"text-gray-600",children:"Grez les rservations de table de votre restaurant"})]}),o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("a",{href:`/m/${t.slug}`,target:"_blank",className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 flex items-center space-x-2 text-sm",children:[o.jsx(Gg,{size:16}),o.jsx("span",{children:"Voir le menu"})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]}),o.jsx(rr,{className:"w-8 h-8 text-gray-400"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"En attente"}),o.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.filter(O=>O.status==="pending").length})]}),o.jsx(xs,{className:"w-8 h-8 text-orange-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Confirmes"}),o.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(O=>O.status==="confirmed").length})]}),o.jsx(ze,{className:"w-8 h-8 text-green-500"})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Cette semaine"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(O=>{const L=new Date(O.reservation_date),U=new Date,q=new Date(U);return q.setDate(U.getDate()+7),L>=U&&L<=q}).length})]}),o.jsx(wx,{className:"w-8 h-8 text-blue-500"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>y("list"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="list"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(Wm,{size:16}),o.jsx("span",{children:"Liste"})]}),o.jsxs("button",{onClick:()=>y("day"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(b3,{size:16}),o.jsx("span",{children:"Jour"})]}),o.jsxs("button",{onClick:()=>y("week"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(N3,{size:16}),o.jsx("span",{children:"Semaine"})]}),o.jsxs("button",{onClick:()=>y("month"),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${m==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[o.jsx(rr,{size:16}),o.jsx("span",{children:"Mois"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(M3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Rechercher...",value:l,onChange:O=>c(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500"})]})}),o.jsx("div",{className:"sm:w-48",children:o.jsxs("div",{className:"relative",children:[o.jsx(k3,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),o.jsxs("select",{value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"Tous les statuts"}),o.jsx("option",{value:"pending",children:"En attente"}),o.jsx("option",{value:"confirmed",children:"Confirmes"}),o.jsx("option",{value:"cancelled",children:"Annules"}),o.jsx("option",{value:"completed",children:"Termines"})]})]})})]})]})}),m!=="list"&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Lgende des couleurs"}),o.jsxs("div",{className:"flex flex-wrap gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"En attente"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Confirme"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Annule"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Termine"})]})]})]}),m==="day"&&Q(),m==="week"&&Y(),m==="month"&&B(),m==="list"&&o.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:i?o.jsx("div",{className:"p-8 text-center",children:o.jsx("div",{className:"text-gray-600",children:"Chargement des rservations..."})}):_.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(rr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:n.length===0?"Aucune rservation":"Aucun rsultat"}),o.jsx("p",{className:"text-gray-600",children:n.length===0?"Les clients pourront faire des rservations via votre menu en ligne.":"Aucune rservation ne correspond  vos critres de recherche."}),n.length===0&&o.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700",children:[" ",o.jsx("strong",{children:"Comment a marche :"}),' Un bouton "Rserver une table" sera automatiquement ajout  votre menu en ligne. Les clients pourront faire des rservations directement depuis votre menu.']})})]}):o.jsx("div",{className:"divide-y divide-gray-200",children:_.map(O=>o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.customer_name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${k(O.status)}`,children:E(O.status)})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(rr,{className:"w-4 h-4"}),o.jsx("span",{children:S(O.reservation_date)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(xs,{className:"w-4 h-4"}),o.jsx("span",{children:C(O.reservation_time)})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(wx,{className:"w-4 h-4"}),o.jsxs("span",{children:[O.party_size," personne",O.party_size>1?"s":""]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[o.jsx(Sr,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_phone})]})]}),O.customer_email&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-3",children:[o.jsx(Vm,{className:"w-4 h-4"}),o.jsx("span",{children:O.customer_email})]}),O.special_requests&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Demandes spciales :"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:O.special_requests})]})]}),O.status==="pending"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"confirmed"),className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center space-x-1",children:[o.jsx(ze,{size:14}),o.jsx("span",{children:"Confirmer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Oe,{size:14}),o.jsx("span",{children:"Annuler"})]})]}),O.status==="confirmed"&&o.jsxs("div",{className:"flex space-x-2 ml-4",children:[o.jsxs("button",{onClick:()=>j(O.id,"completed"),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center space-x-1",children:[o.jsx(ze,{size:14}),o.jsx("span",{children:"Terminer"})]}),o.jsxs("button",{onClick:()=>j(O.id,"cancelled"),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 flex items-center space-x-1",children:[o.jsx(Oe,{size:14}),o.jsx("span",{children:"Annuler"})]})]})]})},O.id))})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx(rr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Configurez d'abord votre menu"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Vous devez d'abord configurer votre menu pour pouvoir grer les rservations."}),o.jsx("button",{onClick:()=>window.location.href="/mon-menu",className:"bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700",children:"Aller  la configuration"})]})};function RW(){const{loading:e,user:t}=dr();return e?o.jsx(Ni,{fullScreen:!0}):o.jsx(Y4,{children:o.jsxs(N4,{children:[o.jsx(pt,{path:"/onboarding",element:o.jsx(oM,{})}),o.jsx(pt,{path:"/reset-password",element:o.jsx(cM,{})}),o.jsx(pt,{path:"/m/:slug",element:o.jsx(c5,{})}),o.jsx(pt,{path:"/m/:slug/:menuSlug",element:o.jsx(u5,{})}),o.jsx(pt,{path:"/m/:slug/reservation",element:o.jsx(d5,{})}),o.jsx(pt,{path:"/m/:slug/contact",element:o.jsx(f5,{})}),o.jsx(pt,{path:"/",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"accueil",children:o.jsx($W,{})})})}),o.jsx(pt,{path:"/mes-menus",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"mes-menus",children:o.jsx(hM,{})})})}),o.jsx(pt,{path:"/mon-menu/nouveau",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"mes-menus",children:o.jsx(Cx,{})})})}),o.jsx(pt,{path:"/mon-menu/:menuId",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"mes-menus",children:o.jsx(Cx,{})})})}),o.jsx(pt,{path:"/categories/:menuId",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"mes-menus",children:o.jsx(fM,{})})})}),o.jsx(pt,{path:"/import-ai/:menuId",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"mes-menus",children:o.jsx(mM,{})})})}),o.jsx(pt,{path:"/identite-visuelle",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"identite-visuelle",children:o.jsx(h5,{})})})}),o.jsx(pt,{path:"/qr-code",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"qr-code",children:o.jsx(r5,{})})})}),o.jsx(pt,{path:"/account-settings",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"account-settings",children:o.jsx(lM,{})})})}),o.jsx(pt,{path:"/reservations",element:o.jsx(tn,{children:o.jsx(zr,{currentPage:"reservations",children:o.jsx(LW,{})})})})]})})}x_(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(D3,{children:o.jsx(m3,{children:o.jsx(RW,{})})})}));
